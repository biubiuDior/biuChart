/*
 * @Name: 盒须图集静态数据
 * @Description: 描述信息
 * @Author: biubiu
 * @Date: 2024-07-18
*/

import boxplot1Img from "@/assets/image/chartExample/boxplot/boxplot1.png";
import boxplot2Img from "@/assets/image/chartExample/boxplot/boxplot2.png";

export const BoxplotChartData = [
  {
    id: "boxplot2",
    name: "周消费趋势",
    type: "boxplot",
    date: "2024.07.18",
    exampleImg: boxplot2Img,
    remark: "高低均线对比",
    renderer: "svg",
    code: "const data = [\n  [34, 54, 67, 75, 86],\n  [10, 25, 45, 67, 73],\n  [24, 34, 45, 55, 66],\n  [32, 45, 50, 60, 70],\n  [44, 59, 70, 75, 88]\n];\nconst nameList = ['第一周', '第二周', '第三周', '第四周', '第五周'];\nconst yName = '元';\nconst unit = '元';\nconst markList = [\n  { name: '高预警线', value: 80, color: '#FD4D63' },\n  { name: '低预警线', value: 30, color: '#0BC991' }\n];\nconst typeList = [\"最小值\",\"下四分位\",\"中位数\",\"上四分位\",\"最大值\"];\n\nconst getLetterWidth = (letter, fontSize, fontFamily) => {\n  const dom = document.createElement('span');\n  dom.style.display = 'inline-block';\n  dom.style.fontSize = fontSize + 'px';\n  dom.style.fontFamily = fontFamily;\n  dom.textContent = letter;\n  document.body.appendChild(dom);\n  const width = dom.getBoundingClientRect().width;\n  dom.remove();\n  const letterWidth = Number(width.toFixed(2));\n  return letterWidth;\n};\n\n/* mark数据处理 */\nlet markWidth = 0;\nlet markData = [];\nmarkList.map((item, index) => {\n  markData.push({\n    yAxis: item.value,\n    lineStyle: {\n      color: item.color\n    },\n    label: {\n      position: 'end',\n      color: item.color,\n      formatter: `${item.name}：${item.value}${unit}`\n    }\n  });\n  \n  let textWidth = getLetterWidth(\n    `${item.name}：${item.value}${unit}`,\n    12,\n    'Source Han Sans CN-Regular'\n  );\n  markWidth = textWidth > markWidth ? textWidth : markWidth;\n});\n\noption = {\n  tooltip: {\n      trigger: 'axis',\n      axisPointer: {\n        type: 'none'\n      },\n      confine: true,\n      formatter: (params) => {\n        console.log(params)\n        const { name } = params[0];\n        let childDiv = `<div style=\"display: flex;flex-direction: column;gap: 2px 0;\">`;\n        params[0].data.map((childItem, childIndex) => {\n          if(childIndex > 0) {\n            childDiv += `<div style=\"display: flex;align-items: center;gap: 0 4px;\">\n              <div style=\"width: 6px;height: 6px;border-radius: 50%;border: 2px solid rgba(57, 126, 240, 1);\"></div>\n              <div style=\"margin-left: 2px;font-family: Source Han Sans CN-Regular;font-weight: 400;font-size: 14px;color: rgba(0,0,0,0.65);\">${typeList[childIndex - 1]}：${childItem}${unit}</div>\n            </div>`;\n          }\n        });\n        childDiv += `</div>`;\n        return `\n        <div style=\"font-size: 14px;font-family: Source Han Sans CN-Regular;font-weight: 400;color: rgba(0,0,0,0.65);margin-bottom:4px;\">${name}</div>\n        ${childDiv}\n      `;\n      },\n      extraCssText:\n        'background-color:#F6F9FD;padding:4px 8px;box-shadow: 0px 0px 4px 0px rgba(99,149,250,0.4);border-radius: 4px;'\n    },\n  grid: {\n    left: '0',\n    right: markWidth + 16,\n    bottom: '0',\n    top: '24',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'category',\n    data: nameList,\n    splitArea: {\n      show: false\n    },\n    splitLine: {\n      show: false\n    },\n    axisTick: {\n      show: false\n    },\n    axisLine: {\n      lineStyle: {\n        color: 'rgba(0,0,0,0.09)'\n      }\n    },\n    axisLabel: {\n      color: 'rgba(0,0,0,0.65)',\n      fontSize: 12,\n      margin: 16,\n      fontFamily: 'Source Han Sans CN-Regular'\n    }\n  },\n  yAxis: {\n    type: 'value',\n    name: yName,\n    nameTextStyle: {\n      color: '#666666',\n      fontSize: 12,\n      fontFamily: 'Source Han Sans CN-Regular',\n      align: 'left',\n      verticalAlign: 'center'\n    },\n    axisLine: {\n      show: true,\n      lineStyle: {\n        color: 'rgba(0,0,0,0.09)'\n      }\n    },\n    axisLabel: {\n      color: 'rgba(0,0,0,0.65)',\n      fontSize: 12,\n      fontFamily: 'Source Han Sans CN-Regular'\n    }\n  },\n  series: [\n    {\n      name: 'boxplot',\n      type: 'boxplot',\n      data,\n      itemStyle: {\n        color: '#D9EAFF',\n        borderColor: '#4B96F3',\n        borderWidth: 2\n      },\n      markLine: {\n        symbol: 'none',\n        data: markData\n      }\n    }\n  ]\n};"
  },
  {
    id: "boxplot1",
    name: "历年成绩趋势分析",
    type: "boxplot",
    date: "2024.01.09",
    exampleImg: boxplot1Img,
    remark: "基础箱形图，均值对比，离散点对比",
    renderer: "svg",
    code: "const xData = [\n  '2017年第一学期',\n  '2017年第二学期',\n  '2018年第一学期',\n  '2018年第二学期',\n  '2019年第一学期',\n  '2019年第二学期'\n];\nconst cjjdData = [88, 94, 94, 90, 92, 94]; // 成绩均点\n// [最小值，下四分位，中位数，上四分位，最大值]\nconst xxtData = [\n  [36, 46, 60, 70, 82],\n  [38, 50, 58, 68, 86],\n  [44, 52, 60, 70, 88],\n  [40, 50, 62, 78, 90],\n  [42, 52, 64, 72, 82],\n  [34, 50, 66, 74, 84]\n]; // 箱形图\nconst lsqdData = [30, 32, 40, 35, 36, 28];\n\noption = {\n  tooltip: {\n    trigger: 'item',\n    axisPointer: {\n      type: 'shadow'\n    }\n  },\n  grid: {\n    left: '41',\n    right: '0',\n    top: '63',\n    bottom: '21'\n  },\n  legend: {\n    data: [\n      {\n        name: '离散群点'\n      },\n      {\n        name: '成绩均点'\n      }\n    ],\n    type: 'scroll',\n    right: '0',\n    top: '22',\n    itemGap: 25,\n    itemWidth: 15,\n    itemHeight: 15,\n    textStyle: {\n      fontSize: '14',\n      fontFamily: 'Source Han Sans CN-Regular',\n      color: 'rgba(0, 0, 0, 0.85)'\n    }\n  },\n  xAxis: {\n    type: 'category',\n    data: xData,\n    name: '学期',\n    axisLabel: {\n      color: 'rgba(0, 0, 0, 0.45)',\n      textStyle: {\n        fontSize: '12',\n        fontFamily: 'Source Han Sans CN-Regular'\n      }\n    },\n    axisTick: {\n      show: false\n    },\n    axisLine: {\n      lineStyle: {\n        color: 'rgba(0, 0, 0, 0.1)'\n      }\n    },\n    splitLine: {\n      show: false\n    }\n  },\n  yAxis: {\n    type: 'value',\n    name: '单位：分',\n    nameTextStyle: {\n      color: 'rgba(0, 0, 0, 0.45)',\n      fontSize: '12',\n      fontFamily: 'Source Han Sans CN-Regular',\n      align: 'left',\n      verticalAlign: 'center'\n    },\n    axisLabel: {\n      color: 'rgba(0, 0, 0, 0.45)',\n      fontSize: '12',\n      fontFamily: 'Source Han Sans CN-Regular'\n    },\n    axisTick: {\n      show: false\n    },\n    axisLine: {\n      show: false\n    },\n    splitLine: {\n      lineStyle: {\n        color: 'rgba(0, 0, 0, 0.1)'\n      }\n    }\n  },\n  series: [\n    {\n      name: '成绩趋势',\n      type: 'boxplot',\n      z: -1,\n      data: xxtData,\n      itemStyle: {\n        borderColor: 'rgba(57, 126, 240, 0.45)',\n        borderWidth: 1\n      },\n      tooltip: {\n        formatter: function (param) {\n          return [\n            '最大值: ' + param.data[5] + '分',\n            '上四分位: ' + param.data[4] + '分',\n            '中位数: ' + param.data[3] + '分',\n            '下四分位: ' + param.data[2] + '分',\n            '最小值: ' + param.data[1] + '分'\n          ].join('<br/>');\n        }\n      }\n    },\n    {\n      name: '成绩均点',\n      type: 'line',\n      data: cjjdData,\n      symbol: 'circle',\n      symbolSize: 10,\n      lineStyle: {\n        width: 2,\n        color: '#FAAD14'\n      },\n      itemStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 1,\n          x2: 0,\n          y2: 0,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#FFB536' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: '#FF7B36' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        },\n        borderColor: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 1,\n          y2: 0,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#FFB536' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: '#FF7B36' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        },\n        borderWidth: 2\n      }\n    },\n    {\n      name: '离散群点',\n      type: 'scatter',\n      symbolSize: 12,\n      itemStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 1,\n          x2: 0,\n          y2: 0,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#59EBD7' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: '#3ED89B' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        }\n      },\n      data: lsqdData\n    }\n  ]\n};"
  },
]