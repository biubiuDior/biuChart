(self.webpackChunk=self.webpackChunk||[]).push([[54],{80882:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return R}});var D=c(87462),O=c(62435),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},P=Q,L=c(84089),J=function(s,T){return O.createElement(L.Z,(0,D.Z)({},s,{ref:T,icon:P}))},R=O.forwardRef(J)},68795:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return R}});var D=c(87462),O=c(62435),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},P=Q,L=c(84089),J=function(s,T){return O.createElement(L.Z,(0,D.Z)({},s,{ref:T,icon:P}))},R=O.forwardRef(J)},49312:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return x}});var D=c(97857),O=c.n(D),Q=c(62435),P=c(50048);function L(f){return/^\d+$/.test(f)?"".concat(f,"px"):f}function J(){}var R=function(){return R=Object.assign||function(f){for(var _,S=1,h=arguments.length;S<h;S++){_=arguments[S];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y])}return f},R.apply(this,arguments)};function W(f){var _=f.width,S=f.height,h=f.value,y=f.defaultValue,v=f.language,B=f.theme,j=f.options,te=f.overrideServices,ce=f.editorWillMount,_e=f.editorDidMount,Ce=f.editorWillUnmount,Ee=f.onChange,le=f.className,Y=f.original,$=f.originalUri,G=f.modifiedUri,ee=(0,Q.useRef)(null),m=(0,Q.useRef)(null),w=(0,Q.useRef)(null),F=(0,Q.useRef)(null),ie=L(_),pe=L(S),ue=(0,Q.useMemo)(function(){return{width:ie,height:pe}},[ie,pe]),ke=function(){var mt=ce(P);return mt||{}},Te=function(){_e(m.current,P);var mt=m.current.getModel().modified;w.current=mt.onDidChangeContent(function(Mt){F.current||Ee(mt.getValue(),Mt)})},rt=function(){Ce(m.current,P)},Rt=function(){var mt=h!=null?h:y,Mt=$==null?void 0:$(P),it=G==null?void 0:G(P),Je=Mt&&P.editor.getModel(Mt),Ae=it&&P.editor.getModel(it);Je?(Je.setValue(Y),P.editor.setModelLanguage(Je,v)):Je=P.editor.createModel(mt,v,Mt),Ae?(Je.setValue(mt),P.editor.setModelLanguage(Ae,v)):Ae=P.editor.createModel(mt,v,it),m.current.setModel({original:Je,modified:Ae})};return(0,Q.useEffect)(function(){ee.current&&(ke(),m.current=P.editor.createDiffEditor(ee.current,R(R(R({},le?{extraEditorClassName:le}:{}),j),B?{theme:B}:{}),te),Rt(),Te())},[]),(0,Q.useEffect)(function(){m.current&&m.current.updateOptions(R(R({},le?{extraEditorClassName:le}:{}),j))},[le,j]),(0,Q.useEffect)(function(){m.current&&m.current.layout()},[_,S]),(0,Q.useEffect)(function(){if(m.current){var mt=m.current.getModel(),Mt=mt.original,it=mt.modified;P.editor.setModelLanguage(Mt,v),P.editor.setModelLanguage(it,v)}},[v]),(0,Q.useEffect)(function(){if(m.current){var mt=m.current.getModel().modified;F.current=!0,m.current.getModifiedEditor().pushUndoStop(),mt.pushEditOperations([],[{range:mt.getFullModelRange(),text:h}]),m.current.getModifiedEditor().pushUndoStop(),F.current=!1}},[h]),(0,Q.useEffect)(function(){P.editor.setTheme(B)},[B]),(0,Q.useEffect)(function(){if(m.current){var mt=m.current.getModel().original;Y!==mt.getValue()&&mt.setValue(Y)}},[Y]),(0,Q.useEffect)(function(){return function(){if(m.current){rt(),m.current.dispose();var mt=m.current.getModel(),Mt=mt.original,it=mt.modified;Mt&&Mt.dispose(),it&&it.dispose()}w.current&&w.current.dispose()}},[]),Q.createElement("div",{ref:ee,style:ue,className:"react-monaco-editor-container"})}W.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:J,editorDidMount:J,editorWillUnmount:J,onChange:J,className:null},W.displayName="MonacoDiffEditor";var s=null,T=function(){return T=Object.assign||function(f){for(var _,S=1,h=arguments.length;S<h;S++){_=arguments[S];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y])}return f},T.apply(this,arguments)},g=function(f,_){var S={};for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&_.indexOf(h)<0&&(S[h]=f[h]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(f);y<h.length;y++)_.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(f,h[y])&&(S[h[y]]=f[h[y]]);return S};function E(f){var _=f.width,S=f.height,h=f.value,y=f.defaultValue,v=f.language,B=f.theme,j=f.options,te=f.overrideServices,ce=f.editorWillMount,_e=f.editorDidMount,Ce=f.editorWillUnmount,Ee=f.onChange,le=f.className,Y=f.uri,$=(0,Q.useRef)(null),G=(0,Q.useRef)(null),ee=(0,Q.useRef)(null),m=(0,Q.useRef)(null),w=L(_),F=L(S),ie=(0,Q.useMemo)(function(){return{width:w,height:F}},[w,F]),pe=function(){var rt=ce(P);return rt||{}},ue=function(){_e(G.current,P),ee.current=G.current.onDidChangeModelContent(function(rt){m.current||Ee(G.current.getValue(),rt)})},ke=function(){Ce(G.current,P)},Te=function(){var rt=h!==null?h:y;if($.current){var Rt=T(T({},j),pe()),mt=Y==null?void 0:Y(P),Mt=mt&&P.editor.getModel(mt);Mt?(Mt.setValue(rt),P.editor.setModelLanguage(Mt,v)):Mt=P.editor.createModel(rt,v,mt),G.current=P.editor.create($.current,T(T(T({model:Mt},le?{extraEditorClassName:le}:{}),Rt),B?{theme:B}:{}),te),ue()}};return(0,Q.useEffect)(Te,[]),(0,Q.useEffect)(function(){if(G.current){if(h===G.current.getValue())return;var rt=G.current.getModel();m.current=!0,G.current.pushUndoStop(),rt.pushEditOperations([],[{range:rt.getFullModelRange(),text:h}],void 0),G.current.pushUndoStop(),m.current=!1}},[h]),(0,Q.useEffect)(function(){if(G.current){var rt=G.current.getModel();P.editor.setModelLanguage(rt,v)}},[v]),(0,Q.useEffect)(function(){if(G.current){var rt=j.model,Rt=g(j,["model"]);G.current.updateOptions(T(T({},le?{extraEditorClassName:le}:{}),Rt))}},[le,j]),(0,Q.useEffect)(function(){G.current&&G.current.layout()},[_,S]),(0,Q.useEffect)(function(){P.editor.setTheme(B)},[B]),(0,Q.useEffect)(function(){return function(){G.current&&(ke(),G.current.dispose()),ee.current&&ee.current.dispose()}},[]),Q.createElement("div",{ref:$,style:ie,className:"react-monaco-editor-container"})}E.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:J,editorDidMount:J,editorWillUnmount:J,onChange:J,className:null},E.displayName="MonacoEditor";var H=E,r={BiuCodeEditor:"BiuCodeEditor___OXbWR"},N=c(86074),C=function(_){var S=_.editorOption,h=S===void 0?{}:S,y=_.language,v=y===void 0?"javascript":y,B=_.theme,j=B===void 0?"vs-light":B,te=_.code,ce=te===void 0?"":te,_e=_.onChange,Ce=_e===void 0?function(){}:_e,Ee=O()({selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,folding:!0,codeLens:!0},h),le=function($){$.focus()};return(0,N.jsx)("div",{className:r.BiuCodeEditor,children:(0,N.jsx)(H,{width:"100%",height:"100%",theme:j,language:v,value:ce,options:Ee,onChange:function($){return Ce($)},editorDidMount:le})})},x=C},31285:function(){"use strict"},5520:function(){"use strict"},9708:function(ti,Ge,c){"use strict";c.d(Ge,{F:function(){return L},Z:function(){return P}});var D=c(94184),O=c.n(D);const Q=null;function P(J,R,W){return O()({[`${J}-status-success`]:R==="success",[`${J}-status-warning`]:R==="warning",[`${J}-status-error`]:R==="error",[`${J}-status-validating`]:R==="validating",[`${J}-has-feedback`]:W})}const L=(J,R)=>R||J},88258:function(ti,Ge,c){"use strict";var D=c(62435),O=c(53124),Q=c(32983);const P=L=>{const{componentName:J}=L,{getPrefixCls:R}=(0,D.useContext)(O.E_),W=R("empty");switch(J){case"Table":case"List":return D.createElement(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return D.createElement(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE,className:`${W}-small`});default:return D.createElement(Q.Z,null)}};Ge.Z=P},32983:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return S}});var D=c(94184),O=c.n(D),Q=c(62435),P=c(53124),L=c(10110),J=c(10274),R=c(29691),s=()=>{const[,h]=(0,R.Z)(),v=new J.C(h.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return Q.createElement("svg",{style:v,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("g",{fill:"none",fillRule:"evenodd"},Q.createElement("g",{transform:"translate(24 31.67)"},Q.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),Q.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),Q.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),Q.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),Q.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),Q.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),Q.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},Q.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),Q.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},g=()=>{const[,h]=(0,R.Z)(),{colorFill:y,colorFillTertiary:v,colorFillQuaternary:B,colorBgContainer:j}=h,{borderColor:te,shadowColor:ce,contentColor:_e}=(0,Q.useMemo)(()=>({borderColor:new J.C(y).onBackground(j).toHexShortString(),shadowColor:new J.C(v).onBackground(j).toHexShortString(),contentColor:new J.C(B).onBackground(j).toHexShortString()}),[y,v,B,j]);return Q.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},Q.createElement("ellipse",{fill:ce,cx:"32",cy:"33",rx:"32",ry:"7"}),Q.createElement("g",{fillRule:"nonzero",stroke:te},Q.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),Q.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:_e}))))},E=c(67968),H=c(45503);const r=h=>{const{componentCls:y,margin:v,marginXS:B,marginXL:j,fontSize:te,lineHeight:ce}=h;return{[y]:{marginInline:B,fontSize:te,lineHeight:ce,textAlign:"center",[`${y}-image`]:{height:h.emptyImgHeight,marginBottom:B,opacity:h.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${y}-description`]:{color:h.colorText},[`${y}-footer`]:{marginTop:v},"&-normal":{marginBlock:j,color:h.colorTextDisabled,[`${y}-description`]:{color:h.colorTextDisabled},[`${y}-image`]:{height:h.emptyImgHeightMD}},"&-small":{marginBlock:B,color:h.colorTextDisabled,[`${y}-image`]:{height:h.emptyImgHeightSM}}}}};var N=(0,E.Z)("Empty",h=>{const{componentCls:y,controlHeightLG:v}=h,B=(0,H.TS)(h,{emptyImgCls:`${y}-img`,emptyImgHeight:v*2.5,emptyImgHeightMD:v,emptyImgHeightSM:v*.875});return[r(B)]}),C=function(h,y){var v={};for(var B in h)Object.prototype.hasOwnProperty.call(h,B)&&y.indexOf(B)<0&&(v[B]=h[B]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,B=Object.getOwnPropertySymbols(h);j<B.length;j++)y.indexOf(B[j])<0&&Object.prototype.propertyIsEnumerable.call(h,B[j])&&(v[B[j]]=h[B[j]]);return v};const x=Q.createElement(s,null),f=Q.createElement(g,null),_=h=>{var{className:y,rootClassName:v,prefixCls:B,image:j=x,description:te,children:ce,imageStyle:_e,style:Ce}=h,Ee=C(h,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:le,direction:Y,empty:$}=Q.useContext(P.E_),G=le("empty",B),[ee,m]=N(G),[w]=(0,L.Z)("Empty"),F=typeof te!="undefined"?te:w==null?void 0:w.description,ie=typeof F=="string"?F:"empty";let pe=null;return typeof j=="string"?pe=Q.createElement("img",{alt:ie,src:j}):pe=j,ee(Q.createElement("div",Object.assign({className:O()(m,G,$==null?void 0:$.className,{[`${G}-normal`]:j===f,[`${G}-rtl`]:Y==="rtl"},y,v),style:Object.assign(Object.assign({},$==null?void 0:$.style),Ce)},Ee),Q.createElement("div",{className:`${G}-image`,style:_e},pe),F&&Q.createElement("div",{className:`${G}-description`},F),ce&&Q.createElement("div",{className:`${G}-footer`},ce)))};_.PRESENTED_IMAGE_DEFAULT=x,_.PRESENTED_IMAGE_SIMPLE=f;var S=_},47673:function(ti,Ge,c){"use strict";c.d(Ge,{TM:function(){return h},e5:function(){return S},ik:function(){return E},x0:function(){return T}});var D=c(14747),O=c(80110),Q=c(45503),P=c(67968);const L=y=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:y,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),J=y=>({borderColor:y.hoverBorderColor,backgroundColor:y.hoverBg}),R=y=>({borderColor:y.activeBorderColor,boxShadow:y.activeShadow,outline:0,backgroundColor:y.activeBg}),W=y=>({color:y.colorTextDisabled,backgroundColor:y.colorBgContainerDisabled,borderColor:y.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},J((0,Q.TS)(y,{hoverBorderColor:y.colorBorder,hoverBg:y.colorBgContainerDisabled})))}),s=y=>{const{paddingBlockLG:v,fontSizeLG:B,lineHeightLG:j,borderRadiusLG:te,paddingInlineLG:ce}=y;return{padding:`${v}px ${ce}px`,fontSize:B,lineHeight:j,borderRadius:te}},T=y=>({padding:`${y.paddingBlockSM}px ${y.paddingInlineSM}px`,borderRadius:y.borderRadiusSM}),g=(y,v)=>{const{componentCls:B,colorError:j,colorWarning:te,errorActiveShadow:ce,warningActiveShadow:_e,colorErrorBorderHover:Ce,colorWarningBorderHover:Ee}=y;return{[`&-status-error:not(${v}-disabled):not(${v}-borderless)${v}`]:{borderColor:j,"&:hover":{borderColor:Ce},"&:focus, &:focus-within":Object.assign({},R((0,Q.TS)(y,{activeBorderColor:j,activeShadow:ce}))),[`${B}-prefix, ${B}-suffix`]:{color:j}},[`&-status-warning:not(${v}-disabled):not(${v}-borderless)${v}`]:{borderColor:te,"&:hover":{borderColor:Ee},"&:focus, &:focus-within":Object.assign({},R((0,Q.TS)(y,{activeBorderColor:te,activeShadow:_e}))),[`${B}-prefix, ${B}-suffix`]:{color:te}}}},E=y=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${y.paddingBlock}px ${y.paddingInline}px`,color:y.colorText,fontSize:y.fontSize,lineHeight:y.lineHeight,backgroundColor:y.colorBgContainer,backgroundImage:"none",borderWidth:y.lineWidth,borderStyle:y.lineType,borderColor:y.colorBorder,borderRadius:y.borderRadius,transition:`all ${y.motionDurationMid}`},L(y.colorTextPlaceholder)),{"&:hover":Object.assign({},J(y)),"&:focus, &:focus-within":Object.assign({},R(y)),"&-disabled, &[disabled]":Object.assign({},W(y)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:y.controlHeight,lineHeight:y.lineHeight,verticalAlign:"bottom",transition:`all ${y.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},s(y)),"&-sm":Object.assign({},T(y)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),H=y=>{const{componentCls:v,antCls:B}=y;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,["&[class*='col-']"]:{paddingInlineEnd:y.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${v}, &-lg > ${v}-group-addon`]:Object.assign({},s(y)),[`&-sm ${v}, &-sm > ${v}-group-addon`]:Object.assign({},T(y)),[`&-lg ${B}-select-single ${B}-select-selector`]:{height:y.controlHeightLG},[`&-sm ${B}-select-single ${B}-select-selector`]:{height:y.controlHeightSM},[`> ${v}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${v}-group`]:{["&-addon, &-wrap"]:{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${y.paddingInline}px`,color:y.colorText,fontWeight:"normal",fontSize:y.fontSize,textAlign:"center",backgroundColor:y.addonBg,border:`${y.lineWidth}px ${y.lineType} ${y.colorBorder}`,borderRadius:y.borderRadius,transition:`all ${y.motionDurationSlow}`,lineHeight:1,[`${B}-select`]:{margin:`-${y.paddingBlock+1}px -${y.paddingInline}px`,[`&${B}-select-single:not(${B}-select-customize-input):not(${B}-pagination-size-changer)`]:{[`${B}-select-selector`]:{backgroundColor:"inherit",border:`${y.lineWidth}px ${y.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${B}-select-selector`]:{color:y.colorPrimary}}},[`${B}-cascader-picker`]:{margin:`-9px -${y.paddingInline}px`,backgroundColor:"transparent",[`${B}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${v}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${v}-search-with-button &`]:{zIndex:0}}},[`> ${v}:first-child, ${v}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${B}-select ${B}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${v}-affix-wrapper`]:{[`&:not(:first-child) ${v}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${v}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${v}:last-child, ${v}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${B}-select ${B}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${v}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${v}-search &`]:{borderStartStartRadius:y.borderRadius,borderEndStartRadius:y.borderRadius}},[`&:not(:first-child), ${v}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${v}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,D.dF)()),{[`${v}-group-addon, ${v}-group-wrap, > ${v}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:y.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${v}-affix-wrapper,
        & > ${v}-number-affix-wrapper,
        & > ${B}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-y.lineWidth,borderInlineEndWidth:y.lineWidth},[`${v}`]:{float:"none"},[`& > ${B}-select > ${B}-select-selector,
      & > ${B}-select-auto-complete ${v},
      & > ${B}-cascader-picker ${v},
      & > ${v}-group-wrapper ${v}`]:{borderInlineEndWidth:y.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${B}-select-focused`]:{zIndex:1},[`& > ${B}-select > ${B}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${B}-select:first-child > ${B}-select-selector,
      & > ${B}-select-auto-complete:first-child ${v},
      & > ${B}-cascader-picker:first-child ${v}`]:{borderStartStartRadius:y.borderRadius,borderEndStartRadius:y.borderRadius},[`& > *:last-child,
      & > ${B}-select:last-child > ${B}-select-selector,
      & > ${B}-cascader-picker:last-child ${v},
      & > ${B}-cascader-picker-focused:last-child ${v}`]:{borderInlineEndWidth:y.lineWidth,borderStartEndRadius:y.borderRadius,borderEndEndRadius:y.borderRadius},[`& > ${B}-select-auto-complete ${v}`]:{verticalAlign:"top"},[`${v}-group-wrapper + ${v}-group-wrapper`]:{marginInlineStart:-y.lineWidth,[`${v}-affix-wrapper`]:{borderRadius:0}},[`${v}-group-wrapper:not(:last-child)`]:{[`&${v}-search > ${v}-group`]:{[`& > ${v}-group-addon > ${v}-search-button`]:{borderRadius:0},[`& > ${v}`]:{borderStartStartRadius:y.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:y.borderRadius}}}})}},r=y=>{const{componentCls:v,controlHeightSM:B,lineWidth:j}=y,te=16,ce=(B-j*2-te)/2;return{[v]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,D.Wf)(y)),E(y)),g(y,v)),{'&[type="color"]':{height:y.controlHeight,[`&${v}-lg`]:{height:y.controlHeightLG},[`&${v}-sm`]:{height:B,paddingTop:ce,paddingBottom:ce}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},N=y=>{const{componentCls:v}=y;return{[`${v}-clear-icon`]:{margin:0,color:y.colorTextQuaternary,fontSize:y.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${y.motionDurationSlow}`,"&:hover":{color:y.colorTextTertiary},"&:active":{color:y.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${y.inputAffixPadding}px`}}}},C=y=>{const{componentCls:v,inputAffixPadding:B,colorTextDescription:j,motionDurationSlow:te,colorIcon:ce,colorIconHover:_e,iconCls:Ce}=y;return{[`${v}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E(y)),{display:"inline-flex",[`&:not(${v}-affix-wrapper-disabled):hover`]:{zIndex:1,[`${v}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${v}[disabled]`]:{background:"transparent"}},[`> input${v}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${v}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:y.paddingXS}},"&-show-count-suffix":{color:j},"&-show-count-has-suffix":{marginInlineEnd:y.paddingXXS},"&-prefix":{marginInlineEnd:B},"&-suffix":{marginInlineStart:B}}}),N(y)),{[`${Ce}${v}-password-icon`]:{color:ce,cursor:"pointer",transition:`all ${te}`,"&:hover":{color:_e}}}),g(y,`${v}-affix-wrapper`))}},x=y=>{const{componentCls:v,colorError:B,colorWarning:j,borderRadiusLG:te,borderRadiusSM:ce}=y;return{[`${v}-group`]:Object.assign(Object.assign(Object.assign({},(0,D.Wf)(y)),H(y)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${v}-group-addon`]:{borderRadius:te,fontSize:y.fontSizeLG}},"&-sm":{[`${v}-group-addon`]:{borderRadius:ce}},"&-status-error":{[`${v}-group-addon`]:{color:B,borderColor:B}},"&-status-warning":{[`${v}-group-addon`]:{color:j,borderColor:j}},"&-disabled":{[`${v}-group-addon`]:Object.assign({},W(y))},[`&:not(${v}-compact-first-item):not(${v}-compact-last-item)${v}-compact-item`]:{[`${v}, ${v}-group-addon`]:{borderRadius:0}},[`&:not(${v}-compact-last-item)${v}-compact-first-item`]:{[`${v}, ${v}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${v}-compact-first-item)${v}-compact-last-item`]:{[`${v}, ${v}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},f=y=>{const{componentCls:v,antCls:B}=y,j=`${v}-search`;return{[j]:{[`${v}`]:{"&:hover, &:focus":{borderColor:y.colorPrimaryHover,[`+ ${v}-group-addon ${j}-button:not(${B}-btn-primary)`]:{borderInlineStartColor:y.colorPrimaryHover}}},[`${v}-affix-wrapper`]:{borderRadius:0},[`${v}-lg`]:{lineHeight:y.lineHeightLG-2e-4},[`> ${v}-group`]:{[`> ${v}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${j}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:y.borderRadius,borderEndEndRadius:y.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${j}-button:not(${B}-btn-primary)`]:{color:y.colorTextDescription,"&:hover":{color:y.colorPrimaryHover},"&:active":{color:y.colorPrimaryActive},[`&${B}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${j}-button`]:{height:y.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${j}-button`]:{height:y.controlHeightLG},[`&-small ${j}-button`]:{height:y.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${v}-compact-item`]:{[`&:not(${v}-compact-last-item)`]:{[`${v}-group-addon`]:{[`${v}-search-button`]:{marginInlineEnd:-y.lineWidth,borderRadius:0}}},[`&:not(${v}-compact-first-item)`]:{[`${v},${v}-affix-wrapper`]:{borderRadius:0}},[`> ${v}-group-addon ${v}-search-button,
        > ${v},
        ${v}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${v}-affix-wrapper-focused`]:{zIndex:2}}}}},_=y=>{const{componentCls:v,paddingLG:B}=y,j=`${v}-textarea`;return{[j]:{position:"relative","&-show-count":{[`> ${v}`]:{height:"100%"},[`${v}-data-count`]:{position:"absolute",bottom:-y.fontSize*y.lineHeight,insetInlineEnd:0,color:y.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${v}`]:{paddingInlineEnd:B}},[`&-affix-wrapper${j}-has-feedback`]:{[`${v}`]:{paddingInlineEnd:B}},[`&-affix-wrapper${v}-affix-wrapper`]:{padding:0,[`> textarea${v}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${v}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${v}-clear-icon`]:{position:"absolute",insetInlineEnd:y.paddingXS,insetBlockStart:y.paddingXS},[`${j}-suffix`]:{position:"absolute",top:0,insetInlineEnd:y.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}};function S(y){return(0,Q.TS)(y,{inputAffixPadding:y.paddingXXS})}const h=y=>{const{controlHeight:v,fontSize:B,lineHeight:j,lineWidth:te,controlHeightSM:ce,controlHeightLG:_e,fontSizeLG:Ce,lineHeightLG:Ee,paddingSM:le,controlPaddingHorizontalSM:Y,controlPaddingHorizontal:$,colorFillAlter:G,colorPrimaryHover:ee,colorPrimary:m}=y;return{paddingBlock:Math.max(Math.round((v-B*j)/2*10)/10-te,0),paddingBlockSM:Math.max(Math.round((ce-B*j)/2*10)/10-te,0),paddingBlockLG:Math.ceil((_e-Ce*Ee)/2*10)/10-te,paddingInline:le-te,paddingInlineSM:Y-te,paddingInlineLG:$-te,addonBg:G,activeBorderColor:m,hoverBorderColor:ee,activeShadow:"none",errorActiveShadow:"none",warningActiveShadow:"none",hoverBg:"transparent",activeBg:"transparent"}};Ge.ZP=(0,P.Z)("Input",y=>{const v=(0,Q.TS)(y,S(y));return[r(v),_(v),C(v),x(v),f(v),(0,O.c)(v)]},h)},10110:function(ti,Ge,c){"use strict";var D=c(62435),O=c(76745),Q=c(88526);const P=(L,J)=>{const R=D.useContext(O.Z),W=D.useMemo(()=>{var T;const g=J||Q.Z[L],E=(T=R==null?void 0:R[L])!==null&&T!==void 0?T:{};return Object.assign(Object.assign({},typeof g=="function"?g():g),E||{})},[L,J,R]),s=D.useMemo(()=>{const T=R==null?void 0:R.locale;return R!=null&&R.exist&&!T?Q.Z.locale:T},[R]);return[W,s]};Ge.Z=P},56864:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return Ot}});var D=c(87462),O=c(62435),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},P=Q,L=c(84089),J=function(de,Ve){return O.createElement(L.Z,(0,D.Z)({},de,{ref:Ve,icon:P}))},R=O.forwardRef(J),W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},s=W,T=function(de,Ve){return O.createElement(L.Z,(0,D.Z)({},de,{ref:Ve,icon:s}))},g=O.forwardRef(T),E=c(6171),H=c(18073),r=c(94184),N=c.n(r),C=c(4942),x=c(1413),f=c(15671),_=c(43144),S=c(32531),h=c(73568),y=c(64217),v={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},B=v,j=c(81626),te=function(X){(0,S.Z)(Ve,X);var de=(0,h.Z)(Ve);function Ve(){var Ze;(0,f.Z)(this,Ve);for(var ze=arguments.length,St=new Array(ze),zt=0;zt<ze;zt++)St[zt]=arguments[zt];return Ze=de.call.apply(de,[this].concat(St)),Ze.state={goInputText:""},Ze.getValidValue=function(){var Wt=Ze.state.goInputText;return!Wt||Number.isNaN(Wt)?void 0:Number(Wt)},Ze.buildOptionText=function(Wt){return"".concat(Wt," ").concat(Ze.props.locale.items_per_page)},Ze.changeSize=function(Wt){Ze.props.changeSize(Number(Wt))},Ze.handleChange=function(Wt){Ze.setState({goInputText:Wt.target.value})},Ze.handleBlur=function(Wt){var hi=Ze.props,gi=hi.goButton,ri=hi.quickGo,Qt=hi.rootPrefixCls,Zi=Ze.state.goInputText;gi||Zi===""||(Ze.setState({goInputText:""}),!(Wt.relatedTarget&&(Wt.relatedTarget.className.indexOf("".concat(Qt,"-item-link"))>=0||Wt.relatedTarget.className.indexOf("".concat(Qt,"-item"))>=0))&&ri(Ze.getValidValue()))},Ze.go=function(Wt){var hi=Ze.state.goInputText;hi!==""&&(Wt.keyCode===B.ENTER||Wt.type==="click")&&(Ze.setState({goInputText:""}),Ze.props.quickGo(Ze.getValidValue()))},Ze}return(0,_.Z)(Ve,[{key:"getPageSizeOptions",value:function(){var ze=this.props,St=ze.pageSize,zt=ze.pageSizeOptions;return zt.some(function(Wt){return Wt.toString()===St.toString()})?zt:zt.concat([St.toString()]).sort(function(Wt,hi){var gi=Number.isNaN(Number(Wt))?0:Number(Wt),ri=Number.isNaN(Number(hi))?0:Number(hi);return gi-ri})}},{key:"render",value:function(){var ze=this,St=this.props,zt=St.pageSize,Wt=St.locale,hi=St.rootPrefixCls,gi=St.changeSize,ri=St.quickGo,Qt=St.goButton,Zi=St.selectComponentClass,Li=St.buildOptionText,Fi=St.selectPrefixCls,tn=St.disabled,Tn=this.state.goInputText,kn="".concat(hi,"-options"),Vn=Zi,ns=null,Ms=null,fs=null;if(!gi&&!ri)return null;var Jn=this.getPageSizeOptions();if(gi&&Vn){var Is=Jn.map(function(Es,es){return O.createElement(Vn.Option,{key:es,value:Es.toString()},(Li||ze.buildOptionText)(Es))});ns=O.createElement(Vn,{disabled:tn,prefixCls:Fi,showSearch:!1,className:"".concat(kn,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(zt||Jn[0]).toString(),onChange:this.changeSize,getPopupContainer:function(es){return es.parentNode},"aria-label":Wt.page_size,defaultOpen:!1},Is)}return ri&&(Qt&&(fs=typeof Qt=="boolean"?O.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:tn,className:"".concat(kn,"-quick-jumper-button")},Wt.jump_to_confirm):O.createElement("span",{onClick:this.go,onKeyUp:this.go},Qt)),Ms=O.createElement("div",{className:"".concat(kn,"-quick-jumper")},Wt.jump_to,O.createElement("input",{disabled:tn,type:"text",value:Tn,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":Wt.page}),Wt.page,fs)),O.createElement("li",{className:"".concat(kn)},ns,Ms)}}]),Ve}(O.Component);te.defaultProps={pageSizeOptions:["10","20","50","100"]};var ce=te,_e=function(de){var Ve,Ze=de.rootPrefixCls,ze=de.page,St=de.active,zt=de.className,Wt=de.showTitle,hi=de.onClick,gi=de.onKeyPress,ri=de.itemRender,Qt="".concat(Ze,"-item"),Zi=N()(Qt,"".concat(Qt,"-").concat(ze),(Ve={},(0,C.Z)(Ve,"".concat(Qt,"-active"),St),(0,C.Z)(Ve,"".concat(Qt,"-disabled"),!ze),(0,C.Z)(Ve,de.className,zt),Ve)),Li=function(){hi(ze)},Fi=function(kn){gi(kn,hi,ze)},tn=ri(ze,"page",O.createElement("a",{rel:"nofollow"},ze));return tn?O.createElement("li",{title:Wt?ze.toString():null,className:Zi,onClick:Li,onKeyPress:Fi,tabIndex:0},tn):null},Ce=_e;function Ee(){}function le(X){var de=Number(X);return typeof de=="number"&&!Number.isNaN(de)&&isFinite(de)&&Math.floor(de)===de}var Y=function(de,Ve,Ze){return Ze};function $(X,de,Ve){var Ze=typeof X=="undefined"?de.pageSize:X;return Math.floor((Ve.total-1)/Ze)+1}var G=function(X){(0,S.Z)(Ve,X);var de=(0,h.Z)(Ve);function Ve(Ze){var ze;(0,f.Z)(this,Ve),ze=de.call(this,Ze),ze.paginationNode=O.createRef(),ze.getJumpPrevPage=function(){return Math.max(1,ze.state.current-(ze.props.showLessItems?3:5))},ze.getJumpNextPage=function(){return Math.min($(void 0,ze.state,ze.props),ze.state.current+(ze.props.showLessItems?3:5))},ze.getItemIcon=function(gi,ri){var Qt=ze.props.prefixCls,Zi=gi||O.createElement("button",{type:"button","aria-label":ri,className:"".concat(Qt,"-item-link")});return typeof gi=="function"&&(Zi=O.createElement(gi,(0,x.Z)({},ze.props))),Zi},ze.isValid=function(gi){var ri=ze.props.total;return le(gi)&&gi!==ze.state.current&&le(ri)&&ri>0},ze.shouldDisplayQuickJumper=function(){var gi=ze.props,ri=gi.showQuickJumper,Qt=gi.total,Zi=ze.state.pageSize;return Qt<=Zi?!1:ri},ze.handleKeyDown=function(gi){(gi.keyCode===B.ARROW_UP||gi.keyCode===B.ARROW_DOWN)&&gi.preventDefault()},ze.handleKeyUp=function(gi){var ri=ze.getValidValue(gi),Qt=ze.state.currentInputValue;ri!==Qt&&ze.setState({currentInputValue:ri}),gi.keyCode===B.ENTER?ze.handleChange(ri):gi.keyCode===B.ARROW_UP?ze.handleChange(ri-1):gi.keyCode===B.ARROW_DOWN&&ze.handleChange(ri+1)},ze.handleBlur=function(gi){var ri=ze.getValidValue(gi);ze.handleChange(ri)},ze.changePageSize=function(gi){var ri=ze.state.current,Qt=$(gi,ze.state,ze.props);ri=ri>Qt?Qt:ri,Qt===0&&(ri=ze.state.current),typeof gi=="number"&&("pageSize"in ze.props||ze.setState({pageSize:gi}),"current"in ze.props||ze.setState({current:ri,currentInputValue:ri})),ze.props.onShowSizeChange(ri,gi),"onChange"in ze.props&&ze.props.onChange&&ze.props.onChange(ri,gi)},ze.handleChange=function(gi){var ri=ze.props,Qt=ri.disabled,Zi=ri.onChange,Li=ze.state,Fi=Li.pageSize,tn=Li.current,Tn=Li.currentInputValue;if(ze.isValid(gi)&&!Qt){var kn=$(void 0,ze.state,ze.props),Vn=gi;return gi>kn?Vn=kn:gi<1&&(Vn=1),"current"in ze.props||ze.setState({current:Vn}),Vn!==Tn&&ze.setState({currentInputValue:Vn}),Zi(Vn,Fi),Vn}return tn},ze.prev=function(){ze.hasPrev()&&ze.handleChange(ze.state.current-1)},ze.next=function(){ze.hasNext()&&ze.handleChange(ze.state.current+1)},ze.jumpPrev=function(){ze.handleChange(ze.getJumpPrevPage())},ze.jumpNext=function(){ze.handleChange(ze.getJumpNextPage())},ze.hasPrev=function(){return ze.state.current>1},ze.hasNext=function(){return ze.state.current<$(void 0,ze.state,ze.props)},ze.runIfEnter=function(gi,ri){if(gi.key==="Enter"||gi.charCode===13){for(var Qt=arguments.length,Zi=new Array(Qt>2?Qt-2:0),Li=2;Li<Qt;Li++)Zi[Li-2]=arguments[Li];ri.apply(void 0,Zi)}},ze.runIfEnterPrev=function(gi){ze.runIfEnter(gi,ze.prev)},ze.runIfEnterNext=function(gi){ze.runIfEnter(gi,ze.next)},ze.runIfEnterJumpPrev=function(gi){ze.runIfEnter(gi,ze.jumpPrev)},ze.runIfEnterJumpNext=function(gi){ze.runIfEnter(gi,ze.jumpNext)},ze.handleGoTO=function(gi){(gi.keyCode===B.ENTER||gi.type==="click")&&ze.handleChange(ze.state.currentInputValue)},ze.renderPrev=function(gi){var ri=ze.props,Qt=ri.prevIcon,Zi=ri.itemRender,Li=Zi(gi,"prev",ze.getItemIcon(Qt,"prev page")),Fi=!ze.hasPrev();return(0,O.isValidElement)(Li)?(0,O.cloneElement)(Li,{disabled:Fi}):Li},ze.renderNext=function(gi){var ri=ze.props,Qt=ri.nextIcon,Zi=ri.itemRender,Li=Zi(gi,"next",ze.getItemIcon(Qt,"next page")),Fi=!ze.hasNext();return(0,O.isValidElement)(Li)?(0,O.cloneElement)(Li,{disabled:Fi}):Li};var St=Ze.onChange!==Ee,zt="current"in Ze;zt&&!St&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var Wt=Ze.defaultCurrent;"current"in Ze&&(Wt=Ze.current);var hi=Ze.defaultPageSize;return"pageSize"in Ze&&(hi=Ze.pageSize),Wt=Math.min(Wt,$(hi,void 0,Ze)),ze.state={current:Wt,currentInputValue:Wt,pageSize:hi},ze}return(0,_.Z)(Ve,[{key:"componentDidUpdate",value:function(ze,St){var zt=this.props.prefixCls;if(St.current!==this.state.current&&this.paginationNode.current){var Wt=this.paginationNode.current.querySelector(".".concat(zt,"-item-").concat(St.current));if(Wt&&document.activeElement===Wt){var hi;Wt==null||(hi=Wt.blur)===null||hi===void 0||hi.call(Wt)}}}},{key:"getValidValue",value:function(ze){var St=ze.target.value,zt=$(void 0,this.state,this.props),Wt=this.state.currentInputValue,hi;return St===""?hi=St:Number.isNaN(Number(St))?hi=Wt:St>=zt?hi=zt:hi=Number(St),hi}},{key:"getShowSizeChanger",value:function(){var ze=this.props,St=ze.showSizeChanger,zt=ze.total,Wt=ze.totalBoundaryShowSizeChanger;return typeof St!="undefined"?St:zt>Wt}},{key:"render",value:function(){var ze=this.props,St=ze.prefixCls,zt=ze.className,Wt=ze.style,hi=ze.disabled,gi=ze.hideOnSinglePage,ri=ze.total,Qt=ze.locale,Zi=ze.showQuickJumper,Li=ze.showLessItems,Fi=ze.showTitle,tn=ze.showTotal,Tn=ze.simple,kn=ze.itemRender,Vn=ze.showPrevNextJumpers,ns=ze.jumpPrevIcon,Ms=ze.jumpNextIcon,fs=ze.selectComponentClass,Jn=ze.selectPrefixCls,Is=ze.pageSizeOptions,Es=this.state,es=Es.current,Ns=Es.pageSize,Qs=Es.currentInputValue;if(gi===!0&&ri<=Ns)return null;var ds=$(void 0,this.state,this.props),ks=[],Fs=null,js=null,yn=null,ys=null,ps=null,Os=Zi&&Zi.goButton,po=Li?1:2,_o=es-1>0?es-1:0,bo=es+1<ds?es+1:ds,So=(0,y.Z)(this.props,{aria:!0,data:!0}),no=tn&&O.createElement("li",{className:"".concat(St,"-total-text")},tn(ri,[ri===0?0:(es-1)*Ns+1,es*Ns>ri?ri:es*Ns]));if(Tn){Os&&(typeof Os=="boolean"?ps=O.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Qt.jump_to_confirm):ps=O.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Os),ps=O.createElement("li",{title:Fi?"".concat(Qt.jump_to).concat(es,"/").concat(ds):null,className:"".concat(St,"-simple-pager")},ps));var xo=this.renderPrev(_o);return O.createElement("ul",(0,D.Z)({className:N()(St,"".concat(St,"-simple"),(0,C.Z)({},"".concat(St,"-disabled"),hi),zt),style:Wt,ref:this.paginationNode},So),no,xo?O.createElement("li",{title:Fi?Qt.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:N()("".concat(St,"-prev"),(0,C.Z)({},"".concat(St,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},xo):null,O.createElement("li",{title:Fi?"".concat(es,"/").concat(ds):null,className:"".concat(St,"-simple-pager")},O.createElement("input",{type:"text",value:Qs,disabled:hi,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),O.createElement("span",{className:"".concat(St,"-slash")},"/"),ds),O.createElement("li",{title:Fi?Qt.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:N()("".concat(St,"-next"),(0,C.Z)({},"".concat(St,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(bo)),ps)}if(ds<=3+po*2){var Vo={locale:Qt,rootPrefixCls:St,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Fi,itemRender:kn};ds||ks.push(O.createElement(Ce,(0,D.Z)({},Vo,{key:"noPager",page:1,className:"".concat(St,"-item-disabled")})));for(var bs=1;bs<=ds;bs+=1){var is=es===bs;ks.push(O.createElement(Ce,(0,D.Z)({},Vo,{key:bs,page:bs,active:is})))}}else{var Ls=Li?Qt.prev_3:Qt.prev_5,ro=Li?Qt.next_3:Qt.next_5,Us=kn(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(ns,"prev page")),Bs=kn(this.getJumpNextPage(),"jump-next",this.getItemIcon(Ms,"next page"));Vn&&(Fs=Us?O.createElement("li",{title:Fi?Ls:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:N()("".concat(St,"-jump-prev"),(0,C.Z)({},"".concat(St,"-jump-prev-custom-icon"),!!ns))},Us):null,js=Bs?O.createElement("li",{title:Fi?ro:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:N()("".concat(St,"-jump-next"),(0,C.Z)({},"".concat(St,"-jump-next-custom-icon"),!!Ms))},Bs):null),ys=O.createElement(Ce,{locale:Qt,last:!0,rootPrefixCls:St,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:ds,page:ds,active:!1,showTitle:Fi,itemRender:kn}),yn=O.createElement(Ce,{locale:Qt,rootPrefixCls:St,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Fi,itemRender:kn});var gs=Math.max(1,es-po),rs=Math.min(es+po,ds);es-1<=po&&(rs=1+po*2),ds-es<=po&&(gs=ds-po*2);for(var $s=gs;$s<=rs;$s+=1){var fo=es===$s;ks.push(O.createElement(Ce,{locale:Qt,rootPrefixCls:St,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:$s,page:$s,active:fo,showTitle:Fi,itemRender:kn}))}es-1>=po*2&&es!==1+2&&(ks[0]=(0,O.cloneElement)(ks[0],{className:"".concat(St,"-item-after-jump-prev")}),ks.unshift(Fs)),ds-es>=po*2&&es!==ds-2&&(ks[ks.length-1]=(0,O.cloneElement)(ks[ks.length-1],{className:"".concat(St,"-item-before-jump-next")}),ks.push(js)),gs!==1&&ks.unshift(yn),rs!==ds&&ks.push(ys)}var uo=!this.hasPrev()||!ds,fn=!this.hasNext()||!ds,_s=this.renderPrev(_o),so=this.renderNext(bo);return O.createElement("ul",(0,D.Z)({className:N()(St,zt,(0,C.Z)({},"".concat(St,"-disabled"),hi)),style:Wt,ref:this.paginationNode},So),no,_s?O.createElement("li",{title:Fi?Qt.prev_page:null,onClick:this.prev,tabIndex:uo?null:0,onKeyPress:this.runIfEnterPrev,className:N()("".concat(St,"-prev"),(0,C.Z)({},"".concat(St,"-disabled"),uo)),"aria-disabled":uo},_s):null,ks,so?O.createElement("li",{title:Fi?Qt.next_page:null,onClick:this.next,tabIndex:fn?null:0,onKeyPress:this.runIfEnterNext,className:N()("".concat(St,"-next"),(0,C.Z)({},"".concat(St,"-disabled"),fn)),"aria-disabled":fn},so):null,O.createElement(ce,{disabled:hi,locale:Qt,rootPrefixCls:St,selectComponentClass:fs,selectPrefixCls:Jn,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:es,pageSize:Ns,pageSizeOptions:Is,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Os}))}}],[{key:"getDerivedStateFromProps",value:function(ze,St){var zt={};if("current"in ze&&(zt.current=ze.current,ze.current!==St.current&&(zt.currentInputValue=zt.current)),"pageSize"in ze&&ze.pageSize!==St.pageSize){var Wt=St.current,hi=$(ze.pageSize,St,ze);Wt=Wt>hi?hi:Wt,"current"in ze||(zt.current=Wt,zt.currentInputValue=Wt),zt.pageSize=ze.pageSize}return zt}}]),Ve}(O.Component);G.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Ee,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Ee,locale:j.Z,style:{},itemRender:Y,totalBoundaryShowSizeChanger:50};var ee=G,m=c(62906),w=c(53124),F=c(98675),ie=c(25378),pe=c(10110),ue=c(74902),ke=c(97685),Te=c(91),rt=c(71002),Rt=c(21770),mt=c(80334),Mt=c(8410),it=c(31131),Je=c(15105),Ae=c(42550),ge=function(de){var Ve=de.className,Ze=de.customizeIcon,ze=de.customizeIconProps,St=de.onMouseDown,zt=de.onClick,Wt=de.children,hi;return typeof Ze=="function"?hi=Ze(ze):hi=Ze,O.createElement("span",{className:Ve,onMouseDown:function(ri){ri.preventDefault(),St&&St(ri)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:zt,"aria-hidden":!0},hi!==void 0?hi:O.createElement("span",{className:N()(Ve.split(/\s+/).map(function(gi){return"".concat(gi,"-icon")}))},Wt))},Re=ge;function ot(X,de,Ve,Ze,ze){var St=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,zt=arguments.length>6?arguments[6]:void 0,Wt=arguments.length>7?arguments[7]:void 0,hi=O.useMemo(function(){if((0,rt.Z)(Ze)==="object")return Ze.clearIcon;if(ze)return ze},[Ze,ze]),gi=O.useMemo(function(){return!!(!St&&Ze&&(Ve.length||zt)&&!(Wt==="combobox"&&zt===""))},[Ze,St,Ve.length,zt,Wt]);return{allowClear:gi,clearIcon:O.createElement(Re,{className:"".concat(X,"-clear"),onMouseDown:de,customizeIcon:hi},"\xD7")}}var dt=O.createContext(null);function lt(){return O.useContext(dt)}function Ie(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,de=O.useState(!1),Ve=(0,ke.Z)(de,2),Ze=Ve[0],ze=Ve[1],St=O.useRef(null),zt=function(){window.clearTimeout(St.current)};O.useEffect(function(){return zt},[]);var Wt=function(gi,ri){zt(),St.current=window.setTimeout(function(){ze(gi),ri&&ri()},X)};return[Ze,Wt,zt]}function Pe(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,de=O.useRef(null),Ve=O.useRef(null);O.useEffect(function(){return function(){window.clearTimeout(Ve.current)}},[]);function Ze(ze){(ze||de.current===null)&&(de.current=ze),window.clearTimeout(Ve.current),Ve.current=window.setTimeout(function(){de.current=null},X)}return[function(){return de.current},Ze]}function ye(X,de,Ve,Ze){var ze=O.useRef(null);ze.current={open:de,triggerOpen:Ve,customizedTrigger:Ze},O.useEffect(function(){function St(zt){var Wt;if(!((Wt=ze.current)!==null&&Wt!==void 0&&Wt.customizedTrigger)){var hi=zt.target;hi.shadowRoot&&zt.composed&&(hi=zt.composedPath()[0]||hi),ze.current.open&&X().filter(function(gi){return gi}).every(function(gi){return!gi.contains(hi)&&gi!==hi})&&ze.current.triggerOpen(!1)}}return window.addEventListener("mousedown",St),function(){return window.removeEventListener("mousedown",St)}},[])}var Xe=c(39983),st=function(de,Ve){var Ze,ze,St=de.prefixCls,zt=de.id,Wt=de.inputElement,hi=de.disabled,gi=de.tabIndex,ri=de.autoFocus,Qt=de.autoComplete,Zi=de.editable,Li=de.activeDescendantId,Fi=de.value,tn=de.maxLength,Tn=de.onKeyDown,kn=de.onMouseDown,Vn=de.onChange,ns=de.onPaste,Ms=de.onCompositionStart,fs=de.onCompositionEnd,Jn=de.open,Is=de.attrs,Es=Wt||O.createElement("input",null),es=Es,Ns=es.ref,Qs=es.props,ds=Qs.onKeyDown,ks=Qs.onChange,Fs=Qs.onMouseDown,js=Qs.onCompositionStart,yn=Qs.onCompositionEnd,ys=Qs.style;return(0,mt.Kp)(!("maxLength"in Es.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Es=O.cloneElement(Es,(0,x.Z)((0,x.Z)((0,x.Z)({type:"search"},Qs),{},{id:zt,ref:(0,Ae.sQ)(Ve,Ns),disabled:hi,tabIndex:gi,autoComplete:Qt||"off",autoFocus:ri,className:N()("".concat(St,"-selection-search-input"),(Ze=Es)===null||Ze===void 0||(ze=Ze.props)===null||ze===void 0?void 0:ze.className),role:"combobox","aria-label":"Search","aria-expanded":Jn||!1,"aria-haspopup":"listbox","aria-owns":"".concat(zt,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(zt,"_list"),"aria-activedescendant":Jn?Li:void 0},Is),{},{value:Zi?Fi:"",maxLength:tn,readOnly:!Zi,unselectable:Zi?null:"on",style:(0,x.Z)((0,x.Z)({},ys),{},{opacity:Zi?null:0}),onKeyDown:function(Os){Tn(Os),ds&&ds(Os)},onMouseDown:function(Os){kn(Os),Fs&&Fs(Os)},onChange:function(Os){Vn(Os),ks&&ks(Os)},onCompositionStart:function(Os){Ms(Os),js&&js(Os)},onCompositionEnd:function(Os){fs(Os),yn&&yn(Os)},onPaste:ns})),Es},Pt=O.forwardRef(st);Pt.displayName="Input";var qt=Pt;function Ci(X){return Array.isArray(X)?X:X!==void 0?[X]:[]}var ii=typeof window!="undefined"&&window.document&&window.document.documentElement,At=ii;function Qi(X){return X!=null}function ci(X){return!X&&X!==0}function je(X){return["string","number"].includes((0,rt.Z)(X))}function at(X){var de=void 0;return X&&(je(X.title)?de=X.title.toString():je(X.label)&&(de=X.label.toString())),de}function Ni(X,de){At?O.useLayoutEffect(X,de):O.useEffect(X,de)}function fi(X){var de;return(de=X.key)!==null&&de!==void 0?de:X.value}var Wi=function(de){de.preventDefault(),de.stopPropagation()},Rn=function(de){var Ve=de.id,Ze=de.prefixCls,ze=de.values,St=de.open,zt=de.searchValue,Wt=de.autoClearSearchValue,hi=de.inputRef,gi=de.placeholder,ri=de.disabled,Qt=de.mode,Zi=de.showSearch,Li=de.autoFocus,Fi=de.autoComplete,tn=de.activeDescendantId,Tn=de.tabIndex,kn=de.removeIcon,Vn=de.maxTagCount,ns=de.maxTagTextLength,Ms=de.maxTagPlaceholder,fs=Ms===void 0?function(gs){return"+ ".concat(gs.length," ...")}:Ms,Jn=de.tagRender,Is=de.onToggleOpen,Es=de.onRemove,es=de.onInputChange,Ns=de.onInputPaste,Qs=de.onInputKeyDown,ds=de.onInputMouseDown,ks=de.onInputCompositionStart,Fs=de.onInputCompositionEnd,js=O.useRef(null),yn=(0,O.useState)(0),ys=(0,ke.Z)(yn,2),ps=ys[0],Os=ys[1],po=(0,O.useState)(!1),_o=(0,ke.Z)(po,2),bo=_o[0],So=_o[1],no="".concat(Ze,"-selection"),xo=St||Qt==="multiple"&&Wt===!1||Qt==="tags"?zt:"",Vo=Qt==="tags"||Qt==="multiple"&&Wt===!1||Zi&&(St||bo);Ni(function(){Os(js.current.scrollWidth)},[xo]);function bs(gs,rs,$s,fo,uo){return O.createElement("span",{className:N()("".concat(no,"-item"),(0,C.Z)({},"".concat(no,"-item-disabled"),$s)),title:at(gs)},O.createElement("span",{className:"".concat(no,"-item-content")},rs),fo&&O.createElement(Re,{className:"".concat(no,"-item-remove"),onMouseDown:Wi,onClick:uo,customizeIcon:kn},"\xD7"))}function is(gs,rs,$s,fo,uo){var fn=function(so){Wi(so),Is(!St)};return O.createElement("span",{onMouseDown:fn},Jn({label:rs,value:gs,disabled:$s,closable:fo,onClose:uo}))}function Ls(gs){var rs=gs.disabled,$s=gs.label,fo=gs.value,uo=!ri&&!rs,fn=$s;if(typeof ns=="number"&&(typeof $s=="string"||typeof $s=="number")){var _s=String(fn);_s.length>ns&&(fn="".concat(_s.slice(0,ns),"..."))}var so=function(nr){nr&&nr.stopPropagation(),Es(gs)};return typeof Jn=="function"?is(fo,fn,rs,uo,so):bs(gs,fn,rs,uo,so)}function ro(gs){var rs=typeof fs=="function"?fs(gs):fs;return bs({title:rs},rs,!1)}var Us=O.createElement("div",{className:"".concat(no,"-search"),style:{width:ps},onFocus:function(){So(!0)},onBlur:function(){So(!1)}},O.createElement(qt,{ref:hi,open:St,prefixCls:Ze,id:Ve,inputElement:null,disabled:ri,autoFocus:Li,autoComplete:Fi,editable:Vo,activeDescendantId:tn,value:xo,onKeyDown:Qs,onMouseDown:ds,onChange:es,onPaste:Ns,onCompositionStart:ks,onCompositionEnd:Fs,tabIndex:Tn,attrs:(0,y.Z)(de,!0)}),O.createElement("span",{ref:js,className:"".concat(no,"-search-mirror"),"aria-hidden":!0},xo,"\xA0")),Bs=O.createElement(Xe.Z,{prefixCls:"".concat(no,"-overflow"),data:ze,renderItem:Ls,renderRest:ro,suffix:Us,itemKey:fi,maxCount:Vn});return O.createElement(O.Fragment,null,Bs,!ze.length&&!xo&&O.createElement("span",{className:"".concat(no,"-placeholder")},gi))},zi=Rn,as=function(de){var Ve=de.inputElement,Ze=de.prefixCls,ze=de.id,St=de.inputRef,zt=de.disabled,Wt=de.autoFocus,hi=de.autoComplete,gi=de.activeDescendantId,ri=de.mode,Qt=de.open,Zi=de.values,Li=de.placeholder,Fi=de.tabIndex,tn=de.showSearch,Tn=de.searchValue,kn=de.activeValue,Vn=de.maxLength,ns=de.onInputKeyDown,Ms=de.onInputMouseDown,fs=de.onInputChange,Jn=de.onInputPaste,Is=de.onInputCompositionStart,Es=de.onInputCompositionEnd,es=de.title,Ns=O.useState(!1),Qs=(0,ke.Z)(Ns,2),ds=Qs[0],ks=Qs[1],Fs=ri==="combobox",js=Fs||tn,yn=Zi[0],ys=Tn||"";Fs&&kn&&!ds&&(ys=kn),O.useEffect(function(){Fs&&ks(!1)},[Fs,kn]);var ps=ri!=="combobox"&&!Qt&&!tn?!1:!!ys,Os=es===void 0?at(yn):es,po=function(){if(yn)return null;var bo=ps?{visibility:"hidden"}:void 0;return O.createElement("span",{className:"".concat(Ze,"-selection-placeholder"),style:bo},Li)};return O.createElement(O.Fragment,null,O.createElement("span",{className:"".concat(Ze,"-selection-search")},O.createElement(qt,{ref:St,prefixCls:Ze,id:ze,open:Qt,inputElement:Ve,disabled:zt,autoFocus:Wt,autoComplete:hi,editable:js,activeDescendantId:gi,value:ys,onKeyDown:ns,onMouseDown:Ms,onChange:function(bo){ks(!0),fs(bo)},onPaste:Jn,onCompositionStart:Is,onCompositionEnd:Es,tabIndex:Fi,attrs:(0,y.Z)(de,!0),maxLength:Fs?Vn:void 0})),!Fs&&yn?O.createElement("span",{className:"".concat(Ze,"-selection-item"),title:Os,style:ps?{visibility:"hidden"}:void 0},yn.label):null,po())},Fn=as;function An(X){return![Je.Z.ESC,Je.Z.SHIFT,Je.Z.BACKSPACE,Je.Z.TAB,Je.Z.WIN_KEY,Je.Z.ALT,Je.Z.META,Je.Z.WIN_KEY_RIGHT,Je.Z.CTRL,Je.Z.SEMICOLON,Je.Z.EQUALS,Je.Z.CAPS_LOCK,Je.Z.CONTEXT_MENU,Je.Z.F1,Je.Z.F2,Je.Z.F3,Je.Z.F4,Je.Z.F5,Je.Z.F6,Je.Z.F7,Je.Z.F8,Je.Z.F9,Je.Z.F10,Je.Z.F11,Je.Z.F12].includes(X)}var $i=function(de,Ve){var Ze=(0,O.useRef)(null),ze=(0,O.useRef)(!1),St=de.prefixCls,zt=de.open,Wt=de.mode,hi=de.showSearch,gi=de.tokenWithEnter,ri=de.autoClearSearchValue,Qt=de.onSearch,Zi=de.onSearchSubmit,Li=de.onToggleOpen,Fi=de.onInputKeyDown,tn=de.domRef;O.useImperativeHandle(Ve,function(){return{focus:function(){Ze.current.focus()},blur:function(){Ze.current.blur()}}});var Tn=Pe(0),kn=(0,ke.Z)(Tn,2),Vn=kn[0],ns=kn[1],Ms=function(ys){var ps=ys.which;(ps===Je.Z.UP||ps===Je.Z.DOWN)&&ys.preventDefault(),Fi&&Fi(ys),ps===Je.Z.ENTER&&Wt==="tags"&&!ze.current&&!zt&&(Zi==null||Zi(ys.target.value)),An(ps)&&Li(!0)},fs=function(){ns(!0)},Jn=(0,O.useRef)(null),Is=function(ys){Qt(ys,!0,ze.current)!==!1&&Li(!0)},Es=function(){ze.current=!0},es=function(ys){ze.current=!1,Wt!=="combobox"&&Is(ys.target.value)},Ns=function(ys){var ps=ys.target.value;if(gi&&Jn.current&&/[\r\n]/.test(Jn.current)){var Os=Jn.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");ps=ps.replace(Os,Jn.current)}Jn.current=null,Is(ps)},Qs=function(ys){var ps=ys.clipboardData,Os=ps.getData("text");Jn.current=Os},ds=function(ys){var ps=ys.target;if(ps!==Ze.current){var Os=document.body.style.msTouchAction!==void 0;Os?setTimeout(function(){Ze.current.focus()}):Ze.current.focus()}},ks=function(ys){var ps=Vn();ys.target!==Ze.current&&!ps&&Wt!=="combobox"&&ys.preventDefault(),(Wt!=="combobox"&&(!hi||!ps)||!zt)&&(zt&&ri!==!1&&Qt("",!0,!1),Li())},Fs={inputRef:Ze,onInputKeyDown:Ms,onInputMouseDown:fs,onInputChange:Ns,onInputPaste:Qs,onInputCompositionStart:Es,onInputCompositionEnd:es},js=Wt==="multiple"||Wt==="tags"?O.createElement(zi,(0,D.Z)({},de,Fs)):O.createElement(Fn,(0,D.Z)({},de,Fs));return O.createElement("div",{ref:tn,className:"".concat(St,"-selector"),onClick:ds,onMouseDown:ks},js)},Nn=O.forwardRef($i);Nn.displayName="Selector";var sn=Nn,$e=c(40228),It=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],xt=function(de){var Ve=de===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Ve,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Ve,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Ve,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Ve,adjustY:1},htmlRegion:"scroll"}}},Qe=function(de,Ve){var Ze=de.prefixCls,ze=de.disabled,St=de.visible,zt=de.children,Wt=de.popupElement,hi=de.animation,gi=de.transitionName,ri=de.dropdownStyle,Qt=de.dropdownClassName,Zi=de.direction,Li=Zi===void 0?"ltr":Zi,Fi=de.placement,tn=de.builtinPlacements,Tn=de.dropdownMatchSelectWidth,kn=de.dropdownRender,Vn=de.dropdownAlign,ns=de.getPopupContainer,Ms=de.empty,fs=de.getTriggerDOMNode,Jn=de.onPopupVisibleChange,Is=de.onPopupMouseEnter,Es=(0,Te.Z)(de,It),es="".concat(Ze,"-dropdown"),Ns=Wt;kn&&(Ns=kn(Wt));var Qs=O.useMemo(function(){return tn||xt(Tn)},[tn,Tn]),ds=hi?"".concat(es,"-").concat(hi):gi,ks=typeof Tn=="number",Fs=O.useMemo(function(){return ks?null:Tn===!1?"minWidth":"width"},[Tn,ks]),js=ri;ks&&(js=(0,x.Z)((0,x.Z)({},js),{},{width:Tn}));var yn=O.useRef(null);return O.useImperativeHandle(Ve,function(){return{getPopupElement:function(){return yn.current}}}),O.createElement($e.Z,(0,D.Z)({},Es,{showAction:Jn?["click"]:[],hideAction:Jn?["click"]:[],popupPlacement:Fi||(Li==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Qs,prefixCls:es,popupTransitionName:ds,popup:O.createElement("div",{ref:yn,onMouseEnter:Is},Ns),stretch:Fs,popupAlign:Vn,popupVisible:St,getPopupContainer:ns,popupClassName:N()(Qt,(0,C.Z)({},"".concat(es,"-empty"),Ms)),popupStyle:js,getTriggerDOMNode:fs,onPopupVisibleChange:Jn}),zt)},tt=O.forwardRef(Qe);tt.displayName="SelectTrigger";var Nt=tt,Tt=c(84506);function Yt(X,de){var Ve=X.key,Ze;return"value"in X&&(Ze=X.value),Ve!=null?Ve:Ze!==void 0?Ze:"rc-index-key-".concat(de)}function ai(X,de){var Ve=X||{},Ze=Ve.label,ze=Ve.value,St=Ve.options,zt=Ve.groupLabel,Wt=Ze||(de?"children":"label");return{label:Wt,value:ze||"value",options:St||"options",groupLabel:zt||Wt}}function Si(X){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=de.fieldNames,Ze=de.childrenAsData,ze=[],St=ai(Ve,!1),zt=St.label,Wt=St.value,hi=St.options,gi=St.groupLabel;function ri(Qt,Zi){Qt.forEach(function(Li){if(Zi||!(hi in Li)){var Fi=Li[Wt];ze.push({key:Yt(Li,ze.length),groupOption:Zi,data:Li,label:Li[zt],value:Fi})}else{var tn=Li[gi];tn===void 0&&Ze&&(tn=Li.label),ze.push({key:Yt(Li,ze.length),group:!0,data:Li,label:tn}),ri(Li[hi],!0)}})}return ri(X,!1),ze}function qi(X){var de=(0,x.Z)({},X);return"props"in de||Object.defineProperty(de,"props",{get:function(){return(0,mt.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),de}}),de}function ji(X,de){if(!de||!de.length)return null;var Ve=!1;function Ze(St,zt){var Wt=(0,Tt.Z)(zt),hi=Wt[0],gi=Wt.slice(1);if(!hi)return[St];var ri=St.split(hi);return Ve=Ve||ri.length>1,ri.reduce(function(Qt,Zi){return[].concat((0,ue.Z)(Qt),(0,ue.Z)(Ze(Zi,gi)))},[]).filter(function(Qt){return Qt})}var ze=Ze(X,de);return Ve?ze:null}var Zn=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Vi=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Xi(X){return X==="tags"||X==="multiple"}var wt=O.forwardRef(function(X,de){var Ve,Ze,ze=X.id,St=X.prefixCls,zt=X.className,Wt=X.showSearch,hi=X.tagRender,gi=X.direction,ri=X.omitDomProps,Qt=X.displayValues,Zi=X.onDisplayValuesChange,Li=X.emptyOptions,Fi=X.notFoundContent,tn=Fi===void 0?"Not Found":Fi,Tn=X.onClear,kn=X.mode,Vn=X.disabled,ns=X.loading,Ms=X.getInputElement,fs=X.getRawInputElement,Jn=X.open,Is=X.defaultOpen,Es=X.onDropdownVisibleChange,es=X.activeValue,Ns=X.onActiveValueChange,Qs=X.activeDescendantId,ds=X.searchValue,ks=X.autoClearSearchValue,Fs=X.onSearch,js=X.onSearchSplit,yn=X.tokenSeparators,ys=X.allowClear,ps=X.suffixIcon,Os=X.clearIcon,po=X.OptionList,_o=X.animation,bo=X.transitionName,So=X.dropdownStyle,no=X.dropdownClassName,xo=X.dropdownMatchSelectWidth,Vo=X.dropdownRender,bs=X.dropdownAlign,is=X.placement,Ls=X.builtinPlacements,ro=X.getPopupContainer,Us=X.showAction,Bs=Us===void 0?[]:Us,gs=X.onFocus,rs=X.onBlur,$s=X.onKeyUp,fo=X.onKeyDown,uo=X.onMouseDown,fn=(0,Te.Z)(X,Zn),_s=Xi(kn),so=(Wt!==void 0?Wt:_s)||kn==="combobox",Js=(0,x.Z)({},fn);Vi.forEach(function(Xt){delete Js[Xt]}),ri==null||ri.forEach(function(Xt){delete Js[Xt]});var nr=O.useState(!1),vr=(0,ke.Z)(nr,2),lr=vr[0],Ro=vr[1];O.useEffect(function(){Ro((0,it.Z)())},[]);var Io=O.useRef(null),yo=O.useRef(null),Ho=O.useRef(null),Ko=O.useRef(null),jo=O.useRef(null),qo=O.useRef(!1),Go=Ie(),dr=(0,ke.Z)(Go,3),Fr=dr[0],ur=dr[1],Br=dr[2];O.useImperativeHandle(de,function(){var Xt,di;return{focus:(Xt=Ko.current)===null||Xt===void 0?void 0:Xt.focus,blur:(di=Ko.current)===null||di===void 0?void 0:di.blur,scrollTo:function(yi){var cn;return(cn=jo.current)===null||cn===void 0?void 0:cn.scrollTo(yi)}}});var No=O.useMemo(function(){var Xt;if(kn!=="combobox")return ds;var di=(Xt=Qt[0])===null||Xt===void 0?void 0:Xt.value;return typeof di=="string"||typeof di=="number"?String(di):""},[ds,kn,Qt]),xr=kn==="combobox"&&typeof Ms=="function"&&Ms()||null,Zo=typeof fs=="function"&&fs(),sr=(0,Ae.x1)(yo,Zo==null||(Ve=Zo.props)===null||Ve===void 0?void 0:Ve.ref),Uo=O.useState(!1),er=(0,ke.Z)(Uo,2),Ir=er[0],cr=er[1];(0,Mt.Z)(function(){cr(!0)},[]);var mr=(0,Rt.Z)(!1,{defaultValue:Is,value:Jn}),Cr=(0,ke.Z)(mr,2),Rr=Cr[0],ms=Cr[1],Wn=Ir?Rr:!1,hs=!tn&&Li;(Vn||hs&&Wn&&kn==="combobox")&&(Wn=!1);var vs=hs?!1:Wn,qs=O.useCallback(function(Xt){var di=Xt!==void 0?Xt:!Wn;Vn||(ms(di),Wn!==di&&(Es==null||Es(di)))},[Vn,Wn,ms,Es]),go=O.useMemo(function(){return(yn||[]).some(function(Xt){return[`
`,`\r
`].includes(Xt)})},[yn]),Po=function(di,xi,yi){var cn=!0,an=di;Ns==null||Ns(null);var En=yi?null:ji(di,yn);return kn!=="combobox"&&En&&(an="",js==null||js(En),qs(!1),cn=!1),Fs&&No!==an&&Fs(an,{source:xi?"typing":"effect"}),cn},tr=function(di){!di||!di.trim()||Fs(di,{source:"submit"})};O.useEffect(function(){!Wn&&!_s&&kn!=="combobox"&&Po("",!1,!1)},[Wn]),O.useEffect(function(){Rr&&Vn&&ms(!1),Vn&&!qo.current&&ur(!1)},[Vn]);var $o=Pe(),Do=(0,ke.Z)($o,2),hr=Do[0],ir=Do[1],or=function(di){var xi=hr(),yi=di.which;if(yi===Je.Z.ENTER&&(kn!=="combobox"&&di.preventDefault(),Wn||qs(!0)),ir(!!No),yi===Je.Z.BACKSPACE&&!xi&&_s&&!No&&Qt.length){for(var cn=(0,ue.Z)(Qt),an=null,En=cn.length-1;En>=0;En-=1){var Ln=cn[En];if(!Ln.disabled){cn.splice(En,1),an=Ln;break}}an&&Zi(cn,{type:"remove",values:[an]})}for(var rn=arguments.length,vn=new Array(rn>1?rn-1:0),bn=1;bn<rn;bn++)vn[bn-1]=arguments[bn];if(Wn&&jo.current){var Gn;(Gn=jo.current).onKeyDown.apply(Gn,[di].concat(vn))}fo==null||fo.apply(void 0,[di].concat(vn))},Fo=function(di){for(var xi=arguments.length,yi=new Array(xi>1?xi-1:0),cn=1;cn<xi;cn++)yi[cn-1]=arguments[cn];if(Wn&&jo.current){var an;(an=jo.current).onKeyUp.apply(an,[di].concat(yi))}$s==null||$s.apply(void 0,[di].concat(yi))},Yo=function(di){var xi=Qt.filter(function(yi){return yi!==di});Zi(xi,{type:"remove",values:[di]})},rr=O.useRef(!1),Wr=function(){ur(!0),Vn||(gs&&!rr.current&&gs.apply(void 0,arguments),Bs.includes("focus")&&qs(!0)),rr.current=!0},Vr=function(){qo.current=!0,ur(!1,function(){rr.current=!1,qo.current=!1,qs(!1)}),!Vn&&(No&&(kn==="tags"?Fs(No,{source:"submit"}):kn==="multiple"&&Fs("",{source:"blur"})),rs&&rs.apply(void 0,arguments))},yr=[];O.useEffect(function(){return function(){yr.forEach(function(Xt){return clearTimeout(Xt)}),yr.splice(0,yr.length)}},[]);var Qo=function(di){var xi,yi=di.target,cn=(xi=Ho.current)===null||xi===void 0?void 0:xi.getPopupElement();if(cn&&cn.contains(yi)){var an=setTimeout(function(){var vn=yr.indexOf(an);if(vn!==-1&&yr.splice(vn,1),Br(),!lr&&!cn.contains(document.activeElement)){var bn;(bn=Ko.current)===null||bn===void 0||bn.focus()}});yr.push(an)}for(var En=arguments.length,Ln=new Array(En>1?En-1:0),rn=1;rn<En;rn++)Ln[rn-1]=arguments[rn];uo==null||uo.apply(void 0,[di].concat(Ln))},Ct=O.useState({}),e=(0,ke.Z)(Ct,2),n=e[1];function l(){n({})}var b;Zo&&(b=function(di){qs(di)}),ye(function(){var Xt;return[Io.current,(Xt=Ho.current)===null||Xt===void 0?void 0:Xt.getPopupElement()]},vs,qs,!!Zo);var k=O.useMemo(function(){return(0,x.Z)((0,x.Z)({},X),{},{notFoundContent:tn,open:Wn,triggerOpen:vs,id:ze,showSearch:so,multiple:_s,toggleOpen:qs})},[X,tn,vs,Wn,ze,so,_s,qs]),Z=!!ps||ns,ne;Z&&(ne=O.createElement(Re,{className:N()("".concat(St,"-arrow"),(0,C.Z)({},"".concat(St,"-arrow-loading"),ns)),customizeIcon:ps,customizeIconProps:{loading:ns,searchValue:No,open:Wn,focused:Fr,showSearch:so}}));var he=function(){var di;Tn==null||Tn(),(di=Ko.current)===null||di===void 0||di.focus(),Zi([],{type:"clear",values:Qt}),Po("",!1,!1)},De=ot(St,he,Qt,ys,Os,Vn,No,kn),Oe=De.allowClear,Ke=De.clearIcon,Lt=O.createElement(po,{ref:jo}),_t=N()(St,zt,(Ze={},(0,C.Z)(Ze,"".concat(St,"-focused"),Fr),(0,C.Z)(Ze,"".concat(St,"-multiple"),_s),(0,C.Z)(Ze,"".concat(St,"-single"),!_s),(0,C.Z)(Ze,"".concat(St,"-allow-clear"),ys),(0,C.Z)(Ze,"".concat(St,"-show-arrow"),Z),(0,C.Z)(Ze,"".concat(St,"-disabled"),Vn),(0,C.Z)(Ze,"".concat(St,"-loading"),ns),(0,C.Z)(Ze,"".concat(St,"-open"),Wn),(0,C.Z)(Ze,"".concat(St,"-customize-input"),xr),(0,C.Z)(Ze,"".concat(St,"-show-search"),so),Ze)),Ft=O.createElement(Nt,{ref:Ho,disabled:Vn,prefixCls:St,visible:vs,popupElement:Lt,animation:_o,transitionName:bo,dropdownStyle:So,dropdownClassName:no,direction:gi,dropdownMatchSelectWidth:xo,dropdownRender:Vo,dropdownAlign:bs,placement:is,builtinPlacements:Ls,getPopupContainer:ro,empty:Li,getTriggerDOMNode:function(){return yo.current},onPopupVisibleChange:b,onPopupMouseEnter:l},Zo?O.cloneElement(Zo,{ref:sr}):O.createElement(sn,(0,D.Z)({},X,{domRef:yo,prefixCls:St,inputElement:xr,ref:Ko,id:ze,showSearch:so,autoClearSearchValue:ks,mode:kn,activeDescendantId:Qs,tagRender:hi,values:Qt,open:Wn,onToggleOpen:qs,activeValue:es,searchValue:No,onSearch:Po,onSearchSubmit:tr,onRemove:Yo,tokenWithEnter:go}))),Zt;return Zo?Zt=Ft:Zt=O.createElement("div",(0,D.Z)({className:_t},Js,{ref:Io,onMouseDown:Qo,onKeyDown:or,onKeyUp:Fo,onFocus:Wr,onBlur:Vr}),Fr&&!Wn&&O.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(Qt.map(function(Xt){var di=Xt.label,xi=Xt.value;return["number","string"].includes((0,rt.Z)(di))?di:xi}).join(", "))),Ft,ne,Oe&&Ke),O.createElement(dt.Provider,{value:k},Zt)}),ht=wt,Et=function(X,de){var Ve=O.useRef({values:new Map,options:new Map}),Ze=O.useMemo(function(){var St=Ve.current,zt=St.values,Wt=St.options,hi=X.map(function(Qt){if(Qt.label===void 0){var Zi;return(0,x.Z)((0,x.Z)({},Qt),{},{label:(Zi=zt.get(Qt.value))===null||Zi===void 0?void 0:Zi.label})}return Qt}),gi=new Map,ri=new Map;return hi.forEach(function(Qt){gi.set(Qt.value,Qt),ri.set(Qt.value,de.get(Qt.value)||Wt.get(Qt.value))}),Ve.current.values=gi,Ve.current.options=ri,hi},[X,de]),ze=O.useCallback(function(St){return de.get(St)||Ve.current.options.get(St)},[de]);return[Ze,ze]};function He(X,de){return Ci(X).join("").toUpperCase().includes(de)}var nt=function(X,de,Ve,Ze,ze){return O.useMemo(function(){if(!Ve||Ze===!1)return X;var St=de.options,zt=de.label,Wt=de.value,hi=[],gi=typeof Ze=="function",ri=Ve.toUpperCase(),Qt=gi?Ze:function(Li,Fi){return ze?He(Fi[ze],ri):Fi[St]?He(Fi[zt!=="children"?zt:"label"],ri):He(Fi[Wt],ri)},Zi=gi?function(Li){return qi(Li)}:function(Li){return Li};return X.forEach(function(Li){if(Li[St]){var Fi=Qt(Ve,Zi(Li));if(Fi)hi.push(Li);else{var tn=Li[St].filter(function(Tn){return Qt(Ve,Zi(Tn))});tn.length&&hi.push((0,x.Z)((0,x.Z)({},Li),{},(0,C.Z)({},St,tn)))}return}Qt(Ve,Zi(Li))&&hi.push(Li)}),hi},[X,Ze,ze,Ve,de])},pt=c(98924),ft=0,oi=(0,pt.Z)();function Hi(){var X;return oi?(X=ft,ft+=1):X="TEST_OR_SSR",X}function vi(X){var de=O.useState(),Ve=(0,ke.Z)(de,2),Ze=Ve[0],ze=Ve[1];return O.useEffect(function(){ze("rc_select_".concat(Hi()))},[]),X||Ze}var Ii=c(50344),Ui=["children","value"],dn=["children"];function gn(X){var de=X,Ve=de.key,Ze=de.props,ze=Ze.children,St=Ze.value,zt=(0,Te.Z)(Ze,Ui);return(0,x.Z)({key:Ve,value:St!==void 0?St:Ve,children:ze},zt)}function Ri(X){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Ii.Z)(X).map(function(Ve,Ze){if(!O.isValidElement(Ve)||!Ve.type)return null;var ze=Ve,St=ze.type.isSelectOptGroup,zt=ze.key,Wt=ze.props,hi=Wt.children,gi=(0,Te.Z)(Wt,dn);return de||!St?gn(Ve):(0,x.Z)((0,x.Z)({key:"__RC_SELECT_GRP__".concat(zt===null?Ze:zt,"__"),label:zt},gi),{},{options:Ri(hi)})}).filter(function(Ve){return Ve})}function _i(X,de,Ve,Ze,ze){return O.useMemo(function(){var St=X,zt=!X;zt&&(St=Ri(de));var Wt=new Map,hi=new Map,gi=function(Zi,Li,Fi){Fi&&typeof Fi=="string"&&Zi.set(Li[Fi],Li)};function ri(Qt){for(var Zi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Li=0;Li<Qt.length;Li+=1){var Fi=Qt[Li];!Fi[Ve.options]||Zi?(Wt.set(Fi[Ve.value],Fi),gi(hi,Fi,Ve.label),gi(hi,Fi,Ze),gi(hi,Fi,ze)):ri(Fi[Ve.options],!0)}}return ri(St),{options:St,valueOptions:Wt,labelOptions:hi}},[X,de,Ve,Ze,ze])}function hn(X){var de=O.useRef();de.current=X;var Ve=O.useCallback(function(){return de.current.apply(de,arguments)},[]);return Ve}var wn=function(){return null};wn.isSelectOptGroup=!0;var Qn=wn,os=function(){return null};os.isSelectOption=!0;var Yn=os,Ts=c(56982),Co=c(98423),Vs=c(85344),cs=O.createContext(null),oo=cs;function to(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Gs=["disabled","title","children","style","className"];function Ss(X){return typeof X=="string"||typeof X=="number"}var Rs=function(de,Ve){var Ze=lt(),ze=Ze.prefixCls,St=Ze.id,zt=Ze.open,Wt=Ze.multiple,hi=Ze.mode,gi=Ze.searchValue,ri=Ze.toggleOpen,Qt=Ze.notFoundContent,Zi=Ze.onPopupScroll,Li=O.useContext(oo),Fi=Li.flattenOptions,tn=Li.onActiveValue,Tn=Li.defaultActiveFirstOption,kn=Li.onSelect,Vn=Li.menuItemSelectedIcon,ns=Li.rawValues,Ms=Li.fieldNames,fs=Li.virtual,Jn=Li.direction,Is=Li.listHeight,Es=Li.listItemHeight,es="".concat(ze,"-item"),Ns=(0,Ts.Z)(function(){return Fi},[zt,Fi],function(bs,is){return is[0]&&bs[1]!==is[1]}),Qs=O.useRef(null),ds=function(is){is.preventDefault()},ks=function(is){Qs.current&&Qs.current.scrollTo(typeof is=="number"?{index:is}:is)},Fs=function(is){for(var Ls=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ro=Ns.length,Us=0;Us<ro;Us+=1){var Bs=(is+Us*Ls+ro)%ro,gs=Ns[Bs],rs=gs.group,$s=gs.data;if(!rs&&!$s.disabled)return Bs}return-1},js=O.useState(function(){return Fs(0)}),yn=(0,ke.Z)(js,2),ys=yn[0],ps=yn[1],Os=function(is){var Ls=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ps(is);var ro={source:Ls?"keyboard":"mouse"},Us=Ns[is];if(!Us){tn(null,-1,ro);return}tn(Us.value,is,ro)};(0,O.useEffect)(function(){Os(Tn!==!1?Fs(0):-1)},[Ns.length,gi]);var po=O.useCallback(function(bs){return ns.has(bs)&&hi!=="combobox"},[hi,(0,ue.Z)(ns).toString(),ns.size]);(0,O.useEffect)(function(){var bs=setTimeout(function(){if(!Wt&&zt&&ns.size===1){var Ls=Array.from(ns)[0],ro=Ns.findIndex(function(Us){var Bs=Us.data;return Bs.value===Ls});ro!==-1&&(Os(ro),ks(ro))}});if(zt){var is;(is=Qs.current)===null||is===void 0||is.scrollTo(void 0)}return function(){return clearTimeout(bs)}},[zt,gi,Fi.length]);var _o=function(is){is!==void 0&&kn(is,{selected:!ns.has(is)}),Wt||ri(!1)};if(O.useImperativeHandle(Ve,function(){return{onKeyDown:function(is){var Ls=is.which,ro=is.ctrlKey;switch(Ls){case Je.Z.N:case Je.Z.P:case Je.Z.UP:case Je.Z.DOWN:{var Us=0;if(Ls===Je.Z.UP?Us=-1:Ls===Je.Z.DOWN?Us=1:to()&&ro&&(Ls===Je.Z.N?Us=1:Ls===Je.Z.P&&(Us=-1)),Us!==0){var Bs=Fs(ys+Us,Us);ks(Bs),Os(Bs,!0)}break}case Je.Z.ENTER:{var gs=Ns[ys];gs&&!gs.data.disabled?_o(gs.value):_o(void 0),zt&&is.preventDefault();break}case Je.Z.ESC:ri(!1),zt&&is.stopPropagation()}},onKeyUp:function(){},scrollTo:function(is){ks(is)}}}),Ns.length===0)return O.createElement("div",{role:"listbox",id:"".concat(St,"_list"),className:"".concat(es,"-empty"),onMouseDown:ds},Qt);var bo=Object.keys(Ms).map(function(bs){return Ms[bs]}),So=function(is){return is.label};function no(bs,is){var Ls=bs.group;return{role:Ls?"presentation":"option",id:"".concat(St,"_list_").concat(is)}}var xo=function(is){var Ls=Ns[is];if(!Ls)return null;var ro=Ls.data||{},Us=ro.value,Bs=Ls.group,gs=(0,y.Z)(ro,!0),rs=So(Ls);return Ls?O.createElement("div",(0,D.Z)({"aria-label":typeof rs=="string"&&!Bs?rs:null},gs,{key:is},no(Ls,is),{"aria-selected":po(Us)}),Us):null},Vo={role:"listbox",id:"".concat(St,"_list")};return O.createElement(O.Fragment,null,fs&&O.createElement("div",(0,D.Z)({},Vo,{style:{height:0,width:0,overflow:"hidden"}}),xo(ys-1),xo(ys),xo(ys+1)),O.createElement(Vs.Z,{itemKey:"key",ref:Qs,data:Ns,height:Is,itemHeight:Es,fullHeight:!1,onMouseDown:ds,onScroll:Zi,virtual:fs,direction:Jn,innerProps:fs?null:Vo},function(bs,is){var Ls,ro=bs.group,Us=bs.groupOption,Bs=bs.data,gs=bs.label,rs=bs.value,$s=Bs.key;if(ro){var fo,uo=(fo=Bs.title)!==null&&fo!==void 0?fo:Ss(gs)?gs.toString():void 0;return O.createElement("div",{className:N()(es,"".concat(es,"-group")),title:uo},gs!==void 0?gs:$s)}var fn=Bs.disabled,_s=Bs.title,so=Bs.children,Js=Bs.style,nr=Bs.className,vr=(0,Te.Z)(Bs,Gs),lr=(0,Co.Z)(vr,bo),Ro=po(rs),Io="".concat(es,"-option"),yo=N()(es,Io,nr,(Ls={},(0,C.Z)(Ls,"".concat(Io,"-grouped"),Us),(0,C.Z)(Ls,"".concat(Io,"-active"),ys===is&&!fn),(0,C.Z)(Ls,"".concat(Io,"-disabled"),fn),(0,C.Z)(Ls,"".concat(Io,"-selected"),Ro),Ls)),Ho=So(bs),Ko=!Vn||typeof Vn=="function"||Ro,jo=typeof Ho=="number"?Ho:Ho||rs,qo=Ss(jo)?jo.toString():void 0;return _s!==void 0&&(qo=_s),O.createElement("div",(0,D.Z)({},(0,y.Z)(lr),fs?{}:no(bs,is),{"aria-selected":Ro,className:yo,title:qo,onMouseMove:function(){ys===is||fn||Os(is)},onClick:function(){fn||_o(rs)},style:Js}),O.createElement("div",{className:"".concat(Io,"-content")},jo),O.isValidElement(Vn)||Ro,Ko&&O.createElement(Re,{className:"".concat(es,"-option-state"),customizeIcon:Vn,customizeIconProps:{value:rs,disabled:fn,isSelected:Ro}},Ro?"\u2713":null))}))},Hs=O.forwardRef(Rs);Hs.displayName="OptionList";var io=Hs;function Ks(X){var de=X.mode,Ve=X.options,Ze=X.children,ze=X.backfill,St=X.allowClear,zt=X.placeholder,Wt=X.getInputElement,hi=X.showSearch,gi=X.onSearch,ri=X.defaultOpen,Qt=X.autoFocus,Zi=X.labelInValue,Li=X.value,Fi=X.inputValue,tn=X.optionLabelProp,Tn=isMultiple(de),kn=hi!==void 0?hi:Tn||de==="combobox",Vn=Ve||convertChildrenToData(Ze);if(warning(de!=="tags"||Vn.every(function(Jn){return!Jn.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),de==="tags"||de==="combobox"){var ns=Vn.some(function(Jn){return Jn.options?Jn.options.some(function(Is){return typeof("value"in Is?Is.value:Is.key)=="number"}):typeof("value"in Jn?Jn.value:Jn.key)=="number"});warning(!ns,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(de!=="combobox"||!tn,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(de==="combobox"||!ze,"`backfill` only works with `combobox` mode."),warning(de==="combobox"||!Wt,"`getInputElement` only work with `combobox` mode."),noteOnce(de!=="combobox"||!Wt||!St||!zt,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),gi&&!kn&&de!=="combobox"&&de!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!ri||Qt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Li!=null){var Ms=toArray(Li);warning(!Zi||Ms.every(function(Jn){return _typeof(Jn)==="object"&&("key"in Jn||"value"in Jn)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Tn||Array.isArray(Li),"`value` should be array when `mode` is `multiple` or `tags`")}if(Ze){var fs=null;toNodeArray(Ze).some(function(Jn){if(!React.isValidElement(Jn)||!Jn.type)return!1;var Is=Jn,Es=Is.type;if(Es.isSelectOption)return!1;if(Es.isSelectOptGroup){var es=toNodeArray(Jn.props.children).every(function(Ns){return!React.isValidElement(Ns)||!Jn.type||Ns.type.isSelectOption?!0:(fs=Ns.type,!1)});return!es}return fs=Es,!0}),fs&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(fs.displayName||fs.name||fs,"`.")),warning(Fi===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function zs(X,de){if(X){var Ve=function Ze(ze){for(var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,zt=0;zt<ze.length;zt++){var Wt=ze[zt];if(Wt[de==null?void 0:de.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!St&&Array.isArray(Wt[de==null?void 0:de.options])&&Ze(Wt[de==null?void 0:de.options],!0))break}};Ve(X)}}var ho=null,jn=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],lo=["inputValue"];function ts(X){return!X||(0,rt.Z)(X)!=="object"}var Un=O.forwardRef(function(X,de){var Ve=X.id,Ze=X.mode,ze=X.prefixCls,St=ze===void 0?"rc-select":ze,zt=X.backfill,Wt=X.fieldNames,hi=X.inputValue,gi=X.searchValue,ri=X.onSearch,Qt=X.autoClearSearchValue,Zi=Qt===void 0?!0:Qt,Li=X.onSelect,Fi=X.onDeselect,tn=X.dropdownMatchSelectWidth,Tn=tn===void 0?!0:tn,kn=X.filterOption,Vn=X.filterSort,ns=X.optionFilterProp,Ms=X.optionLabelProp,fs=X.options,Jn=X.children,Is=X.defaultActiveFirstOption,Es=X.menuItemSelectedIcon,es=X.virtual,Ns=X.direction,Qs=X.listHeight,ds=Qs===void 0?200:Qs,ks=X.listItemHeight,Fs=ks===void 0?20:ks,js=X.value,yn=X.defaultValue,ys=X.labelInValue,ps=X.onChange,Os=(0,Te.Z)(X,jn),po=vi(Ve),_o=Xi(Ze),bo=!!(!fs&&Jn),So=O.useMemo(function(){return kn===void 0&&Ze==="combobox"?!1:kn},[kn,Ze]),no=O.useMemo(function(){return ai(Wt,bo)},[JSON.stringify(Wt),bo]),xo=(0,Rt.Z)("",{value:gi!==void 0?gi:hi,postState:function(Wn){return Wn||""}}),Vo=(0,ke.Z)(xo,2),bs=Vo[0],is=Vo[1],Ls=_i(fs,Jn,no,ns,Ms),ro=Ls.valueOptions,Us=Ls.labelOptions,Bs=Ls.options,gs=O.useCallback(function(ms){var Wn=Ci(ms);return Wn.map(function(hs){var vs,qs,go,Po,tr;if(ts(hs))vs=hs;else{var $o;go=hs.key,qs=hs.label,vs=($o=hs.value)!==null&&$o!==void 0?$o:go}var Do=ro.get(vs);if(Do){var hr;if(qs===void 0&&(qs=Do==null?void 0:Do[Ms||no.label]),go===void 0&&(go=(hr=Do==null?void 0:Do.key)!==null&&hr!==void 0?hr:vs),Po=Do==null?void 0:Do.disabled,tr=Do==null?void 0:Do.title,!1)var ir}return{label:qs,value:vs,key:go,disabled:Po,title:tr}})},[no,Ms,ro]),rs=(0,Rt.Z)(yn,{value:js}),$s=(0,ke.Z)(rs,2),fo=$s[0],uo=$s[1],fn=O.useMemo(function(){var ms,Wn=gs(fo);return Ze==="combobox"&&ci((ms=Wn[0])===null||ms===void 0?void 0:ms.value)?[]:Wn},[fo,gs,Ze]),_s=Et(fn,ro),so=(0,ke.Z)(_s,2),Js=so[0],nr=so[1],vr=O.useMemo(function(){if(!Ze&&Js.length===1){var ms=Js[0];if(ms.value===null&&(ms.label===null||ms.label===void 0))return[]}return Js.map(function(Wn){var hs;return(0,x.Z)((0,x.Z)({},Wn),{},{label:(hs=Wn.label)!==null&&hs!==void 0?hs:Wn.value})})},[Ze,Js]),lr=O.useMemo(function(){return new Set(Js.map(function(ms){return ms.value}))},[Js]);O.useEffect(function(){if(Ze==="combobox"){var ms,Wn=(ms=Js[0])===null||ms===void 0?void 0:ms.value;is(Qi(Wn)?String(Wn):"")}},[Js]);var Ro=hn(function(ms,Wn){var hs,vs=Wn!=null?Wn:ms;return hs={},(0,C.Z)(hs,no.value,ms),(0,C.Z)(hs,no.label,vs),hs}),Io=O.useMemo(function(){if(Ze!=="tags")return Bs;var ms=(0,ue.Z)(Bs),Wn=function(vs){return ro.has(vs)};return(0,ue.Z)(Js).sort(function(hs,vs){return hs.value<vs.value?-1:1}).forEach(function(hs){var vs=hs.value;Wn(vs)||ms.push(Ro(vs,hs.label))}),ms},[Ro,Bs,ro,Js,Ze]),yo=nt(Io,no,bs,So,ns),Ho=O.useMemo(function(){return Ze!=="tags"||!bs||yo.some(function(ms){return ms[ns||"value"]===bs})||yo.some(function(ms){return ms[no.value]===bs})?yo:[Ro(bs)].concat((0,ue.Z)(yo))},[Ro,ns,Ze,yo,bs,no]),Ko=O.useMemo(function(){return Vn?(0,ue.Z)(Ho).sort(function(ms,Wn){return Vn(ms,Wn)}):Ho},[Ho,Vn]),jo=O.useMemo(function(){return Si(Ko,{fieldNames:no,childrenAsData:bo})},[Ko,no,bo]),qo=function(Wn){var hs=gs(Wn);if(uo(hs),ps&&(hs.length!==Js.length||hs.some(function(go,Po){var tr;return((tr=Js[Po])===null||tr===void 0?void 0:tr.value)!==(go==null?void 0:go.value)}))){var vs=ys?hs:hs.map(function(go){return go.value}),qs=hs.map(function(go){return qi(nr(go.value))});ps(_o?vs:vs[0],_o?qs:qs[0])}},Go=O.useState(null),dr=(0,ke.Z)(Go,2),Fr=dr[0],ur=dr[1],Br=O.useState(0),No=(0,ke.Z)(Br,2),xr=No[0],Zo=No[1],sr=Is!==void 0?Is:Ze!=="combobox",Uo=O.useCallback(function(ms,Wn){var hs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},vs=hs.source,qs=vs===void 0?"keyboard":vs;Zo(Wn),zt&&Ze==="combobox"&&ms!==null&&qs==="keyboard"&&ur(String(ms))},[zt,Ze]),er=function(Wn,hs,vs){var qs=function(){var Yo,rr=nr(Wn);return[ys?{label:rr==null?void 0:rr[no.label],value:Wn,key:(Yo=rr==null?void 0:rr.key)!==null&&Yo!==void 0?Yo:Wn}:Wn,qi(rr)]};if(hs&&Li){var go=qs(),Po=(0,ke.Z)(go,2),tr=Po[0],$o=Po[1];Li(tr,$o)}else if(!hs&&Fi&&vs!=="clear"){var Do=qs(),hr=(0,ke.Z)(Do,2),ir=hr[0],or=hr[1];Fi(ir,or)}},Ir=hn(function(ms,Wn){var hs,vs=_o?Wn.selected:!0;vs?hs=_o?[].concat((0,ue.Z)(Js),[ms]):[ms]:hs=Js.filter(function(qs){return qs.value!==ms}),qo(hs),er(ms,vs),Ze==="combobox"?ur(""):(!Xi||Zi)&&(is(""),ur(""))}),cr=function(Wn,hs){qo(Wn);var vs=hs.type,qs=hs.values;(vs==="remove"||vs==="clear")&&qs.forEach(function(go){er(go.value,!1,vs)})},mr=function(Wn,hs){if(is(Wn),ur(null),hs.source==="submit"){var vs=(Wn||"").trim();if(vs){var qs=Array.from(new Set([].concat((0,ue.Z)(lr),[vs])));qo(qs),er(vs,!0),is("")}return}hs.source!=="blur"&&(Ze==="combobox"&&qo(Wn),ri==null||ri(Wn))},Cr=function(Wn){var hs=Wn;Ze!=="tags"&&(hs=Wn.map(function(qs){var go=Us.get(qs);return go==null?void 0:go.value}).filter(function(qs){return qs!==void 0}));var vs=Array.from(new Set([].concat((0,ue.Z)(lr),(0,ue.Z)(hs))));qo(vs),vs.forEach(function(qs){er(qs,!0)})},Rr=O.useMemo(function(){var ms=es!==!1&&Tn!==!1;return(0,x.Z)((0,x.Z)({},Ls),{},{flattenOptions:jo,onActiveValue:Uo,defaultActiveFirstOption:sr,onSelect:Ir,menuItemSelectedIcon:Es,rawValues:lr,fieldNames:no,virtual:ms,direction:Ns,listHeight:ds,listItemHeight:Fs,childrenAsData:bo})},[Ls,jo,Uo,sr,Ir,Es,lr,no,es,Tn,ds,Fs,bo]);return O.createElement(oo.Provider,{value:Rr},O.createElement(ht,(0,D.Z)({},Os,{id:po,prefixCls:St,ref:de,omitDomProps:lo,mode:Ze,displayValues:vr,onDisplayValuesChange:cr,direction:Ns,searchValue:bs,onSearch:mr,autoClearSearchValue:Zi,onSearchSplit:Cr,dropdownMatchSelectWidth:Tn,OptionList:io,emptyOptions:!jo.length,activeValue:Fr,activeDescendantId:"".concat(po,"_list_").concat(xr)})))}),Zs=Un;Zs.Option=Yn,Zs.OptGroup=Qn;var Xn=Zs,Ys=Xn,xs=c(33603),Xs=c(8745),pi=c(9708),me=c(88258),ct=c(98866),gt=c(45091),Bt=c(4173),Gt=c(14747),bi=c(80110),li=c(45503),ei=c(67968),ki=c(67771),Di=c(33297);const Pn=X=>{const{optionHeight:de,optionFontSize:Ve,optionLineHeight:Ze,optionPadding:ze}=X;return{position:"relative",display:"block",minHeight:de,padding:ze,color:X.colorText,fontWeight:"normal",fontSize:Ve,lineHeight:Ze,boxSizing:"border-box"}};var V=X=>{const{antCls:de,componentCls:Ve}=X,Ze=`${Ve}-item`,ze=`&${de}-slide-up-enter${de}-slide-up-enter-active`,St=`&${de}-slide-up-appear${de}-slide-up-appear-active`,zt=`&${de}-slide-up-leave${de}-slide-up-leave-active`,Wt=`${Ve}-dropdown-placement-`;return[{[`${Ve}-dropdown`]:Object.assign(Object.assign({},(0,Gt.Wf)(X)),{position:"absolute",top:-9999,zIndex:X.zIndexPopup,boxSizing:"border-box",padding:X.paddingXXS,overflow:"hidden",fontSize:X.fontSize,fontVariant:"initial",backgroundColor:X.colorBgElevated,borderRadius:X.borderRadiusLG,outline:"none",boxShadow:X.boxShadowSecondary,[`
          ${ze}${Wt}bottomLeft,
          ${St}${Wt}bottomLeft
        `]:{animationName:ki.fJ},[`
          ${ze}${Wt}topLeft,
          ${St}${Wt}topLeft,
          ${ze}${Wt}topRight,
          ${St}${Wt}topRight
        `]:{animationName:ki.Qt},[`${zt}${Wt}bottomLeft`]:{animationName:ki.Uw},[`
          ${zt}${Wt}topLeft,
          ${zt}${Wt}topRight
        `]:{animationName:ki.ly},"&-hidden":{display:"none"},[`${Ze}`]:Object.assign(Object.assign({},Pn(X)),{cursor:"pointer",transition:`background ${X.motionDurationSlow} ease`,borderRadius:X.borderRadiusSM,"&-group":{color:X.colorTextDescription,fontSize:X.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Gt.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${Ze}-option-disabled)`]:{backgroundColor:X.optionActiveBg},[`&-selected:not(${Ze}-option-disabled)`]:{color:X.optionSelectedColor,fontWeight:X.optionSelectedFontWeight,backgroundColor:X.optionSelectedBg,[`${Ze}-option-state`]:{color:X.colorPrimary}},"&-disabled":{[`&${Ze}-option-selected`]:{backgroundColor:X.colorBgContainerDisabled},color:X.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:X.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},(0,ki.oN)(X,"slide-up"),(0,ki.oN)(X,"slide-down"),(0,Di.Fm)(X,"move-up"),(0,Di.Fm)(X,"move-down")]};const ae=2,Ne=X=>{let{multipleSelectItemHeight:de,selectHeight:Ve,lineWidth:Ze}=X;const ze=(Ve-de)/2-Ze,St=Math.ceil(ze/2);return[ze,St]};function qe(X,de){const{componentCls:Ve,iconCls:Ze}=X,ze=`${Ve}-selection-overflow`,St=X.multipleSelectItemHeight,[zt]=Ne(X),Wt=de?`${Ve}-${de}`:"";return{[`${Ve}-multiple${Wt}`]:{fontSize:X.fontSize,[ze]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${Ve}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:`${zt-ae}px ${ae*2}px`,borderRadius:X.borderRadius,[`${Ve}-show-search&`]:{cursor:"text"},[`${Ve}-disabled&`]:{background:X.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${ae}px 0`,lineHeight:`${St}px`,visibility:"hidden",content:'"\\a0"'}},[`
        &${Ve}-show-arrow ${Ve}-selector,
        &${Ve}-allow-clear ${Ve}-selector
      `]:{paddingInlineEnd:X.fontSizeIcon+X.controlPaddingHorizontal},[`${Ve}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:St,marginTop:ae,marginBottom:ae,lineHeight:`${St-X.lineWidth*2}px`,background:X.multipleItemBg,border:`${X.lineWidth}px ${X.lineType} ${X.multipleItemBorderColor}`,borderRadius:X.borderRadiusSM,cursor:"default",transition:`font-size ${X.motionDurationSlow}, line-height ${X.motionDurationSlow}, height ${X.motionDurationSlow}`,marginInlineEnd:ae*2,paddingInlineStart:X.paddingXS,paddingInlineEnd:X.paddingXS/2,[`${Ve}-disabled&`]:{color:X.multipleItemColorDisabled,borderColor:X.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:X.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Gt.Ro)()),{display:"inline-flex",alignItems:"center",color:X.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Ze}`]:{verticalAlign:"-0.2em"},"&:hover":{color:X.colorIconHover}})},[`${ze}-item + ${ze}-item`]:{[`${Ve}-selection-search`]:{marginInlineStart:0}},[`${ze}-item-suffix`]:{height:"100%"},[`${Ve}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:X.inputPaddingHorizontalBase-zt,[`
          &-input,
          &-mirror
        `]:{height:St,fontFamily:X.fontFamily,lineHeight:`${St}px`,transition:`all ${X.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Ve}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:X.inputPaddingHorizontalBase,insetInlineEnd:X.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${X.motionDurationSlow}`}}}}var $t=X=>{const{componentCls:de}=X,Ve=(0,li.TS)(X,{selectHeight:X.controlHeightSM,multipleSelectItemHeight:X.controlHeightXS,borderRadius:X.borderRadiusSM,borderRadiusSM:X.borderRadiusXS}),Ze=(0,li.TS)(X,{fontSize:X.fontSizeLG,selectHeight:X.controlHeightLG,multipleSelectItemHeight:X.multipleItemHeightLG,borderRadius:X.borderRadiusLG,borderRadiusSM:X.borderRadius}),[,ze]=Ne(X);return[qe(X),qe(Ve,"sm"),{[`${de}-multiple${de}-sm`]:{[`${de}-selection-placeholder`]:{insetInline:X.controlPaddingHorizontalSM-X.lineWidth},[`${de}-selection-search`]:{marginInlineStart:ze}}},qe(Ze,"lg")]};function ni(X,de){const{componentCls:Ve,inputPaddingHorizontalBase:Ze,borderRadius:ze}=X,St=X.controlHeight-X.lineWidth*2,zt=Math.ceil(X.fontSize*1.25),Wt=de?`${Ve}-${de}`:"";return{[`${Ve}-single${Wt}`]:{fontSize:X.fontSize,height:X.controlHeight,[`${Ve}-selector`]:Object.assign(Object.assign({},(0,Gt.Wf)(X,!0)),{display:"flex",borderRadius:ze,[`${Ve}-selection-search`]:{position:"absolute",top:0,insetInlineStart:Ze,insetInlineEnd:Ze,bottom:0,"&-input":{width:"100%"}},[`
          ${Ve}-selection-item,
          ${Ve}-selection-placeholder
        `]:{padding:0,lineHeight:`${St}px`,transition:`all ${X.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${Ve}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${Ve}-selection-item:empty:after`,`${Ve}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${Ve}-show-arrow ${Ve}-selection-item,
        &${Ve}-show-arrow ${Ve}-selection-placeholder
      `]:{paddingInlineEnd:zt},[`&${Ve}-open ${Ve}-selection-item`]:{color:X.colorTextPlaceholder},[`&:not(${Ve}-customize-input)`]:{[`${Ve}-selector`]:{width:"100%",height:"100%",padding:`0 ${Ze}px`,[`${Ve}-selection-search-input`]:{height:St},"&:after":{lineHeight:`${St}px`}}},[`&${Ve}-customize-input`]:{[`${Ve}-selector`]:{"&:after":{display:"none"},[`${Ve}-selection-search`]:{position:"static",width:"100%"},[`${Ve}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Ze}px`,"&:after":{display:"none"}}}}}}}function mi(X){const{componentCls:de}=X,Ve=X.controlPaddingHorizontalSM-X.lineWidth;return[ni(X),ni((0,li.TS)(X,{controlHeight:X.controlHeightSM,borderRadius:X.borderRadiusSM}),"sm"),{[`${de}-single${de}-sm`]:{[`&:not(${de}-customize-input)`]:{[`${de}-selection-search`]:{insetInlineStart:Ve,insetInlineEnd:Ve},[`${de}-selector`]:{padding:`0 ${Ve}px`},[`&${de}-show-arrow ${de}-selection-search`]:{insetInlineEnd:Ve+X.fontSize*1.5},[`
            &${de}-show-arrow ${de}-selection-item,
            &${de}-show-arrow ${de}-selection-placeholder
          `]:{paddingInlineEnd:X.fontSize*1.5}}}},ni((0,li.TS)(X,{controlHeight:X.singleItemHeightLG,fontSize:X.fontSizeLG,borderRadius:X.borderRadiusLG}),"lg")]}const Ai=X=>{const{componentCls:de,selectorBg:Ve}=X;return{position:"relative",backgroundColor:Ve,border:`${X.lineWidth}px ${X.lineType} ${X.colorBorder}`,transition:`all ${X.motionDurationMid} ${X.motionEaseInOut}`,input:{cursor:"pointer"},[`${de}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${de}-disabled&`]:{color:X.colorTextDisabled,background:X.colorBgContainerDisabled,cursor:"not-allowed",[`${de}-multiple&`]:{background:X.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},Ei=function(X,de){let Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:Ze,borderHoverColor:ze,antCls:St,borderActiveColor:zt}=de,Wt=Ve?{[`${Ze}-selector`]:{borderColor:zt}}:{};return{[X]:{[`&:not(${Ze}-disabled):not(${Ze}-customize-input):not(${St}-pagination-size-changer)`]:Object.assign(Object.assign({},Wt),{[`&:hover ${Ze}-selector`]:{borderColor:ze},[`${Ze}-focused& ${Ze}-selector`]:{borderColor:zt,outline:0}})}}},Bi=X=>{const{componentCls:de}=X;return{[`${de}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},ln=X=>{const{antCls:de,componentCls:Ve,inputPaddingHorizontalBase:Ze,iconCls:ze}=X;return{[Ve]:Object.assign(Object.assign({},(0,Gt.Wf)(X)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${Ve}-customize-input) ${Ve}-selector`]:Object.assign(Object.assign({},Ai(X)),Bi(X)),[`${Ve}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Gt.vS),{[`> ${de}-typography`]:{display:"inline"}}),[`${Ve}-selection-placeholder`]:Object.assign(Object.assign({},Gt.vS),{flex:1,color:X.colorTextPlaceholder,pointerEvents:"none"}),[`${Ve}-arrow`]:Object.assign(Object.assign({},(0,Gt.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Ze,height:X.fontSizeIcon,marginTop:-X.fontSizeIcon/2,color:X.colorTextQuaternary,fontSize:X.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[ze]:{verticalAlign:"top",transition:`transform ${X.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${Ve}-suffix)`]:{pointerEvents:"auto"}},[`${Ve}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${Ve}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Ze,zIndex:1,display:"inline-block",width:X.fontSizeIcon,height:X.fontSizeIcon,marginTop:-X.fontSizeIcon/2,color:X.colorTextQuaternary,fontSize:X.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:X.clearBg,cursor:"pointer",opacity:0,transition:`color ${X.motionDurationMid} ease, opacity ${X.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:X.colorTextTertiary}},"&:hover":{[`${Ve}-clear`]:{opacity:1}}}),[`${Ve}-has-feedback`]:{[`${Ve}-clear`]:{insetInlineEnd:Ze+X.fontSize+X.paddingXS}}}},Ti=X=>{const{componentCls:de}=X;return[{[de]:{[`&-borderless ${de}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${de}-in-form-item`]:{width:"100%"}}},ln(X),mi(X),$t(X),V(X),{[`${de}-rtl`]:{direction:"rtl"}},Ei(de,(0,li.TS)(X,{borderHoverColor:X.colorPrimaryHover,borderActiveColor:X.colorPrimary})),Ei(`${de}-status-error`,(0,li.TS)(X,{borderHoverColor:X.colorErrorHover,borderActiveColor:X.colorError}),!0),Ei(`${de}-status-warning`,(0,li.TS)(X,{borderHoverColor:X.colorWarningHover,borderActiveColor:X.colorWarning}),!0),(0,bi.c)(X,{borderElCls:`${de}-selector`,focusElCls:`${de}-focused`})]};var on=(0,ei.Z)("Select",(X,de)=>{let{rootPrefixCls:Ve}=de;const Ze=(0,li.TS)(X,{rootPrefixCls:Ve,inputPaddingHorizontalBase:X.paddingSM-1,multipleSelectItemHeight:X.multipleItemHeight,selectHeight:X.controlHeight});return[Ti(Ze)]},X=>{const{fontSize:de,lineHeight:Ve,controlHeight:Ze,controlPaddingHorizontal:ze,zIndexPopupBase:St,colorText:zt,fontWeightStrong:Wt,controlItemBgActive:hi,controlItemBgHover:gi,colorBgContainer:ri,colorFillSecondary:Qt,controlHeightLG:Zi,controlHeightSM:Li,colorBgContainerDisabled:Fi,colorTextDisabled:tn}=X;return{zIndexPopup:St+50,optionSelectedColor:zt,optionSelectedFontWeight:Wt,optionSelectedBg:hi,optionActiveBg:gi,optionPadding:`${(Ze-de*Ve)/2}px ${ze}px`,optionFontSize:de,optionLineHeight:Ve,optionHeight:Ze,selectorBg:ri,clearBg:ri,singleItemHeightLG:Zi,multipleItemBg:Qt,multipleItemBorderColor:"transparent",multipleItemHeight:Li,multipleItemHeightLG:Ze,multipleSelectorBgDisabled:Fi,multipleItemColorDisabled:tn,multipleItemBorderColorDisabled:"transparent"}});const en=X=>{const Ve={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:X==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},Ve),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},Ve),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},Ve),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},Ve),{points:["br","tr"],offset:[0,-4]})}};function pn(X,de){return X||en(de)}function $n(X,de){return de!==void 0?de:X!==null}var Ds={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Cn=Ds,Kt=function(de,Ve){return O.createElement(L.Z,(0,D.Z)({},de,{ref:Ve,icon:Cn}))},ve=O.forwardRef(Kt),Me=c(4340),Ue=c(97937),vt=c(80882),yt=c(50888),si=c(68795);function Jt(X){let{suffixIcon:de,clearIcon:Ve,menuItemSelectedIcon:Ze,removeIcon:ze,loading:St,multiple:zt,hasFeedback:Wt,prefixCls:hi,showSuffixIcon:gi,feedbackIcon:ri,showArrow:Qt,componentName:Zi}=X;const Li=Ve!=null?Ve:O.createElement(Me.Z,null),Fi=Vn=>de===null&&!Wt&&!Qt?null:O.createElement(O.Fragment,null,gi!==!1&&Vn,Wt&&ri);let tn=null;if(de!==void 0)tn=Fi(de);else if(St)tn=Fi(O.createElement(yt.Z,{spin:!0}));else{const Vn=`${hi}-suffix`;tn=ns=>{let{open:Ms,showSearch:fs}=ns;return Fi(Ms&&fs?O.createElement(si.Z,{className:Vn}):O.createElement(vt.Z,{className:Vn}))}}let Tn=null;Ze!==void 0?Tn=Ze:zt?Tn=O.createElement(ve,null):Tn=null;let kn=null;return ze!==void 0?kn=ze:kn=O.createElement(Ue.Z,null),{clearIcon:Li,suffixIcon:tn,itemIcon:Tn,removeIcon:kn}}var un=function(X,de){var Ve={};for(var Ze in X)Object.prototype.hasOwnProperty.call(X,Ze)&&de.indexOf(Ze)<0&&(Ve[Ze]=X[Ze]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ze=0,Ze=Object.getOwnPropertySymbols(X);ze<Ze.length;ze++)de.indexOf(Ze[ze])<0&&Object.prototype.propertyIsEnumerable.call(X,Ze[ze])&&(Ve[Ze[ze]]=X[Ze[ze]]);return Ve};const xn="SECRET_COMBOBOX_MODE_DO_NOT_USE",Pi=(X,de)=>{var Ve,{prefixCls:Ze,bordered:ze=!0,className:St,rootClassName:zt,getPopupContainer:Wt,popupClassName:hi,dropdownClassName:gi,listHeight:ri=256,placement:Qt,listItemHeight:Zi=24,size:Li,disabled:Fi,notFoundContent:tn,status:Tn,builtinPlacements:kn,dropdownMatchSelectWidth:Vn,popupMatchSelectWidth:ns,direction:Ms,style:fs,allowClear:Jn}=X,Is=un(X,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:Es,getPrefixCls:es,renderEmpty:Ns,direction:Qs,virtual:ds,popupMatchSelectWidth:ks,popupOverflow:Fs,select:js}=O.useContext(w.E_),yn=es("select",Ze),ys=es(),ps=Ms!=null?Ms:Qs,{compactSize:Os,compactItemClassnames:po}=(0,Bt.ri)(yn,ps),[_o,bo]=on(yn),So=O.useMemo(()=>{const{mode:Io}=Is;if(Io!=="combobox")return Io===xn?"combobox":Io},[Is.mode]),no=So==="multiple"||So==="tags",xo=$n(Is.suffixIcon,Is.showArrow),Vo=(Ve=ns!=null?ns:Vn)!==null&&Ve!==void 0?Ve:ks,{status:bs,hasFeedback:is,isFormItemInput:Ls,feedbackIcon:ro}=O.useContext(gt.aM),Us=(0,pi.F)(bs,Tn);let Bs;tn!==void 0?Bs=tn:So==="combobox"?Bs=null:Bs=(Ns==null?void 0:Ns("Select"))||O.createElement(me.Z,{componentName:"Select"});const{suffixIcon:gs,itemIcon:rs,removeIcon:$s,clearIcon:fo}=Jt(Object.assign(Object.assign({},Is),{multiple:no,hasFeedback:is,feedbackIcon:ro,showSuffixIcon:xo,prefixCls:yn,showArrow:Is.showArrow,componentName:"Select"})),uo=Jn===!0?{clearIcon:fo}:Jn,fn=(0,Co.Z)(Is,["suffixIcon","itemIcon"]),_s=N()(hi||gi,{[`${yn}-dropdown-${ps}`]:ps==="rtl"},zt,bo),so=(0,F.Z)(Io=>{var yo;return(yo=Li!=null?Li:Os)!==null&&yo!==void 0?yo:Io}),Js=O.useContext(ct.Z),nr=Fi!=null?Fi:Js,vr=N()({[`${yn}-lg`]:so==="large",[`${yn}-sm`]:so==="small",[`${yn}-rtl`]:ps==="rtl",[`${yn}-borderless`]:!ze,[`${yn}-in-form-item`]:Ls},(0,pi.Z)(yn,Us,is),po,js==null?void 0:js.className,St,zt,bo),lr=O.useMemo(()=>Qt!==void 0?Qt:ps==="rtl"?"bottomRight":"bottomLeft",[Qt,ps]),Ro=pn(kn,Fs);return _o(O.createElement(Ys,Object.assign({ref:de,virtual:ds,showSearch:js==null?void 0:js.showSearch},fn,{style:Object.assign(Object.assign({},js==null?void 0:js.style),fs),dropdownMatchSelectWidth:Vo,builtinPlacements:Ro,transitionName:(0,xs.m)(ys,"slide-up",Is.transitionName),listHeight:ri,listItemHeight:Zi,mode:So,prefixCls:yn,placement:lr,direction:ps,suffixIcon:gs,menuItemSelectedIcon:rs,removeIcon:$s,allowClear:uo,notFoundContent:Bs,className:vr,getPopupContainer:Wt||Es,dropdownClassName:_s,disabled:nr})))},Ji=O.forwardRef(Pi),_n=(0,Xs.Z)(Ji);Ji.SECRET_COMBOBOX_MODE_DO_NOT_USE=xn,Ji.Option=Yn,Ji.OptGroup=Qn,Ji._InternalPanelDoNotUseOrYouWillBeFired=_n;var Gi=Ji;const jt=X=>O.createElement(Gi,Object.assign({},X,{showSearch:!0,size:"small"})),wi=X=>O.createElement(Gi,Object.assign({},X,{showSearch:!0,size:"middle"}));jt.Option=Gi.Option,wi.Option=Gi.Option;var Ki=c(47673);const qn=X=>{const{componentCls:de}=X;return{[`${de}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${de}-item-link`]:{color:X.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${de}-item-link`]:{color:X.colorTextDisabled,cursor:"not-allowed"}}},[`&${de}-disabled`]:{cursor:"not-allowed",[`${de}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:X.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:X.colorBorder,backgroundColor:X.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:X.itemActiveBgDisabled},a:{color:X.itemActiveColorDisabled}}},[`${de}-item-link`]:{color:X.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${de}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${de}-simple-pager`]:{color:X.colorTextDisabled},[`${de}-jump-prev, ${de}-jump-next`]:{[`${de}-item-link-icon`]:{opacity:0},[`${de}-item-ellipsis`]:{opacity:1}}},[`&${de}-simple`]:{[`${de}-prev, ${de}-next`]:{[`&${de}-disabled ${de}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},ls=X=>{const{componentCls:de}=X;return{[`&${de}-mini ${de}-total-text, &${de}-mini ${de}-simple-pager`]:{height:X.itemSizeSM,lineHeight:`${X.itemSizeSM}px`},[`&${de}-mini ${de}-item`]:{minWidth:X.itemSizeSM,height:X.itemSizeSM,margin:0,lineHeight:`${X.itemSizeSM-2}px`},[`&${de}-mini:not(${de}-disabled) ${de}-item:not(${de}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:X.colorBgTextHover},"&:active":{backgroundColor:X.colorBgTextActive}},[`&${de}-mini ${de}-prev, &${de}-mini ${de}-next`]:{minWidth:X.itemSizeSM,height:X.itemSizeSM,margin:0,lineHeight:`${X.itemSizeSM}px`},[`&${de}-mini:not(${de}-disabled)`]:{[`${de}-prev, ${de}-next`]:{[`&:hover ${de}-item-link`]:{backgroundColor:X.colorBgTextHover},[`&:active ${de}-item-link`]:{backgroundColor:X.colorBgTextActive},[`&${de}-disabled:hover ${de}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${de}-mini ${de}-prev ${de}-item-link,
    &${de}-mini ${de}-next ${de}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:X.itemSizeSM,lineHeight:`${X.itemSizeSM}px`}},[`&${de}-mini ${de}-jump-prev, &${de}-mini ${de}-jump-next`]:{height:X.itemSizeSM,marginInlineEnd:0,lineHeight:`${X.itemSizeSM}px`},[`&${de}-mini ${de}-options`]:{marginInlineStart:X.paginationMiniOptionsMarginInlineStart,["&-size-changer"]:{top:X.miniOptionsSizeChangerTop},["&-quick-jumper"]:{height:X.itemSizeSM,lineHeight:`${X.itemSizeSM}px`,input:Object.assign(Object.assign({},(0,Ki.x0)(X)),{width:X.paginationMiniQuickJumperInputWidth,height:X.controlHeightSM})}}}},Cs=X=>{const{componentCls:de}=X;return{[`
    &${de}-simple ${de}-prev,
    &${de}-simple ${de}-next
    `]:{height:X.itemSizeSM,lineHeight:`${X.itemSizeSM}px`,verticalAlign:"top",[`${de}-item-link`]:{height:X.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:X.colorBgTextHover},"&:active":{backgroundColor:X.colorBgTextActive},"&::after":{height:X.itemSizeSM,lineHeight:`${X.itemSizeSM}px`}}},[`&${de}-simple ${de}-simple-pager`]:{display:"inline-block",height:X.itemSizeSM,marginInlineEnd:X.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:X.marginXS,padding:`0 ${X.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:X.itemInputBg,border:`${X.lineWidth}px ${X.lineType} ${X.colorBorder}`,borderRadius:X.borderRadius,outline:"none",transition:`border-color ${X.motionDurationMid}`,color:"inherit","&:hover":{borderColor:X.colorPrimary},"&:focus":{borderColor:X.colorPrimaryHover,boxShadow:`${X.inputOutlineOffset}px 0 ${X.controlOutlineWidth}px ${X.controlOutline}`},"&[disabled]":{color:X.colorTextDisabled,backgroundColor:X.colorBgContainerDisabled,borderColor:X.colorBorder,cursor:"not-allowed"}}}}},Be=X=>{const{componentCls:de}=X;return{[`${de}-jump-prev, ${de}-jump-next`]:{outline:0,[`${de}-item-container`]:{position:"relative",[`${de}-item-link-icon`]:{color:X.colorPrimary,fontSize:X.fontSizeSM,opacity:0,transition:`all ${X.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${de}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:X.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:X.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:X.paginationEllipsisTextIndent,opacity:1,transition:`all ${X.motionDurationMid}`}},"&:hover":{[`${de}-item-link-icon`]:{opacity:1},[`${de}-item-ellipsis`]:{opacity:0}}},[`
    ${de}-prev,
    ${de}-jump-prev,
    ${de}-jump-next
    `]:{marginInlineEnd:X.marginXS},[`
    ${de}-prev,
    ${de}-next,
    ${de}-jump-prev,
    ${de}-jump-next
    `]:{display:"inline-block",minWidth:X.itemSize,height:X.itemSize,color:X.colorText,fontFamily:X.fontFamily,lineHeight:`${X.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:X.borderRadius,cursor:"pointer",transition:`all ${X.motionDurationMid}`},[`${de}-prev, ${de}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:X.colorText,cursor:"pointer",userSelect:"none"},[`${de}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:X.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${X.lineWidth}px ${X.lineType} transparent`,borderRadius:X.borderRadius,outline:"none",transition:`all ${X.motionDurationMid}`},[`&:hover ${de}-item-link`]:{backgroundColor:X.colorBgTextHover},[`&:active ${de}-item-link`]:{backgroundColor:X.colorBgTextActive},[`&${de}-disabled:hover`]:{[`${de}-item-link`]:{backgroundColor:"transparent"}}},[`${de}-slash`]:{marginInlineEnd:X.paginationSlashMarginInlineEnd,marginInlineStart:X.paginationSlashMarginInlineStart},[`${de}-options`]:{display:"inline-block",marginInlineStart:X.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:X.controlHeight,marginInlineStart:X.marginXS,lineHeight:`${X.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},(0,Ki.ik)(X)),{width:X.controlHeightLG*1.25,height:X.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:X.marginXS,marginInlineEnd:X.marginXS})}}}},d=X=>{const{componentCls:de}=X;return{[`${de}-item`]:{display:"inline-block",minWidth:X.itemSize,height:X.itemSize,marginInlineEnd:X.marginXS,fontFamily:X.fontFamily,lineHeight:`${X.itemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${X.lineWidth}px ${X.lineType} transparent`,borderRadius:X.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${X.paginationItemPaddingInline}px`,color:X.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${de}-item-active)`]:{"&:hover":{transition:`all ${X.motionDurationMid}`,backgroundColor:X.colorBgTextHover},"&:active":{backgroundColor:X.colorBgTextActive}},"&-active":{fontWeight:X.fontWeightStrong,backgroundColor:X.itemActiveBg,borderColor:X.colorPrimary,a:{color:X.colorPrimary},"&:hover":{borderColor:X.colorPrimaryHover},"&:hover a":{color:X.colorPrimaryHover}}}}},M=X=>{const{componentCls:de}=X;return{[de]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Gt.Wf)(X)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${de}-total-text`]:{display:"inline-block",height:X.itemSize,marginInlineEnd:X.marginXS,lineHeight:`${X.itemSize-2}px`,verticalAlign:"middle"}}),d(X)),Be(X)),Cs(X)),ls(X)),qn(X)),{[`@media only screen and (max-width: ${X.screenLG}px)`]:{[`${de}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${X.screenSM}px)`]:{[`${de}-options`]:{display:"none"}}}),[`&${X.componentCls}-rtl`]:{direction:"rtl"}}},U=X=>{const{componentCls:de}=X;return{[`${de}${de}-disabled:not(${de}-mini)`]:{"&, &:hover":{[`${de}-item-link`]:{borderColor:X.colorBorder}},"&:focus-visible":{[`${de}-item-link`]:{borderColor:X.colorBorder}},[`${de}-item, ${de}-item-link`]:{backgroundColor:X.colorBgContainerDisabled,borderColor:X.colorBorder,[`&:hover:not(${de}-item-active)`]:{backgroundColor:X.colorBgContainerDisabled,borderColor:X.colorBorder,a:{color:X.colorTextDisabled}},[`&${de}-item-active`]:{backgroundColor:X.itemActiveBgDisabled}},[`${de}-prev, ${de}-next`]:{"&:hover button":{backgroundColor:X.colorBgContainerDisabled,borderColor:X.colorBorder,color:X.colorTextDisabled},[`${de}-item-link`]:{backgroundColor:X.colorBgContainerDisabled,borderColor:X.colorBorder}}},[`${de}:not(${de}-mini)`]:{[`${de}-prev, ${de}-next`]:{"&:hover button":{borderColor:X.colorPrimaryHover,backgroundColor:X.itemBg},[`${de}-item-link`]:{backgroundColor:X.itemLinkBg,borderColor:X.colorBorder},[`&:hover ${de}-item-link`]:{borderColor:X.colorPrimary,backgroundColor:X.itemBg,color:X.colorPrimary},[`&${de}-disabled`]:{[`${de}-item-link`]:{borderColor:X.colorBorder,color:X.colorTextDisabled}}},[`${de}-item`]:{backgroundColor:X.itemBg,border:`${X.lineWidth}px ${X.lineType} ${X.colorBorder}`,[`&:hover:not(${de}-item-active)`]:{borderColor:X.colorPrimary,backgroundColor:X.itemBg,a:{color:X.colorPrimary}},"&-active":{borderColor:X.colorPrimary}}}}},re=X=>{const{componentCls:de}=X;return{[`${de}:not(${de}-disabled)`]:{[`${de}-item`]:Object.assign({},(0,Gt.Qy)(X)),[`${de}-jump-prev, ${de}-jump-next`]:{"&:focus-visible":Object.assign({[`${de}-item-link-icon`]:{opacity:1},[`${de}-item-ellipsis`]:{opacity:0}},(0,Gt.oN)(X))},[`${de}-prev, ${de}-next`]:{[`&:focus-visible ${de}-item-link`]:Object.assign({},(0,Gt.oN)(X))}}}};var fe=(0,ei.Z)("Pagination",X=>{const de=(0,li.TS)(X,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:X.marginXXS/2,paginationMiniQuickJumperInputWidth:X.controlHeightLG*1.1,paginationItemPaddingInline:X.marginXXS*1.5,paginationEllipsisLetterSpacing:X.marginXXS/2,paginationSlashMarginInlineStart:X.marginXXS,paginationSlashMarginInlineEnd:X.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,Ki.e5)(X),(0,Ki.TM)(X));return[M(de),re(de),X.wireframe&&U(de)]},X=>({itemBg:X.colorBgContainer,itemSize:X.controlHeight,itemSizeSM:X.controlHeightSM,itemActiveBg:X.colorBgContainer,itemLinkBg:X.colorBgContainer,itemActiveColorDisabled:X.colorTextDisabled,itemActiveBgDisabled:X.controlItemBgActiveDisabled,itemInputBg:X.colorBgContainer,miniOptionsSizeChangerTop:0})),Le=function(X,de){var Ve={};for(var Ze in X)Object.prototype.hasOwnProperty.call(X,Ze)&&de.indexOf(Ze)<0&&(Ve[Ze]=X[Ze]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ze=0,Ze=Object.getOwnPropertySymbols(X);ze<Ze.length;ze++)de.indexOf(Ze[ze])<0&&Object.prototype.propertyIsEnumerable.call(X,Ze[ze])&&(Ve[Ze[ze]]=X[Ze[ze]]);return Ve},ut=X=>{const{prefixCls:de,selectPrefixCls:Ve,className:Ze,rootClassName:ze,style:St,size:zt,locale:Wt,selectComponentClass:hi,responsive:gi,showSizeChanger:ri}=X,Qt=Le(X,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:Zi}=(0,ie.Z)(gi),{getPrefixCls:Li,direction:Fi,pagination:tn={}}=O.useContext(w.E_),Tn=Li("pagination",de),[kn,Vn]=fe(Tn),ns=ri!=null?ri:tn.showSizeChanger,Ms=O.useMemo(()=>{const ds=O.createElement("span",{className:`${Tn}-item-ellipsis`},"\u2022\u2022\u2022"),ks=O.createElement("button",{className:`${Tn}-item-link`,type:"button",tabIndex:-1},Fi==="rtl"?O.createElement(H.Z,null):O.createElement(E.Z,null)),Fs=O.createElement("button",{className:`${Tn}-item-link`,type:"button",tabIndex:-1},Fi==="rtl"?O.createElement(E.Z,null):O.createElement(H.Z,null)),js=O.createElement("a",{className:`${Tn}-item-link`},O.createElement("div",{className:`${Tn}-item-container`},Fi==="rtl"?O.createElement(g,{className:`${Tn}-item-link-icon`}):O.createElement(R,{className:`${Tn}-item-link-icon`}),ds)),yn=O.createElement("a",{className:`${Tn}-item-link`},O.createElement("div",{className:`${Tn}-item-container`},Fi==="rtl"?O.createElement(R,{className:`${Tn}-item-link-icon`}):O.createElement(g,{className:`${Tn}-item-link-icon`}),ds));return{prevIcon:ks,nextIcon:Fs,jumpPrevIcon:js,jumpNextIcon:yn}},[Fi,Tn]),[fs]=(0,pe.Z)("Pagination",m.Z),Jn=Object.assign(Object.assign({},fs),Wt),Is=(0,F.Z)(zt),Es=Is==="small"||!!(Zi&&!Is&&gi),es=Li("select",Ve),Ns=N()({[`${Tn}-mini`]:Es,[`${Tn}-rtl`]:Fi==="rtl"},tn==null?void 0:tn.className,Ze,ze,Vn),Qs=Object.assign(Object.assign({},tn==null?void 0:tn.style),St);return kn(O.createElement(ee,Object.assign({},Ms,Qt,{style:Qs,prefixCls:Tn,selectPrefixCls:es,className:Ns,selectComponentClass:hi||(Es?jt:wi),locale:Jn,showSizeChanger:ns})))},Ot=ut},50048:function(ti,Ge,c){self.MonacoEnvironment=function(D){function O(Q){return Q.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(Q,P){var L=c.p,J=(L?O(L)+"/":"")+D[P];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(J)){var R=String(window.location),W=R.substr(0,R.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(J.substring(0,W.length)!==W){/^(\/\/)/.test(J)&&(J=window.location.protocol+J);var s="/*"+P+'*/importScripts("'+J+'");',T=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(T)}}return J}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",json:"json.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),c(89495),c(40539),c(44818),c(5697),c(375),c(22860),c(73707),c(17369),ti.exports=c(96480),c(43763),c(88307),c(15422),c(72323),c(40902),c(68423),c(56292),c(40605)},16268:function(ti,Ge,c){"use strict";c.d(Ge,{$W:function(){return N},Dt:function(){return r},G6:function(){return E},MG:function(){return H},Pf:function(){return T},WP:function(){return P},fX:function(){return L},i7:function(){return g},ie:function(){return J},mX:function(){return R},px:function(){return Q},vU:function(){return s}});var D=c(4669);class O{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new D.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let x=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,_=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return f/_}}O.INSTANCE=new O;function Q(){return O.INSTANCE.getZoomLevel()}function P(){return O.INSTANCE.getTimeSinceLastZoomLevelChanged()}function L(C){return O.INSTANCE.onDidChangeZoomLevel(C)}function J(){return O.INSTANCE.getZoomFactor()}function R(){return O.INSTANCE.getPixelRatio()}const W=navigator.userAgent,s=W.indexOf("Firefox")>=0,T=W.indexOf("AppleWebKit")>=0,g=W.indexOf("Chrome")>=0,E=!g&&W.indexOf("Safari")>=0,H=!g&&!E&&T,r=W.indexOf("Android")>=0,N=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},10161:function(ti,Ge,c){"use strict";c.d(Ge,{D:function(){return Q}});var D=c(16268),O=c(1432);const Q={clipboard:{writeText:O.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:O.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>O.tY||D.$W?0:navigator.keyboard||D.G6?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(ti,Ge,c){"use strict";c.d(Ge,{P$:function(){return P},TN:function(){return Q},go:function(){return O}});var D=c(81170);const O={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:D.vW.text,TERMINALS:"Terminals"};class Q{constructor(J){this.data=J}update(){}getData(){return this.data}}const P={CurrentDragAndDropData:void 0}},65321:function(ti,Ge,c){"use strict";c.d(Ge,{$:function(){return Ni},$Z:function(){return fi},Ay:function(){return Je},Ce:function(){return At},Cp:function(){return Wi},D6:function(){return $},DI:function(){return ie},Dx:function(){return Y},FK:function(){return ue},Fx:function(){return Rt},Gw:function(){return f},H$:function(){return Rn},If:function(){return ke},Lo:function(){return _},OO:function(){return it},PO:function(){return g},R3:function(){return ii},RE:function(){return y},Re:function(){return Pe},Ro:function(){return ee},Uh:function(){return zi},Uw:function(){return E},V3:function(){return as},Y_:function(){return le},_0:function(){return Pt},_h:function(){return $i},_q:function(){return Nn},dS:function(){return ge},dp:function(){return w},fk:function(){return lt},go:function(){return Ci},i:function(){return F},jL:function(){return te},j_:function(){return h},jg:function(){return rt},jt:function(){return Fn},lI:function(){return j},mc:function(){return Qi},mu:function(){return x},nm:function(){return r},qV:function(){return S},tw:function(){return ye},uB:function(){return sn},uN:function(){return Ie},uU:function(){return mt},vL:function(){return st},vY:function(){return Ae},w:function(){return pe},wY:function(){return An},wn:function(){return Te},xQ:function(){return m},zB:function(){return Xe}});var D=c(16268),O=c(10161),Q=c(59069),P=c(23938),L=c(15393),J=c(17301),R=c(4669),W=c(5976),s=c(66663),T=c(1432);function g($e){for(;$e.firstChild;)$e.firstChild.remove()}function E($e){var It;return(It=$e==null?void 0:$e.isConnected)!==null&&It!==void 0?It:!1}class H{constructor(It,xt,Qe,tt){this._node=It,this._type=xt,this._handler=Qe,this._options=tt||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r($e,It,xt,Qe){return new H($e,It,xt,Qe)}function N($e){return function(It){return $e(new P.n(It))}}function C($e){return function(It){return $e(new Q.y(It))}}let x=function(It,xt,Qe,tt){let Nt=Qe;return xt==="click"||xt==="mousedown"?Nt=N(Qe):(xt==="keydown"||xt==="keypress"||xt==="keyup")&&(Nt=C(Qe)),r(It,xt,Nt,tt)},f=function(It,xt,Qe){let tt=N(xt);return _(It,tt,Qe)};function _($e,It,xt){return r($e,T.gn&&O.D.pointerEvents?ye.POINTER_DOWN:ye.MOUSE_DOWN,It,xt)}function S($e,It,xt){return r($e,T.gn&&O.D.pointerEvents?ye.POINTER_UP:ye.MOUSE_UP,It,xt)}function h($e,It){return r($e,"mouseout",xt=>{let Qe=xt.relatedTarget;for(;Qe&&Qe!==$e;)Qe=Qe.parentNode;Qe!==$e&&It(xt)})}function y($e,It){return r($e,"pointerout",xt=>{let Qe=xt.relatedTarget;for(;Qe&&Qe!==$e;)Qe=Qe.parentNode;Qe!==$e&&It(xt)})}let v=null;function B($e){if(!v){const It=xt=>setTimeout(()=>xt(new Date().getTime()),0);v=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||It}return v.call(self,$e)}let j,te;class ce{constructor(It,xt=0){this._runner=It,this.priority=xt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(It){(0,J.dL)(It)}}static sort(It,xt){return xt.priority-It.priority}}(function(){let $e=[],It=null,xt=!1,Qe=!1,tt=()=>{for(xt=!1,It=$e,$e=[],Qe=!0;It.length>0;)It.sort(ce.sort),It.shift().execute();Qe=!1};te=(Nt,Tt=0)=>{let Yt=new ce(Nt,Tt);return $e.push(Yt),xt||(xt=!0,B(tt)),Yt},j=(Nt,Tt)=>{if(Qe){let Yt=new ce(Nt,Tt);return It.push(Yt),Yt}else return te(Nt,Tt)}})();const _e=8,Ce=function($e,It){return It};class Ee extends W.JT{constructor(It,xt,Qe,tt=Ce,Nt=_e){super();let Tt=null,Yt=0,ai=this._register(new L._F),Si=()=>{Yt=new Date().getTime(),Qe(Tt),Tt=null};this._register(r(It,xt,qi=>{Tt=tt(Tt,qi);let ji=new Date().getTime()-Yt;ji>=Nt?(ai.cancel(),Si()):ai.setIfNotSet(Si,Nt-ji)}))}}function le($e,It,xt,Qe,tt){return new Ee($e,It,xt,Qe,tt)}function Y($e){return document.defaultView.getComputedStyle($e,null)}function $($e){if($e!==document.body)return new ee($e.clientWidth,$e.clientHeight);if(T.gn&&window.visualViewport)return new ee(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ee(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ee(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ee(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class G{static convertToPixels(It,xt){return parseFloat(xt)||0}static getDimension(It,xt,Qe){let tt=Y(It),Nt="0";return tt&&(tt.getPropertyValue?Nt=tt.getPropertyValue(xt):Nt=tt.getAttribute(Qe)),G.convertToPixels(It,Nt)}static getBorderLeftWidth(It){return G.getDimension(It,"border-left-width","borderLeftWidth")}static getBorderRightWidth(It){return G.getDimension(It,"border-right-width","borderRightWidth")}static getBorderTopWidth(It){return G.getDimension(It,"border-top-width","borderTopWidth")}static getBorderBottomWidth(It){return G.getDimension(It,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(It){return G.getDimension(It,"padding-left","paddingLeft")}static getPaddingRight(It){return G.getDimension(It,"padding-right","paddingRight")}static getPaddingTop(It){return G.getDimension(It,"padding-top","paddingTop")}static getPaddingBottom(It){return G.getDimension(It,"padding-bottom","paddingBottom")}static getMarginLeft(It){return G.getDimension(It,"margin-left","marginLeft")}static getMarginTop(It){return G.getDimension(It,"margin-top","marginTop")}static getMarginRight(It){return G.getDimension(It,"margin-right","marginRight")}static getMarginBottom(It){return G.getDimension(It,"margin-bottom","marginBottom")}}class ee{constructor(It,xt){this.width=It,this.height=xt}with(It=this.width,xt=this.height){return It!==this.width||xt!==this.height?new ee(It,xt):this}static is(It){return typeof It=="object"&&typeof It.height=="number"&&typeof It.width=="number"}static lift(It){return It instanceof ee?It:new ee(It.width,It.height)}static equals(It,xt){return It===xt?!0:!It||!xt?!1:It.width===xt.width&&It.height===xt.height}}function m($e){let It=$e.offsetParent,xt=$e.offsetTop,Qe=$e.offsetLeft;for(;($e=$e.parentNode)!==null&&$e!==document.body&&$e!==document.documentElement;){xt-=$e.scrollTop;const tt=Mt($e)?null:Y($e);tt&&(Qe-=tt.direction!=="rtl"?$e.scrollLeft:-$e.scrollLeft),$e===It&&(Qe+=G.getBorderLeftWidth($e),xt+=G.getBorderTopWidth($e),xt+=$e.offsetTop,Qe+=$e.offsetLeft,It=$e.offsetParent)}return{left:Qe,top:xt}}function w($e,It,xt){typeof It=="number"&&($e.style.width=`${It}px`),typeof xt=="number"&&($e.style.height=`${xt}px`)}function F($e){let It=$e.getBoundingClientRect();return{left:It.left+ie.scrollX,top:It.top+ie.scrollY,width:It.width,height:It.height}}const ie=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function pe($e){let It=G.getMarginLeft($e)+G.getMarginRight($e);return $e.offsetWidth+It}function ue($e){let It=G.getBorderLeftWidth($e)+G.getBorderRightWidth($e),xt=G.getPaddingLeft($e)+G.getPaddingRight($e);return $e.offsetWidth-It-xt}function ke($e){let It=G.getBorderTopWidth($e)+G.getBorderBottomWidth($e),xt=G.getPaddingTop($e)+G.getPaddingBottom($e);return $e.offsetHeight-It-xt}function Te($e){let It=G.getMarginTop($e)+G.getMarginBottom($e);return $e.offsetHeight+It}function rt($e,It){for(;$e;){if($e===It)return!0;$e=$e.parentNode}return!1}function Rt($e,It,xt){for(;$e&&$e.nodeType===$e.ELEMENT_NODE;){if($e.classList.contains(It))return $e;if(xt){if(typeof xt=="string"){if($e.classList.contains(xt))return null}else if($e===xt)return null}$e=$e.parentNode}return null}function mt($e,It,xt){return!!Rt($e,It,xt)}function Mt($e){return $e&&!!$e.host&&!!$e.mode}function it($e){return!!Je($e)}function Je($e){for(;$e.parentNode;){if($e===document.body)return null;$e=$e.parentNode}return Mt($e)?$e:null}function Ae(){let $e=document.activeElement;for(;$e!=null&&$e.shadowRoot;)$e=$e.shadowRoot.activeElement;return $e}function ge($e=document.getElementsByTagName("head")[0]){let It=document.createElement("style");return It.type="text/css",It.media="screen",$e.appendChild(It),It}let Re=null;function ot(){return Re||(Re=ge()),Re}function dt($e){var It,xt;return!((It=$e==null?void 0:$e.sheet)===null||It===void 0)&&It.rules?$e.sheet.rules:!((xt=$e==null?void 0:$e.sheet)===null||xt===void 0)&&xt.cssRules?$e.sheet.cssRules:[]}function lt($e,It,xt=ot()){!xt||!It||xt.sheet.insertRule($e+"{"+It+"}",0)}function Ie($e,It=ot()){if(!It)return;let xt=dt(It),Qe=[];for(let tt=0;tt<xt.length;tt++)xt[tt].selectorText.indexOf($e)!==-1&&Qe.push(tt);for(let tt=Qe.length-1;tt>=0;tt--)It.sheet.deleteRule(Qe[tt])}function Pe($e){return typeof HTMLElement=="object"?$e instanceof HTMLElement:$e&&typeof $e=="object"&&$e.nodeType===1&&typeof $e.nodeName=="string"}const ye={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:D.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:D.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:D.Pf?"webkitAnimationIteration":"animationiteration"},Xe={stop:function($e,It){$e.preventDefault?$e.preventDefault():$e.returnValue=!1,It&&($e.stopPropagation?$e.stopPropagation():$e.cancelBubble=!0)}};function st($e){let It=[];for(let xt=0;$e&&$e.nodeType===$e.ELEMENT_NODE;xt++)It[xt]=$e.scrollTop,$e=$e.parentNode;return It}function Pt($e,It){for(let xt=0;$e&&$e.nodeType===$e.ELEMENT_NODE;xt++)$e.scrollTop!==It[xt]&&($e.scrollTop=It[xt]),$e=$e.parentNode}class qt extends W.JT{constructor(It){super(),this._onDidFocus=this._register(new R.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new R.Q5),this.onDidBlur=this._onDidBlur.event;let xt=rt(document.activeElement,It),Qe=!1;const tt=()=>{Qe=!1,xt||(xt=!0,this._onDidFocus.fire())},Nt=()=>{xt&&(Qe=!0,window.setTimeout(()=>{Qe&&(Qe=!1,xt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{rt(document.activeElement,It)!==xt&&(xt?Nt():tt())},this._register(r(It,ye.FOCUS,tt,!0)),this._register(r(It,ye.BLUR,Nt,!0))}}function Ci($e){return new qt($e)}function ii($e,...It){if($e.append(...It),It.length===1&&typeof It[0]!="string")return It[0]}function At($e,It){return $e.insertBefore(It,$e.firstChild),It}function Qi($e,...It){$e.innerText="",ii($e,...It)}const ci=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var je;(function($e){$e.HTML="http://www.w3.org/1999/xhtml",$e.SVG="http://www.w3.org/2000/svg"})(je||(je={}));function at($e,It,xt,...Qe){let tt=ci.exec(It);if(!tt)throw new Error("Bad use of emmet");xt=Object.assign({},xt||{});let Nt=tt[1]||"div",Tt;return $e!==je.HTML?Tt=document.createElementNS($e,Nt):Tt=document.createElement(Nt),tt[3]&&(Tt.id=tt[3]),tt[4]&&(Tt.className=tt[4].replace(/\./g," ").trim()),Object.keys(xt).forEach(Yt=>{const ai=xt[Yt];typeof ai!="undefined"&&(/^on\w+$/.test(Yt)?Tt[Yt]=ai:Yt==="selected"?ai&&Tt.setAttribute(Yt,"true"):Tt.setAttribute(Yt,ai))}),Tt.append(...Qe),Tt}function Ni($e,It,...xt){return at(je.HTML,$e,It,...xt)}Ni.SVG=function($e,It,...xt){return at(je.SVG,$e,It,...xt)};function fi(...$e){for(let It of $e)It.style.display="",It.removeAttribute("aria-hidden")}function Wi(...$e){for(let It of $e)It.style.display="none",It.setAttribute("aria-hidden","true")}function Rn($e){return Array.prototype.slice.call(document.getElementsByTagName($e),0)}function zi($e){const It=window.devicePixelRatio*$e;return Math.max(1,Math.floor(It))/window.devicePixelRatio}function as($e){window.open($e,"_blank","noopener")}function Fn($e){const It=()=>{$e(),xt=te(It)};let xt=te(It);return(0,W.OF)(()=>xt.dispose())}s.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function An($e){return $e?`url('${s.Gi.asBrowserUri($e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function $i($e){return`'${$e.replace(/'/g,"%27")}'`}class Nn extends R.Q5{constructor(){super(),this._subscriptions=new W.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",It=>{if(It.defaultPrevented)return;const xt=new Q.y(It);if(!(xt.keyCode===6&&It.repeat)){if(It.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(It.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(It.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(It.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(xt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=It.altKey,this._keyStatus.ctrlKey=It.ctrlKey,this._keyStatus.metaKey=It.metaKey,this._keyStatus.shiftKey=It.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=It,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",It=>{It.defaultPrevented||(!It.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!It.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!It.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!It.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=It.altKey,this._keyStatus.ctrlKey=It.ctrlKey,this._keyStatus.metaKey=It.metaKey,this._keyStatus.shiftKey=It.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=It,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",It=>{It.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Nn.instance||(Nn.instance=new Nn),Nn.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function sn($e,It){const xt=window.matchMedia($e);typeof xt.addEventListener=="function"?xt.addEventListener("change",It):xt.addListener(It)}},4850:function(ti,Ge,c){"use strict";c.d(Ge,{Y:function(){return O},p:function(){return Q}});var D=c(4669);class O{constructor(L,J,R){const W=s=>this.emitter.fire(s);this.emitter=new D.Q5({onFirstListenerAdd:()=>L.addEventListener(J,W,R),onLastListenerRemove:()=>L.removeEventListener(J,W,R)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Q(P){return P.preventDefault(),P.stopPropagation(),P}},38626:function(ti,Ge,c){"use strict";c.d(Ge,{X:function(){return O},Z:function(){return D}});class D{constructor(P){this.domNode=P,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(P){this._maxWidth!==P&&(this._maxWidth=P,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(P){this._width!==P&&(this._width=P,this.domNode.style.width=this._width+"px")}setHeight(P){this._height!==P&&(this._height=P,this.domNode.style.height=this._height+"px")}setTop(P){this._top!==P&&(this._top=P,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(P){this._left!==P&&(this._left=P,this.domNode.style.left=this._left+"px")}setBottom(P){this._bottom!==P&&(this._bottom=P,this.domNode.style.bottom=this._bottom+"px")}setRight(P){this._right!==P&&(this._right=P,this.domNode.style.right=this._right+"px")}setFontFamily(P){this._fontFamily!==P&&(this._fontFamily=P,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(P){this._fontWeight!==P&&(this._fontWeight=P,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(P){this._fontSize!==P&&(this._fontSize=P,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(P){this._fontFeatureSettings!==P&&(this._fontFeatureSettings=P,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(P){this._lineHeight!==P&&(this._lineHeight=P,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(P){this._letterSpacing!==P&&(this._letterSpacing=P,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(P){this._className!==P&&(this._className=P,this.domNode.className=this._className)}toggleClassName(P,L){this.domNode.classList.toggle(P,L),this._className=this.domNode.className}setDisplay(P){this._display!==P&&(this._display=P,this.domNode.style.display=this._display)}setPosition(P){this._position!==P&&(this._position=P,this.domNode.style.position=this._position)}setVisibility(P){this._visibility!==P&&(this._visibility=P,this.domNode.style.visibility=this._visibility)}setBackgroundColor(P){this._backgroundColor!==P&&(this._backgroundColor=P,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(P){this._layerHint!==P&&(this._layerHint=P,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(P){this._boxShadow!==P&&(this._boxShadow=P,this.domNode.style.boxShadow=P)}setContain(P){this._contain!==P&&(this._contain=P,this.domNode.style.contain=this._contain)}setAttribute(P,L){this.domNode.setAttribute(P,L)}removeAttribute(P){this.domNode.removeAttribute(P)}appendChild(P){this.domNode.appendChild(P.domNode)}removeChild(P){this.domNode.removeChild(P.domNode)}}function O(Q){return new D(Q)}},94079:function(ti,Ge,c){"use strict";c.d(Ge,{BO:function(){return Q},IY:function(){return O},az:function(){return P}});var D=c(65321);function O(T,g={}){const E=P(g);return E.textContent=T,E}function Q(T,g={}){const E=P(g);return J(E,R(T,!!g.renderCodeSegments),g.actionHandler,g.renderCodeSegments),E}function P(T){const g=T.inline?"span":"div",E=document.createElement(g);return T.className&&(E.className=T.className),E}class L{constructor(g){this.source=g,this.index=0}eos(){return this.index>=this.source.length}next(){const g=this.peek();return this.advance(),g}peek(){return this.source[this.index]}advance(){this.index++}}function J(T,g,E,H){let r;if(g.type===2)r=document.createTextNode(g.content||"");else if(g.type===3)r=document.createElement("b");else if(g.type===4)r=document.createElement("i");else if(g.type===7&&H)r=document.createElement("code");else if(g.type===5&&E){const N=document.createElement("a");N.href="#",E.disposables.add(D.mu(N,"click",C=>{E.callback(String(g.index),C)})),r=N}else g.type===8?r=document.createElement("br"):g.type===1&&(r=T);r&&T!==r&&T.appendChild(r),r&&Array.isArray(g.children)&&g.children.forEach(N=>{J(r,N,E,H)})}function R(T,g){const E={type:1,children:[]};let H=0,r=E;const N=[],C=new L(T);for(;!C.eos();){let x=C.next();const f=x==="\\"&&s(C.peek(),g)!==0;if(f&&(x=C.next()),!f&&W(x,g)&&x===C.peek()){C.advance(),r.type===2&&(r=N.pop());const _=s(x,g);if(r.type===_||r.type===5&&_===6)r=N.pop();else{const S={type:_,children:[]};_===5&&(S.index=H,H++),r.children.push(S),N.push(r),r=S}}else if(x===`
`)r.type===2&&(r=N.pop()),r.children.push({type:8});else if(r.type!==2){const _={type:2,content:x};r.children.push(_),N.push(r),r=_}else r.content+=x}return r.type===2&&(r=N.pop()),N.length,E}function W(T,g){return s(T,g)!==0}function s(T,g){switch(T){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return g?7:0;default:return 0}}},57974:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return R},e:function(){return J}});var D=c(65321),O=c(70262),Q=c(23938),P=c(5976),L=c(1432);function J(W,s){let T=new Q.n(s);return T.preventDefault(),{leftButton:T.leftButton,buttons:T.buttons,posx:T.posx,posy:T.posy}}class R{constructor(){this._hooks=new P.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(s,T){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const g=this._onStopCallback;this._onStopCallback=null,s&&g&&g(T)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(s,T,g,E,H){if(this.isMonitoring())return;this._mouseMoveEventMerger=g,this._mouseMoveCallback=E,this._onStopCallback=H;const r=O.E.getSameOriginWindowChain(),N=L.gn?"pointermove":"mousemove",C="mouseup",x=r.map(_=>_.window.document),f=D.Ay(s);f&&x.unshift(f);for(const _ of x)this._hooks.add(D.Y_(_,N,S=>{if(S.buttons!==T){this.stopMonitoring(!0);return}this._mouseMoveCallback(S)},(S,h)=>this._mouseMoveEventMerger(S,h))),this._hooks.add(D.nm(_,C,S=>this.stopMonitoring(!0)));if(O.E.hasDifferentOriginAncestor()){let _=r[r.length-1];this._hooks.add(D.nm(_.window.document,"mouseout",S=>{new Q.n(S).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(D.nm(_.window.document,"mouseover",S=>{new Q.n(S).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(D.nm(_.window.document.body,"mouseleave",S=>{this.stopMonitoring(!0)}))}}}},70262:function(ti,Ge,c){"use strict";c.d(Ge,{E:function(){return P}});let D=!1,O=null;function Q(L){if(!L.parent||L.parent===L)return null;try{let J=L.location,R=L.parent.location;if(J.origin!=="null"&&R.origin!=="null"&&J.origin!==R.origin)return D=!0,null}catch(J){return D=!0,null}return L.parent}class P{static getSameOriginWindowChain(){if(!O){O=[];let J=window,R;do R=Q(J),R?O.push({window:J,iframeElement:J.frameElement||null}):O.push({window:J,iframeElement:null}),J=R;while(J)}return O.slice(0)}static hasDifferentOriginAncestor(){return O||this.getSameOriginWindowChain(),D}static getPositionOfChildWindowRelativeToAncestorWindow(J,R){if(!R||J===R)return{top:0,left:0};let W=0,s=0,T=this.getSameOriginWindowChain();for(const g of T){if(W+=g.window.scrollY,s+=g.window.scrollX,g.window===R||!g.iframeElement)break;let E=g.iframeElement.getBoundingClientRect();W+=E.top,s+=E.left}return{top:W,left:s}}}},59069:function(ti,Ge,c){"use strict";c.d(Ge,{y:function(){return T}});var D=c(16268),O=c(22258),Q=c(8313),P=c(1432);function L(g){if(g.charCode){let H=String.fromCharCode(g.charCode).toUpperCase();return O.kL.fromString(H)}const E=g.keyCode;if(E===3)return 7;if(D.vU){if(E===59)return 80;if(E===107)return 81;if(E===109)return 83;if(P.dz&&E===224)return 57}else if(D.Pf){if(E===91)return 57;if(P.dz&&E===93)return 57;if(!P.dz&&E===92)return 57}return O.H_[E]||0}const J=P.dz?256:2048,R=512,W=1024,s=P.dz?2048:256;class T{constructor(E){this._standardKeyboardEventBrand=!0;let H=E;this.browserEvent=H,this.target=H.target,this.ctrlKey=H.ctrlKey,this.shiftKey=H.shiftKey,this.altKey=H.altKey,this.metaKey=H.metaKey,this.keyCode=L(H),this.code=H.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(E){return this._asKeybinding===E}_computeKeybinding(){let E=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(E=this.keyCode);let H=0;return this.ctrlKey&&(H|=J),this.altKey&&(H|=R),this.shiftKey&&(H|=W),this.metaKey&&(H|=s),H|=E,H}_computeRuntimeKeybinding(){let E=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(E=this.keyCode),new Q.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,E)}}},23938:function(ti,Ge,c){"use strict";c.d(Ge,{n:function(){return P},q:function(){return L}});var D=c(16268),O=c(70262),Q=c(1432);class P{constructor(R){this.timestamp=Date.now(),this.browserEvent=R,this.leftButton=R.button===0,this.middleButton=R.button===1,this.rightButton=R.button===2,this.buttons=R.buttons,this.target=R.target,this.detail=R.detail||1,R.type==="dblclick"&&(this.detail=2),this.ctrlKey=R.ctrlKey,this.shiftKey=R.shiftKey,this.altKey=R.altKey,this.metaKey=R.metaKey,typeof R.pageX=="number"?(this.posx=R.pageX,this.posy=R.pageY):(this.posx=R.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=R.clientY+document.body.scrollTop+document.documentElement.scrollTop);let W=O.E.getPositionOfChildWindowRelativeToAncestorWindow(self,R.view);this.posx-=W.left,this.posy-=W.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class L{constructor(R,W=0,s=0){if(this.browserEvent=R||null,this.target=R?R.target||R.targetNode||R.srcElement:null,this.deltaY=s,this.deltaX=W,R){let T=R,g=R;if(typeof T.wheelDeltaY!="undefined")this.deltaY=T.wheelDeltaY/120;else if(typeof g.VERTICAL_AXIS!="undefined"&&g.axis===g.VERTICAL_AXIS)this.deltaY=-g.detail/3;else if(R.type==="wheel"){const E=R;E.deltaMode===E.DOM_DELTA_LINE?D.vU&&!Q.dz?this.deltaY=-R.deltaY/3:this.deltaY=-R.deltaY:this.deltaY=-R.deltaY/40}if(typeof T.wheelDeltaX!="undefined")D.G6&&Q.ED?this.deltaX=-(T.wheelDeltaX/120):this.deltaX=T.wheelDeltaX/120;else if(typeof g.HORIZONTAL_AXIS!="undefined"&&g.axis===g.HORIZONTAL_AXIS)this.deltaX=-R.detail/3;else if(R.type==="wheel"){const E=R;E.deltaMode===E.DOM_DELTA_LINE?D.vU&&!Q.dz?this.deltaX=-R.deltaX/3:this.deltaX=-R.deltaX:this.deltaX=-R.deltaX/40}this.deltaY===0&&this.deltaX===0&&R.wheelDelta&&(this.deltaY=R.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},10553:function(ti,Ge,c){"use strict";c.d(Ge,{o:function(){return R},t:function(){return J}});var D=c(65321),O=c(9488),Q=c(49898),P=c(5976),L=function(W,s,T,g){var E=arguments.length,H=E<3?s:g===null?g=Object.getOwnPropertyDescriptor(s,T):g,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(W,s,T,g);else for(var N=W.length-1;N>=0;N--)(r=W[N])&&(H=(E<3?r(H):E>3?r(s,T,H):r(s,T))||H);return E>3&&H&&Object.defineProperty(s,T,H),H},J;(function(W){W.Tap="-monaco-gesturetap",W.Change="-monaco-gesturechange",W.Start="-monaco-gesturestart",W.End="-monaco-gesturesend",W.Contextmenu="-monaco-gesturecontextmenu"})(J||(J={}));class R extends P.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(D.nm(document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),this._register(D.nm(document,"touchend",s=>this.onTouchEnd(s))),this._register(D.nm(document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))}static addTarget(s){return R.isTouchDevice()?(R.INSTANCE||(R.INSTANCE=new R),R.INSTANCE.targets.push(s),{dispose:()=>{R.INSTANCE.targets=R.INSTANCE.targets.filter(T=>T!==s)}}):P.JT.None}static ignoreTarget(s){return R.isTouchDevice()?(R.INSTANCE||(R.INSTANCE=new R),R.INSTANCE.ignoreTargets.push(s),{dispose:()=>{R.INSTANCE.ignoreTargets=R.INSTANCE.ignoreTargets.filter(T=>T!==s)}}):P.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){let T=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let g=0,E=s.targetTouches.length;g<E;g++){let H=s.targetTouches.item(g);this.activeTouches[H.identifier]={id:H.identifier,initialTarget:H.target,initialTimeStamp:T,initialPageX:H.pageX,initialPageY:H.pageY,rollingTimestamps:[T],rollingPageX:[H.pageX],rollingPageY:[H.pageY]};let r=this.newGestureEvent(J.Start,H.target);r.pageX=H.pageX,r.pageY=H.pageY,this.dispatchEvent(r)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s){let T=Date.now(),g=Object.keys(this.activeTouches).length;for(let E=0,H=s.changedTouches.length;E<H;E++){let r=s.changedTouches.item(E);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let N=this.activeTouches[r.identifier],C=Date.now()-N.initialTimeStamp;if(C<R.HOLD_DELAY&&Math.abs(N.initialPageX-O.Gb(N.rollingPageX))<30&&Math.abs(N.initialPageY-O.Gb(N.rollingPageY))<30){let x=this.newGestureEvent(J.Tap,N.initialTarget);x.pageX=O.Gb(N.rollingPageX),x.pageY=O.Gb(N.rollingPageY),this.dispatchEvent(x)}else if(C>=R.HOLD_DELAY&&Math.abs(N.initialPageX-O.Gb(N.rollingPageX))<30&&Math.abs(N.initialPageY-O.Gb(N.rollingPageY))<30){let x=this.newGestureEvent(J.Contextmenu,N.initialTarget);x.pageX=O.Gb(N.rollingPageX),x.pageY=O.Gb(N.rollingPageY),this.dispatchEvent(x)}else if(g===1){let x=O.Gb(N.rollingPageX),f=O.Gb(N.rollingPageY),_=O.Gb(N.rollingTimestamps)-N.rollingTimestamps[0],S=x-N.rollingPageX[0],h=f-N.rollingPageY[0];const y=this.targets.filter(v=>N.initialTarget instanceof Node&&v.contains(N.initialTarget));this.inertia(y,T,Math.abs(S)/_,S>0?1:-1,x,Math.abs(h)/_,h>0?1:-1,f)}this.dispatchEvent(this.newGestureEvent(J.End,N.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,T){let g=document.createEvent("CustomEvent");return g.initEvent(s,!1,!0),g.initialTarget=T,g.tapCount=0,g}dispatchEvent(s){if(s.type===J.Tap){const T=new Date().getTime();let g=0;T-this._lastSetTapCountTime>R.CLEAR_TAP_COUNT_TIME?g=1:g=2,this._lastSetTapCountTime=T,s.tapCount=g}else(s.type===J.Change||s.type===J.Contextmenu)&&(this._lastSetTapCountTime=0);for(let T=0;T<this.ignoreTargets.length;T++)if(s.initialTarget instanceof Node&&this.ignoreTargets[T].contains(s.initialTarget))return;this.targets.forEach(T=>{s.initialTarget instanceof Node&&T.contains(s.initialTarget)&&(T.dispatchEvent(s),this.dispatched=!0)})}inertia(s,T,g,E,H,r,N,C){this.handle=D.jL(()=>{let x=Date.now(),f=x-T,_=0,S=0,h=!0;g+=R.SCROLL_FRICTION*f,r+=R.SCROLL_FRICTION*f,g>0&&(h=!1,_=E*g*f),r>0&&(h=!1,S=N*r*f);let y=this.newGestureEvent(J.Change);y.translationX=_,y.translationY=S,s.forEach(v=>v.dispatchEvent(y)),h||this.inertia(s,x,g,E,H+_,r,N,C+S)})}onTouchMove(s){let T=Date.now();for(let g=0,E=s.changedTouches.length;g<E;g++){let H=s.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(H.identifier))){console.warn("end of an UNKNOWN touch",H);continue}let r=this.activeTouches[H.identifier],N=this.newGestureEvent(J.Change,r.initialTarget);N.translationX=H.pageX-O.Gb(r.rollingPageX),N.translationY=H.pageY-O.Gb(r.rollingPageY),N.pageX=H.pageX,N.pageY=H.pageY,this.dispatchEvent(N),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(H.pageX),r.rollingPageY.push(H.pageY),r.rollingTimestamps.push(T)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}R.SCROLL_FRICTION=-.005,R.HOLD_DELAY=700,R.CLEAR_TAP_COUNT_TIME=400,L([Q.H],R,"isTouchDevice",null)},76033:function(ti,Ge,c){"use strict";c.d(Ge,{Y:function(){return g},g:function(){return E}});var D=c(16268),O=c(23547),Q=c(65321),P=c(10553),L=c(74741),J=c(5976),R=c(1432),W=c(98401),s=c(31285),T=c(63580);class g extends J.JT{constructor(r,N,C={}){super(),this.options=C,this._context=r||this,this._action=N,N instanceof L.aU&&this._register(N.onDidChange(x=>{this.element&&this.handleActionChangeEvent(x)}))}handleActionChangeEvent(r){r.enabled!==void 0&&this.updateEnabled(),r.checked!==void 0&&this.updateChecked(),r.class!==void 0&&this.updateClass(),r.label!==void 0&&(this.updateLabel(),this.updateTooltip()),r.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new L.Wi)),this._actionRunner}set actionRunner(r){this._actionRunner=r}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(r){this._context=r}render(r){const N=this.element=r;this._register(P.o.addTarget(r));const C=this.options&&this.options.draggable;C&&(r.draggable=!0,D.vU&&this._register((0,Q.nm)(r,Q.tw.DRAG_START,x=>{var f;return(f=x.dataTransfer)===null||f===void 0?void 0:f.setData(O.go.TEXT,this._action.label)}))),this._register((0,Q.nm)(N,P.t.Tap,x=>this.onClick(x,!0))),this._register((0,Q.nm)(N,Q.tw.MOUSE_DOWN,x=>{C||Q.zB.stop(x,!0),this._action.enabled&&x.button===0&&N.classList.add("active")})),R.dz&&this._register((0,Q.nm)(N,Q.tw.CONTEXT_MENU,x=>{x.button===0&&x.ctrlKey===!0&&this.onClick(x)})),this._register((0,Q.nm)(N,Q.tw.CLICK,x=>{Q.zB.stop(x,!0),this.options&&this.options.isMenu||this.onClick(x)})),this._register((0,Q.nm)(N,Q.tw.DBLCLICK,x=>{Q.zB.stop(x,!0)})),[Q.tw.MOUSE_UP,Q.tw.MOUSE_OUT].forEach(x=>{this._register((0,Q.nm)(N,x,f=>{Q.zB.stop(f),N.classList.remove("active")}))})}onClick(r,N=!1){var C;Q.zB.stop(r,!0);const x=W.Jp(this._context)?!((C=this.options)===null||C===void 0)&&C.useEventAsContext?r:{preserveFocus:N}:this._context;this.actionRunner.run(this._action,x)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(r){this.element&&(this.element.tabIndex=r?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class E extends g{constructor(r,N,C={}){super(r,N,C),this.options=C,this.options.icon=C.icon!==void 0?C.icon:!1,this.options.label=C.label!==void 0?C.label:!0,this.cssClass=""}render(r){super.render(r),this.element&&(this.label=(0,Q.R3)(this.element,(0,Q.$)("a.action-label"))),this.label&&(this._action.id===L.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,Q.R3)(this.element,(0,Q.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(r){this.label&&(this.label.tabIndex=r?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let r=null;this.getAction().tooltip?r=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(r=this.getAction().label,this.options.keybinding&&(r=T.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",r,this.options.keybinding))),r&&this.label&&(this.label.title=r)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},90317:function(ti,Ge,c){"use strict";c.d(Ge,{o:function(){return T}});var D=c(65321),O=c(59069),Q=c(76033),P=c(74741),L=c(4669),J=c(5976),R=c(98401),W=c(31285),s=function(g,E,H,r){function N(C){return C instanceof H?C:new H(function(x){x(C)})}return new(H||(H=Promise))(function(C,x){function f(h){try{S(r.next(h))}catch(y){x(y)}}function _(h){try{S(r.throw(h))}catch(y){x(y)}}function S(h){h.done?C(h.value):N(h.value).then(f,_)}S((r=r.apply(g,E||[])).next())})};class T extends J.JT{constructor(E,H={}){var r,N,C,x,f,_;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new L.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=H,this._context=(r=H.context)!==null&&r!==void 0?r:null,this._orientation=(N=this.options.orientation)!==null&&N!==void 0?N:0,this._triggerKeys={keyDown:(x=(C=this.options.triggerKeys)===null||C===void 0?void 0:C.keyDown)!==null&&x!==void 0?x:!1,keys:(_=(f=this.options.triggerKeys)===null||f===void 0?void 0:f.keys)!==null&&_!==void 0?_:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new P.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(y=>this._onDidRun.fire(y))),this._register(this._actionRunner.onBeforeRun(y=>this._onBeforeRun.fire(y))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",H.animated!==!1&&this.domNode.classList.add("animated");let S,h;switch(this._orientation){case 0:S=[15],h=[17];break;case 1:S=[16],h=[18],this.domNode.className+=" vertical";break}this._register(D.nm(this.domNode,D.tw.KEY_DOWN,y=>{const v=new O.y(y);let B=!0;const j=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;S&&(v.equals(S[0])||v.equals(S[1]))?B=this.focusPrevious():h&&(v.equals(h[0])||v.equals(h[1]))?B=this.focusNext():v.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():v.equals(14)?B=this.focusFirst():v.equals(13)?B=this.focusLast():v.equals(2)&&j instanceof Q.Y&&j.trapsArrowNavigation?B=this.focusNext():this.isTriggerKeyEvent(v)?this._triggerKeys.keyDown?this.doTrigger(v):this.triggerKeyDown=!0:B=!1,B&&(v.preventDefault(),v.stopPropagation())})),this._register(D.nm(this.domNode,D.tw.KEY_UP,y=>{const v=new O.y(y);this.isTriggerKeyEvent(v)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(v)),v.preventDefault(),v.stopPropagation()):(v.equals(2)||v.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(D.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(D.vY()===this.domNode||!D.jg(D.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),E.appendChild(this.domNode)}isTriggerKeyEvent(E){let H=!1;return this._triggerKeys.keys.forEach(r=>{H=H||E.equals(r)}),H}updateFocusedItem(){for(let E=0;E<this.actionsList.children.length;E++){const H=this.actionsList.children[E];if(D.jg(D.vY(),H)){this.focusedItem=E;break}}}get context(){return this._context}set context(E){this._context=E,this.viewItems.forEach(H=>H.setActionContext(E))}get actionRunner(){return this._actionRunner}set actionRunner(E){E&&(this._actionRunner=E,this.viewItems.forEach(H=>H.actionRunner=E))}getContainer(){return this.domNode}push(E,H={}){const r=Array.isArray(E)?E:[E];let N=R.hj(H.index)?H.index:null;r.forEach(C=>{const x=document.createElement("li");x.className="action-item",x.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(D.nm(x,D.tw.CONTEXT_MENU,_=>{D.zB.stop(_,!0)}));let f;this.options.actionViewItemProvider&&(f=this.options.actionViewItemProvider(C)),f||(f=new Q.g(this.context,C,H)),f.actionRunner=this._actionRunner,f.setActionContext(this.context),f.render(x),this.focusable&&f instanceof Q.Y&&this.viewItems.length===0&&f.setFocusable(!0),N===null||N<0||N>=this.actionsList.children.length?(this.actionsList.appendChild(x),this.viewItems.push(f),this._actionIds.push(C.id)):(this.actionsList.insertBefore(x,this.actionsList.children[N]),this.viewItems.splice(N,0,f),this._actionIds.splice(N,0,C.id),N++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,J.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],D.PO(this.actionsList)}length(){return this.viewItems.length}focus(E){let H=!1,r;if(E===void 0?H=!0:typeof E=="number"?r=E:typeof E=="boolean"&&(H=E),H&&typeof this.focusedItem=="undefined"){const N=this.viewItems.findIndex(C=>C.isEnabled());this.focusedItem=N===-1?void 0:N,this.updateFocus()}else r!==void 0&&(this.focusedItem=r),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const E=this.focusedItem;let H;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=E,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,H=this.viewItems[this.focusedItem]}while(this.focusedItem!==E&&this.options.focusOnlyEnabledItems&&!H.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const E=this.focusedItem;let H;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=E,!1;this.focusedItem=this.viewItems.length-1}H=this.viewItems[this.focusedItem]}while(this.focusedItem!==E&&this.options.focusOnlyEnabledItems&&!H.isEnabled());return this.updateFocus(!0),!0}updateFocus(E,H){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:H});for(let r=0;r<this.viewItems.length;r++){const N=this.viewItems[r],C=N;if(r===this.focusedItem){let x=!0;R.mf(C.focus)||(x=!1),this.options.focusOnlyEnabledItems&&R.mf(N.isEnabled)&&!N.isEnabled()&&(x=!1),x?C.focus(E):this.actionsList.focus({preventScroll:H})}else R.mf(C.blur)&&C.blur()}}doTrigger(E){if(typeof this.focusedItem=="undefined")return;const H=this.viewItems[this.focusedItem];if(H instanceof Q.Y){const r=H._context===null||H._context===void 0?E:H._context;this.run(H._action,r)}}run(E,H){return s(this,void 0,void 0,function*(){yield this._actionRunner.run(E,H)})}dispose(){(0,J.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},35996:function(ti,Ge,c){"use strict";c.d(Ge,{Z9:function(){return T},wW:function(){return s},i7:function(){return g}});var D=c(65321),O=c(1432);const Q=2e4;let P,L,J,R,W;function s(H){P=document.createElement("div"),P.className="monaco-aria-container";const r=()=>{const C=document.createElement("div");return C.className="monaco-alert",C.setAttribute("role","alert"),C.setAttribute("aria-atomic","true"),P.appendChild(C),C};L=r(),J=r();const N=()=>{const C=document.createElement("div");return C.className="monaco-status",C.setAttribute("role","complementary"),C.setAttribute("aria-live","polite"),C.setAttribute("aria-atomic","true"),P.appendChild(C),C};R=N(),W=N(),H.appendChild(P)}function T(H){P&&(L.textContent!==H?(D.PO(J),E(L,H)):(D.PO(L),E(J,H)))}function g(H){P&&(O.dz?T(H):R.textContent!==H?(D.PO(W),E(R,H)):(D.PO(R),E(W,H)))}function E(H,r){D.PO(H),r.length>Q&&(r=r.substr(0,Q)),H.textContent=r,H.style.visibility="hidden",H.style.visibility="visible"}},15375:function(ti,Ge,c){"use strict";c.d(Ge,{a:function(){return O}});var D=c(73046);function O(Q){let P=Q.definition;for(;P instanceof D.lA;)P=P.definition;return`.codicon-${Q.id}:before { content: '${P.fontCharacter}'; }`}},85207:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return J}});var D=c(65321),O=c(41264),Q=c(36248),P=c(97295);const L={badgeBackground:O.Il.fromHex("#4D4D4D"),badgeForeground:O.Il.fromHex("#FFFFFF")};class J{constructor(W,s){this.count=0,this.options=s||Object.create(null),(0,Q.jB)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,D.R3)(W,(0,D.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(W){this.count=W,this.render()}setTitleFormat(W){this.titleFormat=W,this.render()}render(){this.element.textContent=(0,P.WU)(this.countFormat,this.count),this.element.title=(0,P.WU)(this.titleFormat,this.count),this.applyStyles()}style(W){this.badgeBackground=W.badgeBackground,this.badgeForeground=W.badgeForeground,this.badgeBorder=W.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const W=this.badgeBackground?this.badgeBackground.toString():"",s=this.badgeForeground?this.badgeForeground.toString():"",T=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=W,this.element.style.color=s,this.element.style.borderWidth=T?"1px":"",this.element.style.borderStyle=T?"solid":"",this.element.style.borderColor=T}}}},34650:function(ti,Ge,c){"use strict";c.d(Ge,{q:function(){return P}});var D=c(65321),O=c(56811),Q=c(36248);class P{constructor(J,R){this.supportIcons=R,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",J.appendChild(this.domNode)}get element(){return this.domNode}set(J,R=[],W="",s){J||(J=""),s&&(J=P.escapeNewLines(J,R)),!(this.didEverRender&&this.text===J&&this.title===W&&Q.fS(this.highlights,R))&&(this.text=J,this.title=W,this.highlights=R,this.render())}render(){const J=[];let R=0;for(const W of this.highlights){if(W.end===W.start)continue;if(R<W.start){const g=this.text.substring(R,W.start);J.push(D.$("span",void 0,...this.supportIcons?(0,O.T)(g):[g])),R=W.end}const s=this.text.substring(W.start,W.end),T=D.$("span.highlight",void 0,...this.supportIcons?(0,O.T)(s):[s]);W.extraClasses&&T.classList.add(W.extraClasses),J.push(T),R=W.end}if(R<this.text.length){const W=this.text.substring(R);J.push(D.$("span",void 0,...this.supportIcons?(0,O.T)(W):[W]))}D.mc(this.domNode,...J),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(J,R){let W=0,s=0;return J.replace(/\r\n|\r|\n/g,(T,g)=>{s=T===`\r
`?-1:0,g+=W;for(const E of R)E.end<=g||(E.start>=g&&(E.start+=s),E.end>=g&&(E.end+=s));return W+=s,"\u23CE"})}}},26974:function(ti,Ge,c){"use strict";c.d(Ge,{g:function(){return C}});var D=c(65321),O=c(34650),Q=c(15393),P=c(71050),L=c(59365),J=c(5976),R=c(98401),W=c(63580),s=function(S,h,y,v){function B(j){return j instanceof y?j:new y(function(te){te(j)})}return new(y||(y=Promise))(function(j,te){function ce(Ee){try{Ce(v.next(Ee))}catch(le){te(le)}}function _e(Ee){try{Ce(v.throw(Ee))}catch(le){te(le)}}function Ce(Ee){Ee.done?j(Ee.value):B(Ee.value).then(ce,_e)}Ce((v=v.apply(S,h||[])).next())})};function T(S,h){(0,R.HD)(h)?S.title=h:h!=null&&h.markdownNotSupportedFallback?S.title=h.markdownNotSupportedFallback:S.removeAttribute("title")}class g{constructor(h,y,v){this.hoverDelegate=h,this.target=y,this.fadeInAnimation=v}update(h,y){var v;return s(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let B;if(h===void 0||(0,R.HD)(h)||h instanceof HTMLElement)B=h;else if(!(0,R.mf)(h.markdown))B=(v=h.markdown)!==null&&v!==void 0?v:h.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,W.N)("iconLabel.loading","Loading..."),y),this._cancellationTokenSource=new P.A;const j=this._cancellationTokenSource.token;if(B=yield h.markdown(j),this.isDisposed||j.isCancellationRequested)return}this.show(B,y)})}show(h,y){const v=this._hoverWidget;if(this.hasContent(h)){const B={content:h,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!v};this._hoverWidget=this.hoverDelegate.showHover(B,y)}v==null||v.dispose()}hasContent(h){return h?(0,L.Fr)(h)?!!h.value:!0:!1}get isDisposed(){var h;return(h=this._hoverWidget)===null||h===void 0?void 0:h.isDisposed}dispose(){var h,y;(h=this._hoverWidget)===null||h===void 0||h.dispose(),(y=this._cancellationTokenSource)===null||y===void 0||y.dispose(!0),this._cancellationTokenSource=void 0}}function E(S,h,y){let v,B;const j=(Ee,le)=>{var Y;Ee&&(B==null||B.dispose(),B=void 0),le&&(v==null||v.dispose(),v=void 0),(Y=S.onDidHideHover)===null||Y===void 0||Y.call(S)},te=(Ee,le,Y)=>new Q._F(()=>s(this,void 0,void 0,function*(){(!B||B.isDisposed)&&(B=new g(S,Y||h,Ee>0),yield B.update(y,le))}),Ee),ce=()=>{if(v)return;const Ee=new J.SL,le=G=>j(!1,G.fromElement===h);Ee.add(D.nm(h,D.tw.MOUSE_LEAVE,le,!0));const Y=()=>j(!0,!0);Ee.add(D.nm(h,D.tw.MOUSE_DOWN,Y,!0));const $={targetElements:[h],dispose:()=>{}};if(S.placement===void 0||S.placement==="mouse"){const G=ee=>$.x=ee.x+10;Ee.add(D.nm(h,D.tw.MOUSE_MOVE,G,!0))}Ee.add(te(S.delay,!1,$)),v=Ee},_e=D.nm(h,D.tw.MOUSE_OVER,ce,!0);return{show:Ee=>{j(!1,!0),te(0,Ee)},hide:()=>{j(!0,!0)},update:Ee=>s(this,void 0,void 0,function*(){y=Ee,yield B==null?void 0:B.update(y)}),dispose:()=>{_e.dispose(),j(!0,!0)}}}var H=c(36248),r=c(61134);class N{constructor(h){this._element=h}get element(){return this._element}set textContent(h){this.disposed||h===this._textContent||(this._textContent=h,this._element.textContent=h)}set className(h){this.disposed||h===this._className||(this._className=h,this._element.className=h)}set empty(h){this.disposed||h===this._empty||(this._empty=h,this._element.style.marginLeft=h?"0":"")}dispose(){this.disposed=!0}}class C extends J.JT{constructor(h,y){super(),this.customHovers=new Map,this.domNode=this._register(new N(D.R3(h,D.$(".monaco-icon-label")))),this.labelContainer=D.R3(this.domNode.element,D.$(".monaco-icon-label-container"));const v=D.R3(this.labelContainer,D.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new N(D.R3(this.labelContainer,D.$("span.monaco-icon-description-container")))),y!=null&&y.supportHighlights||y!=null&&y.supportIcons?this.nameNode=new _(v,!!y.supportIcons):this.nameNode=new x(v),y!=null&&y.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new O.q(D.R3(this.descriptionContainer.element,D.$("span.label-description")),!!y.supportIcons):this.descriptionNodeFactory=()=>this._register(new N(D.R3(this.descriptionContainer.element,D.$("span.label-description")))),this.hoverDelegate=y==null?void 0:y.hoverDelegate}get element(){return this.domNode.element}setLabel(h,y,v){const B=["monaco-icon-label"];v&&(v.extraClasses&&B.push(...v.extraClasses),v.italic&&B.push("italic"),v.strikethrough&&B.push("strikethrough")),this.domNode.className=B.join(" "),this.setupHover(v!=null&&v.descriptionTitle?this.labelContainer:this.element,v==null?void 0:v.title),this.nameNode.setLabel(h,v),(y||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof O.q?(this.descriptionNode.set(y||"",v?v.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,v==null?void 0:v.descriptionTitle)):(this.descriptionNode.textContent=y||"",this.setupHover(this.descriptionNode.element,(v==null?void 0:v.descriptionTitle)||""),this.descriptionNode.empty=!y))}setupHover(h,y){const v=this.customHovers.get(h);if(v&&(v.dispose(),this.customHovers.delete(h)),!y){h.removeAttribute("title");return}if(!this.hoverDelegate)T(h,y);else{const B=E(this.hoverDelegate,h,y);B&&this.customHovers.set(h,B)}}dispose(){super.dispose();for(const h of this.customHovers.values())h.dispose();this.customHovers.clear()}}class x{constructor(h){this.container=h,this.label=void 0,this.singleLabel=void 0}setLabel(h,y){if(!(this.label===h&&(0,H.fS)(this.options,y)))if(this.label=h,this.options=y,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=D.R3(this.container,D.$("a.label-name",{id:y==null?void 0:y.domId}))),this.singleLabel.textContent=h;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let v=0;v<h.length;v++){const B=h[v],j=(y==null?void 0:y.domId)&&`${y==null?void 0:y.domId}_${v}`;D.R3(this.container,D.$("a.label-name",{id:j,"data-icon-label-count":h.length,"data-icon-label-index":v,role:"treeitem"},B)),v<h.length-1&&D.R3(this.container,D.$("span.label-separator",void 0,(y==null?void 0:y.separator)||"/"))}}}}function f(S,h,y){if(!y)return;let v=0;return S.map(B=>{const j={start:v,end:v+B.length},te=y.map(ce=>r.e.intersect(j,ce)).filter(ce=>!r.e.isEmpty(ce)).map(({start:ce,end:_e})=>({start:ce-v,end:_e-v}));return v=j.end+h.length,te})}class _{constructor(h,y){this.container=h,this.supportIcons=y,this.label=void 0,this.singleLabel=void 0}setLabel(h,y){if(!(this.label===h&&(0,H.fS)(this.options,y)))if(this.label=h,this.options=y,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new O.q(D.R3(this.container,D.$("a.label-name",{id:y==null?void 0:y.domId})),this.supportIcons)),this.singleLabel.set(h,y==null?void 0:y.matches,void 0,y==null?void 0:y.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const v=(y==null?void 0:y.separator)||"/",B=f(h,v,y==null?void 0:y.matches);for(let j=0;j<h.length;j++){const te=h[j],ce=B?B[j]:void 0,_e=(y==null?void 0:y.domId)&&`${y==null?void 0:y.domId}_${j}`,Ce=D.$("a.label-name",{id:_e,"data-icon-label-count":h.length,"data-icon-label-index":j,role:"treeitem"});new O.q(D.R3(this.container,Ce),this.supportIcons).set(te,ce,void 0,y==null?void 0:y.labelEscapeNewLines),j<h.length-1&&D.R3(Ce,D.$("span.label-separator",void 0,v))}}}}},56811:function(ti,Ge,c){"use strict";c.d(Ge,{T:function(){return P}});var D=c(65321),O=c(73046);const Q=new RegExp(`(\\\\)?\\$\\((${O.dT.iconNameExpression}(?:${O.dT.iconModifierExpression})?)\\)`,"g");function P(J){const R=new Array;let W,s=0,T=0;for(;(W=Q.exec(J))!==null;){T=W.index||0,R.push(J.substring(s,T)),s=(W.index||0)+W[0].length;const[,g,E]=W;R.push(g?`$(${E})`:L({id:E}))}return s<J.length&&R.push(J.substring(s)),R}function L(J){const R=D.$("span");return R.classList.add(...O.dT.asClassNameArray(J)),R}},97862:function(ti,Ge,c){"use strict";c.d(Ge,{p:function(){return x},W:function(){return C}});var D=c(65321),O=c(4850),Q=c(94079),P=c(90317),L=c(35996),J=c(13433),R=c(93794),W=c(41264),s=c(4669);class T{constructor(_,S=0,h=_.length,y=S-1){this.items=_,this.start=S,this.end=h,this.index=y}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(_=[],S=10){this._initialize(_),this._limit=S,this._onChange()}getHistory(){return this._elements}add(_){this._history.delete(_),this._history.add(_),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(_){return this._history.has(_)}_onChange(){this._reduceToLimit();const _=this._elements;this._navigator=new T(_,0,_.length,_.length)}_reduceToLimit(){const _=this._elements;_.length>this._limit&&this._initialize(_.slice(_.length-this._limit))}_currentPosition(){const _=this._navigator.current();return _?this._elements.indexOf(_):-1}_initialize(_){this._history=new Set;for(const S of _)this._history.add(S)}get _elements(){const _=[];return this._history.forEach(S=>_.push(S)),_}}var E=c(36248),H=c(63580);const r=D.$,N={inputBackground:W.Il.fromHex("#3C3C3C"),inputForeground:W.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:W.Il.fromHex("#55AAFF"),inputValidationInfoBackground:W.Il.fromHex("#063B49"),inputValidationWarningBorder:W.Il.fromHex("#B89500"),inputValidationWarningBackground:W.Il.fromHex("#352A05"),inputValidationErrorBorder:W.Il.fromHex("#BE1100"),inputValidationErrorBackground:W.Il.fromHex("#5A1D1D")};class C extends R.${constructor(_,S,h){var y;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new s.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=S,this.options=h||Object.create(null),(0,E.jB)(this.options,N,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(y=this.options.tooltip)!==null&&y!==void 0?y:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=D.R3(_,r(".monaco-inputbox.idle"));let v=this.options.flexibleHeight?"textarea":"input",B=D.R3(this.element,r(".ibwrapper"));if(this.input=D.R3(B,r(v+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=D.R3(B,r("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new J.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),D.R3(_,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(ce=>this.input.scrollTop=ce.scrollTop));const j=this._register(new O.Y(document,"selectionchange")),te=s.ju.filter(j.event,()=>{const ce=document.getSelection();return(ce==null?void 0:ce.anchorNode)===B});this._register(te(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new P.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(_){this.placeholder=_,this.input.setAttribute("placeholder",_)}setTooltip(_){this.tooltip=_,this.input.title=_}setAriaLabel(_){this.ariaLabel=_,_?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(_){this.input.value!==_&&(this.input.value=_,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:D.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(_=null){this.input.select(),_&&(this.input.setSelectionRange(_.start,_.end),_.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return D.w(this.input)}set width(_){if(this.options.flexibleHeight&&this.options.flexibleWidth){let S=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,y=parseFloat(this.mirror.style.paddingRight||"")||0;S=h+y}this.input.style.width=_-S+"px"}else this.input.style.width=_+"px";this.mirror&&(this.mirror.style.width=_+"px")}set paddingRight(_){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${_}px)`:this.input.style.paddingRight=_+"px",this.mirror&&(this.mirror.style.paddingRight=_+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const _=this.cachedContentHeight,S=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:_,height:S}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(_,S){this.message=_,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(_.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||S)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let _=null;return this.validation&&(_=this.validation(this.value),_?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(_)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),_==null?void 0:_.type}stylesForType(_){switch(_){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(_){switch(_){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let _,S=()=>_.style.width=D.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:y=>{if(!this.message)return null;_=D.R3(y,r(".monaco-inputbox-container")),S();const v={inline:!0,className:"monaco-inputbox-message"},B=this.message.formatContent?(0,Q.BO)(this.message.content,v):(0,Q.IY)(this.message.content,v);B.classList.add(this.classForType(this.message.type));const j=this.stylesForType(this.message.type);return B.style.backgroundColor=j.background?j.background.toString():"",B.style.color=j.foreground?j.foreground.toString():"",B.style.border=j.border?`1px solid ${j.border}`:"",D.R3(_,B),null},onHide:()=>{this.state="closed"},layout:S});let h;this.message.type===3?h=H.N("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?h=H.N("alertWarningMessage","Warning: {0}",this.message.content):h=H.N("alertInfoMessage","Info: {0}",this.message.content),L.Z9(h),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const _=this.value,h=_.charCodeAt(_.length-1)===10?" ":"";(_+h).replace(/\u000c/g,"")?this.mirror.textContent=_+h:this.mirror.innerText="\xA0",this.layout()}style(_){this.inputBackground=_.inputBackground,this.inputForeground=_.inputForeground,this.inputBorder=_.inputBorder,this.inputValidationInfoBackground=_.inputValidationInfoBackground,this.inputValidationInfoForeground=_.inputValidationInfoForeground,this.inputValidationInfoBorder=_.inputValidationInfoBorder,this.inputValidationWarningBackground=_.inputValidationWarningBackground,this.inputValidationWarningForeground=_.inputValidationWarningForeground,this.inputValidationWarningBorder=_.inputValidationWarningBorder,this.inputValidationErrorBackground=_.inputValidationErrorBackground,this.inputValidationErrorForeground=_.inputValidationErrorForeground,this.inputValidationErrorBorder=_.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const _=this.inputBackground?this.inputBackground.toString():"",S=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=_,this.element.style.color=S,this.input.style.backgroundColor="inherit",this.input.style.color=S,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const _=this.cachedContentHeight;this.cachedContentHeight=D.wn(this.mirror),_!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(_){const S=this.inputElement,h=S.selectionStart,y=S.selectionEnd,v=S.value;h!==null&&y!==null&&(this.value=v.substr(0,h)+_+v.substr(y),S.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class x extends C{constructor(_,S,h){const y=H.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),v=` or \u21C5 ${y}`,B=` (\u21C5 ${y})`;super(_,S,h),this.history=new g(h.history,100);const j=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(v)&&!this.placeholder.endsWith(B)&&this.history.getHistory().length){const te=this.placeholder.endsWith(")")?v:B,ce=this.placeholder+te;h.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=ce:this.setPlaceHolder(ce)}};this.observer=new MutationObserver((te,ce)=>{te.forEach(_e=>{_e.target.textContent||j()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>j()),this.onblur(this.input,()=>{const te=ce=>{if(this.placeholder.endsWith(ce)){const _e=this.placeholder.slice(0,this.placeholder.length-ce.length);return h.showPlaceholderOnFocus?this.placeholder=_e:this.setPlaceHolder(_e),!0}else return!1};te(B)||te(v)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let _=this.getNextValue();_&&(_=_===this.value?this.getNextValue():_),_&&(this.value=_,L.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let _=this.getPreviousValue();_&&(_=_===this.value?this.getPreviousValue():_),_&&(this.value=_,L.i7(this.value))}getCurrentValue(){let _=this.history.current();return _||(_=this.history.last(),this.history.next()),_}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},72010:function(ti,Ge,c){"use strict";c.d(Ge,{kX:function(){return B},Bv:function(){return Ce}});var D=c(16268),O=c(23547),Q=c(65321),P=c(4850),L=c(10553),J=c(13433),R=c(9488),W=c(15393),s=c(49898),T=c(4669),g=c(5976),E=c(36248),H=c(61134),r=c(76633);function N(Ee,le){const Y=[];for(let $ of le){if(Ee.start>=$.range.end)continue;if(Ee.end<$.range.start)break;const G=H.e.intersect(Ee,$.range);H.e.isEmpty(G)||Y.push({range:G,size:$.size})}return Y}function C({start:Ee,end:le},Y){return{start:Ee+Y,end:le+Y}}function x(Ee){const le=[];let Y=null;for(let $ of Ee){const G=$.range.start,ee=$.range.end,m=$.size;if(Y&&m===Y.size){Y.range.end=ee;continue}Y={range:{start:G,end:ee},size:m},le.push(Y)}return le}function f(...Ee){return x(Ee.reduce((le,Y)=>le.concat(Y),[]))}class _{constructor(){this.groups=[],this._size=0}splice(le,Y,$=[]){const G=$.length-Y,ee=N({start:0,end:le},this.groups),m=N({start:le+Y,end:Number.POSITIVE_INFINITY},this.groups).map(F=>({range:C(F.range,G),size:F.size})),w=$.map((F,ie)=>({range:{start:le+ie,end:le+ie+1},size:F.size}));this.groups=f(ee,w,m),this._size=this.groups.reduce((F,ie)=>F+ie.size*(ie.range.end-ie.range.start),0)}get count(){const le=this.groups.length;return le?this.groups[le-1].range.end:0}get size(){return this._size}indexAt(le){if(le<0)return-1;let Y=0,$=0;for(let G of this.groups){const ee=G.range.end-G.range.start,m=$+ee*G.size;if(le<m)return Y+Math.floor((le-$)/G.size);Y+=ee,$=m}return Y}indexAfter(le){return Math.min(this.indexAt(le)+1,this.count)}positionAt(le){if(le<0)return-1;let Y=0,$=0;for(let G of this.groups){const ee=G.range.end-G.range.start,m=$+ee;if(le<m)return Y+(le-$)*G.size;Y+=ee*G.size,$=m}return-1}}function S(Ee){try{Ee.parentElement&&Ee.parentElement.removeChild(Ee)}catch(le){}}class h{constructor(le){this.renderers=le,this.cache=new Map}alloc(le){let Y=this.getTemplateCache(le).pop();if(!Y){const $=(0,Q.$)(".monaco-list-row"),ee=this.getRenderer(le).renderTemplate($);Y={domNode:$,templateId:le,templateData:ee}}return Y}release(le){le&&this.releaseRow(le)}releaseRow(le){const{domNode:Y,templateId:$}=le;Y&&(Y.classList.remove("scrolling"),S(Y)),this.getTemplateCache($).push(le)}getTemplateCache(le){let Y=this.cache.get(le);return Y||(Y=[],this.cache.set(le,Y)),Y}dispose(){this.cache.forEach((le,Y)=>{for(const $ of le)this.getRenderer(Y).disposeTemplate($.templateData),$.templateData=null}),this.cache.clear()}getRenderer(le){const Y=this.renderers.get(le);if(!Y)throw new Error(`No renderer found for ${le}`);return Y}}var y=function(Ee,le,Y,$){var G=arguments.length,ee=G<3?le:$===null?$=Object.getOwnPropertyDescriptor(le,Y):$,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(Ee,le,Y,$);else for(var w=Ee.length-1;w>=0;w--)(m=Ee[w])&&(ee=(G<3?m(ee):G>3?m(le,Y,ee):m(le,Y))||ee);return G>3&&ee&&Object.defineProperty(le,Y,ee),ee};const v={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(Ee){return[Ee]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class B{constructor(le){this.elements=le}update(){}getData(){return this.elements}}class j{constructor(le){this.elements=le}update(){}getData(){return this.elements}}class te{constructor(){this.types=[],this.files=[]}update(le){if(le.types&&this.types.splice(0,this.types.length,...le.types),le.files){this.files.splice(0,this.files.length);for(let Y=0;Y<le.files.length;Y++){const $=le.files.item(Y);$&&($.size||$.type)&&this.files.push($)}}}getData(){return{types:this.types,files:this.files}}}function ce(Ee,le){return Array.isArray(Ee)&&Array.isArray(le)?(0,R.fS)(Ee,le):Ee===le}class _e{constructor(le){le!=null&&le.getSetSize?this.getSetSize=le.getSetSize.bind(le):this.getSetSize=(Y,$,G)=>G,le!=null&&le.getPosInSet?this.getPosInSet=le.getPosInSet.bind(le):this.getPosInSet=(Y,$)=>$+1,le!=null&&le.getRole?this.getRole=le.getRole.bind(le):this.getRole=Y=>"listitem",le!=null&&le.isChecked?this.isChecked=le.isChecked.bind(le):this.isChecked=Y=>{}}}class Ce{constructor(le,Y,$,G=v){if(this.virtualDelegate=Y,this.domId=`list_id_${++Ce.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new W.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=g.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=g.JT.None,this.onDragLeaveTimeout=g.JT.None,this.disposables=new g.SL,this._onDidChangeContentHeight=new T.Q5,this._horizontalScrolling=!1,G.horizontalScrolling&&G.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new _;for(const m of $)this.renderers.set(m.templateId,m);this.cache=this.disposables.add(new h(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof G.mouseSupport=="boolean"?G.mouseSupport:!0),this._horizontalScrolling=(0,E.CJ)(G,m=>m.horizontalScrolling,v.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof G.additionalScrollHeight=="undefined"?0:G.additionalScrollHeight,this.accessibilityProvider=new _e(G.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,E.CJ)(G,m=>m.transformOptimization,v.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(L.o.addTarget(this.rowsContainer)),this.scrollable=new r.Rm((0,E.CJ)(G,m=>m.smoothScrolling,!1)?125:0,m=>(0,Q.jL)(m)),this.scrollableElement=this.disposables.add(new J.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,E.CJ)(G,m=>m.alwaysConsumeMouseWheel,v.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,E.CJ)(G,m=>m.verticalScrollMode,v.verticalScrollMode),useShadows:(0,E.CJ)(G,m=>m.useShadows,v.useShadows),mouseWheelScrollSensitivity:G.mouseWheelScrollSensitivity,fastScrollSensitivity:G.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),le.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Q.nm)(this.rowsContainer,L.t.Change,m=>this.onTouchChange(m))),this.disposables.add((0,Q.nm)(this.scrollableElement.getDomNode(),"scroll",m=>m.target.scrollTop=0)),this.disposables.add((0,Q.nm)(this.domNode,"dragover",m=>this.onDragOver(this.toDragEvent(m)))),this.disposables.add((0,Q.nm)(this.domNode,"drop",m=>this.onDrop(this.toDragEvent(m)))),this.disposables.add((0,Q.nm)(this.domNode,"dragleave",m=>this.onDragLeave(this.toDragEvent(m)))),this.disposables.add((0,Q.nm)(this.domNode,"dragend",m=>this.onDragEnd(m))),this.setRowLineHeight=(0,E.CJ)(G,m=>m.setRowLineHeight,v.setRowLineHeight),this.setRowHeight=(0,E.CJ)(G,m=>m.setRowHeight,v.setRowHeight),this.supportDynamicHeights=(0,E.CJ)(G,m=>m.supportDynamicHeights,v.supportDynamicHeights),this.dnd=(0,E.CJ)(G,m=>m.dnd,v.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(le){if(le!==this._horizontalScrolling){if(le&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=le,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const Y of this.items)this.measureItemWidth(Y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Q.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(le){le.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=le.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),le.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(le.smoothScrolling?125:0),le.horizontalScrolling!==void 0&&(this.horizontalScrolling=le.horizontalScrolling),le.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:le.mouseWheelScrollSensitivity}),le.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:le.fastScrollSensitivity})}splice(le,Y,$=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(le,Y,$)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(le,Y,$=[]){const G=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ee={start:le,end:le+Y},m=H.e.intersect(G,ee),w=new Map;for(let Re=m.start;Re<m.end;Re++){const ot=this.items[Re];if(ot.dragStartDisposable.dispose(),ot.row){let dt=w.get(ot.templateId);dt||(dt=[],w.set(ot.templateId,dt));const lt=this.renderers.get(ot.templateId);lt&&lt.disposeElement&&lt.disposeElement(ot.element,Re,ot.row.templateData,ot.size),dt.push(ot.row)}ot.row=null}const F={start:le+Y,end:this.items.length},ie=H.e.intersect(F,G),pe=H.e.relativeComplement(F,G),ue=$.map(Re=>({id:String(this.itemId++),element:Re,templateId:this.virtualDelegate.getTemplateId(Re),size:this.virtualDelegate.getHeight(Re),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Re),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:g.JT.None}));let ke;le===0&&Y>=this.items.length?(this.rangeMap=new _,this.rangeMap.splice(0,0,ue),ke=this.items,this.items=ue):(this.rangeMap.splice(le,Y,ue),ke=this.items.splice(le,Y,...ue));const Te=$.length-Y,rt=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Rt=C(ie,Te),mt=H.e.intersect(rt,Rt);for(let Re=mt.start;Re<mt.end;Re++)this.updateItemInDOM(this.items[Re],Re);const Mt=H.e.relativeComplement(Rt,rt);for(const Re of Mt)for(let ot=Re.start;ot<Re.end;ot++)this.removeItemFromDOM(ot);const it=pe.map(Re=>C(Re,Te)),Ae=[{start:le,end:le+$.length},...it].map(Re=>H.e.intersect(rt,Re)),ge=this.getNextToLastElement(Ae);for(const Re of Ae)for(let ot=Re.start;ot<Re.end;ot++){const dt=this.items[ot],lt=w.get(dt.templateId),Ie=lt==null?void 0:lt.pop();this.insertItemInDOM(ot,ge,Ie)}for(const Re of w.values())for(const ot of Re)this.cache.release(ot);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),ke.map(Re=>Re.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Q.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let le=0;for(const Y of this.items)typeof Y.width!="undefined"&&(le=Math.max(le,Y.width));this.scrollWidth=le,this.scrollableElement.setScrollDimensions({scrollWidth:le===0?0:le+10})}rerender(){if(this.supportDynamicHeights){for(const le of this.items)le.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(le){return this.items[le].element}domElement(le){const Y=this.items[le].row;return Y&&Y.domNode}elementHeight(le){return this.items[le].size}elementTop(le){return this.rangeMap.positionAt(le)}indexAt(le){return this.rangeMap.indexAt(le)}indexAfter(le){return this.rangeMap.indexAfter(le)}layout(le,Y){let $={height:typeof le=="number"?le:(0,Q.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,$.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions($),typeof Y!="undefined"&&(this.renderWidth=Y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof Y=="number"?Y:(0,Q.FK)(this.domNode)})}render(le,Y,$,G,ee,m=!1){const w=this.getRenderRange(Y,$),F=H.e.relativeComplement(w,le),ie=H.e.relativeComplement(le,w),pe=this.getNextToLastElement(F);if(m){const ue=H.e.intersect(le,w);for(let ke=ue.start;ke<ue.end;ke++)this.updateItemInDOM(this.items[ke],ke)}for(const ue of F)for(let ke=ue.start;ke<ue.end;ke++)this.insertItemInDOM(ke,pe);for(const ue of ie)for(let ke=ue.start;ke<ue.end;ke++)this.removeItemFromDOM(ke);G!==void 0&&(this.rowsContainer.style.left=`-${G}px`),this.rowsContainer.style.top=`-${Y}px`,this.horizontalScrolling&&ee!==void 0&&(this.rowsContainer.style.width=`${Math.max(ee,this.renderWidth)}px`),this.lastRenderTop=Y,this.lastRenderHeight=$}insertItemInDOM(le,Y,$){const G=this.items[le];G.row||(G.row=$!=null?$:this.cache.alloc(G.templateId));const ee=this.accessibilityProvider.getRole(G.element)||"listitem";G.row.domNode.setAttribute("role",ee);const m=this.accessibilityProvider.isChecked(G.element);typeof m!="undefined"&&G.row.domNode.setAttribute("aria-checked",String(!!m)),G.row.domNode.parentElement||(Y?this.rowsContainer.insertBefore(G.row.domNode,Y):this.rowsContainer.appendChild(G.row.domNode)),this.updateItemInDOM(G,le);const w=this.renderers.get(G.templateId);if(!w)throw new Error(`No renderer found for template id ${G.templateId}`);w&&w.renderElement(G.element,le,G.row.templateData,G.size);const F=this.dnd.getDragURI(G.element);G.dragStartDisposable.dispose(),G.row.domNode.draggable=!!F,F&&(G.dragStartDisposable=(0,Q.nm)(G.row.domNode,"dragstart",ie=>this.onDragStart(G.element,F,ie))),this.horizontalScrolling&&(this.measureItemWidth(G),this.eventuallyUpdateScrollWidth())}measureItemWidth(le){if(!le.row||!le.row.domNode)return;le.row.domNode.style.width=D.vU?"-moz-fit-content":"fit-content",le.width=(0,Q.FK)(le.row.domNode);const Y=window.getComputedStyle(le.row.domNode);Y.paddingLeft&&(le.width+=parseFloat(Y.paddingLeft)),Y.paddingRight&&(le.width+=parseFloat(Y.paddingRight)),le.row.domNode.style.width=""}updateItemInDOM(le,Y){le.row.domNode.style.top=`${this.elementTop(Y)}px`,this.setRowHeight&&(le.row.domNode.style.height=`${le.size}px`),this.setRowLineHeight&&(le.row.domNode.style.lineHeight=`${le.size}px`),le.row.domNode.setAttribute("data-index",`${Y}`),le.row.domNode.setAttribute("data-last-element",Y===this.length-1?"true":"false"),le.row.domNode.setAttribute("data-parity",Y%2===0?"even":"odd"),le.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(le.element,Y,this.length))),le.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(le.element,Y))),le.row.domNode.setAttribute("id",this.getElementDomId(Y)),le.row.domNode.classList.toggle("drop-target",le.dropTarget)}removeItemFromDOM(le){const Y=this.items[le];if(Y.dragStartDisposable.dispose(),Y.row){const $=this.renderers.get(Y.templateId);$&&$.disposeElement&&$.disposeElement(Y.element,le,Y.row.templateData,Y.size),this.cache.release(Y.row),Y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(le,Y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:le,reuseAnimation:Y})}get scrollTop(){return this.getScrollTop()}set scrollTop(le){this.setScrollTop(le)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return T.ju.map(this.disposables.add(new P.Y(this.domNode,"click")).event,le=>this.toMouseEvent(le))}get onMouseDblClick(){return T.ju.map(this.disposables.add(new P.Y(this.domNode,"dblclick")).event,le=>this.toMouseEvent(le))}get onMouseMiddleClick(){return T.ju.filter(T.ju.map(this.disposables.add(new P.Y(this.domNode,"auxclick")).event,le=>this.toMouseEvent(le)),le=>le.browserEvent.button===1)}get onMouseDown(){return T.ju.map(this.disposables.add(new P.Y(this.domNode,"mousedown")).event,le=>this.toMouseEvent(le))}get onContextMenu(){return T.ju.any(T.ju.map(this.disposables.add(new P.Y(this.domNode,"contextmenu")).event,le=>this.toMouseEvent(le)),T.ju.map(this.disposables.add(new P.Y(this.domNode,L.t.Contextmenu)).event,le=>this.toGestureEvent(le)))}get onTouchStart(){return T.ju.map(this.disposables.add(new P.Y(this.domNode,"touchstart")).event,le=>this.toTouchEvent(le))}get onTap(){return T.ju.map(this.disposables.add(new P.Y(this.rowsContainer,L.t.Tap)).event,le=>this.toGestureEvent(le))}toMouseEvent(le){const Y=this.getItemIndexFromEventTarget(le.target||null),$=typeof Y=="undefined"?void 0:this.items[Y],G=$&&$.element;return{browserEvent:le,index:Y,element:G}}toTouchEvent(le){const Y=this.getItemIndexFromEventTarget(le.target||null),$=typeof Y=="undefined"?void 0:this.items[Y],G=$&&$.element;return{browserEvent:le,index:Y,element:G}}toGestureEvent(le){const Y=this.getItemIndexFromEventTarget(le.initialTarget||null),$=typeof Y=="undefined"?void 0:this.items[Y],G=$&&$.element;return{browserEvent:le,index:Y,element:G}}toDragEvent(le){const Y=this.getItemIndexFromEventTarget(le.target||null),$=typeof Y=="undefined"?void 0:this.items[Y],G=$&&$.element;return{browserEvent:le,index:Y,element:G}}onScroll(le){try{const Y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(Y,le.scrollTop,le.height,le.scrollLeft,le.scrollWidth),this.supportDynamicHeights&&this._rerender(le.scrollTop,le.height,le.inSmoothScrolling)}catch(Y){throw console.error("Got bad scroll event:",le),Y}}onTouchChange(le){le.preventDefault(),le.stopPropagation(),this.scrollTop-=le.translationY}onDragStart(le,Y,$){if(!$.dataTransfer)return;const G=this.dnd.getDragElements(le);if($.dataTransfer.effectAllowed="copyMove",$.dataTransfer.setData(O.go.TEXT,Y),$.dataTransfer.setDragImage){let ee;this.dnd.getDragLabel&&(ee=this.dnd.getDragLabel(G,$)),typeof ee=="undefined"&&(ee=String(G.length));const m=(0,Q.$)(".monaco-drag-image");m.textContent=ee,document.body.appendChild(m),$.dataTransfer.setDragImage(m,-10,-10),setTimeout(()=>document.body.removeChild(m),0)}this.currentDragData=new B(G),O.P$.CurrentDragAndDropData=new j(G),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,$)}onDragOver(le){if(le.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),O.P$.CurrentDragAndDropData&&O.P$.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(le.browserEvent),!le.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(O.P$.CurrentDragAndDropData)this.currentDragData=O.P$.CurrentDragAndDropData;else{if(!le.browserEvent.dataTransfer.types)return!1;this.currentDragData=new te}const Y=this.dnd.onDragOver(this.currentDragData,le.element,le.index,le.browserEvent);if(this.canDrop=typeof Y=="boolean"?Y:Y.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;le.browserEvent.dataTransfer.dropEffect=typeof Y!="boolean"&&Y.effect===0?"copy":"move";let $;if(typeof Y!="boolean"&&Y.feedback?$=Y.feedback:typeof le.index=="undefined"?$=[-1]:$=[le.index],$=(0,R.EB)($).filter(G=>G>=-1&&G<this.length).sort((G,ee)=>G-ee),$=$[0]===-1?[-1]:$,ce(this.currentDragFeedback,$))return!0;if(this.currentDragFeedback=$,this.currentDragFeedbackDisposable.dispose(),$[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,g.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const G of $){const ee=this.items[G];ee.dropTarget=!0,ee.row&&ee.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,g.OF)(()=>{for(const G of $){const ee=this.items[G];ee.dropTarget=!1,ee.row&&ee.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(le){var Y,$;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,W.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(($=(Y=this.dnd).onDragLeave)===null||$===void 0||$.call(Y,this.currentDragData,le.element,le.index,le.browserEvent))}onDrop(le){if(!this.canDrop)return;const Y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,O.P$.CurrentDragAndDropData=void 0,!(!Y||!le.browserEvent.dataTransfer)&&(le.browserEvent.preventDefault(),Y.update(le.browserEvent.dataTransfer),this.dnd.drop(Y,le.element,le.index,le.browserEvent))}onDragEnd(le){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,O.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(le)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=g.JT.None}setupDragAndDropScrollTopAnimation(le){if(!this.dragOverAnimationDisposable){const Y=(0,Q.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Q.jt)(this.animateDragAndDropScrollTop.bind(this,Y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,W.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=le.pageY}animateDragAndDropScrollTop(le){if(this.dragOverMouseY===void 0)return;const Y=this.dragOverMouseY-le,$=this.renderHeight-35;Y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(Y-35))):Y>$&&(this.scrollTop+=Math.min(14,Math.floor(.3*(Y-$))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(le){const Y=this.scrollableElement.getDomNode();let $=le;for(;$ instanceof HTMLElement&&$!==this.rowsContainer&&Y.contains($);){const G=$.getAttribute("data-index");if(G){const ee=Number(G);if(!isNaN(ee))return ee}$=$.parentElement}}getRenderRange(le,Y){return{start:this.rangeMap.indexAt(le),end:this.rangeMap.indexAfter(le+Y-1)}}_rerender(le,Y,$){const G=this.getRenderRange(le,Y);let ee,m;le===this.elementTop(G.start)?(ee=G.start,m=0):G.end-G.start>1&&(ee=G.start+1,m=this.elementTop(ee)-le);let w=0;for(;;){const F=this.getRenderRange(le,Y);let ie=!1;for(let pe=F.start;pe<F.end;pe++){const ue=this.probeDynamicHeight(pe);ue!==0&&this.rangeMap.splice(pe,1,[this.items[pe]]),w+=ue,ie=ie||ue!==0}if(!ie){w!==0&&this.eventuallyUpdateScrollDimensions();const pe=H.e.relativeComplement(G,F);for(const ke of pe)for(let Te=ke.start;Te<ke.end;Te++)this.items[Te].row&&this.removeItemFromDOM(Te);const ue=H.e.relativeComplement(F,G);for(const ke of ue)for(let Te=ke.start;Te<ke.end;Te++){const rt=Te+1,Rt=rt<this.items.length?this.items[rt].row:null,mt=Rt?Rt.domNode:null;this.insertItemInDOM(Te,mt)}for(let ke=F.start;ke<F.end;ke++)this.items[ke].row&&this.updateItemInDOM(this.items[ke],ke);if(typeof ee=="number"){const ke=this.scrollable.getFutureScrollPosition().scrollTop-le,Te=this.elementTop(ee)-m+ke;this.setScrollTop(Te,$)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(le){const Y=this.items[le];if(this.virtualDelegate.getDynamicHeight){const m=this.virtualDelegate.getDynamicHeight(Y.element);if(m!==null){const w=Y.size;return Y.size=m,Y.lastDynamicHeightWidth=this.renderWidth,m-w}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;const $=Y.size;if(!this.setRowHeight&&Y.row){let m=Y.row.domNode.offsetHeight;return Y.size=m,Y.lastDynamicHeightWidth=this.renderWidth,m-$}const G=this.cache.alloc(Y.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const ee=this.renderers.get(Y.templateId);return ee&&(ee.renderElement(Y.element,le,G.templateData,void 0),ee.disposeElement&&ee.disposeElement(Y.element,le,G.templateData,void 0)),Y.size=G.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Y.size-$}getNextToLastElement(le){const Y=le[le.length-1];if(!Y)return null;const $=this.items[Y.end];return!$||!$.row?null:$.row.domNode}getElementDomId(le){return`${this.domId}_${le}`}dispose(){if(this.items){for(const le of this.items)if(le.row){const Y=this.renderers.get(le.row.templateId);Y&&(Y.disposeElement&&Y.disposeElement(le.element,-1,le.row.templateData,void 0),Y.disposeTemplate(le.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,g.B9)(this.disposables)}}Ce.InstanceCount=0,y([s.H],Ce.prototype,"onMouseClick",null),y([s.H],Ce.prototype,"onMouseDblClick",null),y([s.H],Ce.prototype,"onMouseMiddleClick",null),y([s.H],Ce.prototype,"onMouseDown",null),y([s.H],Ce.prototype,"onContextMenu",null),y([s.H],Ce.prototype,"onTouchStart",null),y([s.H],Ce.prototype,"onTap",null)},69047:function(ti,Ge,c){"use strict";c.d(Ge,{WK:function(){return le},wD:function(){return ie},aV:function(){return Je},sx:function(){return F},cK:function(){return ce},hD:function(){return _e},wn:function(){return ee},Zo:function(){return G}});var D=c(65321),O=c(4850),Q=c(59069),P=c(10553),L=c(35996);class J{constructor(ge){this.spliceables=ge}splice(ge,Re,ot){this.spliceables.forEach(dt=>dt.splice(ge,Re,ot))}}var R=c(9488),W=c(15393),s=c(41264),T=c(49898),g=c(4669),E=c(75392),H=c(5976),r=c(59870),N=c(36248),C=c(1432),x=c(98401),f=c(5520);class _ extends Error{constructor(ge,Re){super(`ListError [${ge}] ${Re}`)}}var S=c(72010),h=function(Ae,ge,Re,ot){var dt=arguments.length,lt=dt<3?ge:ot===null?ot=Object.getOwnPropertyDescriptor(ge,Re):ot,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(Ae,ge,Re,ot);else for(var Pe=Ae.length-1;Pe>=0;Pe--)(Ie=Ae[Pe])&&(lt=(dt<3?Ie(lt):dt>3?Ie(ge,Re,lt):Ie(ge,Re))||lt);return dt>3&&lt&&Object.defineProperty(ge,Re,lt),lt},y=function(Ae,ge,Re,ot){function dt(lt){return lt instanceof Re?lt:new Re(function(Ie){Ie(lt)})}return new(Re||(Re=Promise))(function(lt,Ie){function Pe(st){try{Xe(ot.next(st))}catch(Pt){Ie(Pt)}}function ye(st){try{Xe(ot.throw(st))}catch(Pt){Ie(Pt)}}function Xe(st){st.done?lt(st.value):dt(st.value).then(Pe,ye)}Xe((ot=ot.apply(Ae,ge||[])).next())})};class v{constructor(ge){this.trait=ge,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(ge){return ge}renderElement(ge,Re,ot){const dt=this.renderedElements.findIndex(lt=>lt.templateData===ot);if(dt>=0){const lt=this.renderedElements[dt];this.trait.unrender(ot),lt.index=Re}else{const lt={index:Re,templateData:ot};this.renderedElements.push(lt)}this.trait.renderIndex(Re,ot)}splice(ge,Re,ot){const dt=[];for(const lt of this.renderedElements)lt.index<ge?dt.push(lt):lt.index>=ge+Re&&dt.push({index:lt.index+ot-Re,templateData:lt.templateData});this.renderedElements=dt}renderIndexes(ge){for(const{index:Re,templateData:ot}of this.renderedElements)ge.indexOf(Re)>-1&&this.trait.renderIndex(Re,ot)}disposeTemplate(ge){const Re=this.renderedElements.findIndex(ot=>ot.templateData===ge);Re<0||this.renderedElements.splice(Re,1)}}class B{constructor(ge){this._trait=ge,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new g.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new v(this)}splice(ge,Re,ot){var dt;Re=Math.max(0,Math.min(Re,this.length-ge));const lt=ot.length-Re,Ie=ge+Re,Pe=[...this.sortedIndexes.filter(Xe=>Xe<ge),...ot.map((Xe,st)=>Xe?st+ge:-1).filter(Xe=>Xe!==-1),...this.sortedIndexes.filter(Xe=>Xe>=Ie).map(Xe=>Xe+lt)],ye=this.length+lt;if(this.sortedIndexes.length>0&&Pe.length===0&&ye>0){const Xe=(dt=this.sortedIndexes.find(st=>st>=ge))!==null&&dt!==void 0?dt:ye-1;Pe.push(Math.min(Xe,ye-1))}this.renderer.splice(ge,Re,ot.length),this._set(Pe,Pe),this.length=ye}renderIndex(ge,Re){Re.classList.toggle(this._trait,this.contains(ge))}unrender(ge){ge.classList.remove(this._trait)}set(ge,Re){return this._set(ge,[...ge].sort(Rt),Re)}_set(ge,Re,ot){const dt=this.indexes,lt=this.sortedIndexes;this.indexes=ge,this.sortedIndexes=Re;const Ie=Te(lt,ge);return this.renderer.renderIndexes(Ie),this._onChange.fire({indexes:ge,browserEvent:ot}),dt}get(){return this.indexes}contains(ge){return(0,R.ry)(this.sortedIndexes,ge,Rt)>=0}dispose(){(0,H.B9)(this._onChange)}}h([T.H],B.prototype,"renderer",null);class j extends B{constructor(ge){super("selected"),this.setAriaSelected=ge}renderIndex(ge,Re){super.renderIndex(ge,Re),this.setAriaSelected&&(this.contains(ge)?Re.setAttribute("aria-selected","true"):Re.setAttribute("aria-selected","false"))}}class te{constructor(ge,Re,ot){this.trait=ge,this.view=Re,this.identityProvider=ot}splice(ge,Re,ot){if(!this.identityProvider)return this.trait.splice(ge,Re,ot.map(()=>!1));const dt=this.trait.get().map(Ie=>this.identityProvider.getId(this.view.element(Ie)).toString()),lt=ot.map(Ie=>dt.indexOf(this.identityProvider.getId(Ie).toString())>-1);this.trait.splice(ge,Re,lt)}}function ce(Ae){return Ae.tagName==="INPUT"||Ae.tagName==="TEXTAREA"}function _e(Ae){return Ae.classList.contains("monaco-editor")?!0:Ae.classList.contains("monaco-list")||!Ae.parentElement?!1:_e(Ae.parentElement)}class Ce{constructor(ge,Re,ot){this.list=ge,this.view=Re,this.disposables=new H.SL,this.multipleSelectionDisposables=new H.SL,this.onKeyDown.filter(dt=>dt.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(dt=>dt.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(dt=>dt.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(dt=>dt.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(dt=>dt.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(dt=>dt.keyCode===9).on(this.onEscape,this,this.disposables),ot.multipleSelectionSupport!==!1&&this.onKeyDown.filter(dt=>(C.dz?dt.metaKey:dt.ctrlKey)&&dt.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return g.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keydown")).event).filter(ge=>!ce(ge.target)).map(ge=>new Q.y(ge))}updateOptions(ge){ge.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),ge.multipleSelectionSupport&&this.onKeyDown.filter(Re=>(C.dz?Re.metaKey:Re.ctrlKey)&&Re.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ge){ge.preventDefault(),ge.stopPropagation(),this.list.setSelection(this.list.getFocus(),ge.browserEvent)}onUpArrow(ge){ge.preventDefault(),ge.stopPropagation(),this.list.focusPrevious(1,!1,ge.browserEvent);const Re=this.list.getFocus()[0];this.list.setAnchor(Re),this.list.reveal(Re),this.view.domNode.focus()}onDownArrow(ge){ge.preventDefault(),ge.stopPropagation(),this.list.focusNext(1,!1,ge.browserEvent);const Re=this.list.getFocus()[0];this.list.setAnchor(Re),this.list.reveal(Re),this.view.domNode.focus()}onPageUpArrow(ge){ge.preventDefault(),ge.stopPropagation(),this.list.focusPreviousPage(ge.browserEvent);const Re=this.list.getFocus()[0];this.list.setAnchor(Re),this.list.reveal(Re),this.view.domNode.focus()}onPageDownArrow(ge){ge.preventDefault(),ge.stopPropagation(),this.list.focusNextPage(ge.browserEvent);const Re=this.list.getFocus()[0];this.list.setAnchor(Re),this.list.reveal(Re),this.view.domNode.focus()}onCtrlA(ge){ge.preventDefault(),ge.stopPropagation(),this.list.setSelection((0,R.w6)(this.list.length),ge.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ge){this.list.getSelection().length&&(ge.preventDefault(),ge.stopPropagation(),this.list.setSelection([],ge.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}h([T.H],Ce.prototype,"onKeyDown",null);var Ee;(function(Ae){Ae[Ae.Idle=0]="Idle",Ae[Ae.Typing=1]="Typing"})(Ee||(Ee={}));const le=new class{mightProducePrintableCharacter(Ae){return Ae.ctrlKey||Ae.metaKey||Ae.altKey?!1:Ae.keyCode>=31&&Ae.keyCode<=56||Ae.keyCode>=21&&Ae.keyCode<=30||Ae.keyCode>=93&&Ae.keyCode<=102||Ae.keyCode>=80&&Ae.keyCode<=90}};class Y{constructor(ge,Re,ot,dt){this.list=ge,this.view=Re,this.keyboardNavigationLabelProvider=ot,this.delegate=dt,this.enabled=!1,this.state=Ee.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new H.SL,this.disposables=new H.SL,this.updateOptions(ge.options)}updateOptions(ge){(typeof ge.enableKeyboardNavigation=="undefined"?!0:!!ge.enableKeyboardNavigation)?this.enable():this.disable(),typeof ge.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=ge.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const ge=g.ju.chain(this.enabledDisposables.add(new O.Y(this.view.domNode,"keydown")).event).filter(dt=>!ce(dt.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(dt=>new Q.y(dt)).filter(dt=>this.delegate.mightProducePrintableCharacter(dt)).forEach(dt=>{dt.stopPropagation(),dt.preventDefault()}).map(dt=>dt.browserEvent.key).event,Re=g.ju.debounce(ge,()=>null,800);g.ju.reduce(g.ju.any(ge,Re),(dt,lt)=>lt===null?null:(dt||"")+lt)(this.onInput,this,this.enabledDisposables),Re(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ge;const Re=this.list.getFocus();if(Re.length>0&&Re[0]===this.previouslyFocused){const ot=(ge=this.list.options.accessibilityProvider)===null||ge===void 0?void 0:ge.getAriaLabel(this.list.element(Re[0]));ot&&(0,L.Z9)(ot)}this.previouslyFocused=-1}onInput(ge){if(!ge){this.state=Ee.Idle,this.triggered=!1;return}const Re=this.list.getFocus(),ot=Re.length>0?Re[0]:0,dt=this.state===Ee.Idle?1:0;this.state=Ee.Typing;for(let lt=0;lt<this.list.length;lt++){const Ie=(ot+lt+dt)%this.list.length,Pe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ie)),ye=Pe&&Pe.toString();if(typeof ye=="undefined"||(0,E.Ji)(ge,ye)){this.previouslyFocused=ot,this.list.setFocus([Ie]),this.list.reveal(Ie);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class ${constructor(ge,Re){this.list=ge,this.view=Re,this.disposables=new H.SL,g.ju.chain(this.disposables.add(new O.Y(Re.domNode,"keydown")).event).filter(dt=>!ce(dt.target)).map(dt=>new Q.y(dt)).filter(dt=>dt.keyCode===2&&!dt.ctrlKey&&!dt.metaKey&&!dt.shiftKey&&!dt.altKey).on(this.onTab,this,this.disposables)}onTab(ge){if(ge.target!==this.view.domNode)return;const Re=this.list.getFocus();if(Re.length===0)return;const ot=this.view.domElement(Re[0]);if(!ot)return;const dt=ot.querySelector("[tabIndex]");if(!dt||!(dt instanceof HTMLElement)||dt.tabIndex===-1)return;const lt=window.getComputedStyle(dt);lt.visibility==="hidden"||lt.display==="none"||(ge.preventDefault(),ge.stopPropagation(),dt.focus())}dispose(){this.disposables.dispose()}}function G(Ae){return C.dz?Ae.browserEvent.metaKey:Ae.browserEvent.ctrlKey}function ee(Ae){return Ae.browserEvent.shiftKey}function m(Ae){return Ae instanceof MouseEvent&&Ae.button===2}const w={isSelectionSingleChangeEvent:G,isSelectionRangeChangeEvent:ee};class F{constructor(ge){this.list=ge,this.disposables=new H.SL,this._onPointer=new g.Q5,this.onPointer=this._onPointer.event,ge.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||w),this.mouseSupport=typeof ge.options.mouseSupport=="undefined"||!!ge.options.mouseSupport,this.mouseSupport&&(ge.onMouseDown(this.onMouseDown,this,this.disposables),ge.onContextMenu(this.onContextMenu,this,this.disposables),ge.onMouseDblClick(this.onDoubleClick,this,this.disposables),ge.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(P.o.addTarget(ge.getHTMLElement()))),g.ju.any(ge.onMouseClick,ge.onMouseMiddleClick,ge.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ge){ge.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,ge.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||w))}isSelectionSingleChangeEvent(ge){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(ge):!1}isSelectionRangeChangeEvent(ge){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(ge):!1}isSelectionChangeEvent(ge){return this.isSelectionSingleChangeEvent(ge)||this.isSelectionRangeChangeEvent(ge)}onMouseDown(ge){_e(ge.browserEvent.target)||document.activeElement!==ge.browserEvent.target&&this.list.domFocus()}onContextMenu(ge){if(_e(ge.browserEvent.target))return;const Re=typeof ge.index=="undefined"?[]:[ge.index];this.list.setFocus(Re,ge.browserEvent)}onViewPointer(ge){if(!this.mouseSupport||ce(ge.browserEvent.target)||_e(ge.browserEvent.target))return;const Re=ge.index;if(typeof Re=="undefined"){this.list.setFocus([],ge.browserEvent),this.list.setSelection([],ge.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(ge))return this.changeSelection(ge);if(this.isSelectionChangeEvent(ge))return this.changeSelection(ge);this.list.setFocus([Re],ge.browserEvent),this.list.setAnchor(Re),m(ge.browserEvent)||this.list.setSelection([Re],ge.browserEvent),this._onPointer.fire(ge)}onDoubleClick(ge){if(ce(ge.browserEvent.target)||_e(ge.browserEvent.target)||this.isSelectionChangeEvent(ge))return;const Re=this.list.getFocus();this.list.setSelection(Re,ge.browserEvent)}changeSelection(ge){const Re=ge.index;let ot=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ge)){if(typeof ot=="undefined"){const st=this.list.getFocus()[0];ot=st!=null?st:Re,this.list.setAnchor(ot)}const dt=Math.min(ot,Re),lt=Math.max(ot,Re),Ie=(0,R.w6)(dt,lt+1),Pe=this.list.getSelection(),ye=ke(Te(Pe,[ot]),ot);if(ye.length===0)return;const Xe=Te(Ie,rt(Pe,ye));this.list.setSelection(Xe,ge.browserEvent),this.list.setFocus([Re],ge.browserEvent)}else if(this.isSelectionSingleChangeEvent(ge)){const dt=this.list.getSelection(),lt=dt.filter(Ie=>Ie!==Re);this.list.setFocus([Re]),this.list.setAnchor(Re),dt.length===lt.length?this.list.setSelection([...lt,Re],ge.browserEvent):this.list.setSelection(lt,ge.browserEvent)}}dispose(){this.disposables.dispose()}}class ie{constructor(ge,Re){this.styleElement=ge,this.selectorSuffix=Re}style(ge){const Re=this.selectorSuffix&&`.${this.selectorSuffix}`,ot=[];ge.listBackground&&(ge.listBackground.isOpaque()?ot.push(`.monaco-list${Re} .monaco-list-rows { background: ${ge.listBackground}; }`):C.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ge.listFocusBackground&&(ot.push(`.monaco-list${Re}:focus .monaco-list-row.focused { background-color: ${ge.listFocusBackground}; }`),ot.push(`.monaco-list${Re}:focus .monaco-list-row.focused:hover { background-color: ${ge.listFocusBackground}; }`)),ge.listFocusForeground&&ot.push(`.monaco-list${Re}:focus .monaco-list-row.focused { color: ${ge.listFocusForeground}; }`),ge.listActiveSelectionBackground&&(ot.push(`.monaco-list${Re}:focus .monaco-list-row.selected { background-color: ${ge.listActiveSelectionBackground}; }`),ot.push(`.monaco-list${Re}:focus .monaco-list-row.selected:hover { background-color: ${ge.listActiveSelectionBackground}; }`)),ge.listActiveSelectionForeground&&ot.push(`.monaco-list${Re}:focus .monaco-list-row.selected { color: ${ge.listActiveSelectionForeground}; }`),ge.listActiveSelectionIconForeground&&ot.push(`.monaco-list${Re}:focus .monaco-list-row.selected .codicon { color: ${ge.listActiveSelectionIconForeground}; }`),ge.listFocusAndSelectionBackground&&ot.push(`
				.monaco-drag-image,
				.monaco-list${Re}:focus .monaco-list-row.selected.focused { background-color: ${ge.listFocusAndSelectionBackground}; }
			`),ge.listFocusAndSelectionForeground&&ot.push(`
				.monaco-drag-image,
				.monaco-list${Re}:focus .monaco-list-row.selected.focused { color: ${ge.listFocusAndSelectionForeground}; }
			`),ge.listInactiveFocusForeground&&(ot.push(`.monaco-list${Re} .monaco-list-row.focused { color:  ${ge.listInactiveFocusForeground}; }`),ot.push(`.monaco-list${Re} .monaco-list-row.focused:hover { color:  ${ge.listInactiveFocusForeground}; }`)),ge.listInactiveSelectionIconForeground&&ot.push(`.monaco-list${Re} .monaco-list-row.focused .codicon { color:  ${ge.listInactiveSelectionIconForeground}; }`),ge.listInactiveFocusBackground&&(ot.push(`.monaco-list${Re} .monaco-list-row.focused { background-color:  ${ge.listInactiveFocusBackground}; }`),ot.push(`.monaco-list${Re} .monaco-list-row.focused:hover { background-color:  ${ge.listInactiveFocusBackground}; }`)),ge.listInactiveSelectionBackground&&(ot.push(`.monaco-list${Re} .monaco-list-row.selected { background-color:  ${ge.listInactiveSelectionBackground}; }`),ot.push(`.monaco-list${Re} .monaco-list-row.selected:hover { background-color:  ${ge.listInactiveSelectionBackground}; }`)),ge.listInactiveSelectionForeground&&ot.push(`.monaco-list${Re} .monaco-list-row.selected { color: ${ge.listInactiveSelectionForeground}; }`),ge.listHoverBackground&&ot.push(`.monaco-list${Re}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ge.listHoverBackground}; }`),ge.listHoverForeground&&ot.push(`.monaco-list${Re} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ge.listHoverForeground}; }`),ge.listSelectionOutline&&ot.push(`.monaco-list${Re} .monaco-list-row.selected { outline: 1px dotted ${ge.listSelectionOutline}; outline-offset: -1px; }`),ge.listFocusOutline&&ot.push(`
				.monaco-drag-image,
				.monaco-list${Re}:focus .monaco-list-row.focused { outline: 1px solid ${ge.listFocusOutline}; outline-offset: -1px; }
			`),ge.listInactiveFocusOutline&&ot.push(`.monaco-list${Re} .monaco-list-row.focused { outline: 1px dotted ${ge.listInactiveFocusOutline}; outline-offset: -1px; }`),ge.listHoverOutline&&ot.push(`.monaco-list${Re} .monaco-list-row:hover { outline: 1px dashed ${ge.listHoverOutline}; outline-offset: -1px; }`),ge.listDropBackground&&ot.push(`
				.monaco-list${Re}.drop-target,
				.monaco-list${Re} .monaco-list-rows.drop-target,
				.monaco-list${Re} .monaco-list-row.drop-target { background-color: ${ge.listDropBackground} !important; color: inherit !important; }
			`),ge.listFilterWidgetBackground&&ot.push(`.monaco-list-type-filter { background-color: ${ge.listFilterWidgetBackground} }`),ge.listFilterWidgetOutline&&ot.push(`.monaco-list-type-filter { border: 1px solid ${ge.listFilterWidgetOutline}; }`),ge.listFilterWidgetNoMatchesOutline&&ot.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${ge.listFilterWidgetNoMatchesOutline}; }`),ge.listMatchesShadow&&ot.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${ge.listMatchesShadow}; }`),ge.tableColumnsBorder&&ot.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${ge.tableColumnsBorder};
			}`),this.styleElement.textContent=ot.join(`
`)}}const pe={listFocusBackground:s.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:s.Il.fromHex("#0E639C"),listActiveSelectionForeground:s.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:s.Il.fromHex("#094771"),listFocusAndSelectionForeground:s.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listHoverBackground:s.Il.fromHex("#2A2D2E"),listDropBackground:s.Il.fromHex("#383B3D"),treeIndentGuidesStroke:s.Il.fromHex("#a9a9a9"),tableColumnsBorder:s.Il.fromHex("#cccccc").transparent(.2)},ue={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function ke(Ae,ge){const Re=Ae.indexOf(ge);if(Re===-1)return[];const ot=[];let dt=Re-1;for(;dt>=0&&Ae[dt]===ge-(Re-dt);)ot.push(Ae[dt--]);for(ot.reverse(),dt=Re;dt<Ae.length&&Ae[dt]===ge+(dt-Re);)ot.push(Ae[dt++]);return ot}function Te(Ae,ge){const Re=[];let ot=0,dt=0;for(;ot<Ae.length||dt<ge.length;)if(ot>=Ae.length)Re.push(ge[dt++]);else if(dt>=ge.length)Re.push(Ae[ot++]);else if(Ae[ot]===ge[dt]){Re.push(Ae[ot]),ot++,dt++;continue}else Ae[ot]<ge[dt]?Re.push(Ae[ot++]):Re.push(ge[dt++]);return Re}function rt(Ae,ge){const Re=[];let ot=0,dt=0;for(;ot<Ae.length||dt<ge.length;)if(ot>=Ae.length)Re.push(ge[dt++]);else if(dt>=ge.length)Re.push(Ae[ot++]);else if(Ae[ot]===ge[dt]){ot++,dt++;continue}else Ae[ot]<ge[dt]?Re.push(Ae[ot++]):dt++;return Re}const Rt=(Ae,ge)=>Ae-ge;class mt{constructor(ge,Re){this._templateId=ge,this.renderers=Re}get templateId(){return this._templateId}renderTemplate(ge){return this.renderers.map(Re=>Re.renderTemplate(ge))}renderElement(ge,Re,ot,dt){let lt=0;for(const Ie of this.renderers)Ie.renderElement(ge,Re,ot[lt++],dt)}disposeElement(ge,Re,ot,dt){let lt=0;for(const Ie of this.renderers)Ie.disposeElement&&Ie.disposeElement(ge,Re,ot[lt],dt),lt+=1}disposeTemplate(ge){let Re=0;for(const ot of this.renderers)ot.disposeTemplate(ge[Re++])}}class Mt{constructor(ge){this.accessibilityProvider=ge,this.templateId="a18n"}renderTemplate(ge){return ge}renderElement(ge,Re,ot){const dt=this.accessibilityProvider.getAriaLabel(ge);dt?ot.setAttribute("aria-label",dt):ot.removeAttribute("aria-label");const lt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ge);typeof lt=="number"?ot.setAttribute("aria-level",`${lt}`):ot.removeAttribute("aria-level")}disposeTemplate(ge){}}class it{constructor(ge,Re){this.list=ge,this.dnd=Re}getDragElements(ge){const Re=this.list.getSelectedElements();return Re.indexOf(ge)>-1?Re:[ge]}getDragURI(ge){return this.dnd.getDragURI(ge)}getDragLabel(ge,Re){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ge,Re)}onDragStart(ge,Re){this.dnd.onDragStart&&this.dnd.onDragStart(ge,Re)}onDragOver(ge,Re,ot,dt){return this.dnd.onDragOver(ge,Re,ot,dt)}onDragLeave(ge,Re,ot,dt){var lt,Ie;(Ie=(lt=this.dnd).onDragLeave)===null||Ie===void 0||Ie.call(lt,ge,Re,ot,dt)}onDragEnd(ge){this.dnd.onDragEnd&&this.dnd.onDragEnd(ge)}drop(ge,Re,ot,dt){this.dnd.drop(ge,Re,ot,dt)}}class Je{constructor(ge,Re,ot,dt,lt=ue){var Ie;this.user=ge,this._options=lt,this.focus=new B("focused"),this.anchor=new B("anchor"),this.eventBufferer=new g.E7,this._ariaLabel="",this.disposables=new H.SL,this._onDidDispose=new g.Q5,this.onDidDispose=this._onDidDispose.event;const Pe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Ie=this._options.accessibilityProvider)===null||Ie===void 0?void 0:Ie.getWidgetRole():"list";this.selection=new j(Pe!=="listbox"),(0,N.jB)(lt,pe,!1);const ye=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=lt.accessibilityProvider,this.accessibilityProvider&&(ye.push(new Mt(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),dt=dt.map(st=>new mt(st.templateId,[...ye,st]));const Xe=Object.assign(Object.assign({},lt),{dnd:lt.dnd&&new it(this,lt.dnd)});if(this.view=new S.Bv(Re,ot,dt,Xe),this.view.domNode.setAttribute("role",Pe),lt.styleController)this.styleController=lt.styleController(this.view.domId);else{const st=(0,D.dS)(this.view.domNode);this.styleController=new ie(st,this.view.domId)}if(this.spliceable=new J([new te(this.focus,this.view,lt.identityProvider),new te(this.selection,this.view,lt.identityProvider),new te(this.anchor,this.view,lt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new $(this,this.view)),(typeof lt.keyboardSupport!="boolean"||lt.keyboardSupport)&&(this.keyboardController=new Ce(this,this.view,lt),this.disposables.add(this.keyboardController)),lt.keyboardNavigationLabelProvider){const st=lt.keyboardNavigationDelegate||le;this.typeLabelController=new Y(this,this.view,lt.keyboardNavigationLabelProvider,st),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(lt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return g.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ge=>this.toListEvent(ge))}get onDidChangeSelection(){return g.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ge=>this.toListEvent(ge))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ge=!1;const Re=g.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keydown")).event).map(lt=>new Q.y(lt)).filter(lt=>ge=lt.keyCode===58||lt.shiftKey&&lt.keyCode===68).map(O.p).filter(()=>!1).event,ot=g.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keyup")).event).forEach(()=>ge=!1).map(lt=>new Q.y(lt)).filter(lt=>lt.keyCode===58||lt.shiftKey&&lt.keyCode===68).map(O.p).map(({browserEvent:lt})=>{const Ie=this.getFocus(),Pe=Ie.length?Ie[0]:void 0,ye=typeof Pe!="undefined"?this.view.element(Pe):void 0,Xe=typeof Pe!="undefined"?this.view.domElement(Pe):this.view.domNode;return{index:Pe,element:ye,anchor:Xe,browserEvent:lt}}).event,dt=g.ju.chain(this.view.onContextMenu).filter(lt=>!ge).map(({element:lt,index:Ie,browserEvent:Pe})=>({element:lt,index:Ie,anchor:{x:Pe.pageX+1,y:Pe.pageY},browserEvent:Pe})).event;return g.ju.any(Re,ot,dt)}get onKeyDown(){return this.disposables.add(new O.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return g.ju.signal(this.disposables.add(new O.Y(this.view.domNode,"focus",!0)).event)}createMouseController(ge){return new F(this)}updateOptions(ge={}){var Re;this._options=Object.assign(Object.assign({},this._options),ge),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ge),(Re=this.keyboardController)===null||Re===void 0||Re.updateOptions(ge),this.view.updateOptions(ge)}get options(){return this._options}splice(ge,Re,ot=[]){if(ge<0||ge>this.view.length)throw new _(this.user,`Invalid start index: ${ge}`);if(Re<0)throw new _(this.user,`Invalid delete count: ${Re}`);Re===0&&ot.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ge,Re,ot))}rerender(){this.view.rerender()}element(ge){return this.view.element(ge)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ge){this.view.setScrollTop(ge)}get ariaLabel(){return this._ariaLabel}set ariaLabel(ge){this._ariaLabel=ge,this.view.domNode.setAttribute("aria-label",ge)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ge,Re){this.view.layout(ge,Re)}setSelection(ge,Re){for(const ot of ge)if(ot<0||ot>=this.length)throw new _(this.user,`Invalid index ${ot}`);this.selection.set(ge,Re)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ge=>this.view.element(ge))}setAnchor(ge){if(typeof ge=="undefined"){this.anchor.set([]);return}if(ge<0||ge>=this.length)throw new _(this.user,`Invalid index ${ge}`);this.anchor.set([ge])}getAnchor(){return(0,R.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ge=this.getAnchor();return typeof ge=="undefined"?void 0:this.element(ge)}setFocus(ge,Re){for(const ot of ge)if(ot<0||ot>=this.length)throw new _(this.user,`Invalid index ${ot}`);this.focus.set(ge,Re)}focusNext(ge=1,Re=!1,ot,dt){if(this.length===0)return;const lt=this.focus.get(),Ie=this.findNextIndex(lt.length>0?lt[0]+ge:0,Re,dt);Ie>-1&&this.setFocus([Ie],ot)}focusPrevious(ge=1,Re=!1,ot,dt){if(this.length===0)return;const lt=this.focus.get(),Ie=this.findPreviousIndex(lt.length>0?lt[0]-ge:0,Re,dt);Ie>-1&&this.setFocus([Ie],ot)}focusNextPage(ge,Re){return y(this,void 0,void 0,function*(){let ot=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ot=ot===0?0:ot-1;const dt=this.view.element(ot),lt=this.getFocusedElements()[0];if(lt!==dt){const Ie=this.findPreviousIndex(ot,!1,Re);Ie>-1&&lt!==this.view.element(Ie)?this.setFocus([Ie],ge):this.setFocus([ot],ge)}else{const Ie=this.view.getScrollTop();this.view.setScrollTop(Ie+this.view.renderHeight-this.view.elementHeight(ot)),this.view.getScrollTop()!==Ie&&(this.setFocus([]),yield(0,W.Vs)(0),yield this.focusNextPage(ge,Re))}})}focusPreviousPage(ge,Re){return y(this,void 0,void 0,function*(){let ot;const dt=this.view.getScrollTop();dt===0?ot=this.view.indexAt(dt):ot=this.view.indexAfter(dt-1);const lt=this.view.element(ot),Ie=this.getFocusedElements()[0];if(Ie!==lt){const Pe=this.findNextIndex(ot,!1,Re);Pe>-1&&Ie!==this.view.element(Pe)?this.setFocus([Pe],ge):this.setFocus([ot],ge)}else{const Pe=dt;this.view.setScrollTop(dt-this.view.renderHeight),this.view.getScrollTop()!==Pe&&(this.setFocus([]),yield(0,W.Vs)(0),yield this.focusPreviousPage(ge,Re))}})}focusLast(ge,Re){if(this.length===0)return;const ot=this.findPreviousIndex(this.length-1,!1,Re);ot>-1&&this.setFocus([ot],ge)}focusFirst(ge,Re){this.focusNth(0,ge,Re)}focusNth(ge,Re,ot){if(this.length===0)return;const dt=this.findNextIndex(ge,!1,ot);dt>-1&&this.setFocus([dt],Re)}findNextIndex(ge,Re=!1,ot){for(let dt=0;dt<this.length;dt++){if(ge>=this.length&&!Re)return-1;if(ge=ge%this.length,!ot||ot(this.element(ge)))return ge;ge++}return-1}findPreviousIndex(ge,Re=!1,ot){for(let dt=0;dt<this.length;dt++){if(ge<0&&!Re)return-1;if(ge=(this.length+ge%this.length)%this.length,!ot||ot(this.element(ge)))return ge;ge--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ge=>this.view.element(ge))}reveal(ge,Re){if(ge<0||ge>=this.length)throw new _(this.user,`Invalid index ${ge}`);const ot=this.view.getScrollTop(),dt=this.view.elementTop(ge),lt=this.view.elementHeight(ge);if((0,x.hj)(Re)){const Ie=lt-this.view.renderHeight;this.view.setScrollTop(Ie*(0,r.u)(Re,0,1)+dt)}else{const Ie=dt+lt,Pe=ot+this.view.renderHeight;dt<ot&&Ie>=Pe||(dt<ot||Ie>=Pe&&lt>=this.view.renderHeight?this.view.setScrollTop(dt):Ie>=Pe&&this.view.setScrollTop(Ie-this.view.renderHeight))}}getRelativeTop(ge){if(ge<0||ge>=this.length)throw new _(this.user,`Invalid index ${ge}`);const Re=this.view.getScrollTop(),ot=this.view.elementTop(ge),dt=this.view.elementHeight(ge);if(ot<Re||ot+dt>Re+this.view.renderHeight)return null;const lt=dt-this.view.renderHeight;return Math.abs((Re-ot)/lt)}getHTMLElement(){return this.view.domNode}style(ge){this.styleController.style(ge)}toListEvent({indexes:ge,browserEvent:Re}){return{indexes:ge,elements:ge.map(ot=>this.view.element(ot)),browserEvent:Re}}_onFocusChange(){const ge=this.focus.get();this.view.domNode.classList.toggle("element-focused",ge.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ge;const Re=this.focus.get();if(Re.length>0){let ot;!((ge=this.accessibilityProvider)===null||ge===void 0)&&ge.getActiveDescendantId&&(ot=this.accessibilityProvider.getActiveDescendantId(this.view.element(Re[0]))),this.view.domNode.setAttribute("aria-activedescendant",ot||this.view.getElementDomId(Re[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ge=this.selection.get();this.view.domNode.classList.toggle("selection-none",ge.length===0),this.view.domNode.classList.toggle("selection-single",ge.length===1),this.view.domNode.classList.toggle("selection-multiple",ge.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}h([T.H],Je.prototype,"onDidChangeFocus",null),h([T.H],Je.prototype,"onDidChangeSelection",null),h([T.H],Je.prototype,"onContextMenu",null),h([T.H],Je.prototype,"onKeyDown",null),h([T.H],Je.prototype,"onDidFocus",null)},49335:function(ti,Ge,c){"use strict";c.d(Ge,{S:function(){return D}});const D="monaco-mouse-cursor-text"},83080:function(ti,Ge,c){"use strict";c.d(Ge,{l:function(){return g},g:function(){return _}});var D=c(65321),O=c(4850),Q=c(10553),P=c(15393),L=c(49898),J=c(4669),R=c(5976),W=c(1432),s=function(S,h,y,v){var B=arguments.length,j=B<3?h:v===null?v=Object.getOwnPropertyDescriptor(h,y):v,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(S,h,y,v);else for(var ce=S.length-1;ce>=0;ce--)(te=S[ce])&&(j=(B<3?te(j):B>3?te(h,y,j):te(h,y))||j);return B>3&&j&&Object.defineProperty(h,y,j),j};let T=!1;var g;(function(S){S.North="north",S.South="south",S.East="east",S.West="west"})(g||(g={}));let E=4;const H=new J.Q5;let r=300;const N=new J.Q5;class C{constructor(){this.disposables=new R.SL}get onPointerMove(){return this.disposables.add(new O.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new O.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}s([L.H],C.prototype,"onPointerMove",null),s([L.H],C.prototype,"onPointerUp",null);class x{constructor(h){this.el=h,this.disposables=new R.SL}get onPointerMove(){return this.disposables.add(new O.Y(this.el,Q.t.Change)).event}get onPointerUp(){return this.disposables.add(new O.Y(this.el,Q.t.End)).event}dispose(){this.disposables.dispose()}}s([L.H],x.prototype,"onPointerMove",null),s([L.H],x.prototype,"onPointerUp",null);class f{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}s([L.H],f.prototype,"onPointerMove",null),s([L.H],f.prototype,"onPointerUp",null);class _ extends R.JT{constructor(h,y,v){super(),this.hoverDelay=r,this.hoverDelayer=this._register(new P.vp(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new J.Q5),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new J.Q5),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new J.Q5),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new J.Q5),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new J.Q5),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new R.SL),this.orthogonalStartDragHandleDisposables=this._register(new R.SL),this.orthogonalEndSashDisposables=this._register(new R.SL),this.orthogonalEndDragHandleDisposables=this._register(new R.SL),this.el=(0,D.R3)(h,(0,D.$)(".monaco-sash")),v.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${v.orthogonalEdge}`),W.dz&&this.el.classList.add("mac");const B=this._register(new O.Y(this.el,"mousedown")).event;this._register(B(le=>this.onPointerStart(le,new C),this));const j=this._register(new O.Y(this.el,"dblclick")).event;this._register(j(this.onPointerDoublePress,this));const te=this._register(new O.Y(this.el,"mouseenter")).event;this._register(te(()=>_.onMouseEnter(this)));const ce=this._register(new O.Y(this.el,"mouseleave")).event;this._register(ce(()=>_.onMouseLeave(this))),this._register(Q.o.addTarget(this.el));const _e=J.ju.map(this._register(new O.Y(this.el,Q.t.Start)).event,le=>{var Y;return Object.assign(Object.assign({},le),{target:(Y=le.initialTarget)!==null&&Y!==void 0?Y:null})});this._register(_e(le=>this.onPointerStart(le,new x(this.el)),this));const Ce=this._register(new O.Y(this.el,Q.t.Tap)).event,Ee=J.ju.map(J.ju.filter(J.ju.debounce(Ce,(le,Y)=>{var $;return{event:Y,count:(($=le==null?void 0:le.count)!==null&&$!==void 0?$:0)+1}},250),({count:le})=>le===2),({event:le})=>{var Y;return Object.assign(Object.assign({},le),{target:(Y=le.initialTarget)!==null&&Y!==void 0?Y:null})});this._register(Ee(this.onPointerDoublePress,this)),typeof v.size=="number"?(this.size=v.size,v.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=E,this._register(H.event(le=>{this.size=le,this.layout()}))),this._register(N.event(le=>this.hoverDelay=le)),this.hidden=!1,this.layoutProvider=y,this.orthogonalStartSash=v.orthogonalStartSash,this.orthogonalEndSash=v.orthogonalEndSash,this.orientation=v.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",T),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const y=v=>{this.orthogonalStartDragHandleDisposables.clear(),v!==0&&(this._orthogonalStartDragHandle=(0,D.R3)(this.el,(0,D.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,R.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new O.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>_.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new O.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>_.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(y,this)),y(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const y=v=>{this.orthogonalEndDragHandleDisposables.clear(),v!==0&&(this._orthogonalEndDragHandle=(0,D.R3)(this.el,(0,D.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,R.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new O.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>_.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new O.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>_.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(y,this)),y(h.state)}this._orthogonalEndSash=h}onPointerStart(h,y){D.zB.stop(h);let v=!1;if(!h.__orthogonalSashEvent){const G=this.getOrthogonalSash(h);G&&(v=!0,h.__orthogonalSashEvent=!0,G.onPointerStart(h,new f(y)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new f(y))),!this.state)return;const B=(0,D.H$)("iframe");for(const G of B)G.style.pointerEvents="none";const j=h.pageX,te=h.pageY,ce=h.altKey,_e={startX:j,currentX:j,startY:te,currentY:te,altKey:ce};this.el.classList.add("active"),this._onDidStart.fire(_e);const Ce=(0,D.dS)(this.el),Ee=()=>{let G="";v?G="all-scroll":this.orientation===1?this.state===1?G="s-resize":this.state===2?G="n-resize":G=W.dz?"row-resize":"ns-resize":this.state===1?G="e-resize":this.state===2?G="w-resize":G=W.dz?"col-resize":"ew-resize",Ce.textContent=`* { cursor: ${G} !important; }`},le=new R.SL;Ee(),v||this.onDidEnablementChange(Ee,null,le);const Y=G=>{D.zB.stop(G,!1);const ee={startX:j,currentX:G.pageX,startY:te,currentY:G.pageY,altKey:ce};this._onDidChange.fire(ee)},$=G=>{D.zB.stop(G,!1),this.el.removeChild(Ce),this.el.classList.remove("active"),this._onDidEnd.fire(),le.dispose();for(const ee of B)ee.style.pointerEvents="auto"};y.onPointerMove(Y,null,le),y.onPointerUp($,null,le),le.add(y)}onPointerDoublePress(h){const y=this.getOrthogonalSash(h);y&&y._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,y=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!y&&h.linkedSash&&_.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,y=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!y&&h.linkedSash&&_.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){_.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},13433:function(ti,Ge,c){"use strict";c.d(Ge,{s$:function(){return G},NB:function(){return Y},$Z:function(){return $}});var D=c(16268),O=c(65321),Q=c(38626),P=c(23938),L=c(57974),J=c(93794),R=c(15393);const W=11;class s extends J.${constructor(w){super(),this._onActivate=w.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=w.bgWidth+"px",this.bgDomNode.style.height=w.bgHeight+"px",typeof w.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof w.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof w.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof w.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=w.className,this.domNode.classList.add(...w.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=W+"px",this.domNode.style.height=W+"px",typeof w.top!="undefined"&&(this.domNode.style.top=w.top+"px"),typeof w.left!="undefined"&&(this.domNode.style.left=w.left+"px"),typeof w.bottom!="undefined"&&(this.domNode.style.bottom=w.bottom+"px"),typeof w.right!="undefined"&&(this.domNode.style.right=w.right+"px"),this._mouseMoveMonitor=this._register(new L.Z),this.onmousedown(this.bgDomNode,F=>this._arrowMouseDown(F)),this.onmousedown(this.domNode,F=>this._arrowMouseDown(F)),this._mousedownRepeatTimer=this._register(new R.zh),this._mousedownScheduleRepeatTimer=this._register(new R._F)}_arrowMouseDown(w){const F=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(F,200),this._mouseMoveMonitor.startMonitoring(w.target,w.buttons,L.e,ie=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),w.preventDefault()}}var T=c(5976);class g extends T.JT{constructor(w,F,ie){super(),this._visibility=w,this._visibleClassName=F,this._invisibleClassName=ie,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new R._F)}setVisibility(w){this._visibility!==w&&(this._visibility=w,this._updateShouldBeVisible())}setShouldBeVisible(w){this._rawShouldBeVisible=w,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const w=this._applyVisibilitySetting();this._shouldBeVisible!==w&&(this._shouldBeVisible=w,this.ensureVisibility())}setIsNeeded(w){this._isNeeded!==w&&(this._isNeeded=w,this.ensureVisibility())}setDomNode(w){this._domNode=w,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(w){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(w?" fade":"")))}}var E=c(1432);const H=140;class r extends J.${constructor(w){super(),this._lazyRender=w.lazyRender,this._host=w.host,this._scrollable=w.scrollable,this._scrollByPage=w.scrollByPage,this._scrollbarState=w.scrollbarState,this._visibilityController=this._register(new g(w.visibility,"visible scrollbar "+w.extraScrollbarClassName,"invisible scrollbar "+w.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new L.Z),this._shouldRender=!0,this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,F=>this._domNodeMouseDown(F))}_createArrow(w){const F=this._register(new s(w));this.domNode.domNode.appendChild(F.bgDomNode),this.domNode.domNode.appendChild(F.domNode)}_createSlider(w,F,ie,pe){this.slider=(0,Q.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(w),this.slider.setLeft(F),typeof ie=="number"&&this.slider.setWidth(ie),typeof pe=="number"&&this.slider.setHeight(pe),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,ue=>{ue.leftButton&&(ue.preventDefault(),this._sliderMouseDown(ue,()=>{}))}),this.onclick(this.slider.domNode,ue=>{ue.leftButton&&ue.stopPropagation()})}_onElementSize(w){return this._scrollbarState.setVisibleSize(w)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(w){return this._scrollbarState.setScrollSize(w)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(w){return this._scrollbarState.setScrollPosition(w)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(w){w.target===this.domNode.domNode&&this._onMouseDown(w)}delegateMouseDown(w){const F=this.domNode.domNode.getClientRects()[0].top,ie=F+this._scrollbarState.getSliderPosition(),pe=F+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ue=this._sliderMousePosition(w);ie<=ue&&ue<=pe?w.leftButton&&(w.preventDefault(),this._sliderMouseDown(w,()=>{})):this._onMouseDown(w)}_onMouseDown(w){let F,ie;if(w.target===this.domNode.domNode&&typeof w.browserEvent.offsetX=="number"&&typeof w.browserEvent.offsetY=="number")F=w.browserEvent.offsetX,ie=w.browserEvent.offsetY;else{const ue=O.i(this.domNode.domNode);F=w.posx-ue.left,ie=w.posy-ue.top}const pe=this._mouseDownRelativePosition(F,ie);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(pe):this._scrollbarState.getDesiredScrollPositionFromOffset(pe)),w.leftButton&&(w.preventDefault(),this._sliderMouseDown(w,()=>{}))}_sliderMouseDown(w,F){const ie=this._sliderMousePosition(w),pe=this._sliderOrthogonalMousePosition(w),ue=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(w.target,w.buttons,L.e,ke=>{const Te=this._sliderOrthogonalMousePosition(ke),rt=Math.abs(Te-pe);if(E.ED&&rt>H){this._setDesiredScrollPositionNow(ue.getScrollPosition());return}const mt=this._sliderMousePosition(ke)-ie;this._setDesiredScrollPositionNow(ue.getDesiredScrollPositionFromDelta(mt))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),F()}),this._host.onDragStart()}_setDesiredScrollPositionNow(w){const F={};this.writeScrollPosition(F,w),this._scrollable.setScrollPositionNow(F)}updateScrollbarSize(w){this._updateScrollbarSize(w),this._scrollbarState.setScrollbarSize(w),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const N=20;class C{constructor(w,F,ie,pe,ue,ke){this._scrollbarSize=Math.round(F),this._oppositeScrollbarSize=Math.round(ie),this._arrowSize=Math.round(w),this._visibleSize=pe,this._scrollSize=ue,this._scrollPosition=ke,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new C(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(w){const F=Math.round(w);return this._visibleSize!==F?(this._visibleSize=F,this._refreshComputedValues(),!0):!1}setScrollSize(w){const F=Math.round(w);return this._scrollSize!==F?(this._scrollSize=F,this._refreshComputedValues(),!0):!1}setScrollPosition(w){const F=Math.round(w);return this._scrollPosition!==F?(this._scrollPosition=F,this._refreshComputedValues(),!0):!1}setScrollbarSize(w){this._scrollbarSize=Math.round(w)}setOppositeScrollbarSize(w){this._oppositeScrollbarSize=Math.round(w)}static _computeValues(w,F,ie,pe,ue){const ke=Math.max(0,ie-w),Te=Math.max(0,ke-2*F),rt=pe>0&&pe>ie;if(!rt)return{computedAvailableSize:Math.round(ke),computedIsNeeded:rt,computedSliderSize:Math.round(Te),computedSliderRatio:0,computedSliderPosition:0};const Rt=Math.round(Math.max(N,Math.floor(ie*Te/pe))),mt=(Te-Rt)/(pe-ie),Mt=ue*mt;return{computedAvailableSize:Math.round(ke),computedIsNeeded:rt,computedSliderSize:Math.round(Rt),computedSliderRatio:mt,computedSliderPosition:Math.round(Mt)}}_refreshComputedValues(){const w=C._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=w.computedAvailableSize,this._computedIsNeeded=w.computedIsNeeded,this._computedSliderSize=w.computedSliderSize,this._computedSliderRatio=w.computedSliderRatio,this._computedSliderPosition=w.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(w){if(!this._computedIsNeeded)return 0;const F=w-this._arrowSize-this._computedSliderSize/2;return Math.round(F/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(w){if(!this._computedIsNeeded)return 0;const F=w-this._arrowSize;let ie=this._scrollPosition;return F<this._computedSliderPosition?ie-=this._visibleSize:ie+=this._visibleSize,ie}getDesiredScrollPositionFromDelta(w){if(!this._computedIsNeeded)return 0;const F=this._computedSliderPosition+w;return Math.round(F/this._computedSliderRatio)}}var x=c(73046);const f=(0,x.CM)("scrollbar-button-left",x.lA.triangleLeft),_=(0,x.CM)("scrollbar-button-right",x.lA.triangleRight);class S extends r{constructor(w,F,ie){const pe=w.getScrollDimensions(),ue=w.getCurrentScrollPosition();if(super({lazyRender:F.lazyRender,host:ie,scrollbarState:new C(F.horizontalHasArrows?F.arrowSize:0,F.horizontal===2?0:F.horizontalScrollbarSize,F.vertical===2?0:F.verticalScrollbarSize,pe.width,pe.scrollWidth,ue.scrollLeft),visibility:F.horizontal,extraScrollbarClassName:"horizontal",scrollable:w,scrollByPage:F.scrollByPage}),F.horizontalHasArrows){const ke=(F.arrowSize-W)/2,Te=(F.horizontalScrollbarSize-W)/2;this._createArrow({className:"scra",icon:f,top:Te,left:ke,bottom:void 0,right:void 0,bgWidth:F.arrowSize,bgHeight:F.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,1,0))}),this._createArrow({className:"scra",icon:_,top:Te,left:void 0,bottom:void 0,right:ke,bgWidth:F.arrowSize,bgHeight:F.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,-1,0))})}this._createSlider(Math.floor((F.horizontalScrollbarSize-F.horizontalSliderSize)/2),0,void 0,F.horizontalSliderSize)}_updateSlider(w,F){this.slider.setWidth(w),this.slider.setLeft(F)}_renderDomNode(w,F){this.domNode.setWidth(w),this.domNode.setHeight(F),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(w){return this._shouldRender=this._onElementScrollSize(w.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(w.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(w.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(w,F){return w}_sliderMousePosition(w){return w.posx}_sliderOrthogonalMousePosition(w){return w.posy}_updateScrollbarSize(w){this.slider.setHeight(w)}writeScrollPosition(w,F){w.scrollLeft=F}updateOptions(w){this.updateScrollbarSize(w.horizontal===2?0:w.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(w.vertical===2?0:w.verticalScrollbarSize),this._visibilityController.setVisibility(w.horizontal),this._scrollByPage=w.scrollByPage}}const h=(0,x.CM)("scrollbar-button-up",x.lA.triangleUp),y=(0,x.CM)("scrollbar-button-down",x.lA.triangleDown);class v extends r{constructor(w,F,ie){const pe=w.getScrollDimensions(),ue=w.getCurrentScrollPosition();if(super({lazyRender:F.lazyRender,host:ie,scrollbarState:new C(F.verticalHasArrows?F.arrowSize:0,F.vertical===2?0:F.verticalScrollbarSize,0,pe.height,pe.scrollHeight,ue.scrollTop),visibility:F.vertical,extraScrollbarClassName:"vertical",scrollable:w,scrollByPage:F.scrollByPage}),F.verticalHasArrows){const ke=(F.arrowSize-W)/2,Te=(F.verticalScrollbarSize-W)/2;this._createArrow({className:"scra",icon:h,top:ke,left:Te,bottom:void 0,right:void 0,bgWidth:F.verticalScrollbarSize,bgHeight:F.arrowSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,0,1))}),this._createArrow({className:"scra",icon:y,top:void 0,left:Te,bottom:ke,right:void 0,bgWidth:F.verticalScrollbarSize,bgHeight:F.arrowSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,0,-1))})}this._createSlider(0,Math.floor((F.verticalScrollbarSize-F.verticalSliderSize)/2),F.verticalSliderSize,void 0)}_updateSlider(w,F){this.slider.setHeight(w),this.slider.setTop(F)}_renderDomNode(w,F){this.domNode.setWidth(F),this.domNode.setHeight(w),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(w){return this._shouldRender=this._onElementScrollSize(w.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(w.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(w.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(w,F){return F}_sliderMousePosition(w){return w.posy}_sliderOrthogonalMousePosition(w){return w.posx}_updateScrollbarSize(w){this.slider.setWidth(w)}writeScrollPosition(w,F){w.scrollTop=F}updateOptions(w){this.updateScrollbarSize(w.vertical===2?0:w.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(w.vertical),this._scrollByPage=w.scrollByPage}}var B=c(4669),j=c(76633);const te=500,ce=50,_e=!0;class Ce{constructor(w,F,ie){this.timestamp=w,this.deltaX=F,this.deltaY=ie,this.score=0}}class Ee{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let w=1,F=0,ie=1,pe=this._rear;do{const ue=pe===this._front?w:Math.pow(2,-ie);if(w-=ue,F+=this._memory[pe].score*ue,pe===this._front)break;pe=(this._capacity+pe-1)%this._capacity,ie++}while(!0);return F<=.5}accept(w,F,ie){const pe=new Ce(w,F,ie);pe.score=this._computeScore(pe),this._front===-1&&this._rear===-1?(this._memory[0]=pe,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=pe)}_computeScore(w){if(Math.abs(w.deltaX)>0&&Math.abs(w.deltaY)>0)return 1;let F=.5;const ie=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(w.deltaX)||!this._isAlmostInt(w.deltaY))&&(F+=.25),Math.min(Math.max(F,0),1)}_isAlmostInt(w){return Math.abs(Math.round(w)-w)<.01}}Ee.INSTANCE=new Ee;class le extends J.${constructor(w,F,ie){super(),this._onScroll=this._register(new B.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new B.Q5),w.style.overflow="hidden",this._options=ee(F),this._scrollable=ie,this._register(this._scrollable.onScroll(ue=>{this._onWillScroll.fire(ue),this._onDidScroll(ue),this._onScroll.fire(ue)}));const pe={onMouseWheel:ue=>this._onMouseWheel(ue),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new v(this._scrollable,this._options,pe)),this._horizontalScrollbar=this._register(new S(this._scrollable,this._options,pe)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(w),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Q.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Q.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Q.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ue=>this._onMouseOver(ue)),this.onnonbubblingmouseout(this._listenOnDomNode,ue=>this._onMouseOut(ue)),this._hideTimeout=this._register(new R._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,T.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(w){this._verticalScrollbar.delegateMouseDown(w)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(w){this._scrollable.setScrollDimensions(w,!1)}updateClassName(w){this._options.className=w,E.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(w){typeof w.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=w.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof w.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=w.mouseWheelScrollSensitivity),typeof w.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=w.fastScrollSensitivity),typeof w.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=w.scrollPredominantAxis),typeof w.horizontal!="undefined"&&(this._options.horizontal=w.horizontal),typeof w.vertical!="undefined"&&(this._options.vertical=w.vertical),typeof w.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=w.horizontalScrollbarSize),typeof w.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=w.verticalScrollbarSize),typeof w.scrollByPage!="undefined"&&(this._options.scrollByPage=w.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(w){if(this._mouseWheelToDispose.length>0!==w&&(this._mouseWheelToDispose=(0,T.B9)(this._mouseWheelToDispose),w)){const ie=pe=>{this._onMouseWheel(new P.q(pe))};this._mouseWheelToDispose.push(O.nm(this._listenOnDomNode,O.tw.MOUSE_WHEEL,ie,{passive:!1}))}}_onMouseWheel(w){const F=Ee.INSTANCE;if(_e){const ue=window.devicePixelRatio/(0,D.ie)();E.ED||E.IJ?F.accept(Date.now(),w.deltaX/ue,w.deltaY/ue):F.accept(Date.now(),w.deltaX,w.deltaY)}let ie=!1;if(w.deltaY||w.deltaX){let ue=w.deltaY*this._options.mouseWheelScrollSensitivity,ke=w.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ue)>=Math.abs(ke)?ke=0:ue=0),this._options.flipAxes&&([ue,ke]=[ke,ue]);const Te=!E.dz&&w.browserEvent&&w.browserEvent.shiftKey;(this._options.scrollYToX||Te)&&!ke&&(ke=ue,ue=0),w.browserEvent&&w.browserEvent.altKey&&(ke=ke*this._options.fastScrollSensitivity,ue=ue*this._options.fastScrollSensitivity);const rt=this._scrollable.getFutureScrollPosition();let Rt={};if(ue){const mt=ce*ue,Mt=rt.scrollTop-(mt<0?Math.floor(mt):Math.ceil(mt));this._verticalScrollbar.writeScrollPosition(Rt,Mt)}if(ke){const mt=ce*ke,Mt=rt.scrollLeft-(mt<0?Math.floor(mt):Math.ceil(mt));this._horizontalScrollbar.writeScrollPosition(Rt,Mt)}Rt=this._scrollable.validateScrollPosition(Rt),(rt.scrollLeft!==Rt.scrollLeft||rt.scrollTop!==Rt.scrollTop)&&(_e&&this._options.mouseWheelSmoothScroll&&F.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Rt):this._scrollable.setScrollPositionNow(Rt),ie=!0)}let pe=ie;!pe&&this._options.alwaysConsumeMouseWheel&&(pe=!0),!pe&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(pe=!0),pe&&(w.preventDefault(),w.stopPropagation())}_onDidScroll(w){this._shouldRender=this._horizontalScrollbar.onDidScroll(w)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(w)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const w=this._scrollable.getCurrentScrollPosition(),F=w.scrollTop>0,ie=w.scrollLeft>0,pe=ie?" left":"",ue=F?" top":"",ke=ie||F?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${pe}`),this._topShadowDomNode.setClassName(`shadow${ue}`),this._topLeftShadowDomNode.setClassName(`shadow${ke}${ue}${pe}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(w){this._mouseIsOver=!1,this._hide()}_onMouseOver(w){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),te)}}class Y extends le{constructor(w,F){F=F||{},F.mouseWheelSmoothScroll=!1;const ie=new j.Rm(0,pe=>O.jL(pe));super(w,F,ie),this._register(ie)}setScrollPosition(w){this._scrollable.setScrollPositionNow(w)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class $ extends le{constructor(w,F,ie){super(w,F,ie)}setScrollPosition(w){w.reuseAnimation?this._scrollable.setScrollPositionSmooth(w,w.reuseAnimation):this._scrollable.setScrollPositionNow(w)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class G extends Y{constructor(w,F){super(w,F),this._element=w,this.onScroll(ie=>{ie.scrollTopChanged&&(this._element.scrollTop=ie.scrollTop),ie.scrollLeftChanged&&(this._element.scrollLeft=ie.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function ee(m){const w={lazyRender:typeof m.lazyRender!="undefined"?m.lazyRender:!1,className:typeof m.className!="undefined"?m.className:"",useShadows:typeof m.useShadows!="undefined"?m.useShadows:!0,handleMouseWheel:typeof m.handleMouseWheel!="undefined"?m.handleMouseWheel:!0,flipAxes:typeof m.flipAxes!="undefined"?m.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof m.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?m.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof m.alwaysConsumeMouseWheel!="undefined"?m.alwaysConsumeMouseWheel:!1,scrollYToX:typeof m.scrollYToX!="undefined"?m.scrollYToX:!1,mouseWheelScrollSensitivity:typeof m.mouseWheelScrollSensitivity!="undefined"?m.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof m.fastScrollSensitivity!="undefined"?m.fastScrollSensitivity:5,scrollPredominantAxis:typeof m.scrollPredominantAxis!="undefined"?m.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof m.mouseWheelSmoothScroll!="undefined"?m.mouseWheelSmoothScroll:!0,arrowSize:typeof m.arrowSize!="undefined"?m.arrowSize:11,listenOnDomNode:typeof m.listenOnDomNode!="undefined"?m.listenOnDomNode:null,horizontal:typeof m.horizontal!="undefined"?m.horizontal:1,horizontalScrollbarSize:typeof m.horizontalScrollbarSize!="undefined"?m.horizontalScrollbarSize:10,horizontalSliderSize:typeof m.horizontalSliderSize!="undefined"?m.horizontalSliderSize:0,horizontalHasArrows:typeof m.horizontalHasArrows!="undefined"?m.horizontalHasArrows:!1,vertical:typeof m.vertical!="undefined"?m.vertical:1,verticalScrollbarSize:typeof m.verticalScrollbarSize!="undefined"?m.verticalScrollbarSize:10,verticalHasArrows:typeof m.verticalHasArrows!="undefined"?m.verticalHasArrows:!1,verticalSliderSize:typeof m.verticalSliderSize!="undefined"?m.verticalSliderSize:0,scrollByPage:typeof m.scrollByPage!="undefined"?m.scrollByPage:!1};return w.horizontalSliderSize=typeof m.horizontalSliderSize!="undefined"?m.horizontalSliderSize:w.horizontalScrollbarSize,w.verticalSliderSize=typeof m.verticalSliderSize!="undefined"?m.verticalSliderSize:w.verticalScrollbarSize,E.dz&&(w.className+=" mac"),w}},33225:function(ti,Ge,c){"use strict";c.d(Ge,{M:function(){return C},z:function(){return x}});var D=c(65321),O=c(83080),Q=c(13433),P=c(9488),L=c(41264),J=c(4669),R=c(5976),W=c(59870),s=c(76633),T=c(98401);const g={separatorBorder:L.Il.transparent};class E{constructor(_,S,h,y){this.container=_,this.view=S,this.disposable=y,this._cachedVisibleSize=void 0,typeof h=="number"?(this._size=h,this._cachedVisibleSize=void 0,_.classList.add("visible")):(this._size=0,this._cachedVisibleSize=h.cachedVisibleSize)}set size(_){this._size=_}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(_,S){_!==this.visible&&(_?(this.size=(0,W.u)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof S=="number"?S:this.size,this.size=0),this.container.classList.toggle("visible",_),this.view.setVisible&&this.view.setVisible(_))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(_){this.container.style.pointerEvents=_?"":"none"}layout(_,S){this.layoutContainer(_),this.view.layout(this.size,_,S)}dispose(){return this.disposable.dispose(),this.view}}class H extends E{layoutContainer(_){this.container.style.top=`${_}px`,this.container.style.height=`${this.size}px`}}class r extends E{layoutContainer(_){this.container.style.left=`${_}px`,this.container.style.width=`${this.size}px`}}var N;(function(f){f[f.Idle=0]="Idle",f[f.Busy=1]="Busy"})(N||(N={}));var C;(function(f){f.Distribute={type:"distribute"};function _(h){return{type:"split",index:h}}f.Split=_;function S(h){return{type:"invisible",cachedVisibleSize:h}}f.Invisible=S})(C||(C={}));class x extends R.JT{constructor(_,S={}){var h,y;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=N.Idle,this._onDidSashChange=this._register(new J.Q5),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new J.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=T.o8(S.orientation)?0:S.orientation,this.inverseAltBehavior=!!S.inverseAltBehavior,this.proportionalLayout=T.o8(S.proportionalLayout)?!0:!!S.proportionalLayout,this.getSashOrthogonalSize=S.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),_.appendChild(this.el),this.sashContainer=(0,D.R3)(this.el,(0,D.$)(".sash-container")),this.viewContainer=(0,D.$)(".split-view-container"),this.scrollable=new s.Rm(125,D.jL),this.scrollableElement=this._register(new Q.$Z(this.viewContainer,{vertical:this.orientation===0?(h=S.scrollbarVisibility)!==null&&h!==void 0?h:1:2,horizontal:this.orientation===1?(y=S.scrollbarVisibility)!==null&&y!==void 0?y:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(v=>{this.viewContainer.scrollTop=v.scrollTop,this.viewContainer.scrollLeft=v.scrollLeft})),(0,D.R3)(this.el,this.scrollableElement.getDomNode()),this.style(S.styles||g),S.descriptor&&(this.size=S.descriptor.size,S.descriptor.views.forEach((v,B)=>{const j=T.o8(v.visible)||v.visible?v.size:{type:"invisible",cachedVisibleSize:v.size},te=v.view;this.doAddView(te,j,B,!0)}),this.contentSize=this.viewItems.reduce((v,B)=>v+B.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(_){for(const S of this.sashItems)S.sash.orthogonalStartSash=_;this._orthogonalStartSash=_}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(_){for(const S of this.sashItems)S.sash.orthogonalEndSash=_;this._orthogonalEndSash=_}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(_){this._startSnappingEnabled!==_&&(this._startSnappingEnabled=_,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(_){this._endSnappingEnabled!==_&&(this._endSnappingEnabled=_,this.updateSashEnablement())}style(_){_.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",_.separatorBorder.toString()))}addView(_,S,h=this.viewItems.length,y){this.doAddView(_,S,h,y)}layout(_,S){const h=Math.max(this.size,this.contentSize);if(this.size=_,this.layoutContext=S,this.proportions)for(let y=0;y<this.viewItems.length;y++){const v=this.viewItems[y];v.size=(0,W.u)(Math.round(this.proportions[y]*_),v.minimumSize,v.maximumSize)}else{const y=(0,P.w6)(this.viewItems.length),v=y.filter(j=>this.viewItems[j].priority===1),B=y.filter(j=>this.viewItems[j].priority===2);this.resize(this.viewItems.length-1,_-h,void 0,v,B)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(_=>_.size/this.contentSize))}onSashStart({sash:_,start:S,alt:h}){for(const j of this.viewItems)j.enabled=!1;const y=this.sashItems.findIndex(j=>j.sash===_),v=(0,R.F8)((0,D.nm)(document.body,"keydown",j=>B(this.sashDragState.current,j.altKey)),(0,D.nm)(document.body,"keyup",()=>B(this.sashDragState.current,!1))),B=(j,te)=>{const ce=this.viewItems.map(Y=>Y.size);let _e=Number.NEGATIVE_INFINITY,Ce=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(te=!te),te)if(y===this.sashItems.length-1){const $=this.viewItems[y];_e=($.minimumSize-$.size)/2,Ce=($.maximumSize-$.size)/2}else{const $=this.viewItems[y+1];_e=($.size-$.maximumSize)/2,Ce=($.size-$.minimumSize)/2}let Ee,le;if(!te){const Y=(0,P.w6)(y,-1),$=(0,P.w6)(y+1,this.viewItems.length),G=Y.reduce((ke,Te)=>ke+(this.viewItems[Te].minimumSize-ce[Te]),0),ee=Y.reduce((ke,Te)=>ke+(this.viewItems[Te].viewMaximumSize-ce[Te]),0),m=$.length===0?Number.POSITIVE_INFINITY:$.reduce((ke,Te)=>ke+(ce[Te]-this.viewItems[Te].minimumSize),0),w=$.length===0?Number.NEGATIVE_INFINITY:$.reduce((ke,Te)=>ke+(ce[Te]-this.viewItems[Te].viewMaximumSize),0),F=Math.max(G,w),ie=Math.min(m,ee),pe=this.findFirstSnapIndex(Y),ue=this.findFirstSnapIndex($);if(typeof pe=="number"){const ke=this.viewItems[pe],Te=Math.floor(ke.viewMinimumSize/2);Ee={index:pe,limitDelta:ke.visible?F-Te:F+Te,size:ke.size}}if(typeof ue=="number"){const ke=this.viewItems[ue],Te=Math.floor(ke.viewMinimumSize/2);le={index:ue,limitDelta:ke.visible?ie+Te:ie-Te,size:ke.size}}}this.sashDragState={start:j,current:j,index:y,sizes:ce,minDelta:_e,maxDelta:Ce,alt:te,snapBefore:Ee,snapAfter:le,disposable:v}};B(S,h)}onSashChange({current:_}){const{index:S,start:h,sizes:y,alt:v,minDelta:B,maxDelta:j,snapBefore:te,snapAfter:ce}=this.sashDragState;this.sashDragState.current=_;const _e=_-h,Ce=this.resize(S,_e,y,void 0,void 0,B,j,te,ce);if(v){const Ee=S===this.sashItems.length-1,le=this.viewItems.map(w=>w.size),Y=Ee?S:S+1,$=this.viewItems[Y],G=$.size-$.maximumSize,ee=$.size-$.minimumSize,m=Ee?S-1:S+1;this.resize(m,-Ce,le,void 0,void 0,G,ee)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(_){this._onDidSashChange.fire(_),this.sashDragState.disposable.dispose(),this.saveProportions();for(const S of this.viewItems)S.enabled=!0}onViewChange(_,S){const h=this.viewItems.indexOf(_);h<0||h>=this.viewItems.length||(S=typeof S=="number"?S:_.size,S=(0,W.u)(S,_.minimumSize,_.maximumSize),this.inverseAltBehavior&&h>0?(this.resize(h-1,Math.floor((_.size-S)/2)),this.distributeEmptySpace(),this.layoutViews()):(_.size=S,this.relayout([h],void 0)))}resizeView(_,S){if(this.state!==N.Idle)throw new Error("Cant modify splitview");if(this.state=N.Busy,_<0||_>=this.viewItems.length)return;const h=(0,P.w6)(this.viewItems.length).filter(j=>j!==_),y=[...h.filter(j=>this.viewItems[j].priority===1),_],v=h.filter(j=>this.viewItems[j].priority===2),B=this.viewItems[_];S=Math.round(S),S=(0,W.u)(S,B.minimumSize,Math.min(B.maximumSize,this.size)),B.size=S,this.relayout(y,v),this.state=N.Idle}distributeViewSizes(){const _=[];let S=0;for(const j of this.viewItems)j.maximumSize-j.minimumSize>0&&(_.push(j),S+=j.size);const h=Math.floor(S/_.length);for(const j of _)j.size=(0,W.u)(h,j.minimumSize,j.maximumSize);const y=(0,P.w6)(this.viewItems.length),v=y.filter(j=>this.viewItems[j].priority===1),B=y.filter(j=>this.viewItems[j].priority===2);this.relayout(v,B)}getViewSize(_){return _<0||_>=this.viewItems.length?-1:this.viewItems[_].size}doAddView(_,S,h=this.viewItems.length,y){if(this.state!==N.Idle)throw new Error("Cant modify splitview");this.state=N.Busy;const v=(0,D.$)(".split-view-view");h===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(h));const B=_.onDidChange(Ee=>this.onViewChange(_e,Ee)),j=(0,R.OF)(()=>this.viewContainer.removeChild(v)),te=(0,R.F8)(B,j);let ce;typeof S=="number"?ce=S:S.type==="split"?ce=this.getViewSize(S.index)/2:S.type==="invisible"?ce={cachedVisibleSize:S.cachedVisibleSize}:ce=_.minimumSize;const _e=this.orientation===0?new H(v,_,ce,te):new r(v,_,ce,te);if(this.viewItems.splice(h,0,_e),this.viewItems.length>1){let Ee={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const le=this.orientation===0?new O.g(this.sashContainer,{getHorizontalSashTop:ke=>this.getSashPosition(ke),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Ee),{orientation:1})):new O.g(this.sashContainer,{getVerticalSashLeft:ke=>this.getSashPosition(ke),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Ee),{orientation:0})),Y=this.orientation===0?ke=>({sash:le,start:ke.startY,current:ke.currentY,alt:ke.altKey}):ke=>({sash:le,start:ke.startX,current:ke.currentX,alt:ke.altKey}),G=J.ju.map(le.onDidStart,Y)(this.onSashStart,this),m=J.ju.map(le.onDidChange,Y)(this.onSashChange,this),F=J.ju.map(le.onDidEnd,()=>this.sashItems.findIndex(ke=>ke.sash===le))(this.onSashEnd,this),ie=le.onDidReset(()=>{const ke=this.sashItems.findIndex(Mt=>Mt.sash===le),Te=(0,P.w6)(ke,-1),rt=(0,P.w6)(ke+1,this.viewItems.length),Rt=this.findFirstSnapIndex(Te),mt=this.findFirstSnapIndex(rt);typeof Rt=="number"&&!this.viewItems[Rt].visible||typeof mt=="number"&&!this.viewItems[mt].visible||this._onDidSashReset.fire(ke)}),pe=(0,R.F8)(G,m,F,ie,le),ue={sash:le,disposable:pe};this.sashItems.splice(h-1,0,ue)}v.appendChild(_.element);let Ce;typeof S!="number"&&S.type==="split"&&(Ce=[S.index]),y||this.relayout([h],Ce),this.state=N.Idle,!y&&typeof S!="number"&&S.type==="distribute"&&this.distributeViewSizes()}relayout(_,S){const h=this.viewItems.reduce((y,v)=>y+v.size,0);this.resize(this.viewItems.length-1,this.size-h,void 0,_,S),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(_,S,h=this.viewItems.map(_e=>_e.size),y,v,B=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY,te,ce){if(_<0||_>=this.viewItems.length)return 0;const _e=(0,P.w6)(_,-1),Ce=(0,P.w6)(_+1,this.viewItems.length);if(v)for(const ue of v)(0,P.zI)(_e,ue),(0,P.zI)(Ce,ue);if(y)for(const ue of y)(0,P.al)(_e,ue),(0,P.al)(Ce,ue);const Ee=_e.map(ue=>this.viewItems[ue]),le=_e.map(ue=>h[ue]),Y=Ce.map(ue=>this.viewItems[ue]),$=Ce.map(ue=>h[ue]),G=_e.reduce((ue,ke)=>ue+(this.viewItems[ke].minimumSize-h[ke]),0),ee=_e.reduce((ue,ke)=>ue+(this.viewItems[ke].maximumSize-h[ke]),0),m=Ce.length===0?Number.POSITIVE_INFINITY:Ce.reduce((ue,ke)=>ue+(h[ke]-this.viewItems[ke].minimumSize),0),w=Ce.length===0?Number.NEGATIVE_INFINITY:Ce.reduce((ue,ke)=>ue+(h[ke]-this.viewItems[ke].maximumSize),0),F=Math.max(G,w,B),ie=Math.min(m,ee,j);let pe=!1;if(te){const ue=this.viewItems[te.index],ke=S>=te.limitDelta;pe=ke!==ue.visible,ue.setVisible(ke,te.size)}if(!pe&&ce){const ue=this.viewItems[ce.index],ke=S<ce.limitDelta;pe=ke!==ue.visible,ue.setVisible(ke,ce.size)}if(pe)return this.resize(_,S,h,y,v,B,j);S=(0,W.u)(S,F,ie);for(let ue=0,ke=S;ue<Ee.length;ue++){const Te=Ee[ue],rt=(0,W.u)(le[ue]+ke,Te.minimumSize,Te.maximumSize),Rt=rt-le[ue];ke-=Rt,Te.size=rt}for(let ue=0,ke=S;ue<Y.length;ue++){const Te=Y[ue],rt=(0,W.u)($[ue]-ke,Te.minimumSize,Te.maximumSize),Rt=rt-$[ue];ke+=Rt,Te.size=rt}return S}distributeEmptySpace(_){const S=this.viewItems.reduce((j,te)=>j+te.size,0);let h=this.size-S;const y=(0,P.w6)(this.viewItems.length-1,-1),v=y.filter(j=>this.viewItems[j].priority===1),B=y.filter(j=>this.viewItems[j].priority===2);for(const j of B)(0,P.zI)(y,j);for(const j of v)(0,P.al)(y,j);typeof _=="number"&&(0,P.al)(y,_);for(let j=0;h!==0&&j<y.length;j++){const te=this.viewItems[y[j]],ce=(0,W.u)(te.size+h,te.minimumSize,te.maximumSize),_e=ce-te.size;h-=_e,te.size=ce}}layoutViews(){this.contentSize=this.viewItems.reduce((S,h)=>S+h.size,0);let _=0;for(const S of this.viewItems)S.layout(_,this.layoutContext),_+=S.size;this.sashItems.forEach(S=>S.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let _=!1;const S=this.viewItems.map(te=>_=te.size-te.minimumSize>0||_);_=!1;const h=this.viewItems.map(te=>_=te.maximumSize-te.size>0||_),y=[...this.viewItems].reverse();_=!1;const v=y.map(te=>_=te.size-te.minimumSize>0||_).reverse();_=!1;const B=y.map(te=>_=te.maximumSize-te.size>0||_).reverse();let j=0;for(let te=0;te<this.sashItems.length;te++){const{sash:ce}=this.sashItems[te],_e=this.viewItems[te];j+=_e.size;const Ce=!(S[te]&&B[te+1]),Ee=!(h[te]&&v[te+1]);if(Ce&&Ee){const le=(0,P.w6)(te,-1),Y=(0,P.w6)(te+1,this.viewItems.length),$=this.findFirstSnapIndex(le),G=this.findFirstSnapIndex(Y),ee=typeof $=="number"&&!this.viewItems[$].visible,m=typeof G=="number"&&!this.viewItems[G].visible;ee&&v[te]&&(j>0||this.startSnappingEnabled)?ce.state=1:m&&S[te]&&(j<this.contentSize||this.endSnappingEnabled)?ce.state=2:ce.state=0}else Ce&&!Ee?ce.state=1:!Ce&&Ee?ce.state=2:ce.state=3}}getSashPosition(_){let S=0;for(let h=0;h<this.sashItems.length;h++)if(S+=this.viewItems[h].size,this.sashItems[h].sash===_)return S;return 0}findFirstSnapIndex(_){for(const S of _){const h=this.viewItems[S];if(h.visible&&h.snap)return S}for(const S of _){const h=this.viewItems[S];if(h.visible&&h.maximumSize-h.minimumSize>0)return;if(!h.visible&&h.snap)return S}}dispose(){super.dispose(),this.viewItems.forEach(_=>_.dispose()),this.viewItems=[],this.sashItems.forEach(_=>_.disposable.dispose()),this.sashItems=[]}}},93794:function(ti,Ge,c){"use strict";c.d(Ge,{$:function(){return J}});var D=c(65321),O=c(59069),Q=c(23938),P=c(10553),L=c(5976);class J extends L.JT{onclick(W,s){this._register(D.nm(W,D.tw.CLICK,T=>s(new Q.n(T))))}onmousedown(W,s){this._register(D.nm(W,D.tw.MOUSE_DOWN,T=>s(new Q.n(T))))}onmouseover(W,s){this._register(D.nm(W,D.tw.MOUSE_OVER,T=>s(new Q.n(T))))}onnonbubblingmouseout(W,s){this._register(D.j_(W,T=>s(new Q.n(T))))}onkeydown(W,s){this._register(D.nm(W,D.tw.KEY_DOWN,T=>s(new O.y(T))))}onkeyup(W,s){this._register(D.nm(W,D.tw.KEY_UP,T=>s(new O.y(T))))}oninput(W,s){this._register(D.nm(W,D.tw.INPUT,s))}onblur(W,s){this._register(D.nm(W,D.tw.BLUR,s))}onfocus(W,s){this._register(D.nm(W,D.tw.FOCUS,s))}ignoreGesture(W){P.o.ignoreTarget(W)}}},74741:function(ti,Ge,c){"use strict";c.d(Ge,{Wi:function(){return J},Z0:function(){return R},aU:function(){return L},eZ:function(){return s},wY:function(){return W}});var D=c(4669),O=c(5976),Q=c(63580),P=function(T,g,E,H){function r(N){return N instanceof E?N:new E(function(C){C(N)})}return new(E||(E=Promise))(function(N,C){function x(S){try{_(H.next(S))}catch(h){C(h)}}function f(S){try{_(H.throw(S))}catch(h){C(h)}}function _(S){S.done?N(S.value):r(S.value).then(x,f)}_((H=H.apply(T,g||[])).next())})};class L extends O.JT{constructor(g,E="",H="",r=!0,N){super(),this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=g,this._label=E,this._cssClass=H,this._enabled=r,this._actionCallback=N}get id(){return this._id}get label(){return this._label}set label(g){this._setLabel(g)}_setLabel(g){this._label!==g&&(this._label=g,this._onDidChange.fire({label:g}))}get tooltip(){return this._tooltip||""}set tooltip(g){this._setTooltip(g)}_setTooltip(g){this._tooltip!==g&&(this._tooltip=g,this._onDidChange.fire({tooltip:g}))}get class(){return this._cssClass}set class(g){this._setClass(g)}_setClass(g){this._cssClass!==g&&(this._cssClass=g,this._onDidChange.fire({class:g}))}get enabled(){return this._enabled}set enabled(g){this._setEnabled(g)}_setEnabled(g){this._enabled!==g&&(this._enabled=g,this._onDidChange.fire({enabled:g}))}get checked(){return this._checked}set checked(g){this._setChecked(g)}_setChecked(g){this._checked!==g&&(this._checked=g,this._onDidChange.fire({checked:g}))}run(g,E){return P(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(g))})}}class J extends O.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new D.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new D.Q5),this.onDidRun=this._onDidRun.event}run(g,E){return P(this,void 0,void 0,function*(){if(!g.enabled)return;this._onBeforeRun.fire({action:g});let H;try{yield this.runAction(g,E)}catch(r){H=r}this._onDidRun.fire({action:g,error:H})})}runAction(g,E){return P(this,void 0,void 0,function*(){yield g.run(E)})}}class R extends L{constructor(g){super(R.ID,g,g?"separator text":"separator"),this.checked=!1,this.enabled=!1}}R.ID="vs.actions.separator";class W{constructor(g,E,H,r){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=g,this.label=E,this.class=r,this._actions=H}get actions(){return this._actions}dispose(){}run(){return P(this,void 0,void 0,function*(){})}}class s extends L{constructor(){super(s.ID,Q.N("submenu.empty","(empty)"),void 0,!1)}}s.ID="vs.actions.empty"},9488:function(ti,Ge,c){"use strict";c.d(Ge,{EB:function(){return g},Gb:function(){return D},H9:function(){return B},HW:function(){return J},JH:function(){return O},Of:function(){return T},XY:function(){return s},Xh:function(){return r},Zv:function(){return x},_2:function(){return S},al:function(){return _},dF:function(){return E},db:function(){return y},fS:function(){return Q},kX:function(){return W},lG:function(){return L},ry:function(){return P},vM:function(){return R},w6:function(){return C},xH:function(){return N},zI:function(){return f}});function D(j,te=0){return j[j.length-(1+te)]}function O(j){if(j.length===0)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]}function Q(j,te,ce=(_e,Ce)=>_e===Ce){if(j===te)return!0;if(!j||!te||j.length!==te.length)return!1;for(let _e=0,Ce=j.length;_e<Ce;_e++)if(!ce(j[_e],te[_e]))return!1;return!0}function P(j,te,ce){let _e=0,Ce=j.length-1;for(;_e<=Ce;){const Ee=(_e+Ce)/2|0,le=ce(j[Ee],te);if(le<0)_e=Ee+1;else if(le>0)Ce=Ee-1;else return Ee}return-(_e+1)}function L(j,te){let ce=0,_e=j.length;if(_e===0)return 0;for(;ce<_e;){const Ce=Math.floor((ce+_e)/2);te(j[Ce])?_e=Ce:ce=Ce+1}return ce}function J(j,te,ce){if(j=j|0,j>=te.length)throw new TypeError("invalid index");let _e=te[Math.floor(te.length*Math.random())],Ce=[],Ee=[],le=[];for(let Y of te){const $=ce(Y,_e);$<0?Ce.push(Y):$>0?Ee.push(Y):le.push(Y)}return j<Ce.length?J(j,Ce,ce):j<Ce.length+le.length?le[0]:J(j-(Ce.length+le.length),Ee,ce)}function R(j,te){const ce=[];let _e;for(const Ce of j.slice(0).sort(te))!_e||te(_e[0],Ce)!==0?(_e=[Ce],ce.push(_e)):_e.push(Ce);return ce}function W(j){return j.filter(te=>!!te)}function s(j){return!Array.isArray(j)||j.length===0}function T(j){return Array.isArray(j)&&j.length>0}function g(j,te=ce=>ce){const ce=new Set;return j.filter(_e=>{const Ce=te(_e);return ce.has(Ce)?!1:(ce.add(Ce),!0)})}function E(j,te){const ce=H(j,te);if(ce!==-1)return j[ce]}function H(j,te){for(let ce=j.length-1;ce>=0;ce--){const _e=j[ce];if(te(_e))return ce}return-1}function r(j,te){return j.length>0?j[0]:te}function N(j){return[].concat(...j)}function C(j,te){let ce=typeof te=="number"?j:0;typeof te=="number"?ce=j:(ce=0,te=j);const _e=[];if(ce<=te)for(let Ce=ce;Ce<te;Ce++)_e.push(Ce);else for(let Ce=ce;Ce>te;Ce--)_e.push(Ce);return _e}function x(j,te,ce){const _e=j.slice(0,te),Ce=j.slice(te);return _e.concat(ce,Ce)}function f(j,te){const ce=j.indexOf(te);ce>-1&&(j.splice(ce,1),j.unshift(te))}function _(j,te){const ce=j.indexOf(te);ce>-1&&(j.splice(ce,1),j.push(te))}function S(j){return Array.isArray(j)?j:[j]}function h(j,te,ce){const _e=v(j,te),Ce=j.length,Ee=ce.length;j.length=Ce+Ee;for(let le=Ce-1;le>=_e;le--)j[le+Ee]=j[le];for(let le=0;le<Ee;le++)j[le+_e]=ce[le]}function y(j,te,ce,_e){const Ce=v(j,te),Ee=j.splice(Ce,ce);return h(j,Ce,_e),Ee}function v(j,te){return te<0?Math.max(te+j.length,0):Math.min(te,j.length)}class B{constructor(te){this.items=te,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(te){let ce=this.firstIdx;for(;ce<this.items.length&&te(this.items[ce]);)ce++;const _e=ce===this.firstIdx?null:this.items.slice(this.firstIdx,ce);return this.firstIdx=ce,_e}takeFromEndWhile(te){let ce=this.lastIdx;for(;ce>=0&&te(this.items[ce]);)ce--;const _e=ce===this.lastIdx?null:this.items.slice(ce+1,this.lastIdx+1);return this.lastIdx=ce,_e}peek(){return this.items[this.firstIdx]}}},35146:function(ti,Ge,c){"use strict";c.d(Ge,{ok:function(){return D}});function D(O,Q){if(!O)throw new Error(Q?`Assertion failed (${Q})`:"Assertion Failed")}},15393:function(ti,Ge,c){"use strict";c.d(Ge,{J8:function(){return L},PG:function(){return J},Ue:function(){return f},Vg:function(){return E},Vs:function(){return g},_F:function(){return r},eP:function(){return R},jT:function(){return _},pY:function(){return C},rH:function(){return T},vp:function(){return s},zh:function(){return N}});var D=c(71050),O=c(17301),Q=c(5976),P=function(S,h,y,v){function B(j){return j instanceof y?j:new y(function(te){te(j)})}return new(y||(y=Promise))(function(j,te){function ce(Ee){try{Ce(v.next(Ee))}catch(le){te(le)}}function _e(Ee){try{Ce(v.throw(Ee))}catch(le){te(le)}}function Ce(Ee){Ee.done?j(Ee.value):B(Ee.value).then(ce,_e)}Ce((v=v.apply(S,h||[])).next())})};function L(S){return!!S&&typeof S.then=="function"}function J(S){const h=new D.A,y=S(h.token),v=new Promise((B,j)=>{const te=h.token.onCancellationRequested(()=>{te.dispose(),h.dispose(),j((0,O.F0)())});Promise.resolve(y).then(ce=>{te.dispose(),h.dispose(),B(ce)},ce=>{te.dispose(),h.dispose(),j(ce)})});return new class{cancel(){h.cancel()}then(B,j){return v.then(B,j)}catch(B){return this.then(void 0,B)}finally(B){return v.finally(B)}}}function R(S,h,y){return Promise.race([S,new Promise(v=>h.onCancellationRequested(()=>v(y)))])}class W{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(h){if(this.activePromise){if(this.queuedPromiseFactory=h,!this.queuedPromise){const y=()=>{this.queuedPromise=null;const v=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,v};this.queuedPromise=new Promise(v=>{this.activePromise.then(y,y).then(v)})}return new Promise((y,v)=>{this.queuedPromise.then(y,v)})}return this.activePromise=h(),new Promise((y,v)=>{this.activePromise.then(B=>{this.activePromise=null,y(B)},B=>{this.activePromise=null,v(B)})})}}class s{constructor(h){this.defaultDelay=h,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(h,y=this.defaultDelay){return this.task=h,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((v,B)=>{this.doResolve=v,this.doReject=B}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const v=this.task;return this.task=null,v()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},y),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,O.F0)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class T{constructor(h){this.delayer=new s(h),this.throttler=new W}trigger(h,y){return this.delayer.trigger(()=>this.throttler.queue(h),y)}dispose(){this.delayer.dispose()}}function g(S,h){return h?new Promise((y,v)=>{const B=setTimeout(()=>{j.dispose(),y()},S),j=h.onCancellationRequested(()=>{clearTimeout(B),j.dispose(),v((0,O.F0)())})}):J(y=>g(S,y))}function E(S,h=0){const y=setTimeout(S,h);return(0,Q.OF)(()=>clearTimeout(y))}function H(S,h=v=>!!v,y=null){let v=0;const B=S.length,j=()=>{if(v>=B)return Promise.resolve(y);const te=S[v++];return Promise.resolve(te()).then(_e=>h(_e)?Promise.resolve(_e):j())};return j()}class r{constructor(h,y){this._token=-1,typeof h=="function"&&typeof y=="number"&&this.setIfNotSet(h,y)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(h,y){this.cancel(),this._token=setTimeout(()=>{this._token=-1,h()},y)}setIfNotSet(h,y){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,h()},y))}}class N{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(h,y){this.cancel(),this._token=setInterval(()=>{h()},y)}}class C{constructor(h,y){this.timeoutToken=-1,this.runner=h,this.timeout=y,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(h=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,h)}get delay(){return this.timeout}set delay(h){this.timeout=h}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let x;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?x=S=>{const h=setTimeout(()=>{const v=Date.now()+15;S(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,v-Date.now())}}))});let y=!1;return{dispose(){y||(y=!0,clearTimeout(h))}}}:x=(S,h)=>{const y=requestIdleCallback(S,typeof h=="number"?{timeout:h}:void 0);let v=!1;return{dispose(){v||(v=!0,cancelIdleCallback(y))}}}})();class f{constructor(h){this._didRun=!1,this._executor=()=>{try{this._value=h()}catch(y){this._error=y}finally{this._didRun=!0}},this._handle=x(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var _;(function(S){function h(v){return P(this,void 0,void 0,function*(){let B;const j=yield Promise.all(v.map(te=>te.then(ce=>ce,ce=>{B||(B=ce)})));if(typeof B!="undefined")throw B;return j})}S.settled=h;function y(v){return new Promise((B,j)=>P(this,void 0,void 0,function*(){try{yield v(B,j)}catch(te){j(te)}}))}S.withAsyncBody=y})(_||(_={}))},53060:function(ti,Ge,c){"use strict";c.d(Ge,{Ag:function(){return R},Cg:function(){return T},KN:function(){return P},Q$:function(){return s},T4:function(){return W},mP:function(){return L},oq:function(){return J}});var D=c(48764).lW;const O=typeof D!="undefined";let Q;class P{constructor(E){this.buffer=E,this.byteLength=this.buffer.byteLength}static wrap(E){return O&&!D.isBuffer(E)&&(E=D.from(E.buffer,E.byteOffset,E.byteLength)),new P(E)}toString(){return O?this.buffer.toString():(Q||(Q=new TextDecoder),Q.decode(this.buffer))}}function L(g,E){return g[E+0]<<0>>>0|g[E+1]<<8>>>0}function J(g,E,H){g[H+0]=E&255,E=E>>>8,g[H+1]=E&255}function R(g,E){return g[E]*Math.pow(2,24)+g[E+1]*Math.pow(2,16)+g[E+2]*Math.pow(2,8)+g[E+3]}function W(g,E,H){g[H+3]=E,E=E>>>8,g[H+2]=E,E=E>>>8,g[H+1]=E,E=E>>>8,g[H]=E}function s(g,E){return g[E]}function T(g,E,H){g[H]=E}},71050:function(ti,Ge,c){"use strict";c.d(Ge,{A:function(){return L},T:function(){return Q}});var D=c(4669);const O=Object.freeze(function(J,R){const W=setTimeout(J.bind(R),0);return{dispose(){clearTimeout(W)}}});var Q;(function(J){function R(W){return W===J.None||W===J.Cancelled||W instanceof P?!0:!W||typeof W!="object"?!1:typeof W.isCancellationRequested=="boolean"&&typeof W.onCancellationRequested=="function"}J.isCancellationToken=R,J.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:D.ju.None}),J.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:O})})(Q||(Q={}));class P{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?O:(this._emitter||(this._emitter=new D.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(R){this._token=void 0,this._parentListener=void 0,this._parentListener=R&&R.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new P),this._token}cancel(){this._token?this._token instanceof P&&this._token.cancel():this._token=Q.Cancelled}dispose(R=!1){R&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof P&&this._token.dispose():this._token=Q.None}}},73046:function(ti,Ge,c){"use strict";c.d(Ge,{CM:function(){return L},JL:function(){return J},dT:function(){return W},fK:function(){return P},lA:function(){return R}});var D=c(4669);class O{constructor(){this._icons=new Map,this._onDidRegister=new D.Q5}add(T){const g=this._icons.get(T.id);g?T.description?g.description=T.description:console.error(`Duplicate registration of codicon ${T.id}`):(this._icons.set(T.id,T),this._onDidRegister.fire(T))}get(T){return this._icons.get(T)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const Q=new O,P=Q;function L(s,T){return new R(s,T)}function J(s){return s?s.replace(/\$\((.*?)\)/g,(T,g)=>` ${g} `).trim():""}class R{constructor(T,g,E){this.id=T,this.definition=g,this.description=E,Q.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var W;(function(s){s.iconNameSegment="[A-Za-z0-9]+",s.iconNameExpression="[A-Za-z0-9\\-]+",s.iconModifierExpression="~[A-Za-z]+";const T=new RegExp(`^(${s.iconNameExpression})(${s.iconModifierExpression})?$`);function g(r){if(r instanceof R)return["codicon","codicon-"+r.id];const N=T.exec(r.id);if(!N)return g(R.error);let[,C,x]=N;const f=["codicon","codicon-"+C];return x&&f.push("codicon-modifier-"+x.substr(1)),f}s.asClassNameArray=g;function E(r){return g(r).join(" ")}s.asClassName=E;function H(r){return"."+g(r).join(".")}s.asCSSSelector=H})(W||(W={})),function(s){s.add=new s("add",{fontCharacter:"\\ea60"}),s.plus=new s("plus",s.add.definition),s.gistNew=new s("gist-new",s.add.definition),s.repoCreate=new s("repo-create",s.add.definition),s.lightbulb=new s("lightbulb",{fontCharacter:"\\ea61"}),s.lightBulb=new s("light-bulb",{fontCharacter:"\\ea61"}),s.repo=new s("repo",{fontCharacter:"\\ea62"}),s.repoDelete=new s("repo-delete",{fontCharacter:"\\ea62"}),s.gistFork=new s("gist-fork",{fontCharacter:"\\ea63"}),s.repoForked=new s("repo-forked",{fontCharacter:"\\ea63"}),s.gitPullRequest=new s("git-pull-request",{fontCharacter:"\\ea64"}),s.gitPullRequestAbandoned=new s("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),s.recordKeys=new s("record-keys",{fontCharacter:"\\ea65"}),s.keyboard=new s("keyboard",{fontCharacter:"\\ea65"}),s.tag=new s("tag",{fontCharacter:"\\ea66"}),s.tagAdd=new s("tag-add",{fontCharacter:"\\ea66"}),s.tagRemove=new s("tag-remove",{fontCharacter:"\\ea66"}),s.person=new s("person",{fontCharacter:"\\ea67"}),s.personFollow=new s("person-follow",{fontCharacter:"\\ea67"}),s.personOutline=new s("person-outline",{fontCharacter:"\\ea67"}),s.personFilled=new s("person-filled",{fontCharacter:"\\ea67"}),s.gitBranch=new s("git-branch",{fontCharacter:"\\ea68"}),s.gitBranchCreate=new s("git-branch-create",{fontCharacter:"\\ea68"}),s.gitBranchDelete=new s("git-branch-delete",{fontCharacter:"\\ea68"}),s.sourceControl=new s("source-control",{fontCharacter:"\\ea68"}),s.mirror=new s("mirror",{fontCharacter:"\\ea69"}),s.mirrorPublic=new s("mirror-public",{fontCharacter:"\\ea69"}),s.star=new s("star",{fontCharacter:"\\ea6a"}),s.starAdd=new s("star-add",{fontCharacter:"\\ea6a"}),s.starDelete=new s("star-delete",{fontCharacter:"\\ea6a"}),s.starEmpty=new s("star-empty",{fontCharacter:"\\ea6a"}),s.comment=new s("comment",{fontCharacter:"\\ea6b"}),s.commentAdd=new s("comment-add",{fontCharacter:"\\ea6b"}),s.alert=new s("alert",{fontCharacter:"\\ea6c"}),s.warning=new s("warning",{fontCharacter:"\\ea6c"}),s.search=new s("search",{fontCharacter:"\\ea6d"}),s.searchSave=new s("search-save",{fontCharacter:"\\ea6d"}),s.logOut=new s("log-out",{fontCharacter:"\\ea6e"}),s.signOut=new s("sign-out",{fontCharacter:"\\ea6e"}),s.logIn=new s("log-in",{fontCharacter:"\\ea6f"}),s.signIn=new s("sign-in",{fontCharacter:"\\ea6f"}),s.eye=new s("eye",{fontCharacter:"\\ea70"}),s.eyeUnwatch=new s("eye-unwatch",{fontCharacter:"\\ea70"}),s.eyeWatch=new s("eye-watch",{fontCharacter:"\\ea70"}),s.circleFilled=new s("circle-filled",{fontCharacter:"\\ea71"}),s.primitiveDot=new s("primitive-dot",{fontCharacter:"\\ea71"}),s.closeDirty=new s("close-dirty",{fontCharacter:"\\ea71"}),s.debugBreakpoint=new s("debug-breakpoint",{fontCharacter:"\\ea71"}),s.debugBreakpointDisabled=new s("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),s.debugHint=new s("debug-hint",{fontCharacter:"\\ea71"}),s.primitiveSquare=new s("primitive-square",{fontCharacter:"\\ea72"}),s.edit=new s("edit",{fontCharacter:"\\ea73"}),s.pencil=new s("pencil",{fontCharacter:"\\ea73"}),s.info=new s("info",{fontCharacter:"\\ea74"}),s.issueOpened=new s("issue-opened",{fontCharacter:"\\ea74"}),s.gistPrivate=new s("gist-private",{fontCharacter:"\\ea75"}),s.gitForkPrivate=new s("git-fork-private",{fontCharacter:"\\ea75"}),s.lock=new s("lock",{fontCharacter:"\\ea75"}),s.mirrorPrivate=new s("mirror-private",{fontCharacter:"\\ea75"}),s.close=new s("close",{fontCharacter:"\\ea76"}),s.removeClose=new s("remove-close",{fontCharacter:"\\ea76"}),s.x=new s("x",{fontCharacter:"\\ea76"}),s.repoSync=new s("repo-sync",{fontCharacter:"\\ea77"}),s.sync=new s("sync",{fontCharacter:"\\ea77"}),s.clone=new s("clone",{fontCharacter:"\\ea78"}),s.desktopDownload=new s("desktop-download",{fontCharacter:"\\ea78"}),s.beaker=new s("beaker",{fontCharacter:"\\ea79"}),s.microscope=new s("microscope",{fontCharacter:"\\ea79"}),s.vm=new s("vm",{fontCharacter:"\\ea7a"}),s.deviceDesktop=new s("device-desktop",{fontCharacter:"\\ea7a"}),s.file=new s("file",{fontCharacter:"\\ea7b"}),s.fileText=new s("file-text",{fontCharacter:"\\ea7b"}),s.more=new s("more",{fontCharacter:"\\ea7c"}),s.ellipsis=new s("ellipsis",{fontCharacter:"\\ea7c"}),s.kebabHorizontal=new s("kebab-horizontal",{fontCharacter:"\\ea7c"}),s.mailReply=new s("mail-reply",{fontCharacter:"\\ea7d"}),s.reply=new s("reply",{fontCharacter:"\\ea7d"}),s.organization=new s("organization",{fontCharacter:"\\ea7e"}),s.organizationFilled=new s("organization-filled",{fontCharacter:"\\ea7e"}),s.organizationOutline=new s("organization-outline",{fontCharacter:"\\ea7e"}),s.newFile=new s("new-file",{fontCharacter:"\\ea7f"}),s.fileAdd=new s("file-add",{fontCharacter:"\\ea7f"}),s.newFolder=new s("new-folder",{fontCharacter:"\\ea80"}),s.fileDirectoryCreate=new s("file-directory-create",{fontCharacter:"\\ea80"}),s.trash=new s("trash",{fontCharacter:"\\ea81"}),s.trashcan=new s("trashcan",{fontCharacter:"\\ea81"}),s.history=new s("history",{fontCharacter:"\\ea82"}),s.clock=new s("clock",{fontCharacter:"\\ea82"}),s.folder=new s("folder",{fontCharacter:"\\ea83"}),s.fileDirectory=new s("file-directory",{fontCharacter:"\\ea83"}),s.symbolFolder=new s("symbol-folder",{fontCharacter:"\\ea83"}),s.logoGithub=new s("logo-github",{fontCharacter:"\\ea84"}),s.markGithub=new s("mark-github",{fontCharacter:"\\ea84"}),s.github=new s("github",{fontCharacter:"\\ea84"}),s.terminal=new s("terminal",{fontCharacter:"\\ea85"}),s.console=new s("console",{fontCharacter:"\\ea85"}),s.repl=new s("repl",{fontCharacter:"\\ea85"}),s.zap=new s("zap",{fontCharacter:"\\ea86"}),s.symbolEvent=new s("symbol-event",{fontCharacter:"\\ea86"}),s.error=new s("error",{fontCharacter:"\\ea87"}),s.stop=new s("stop",{fontCharacter:"\\ea87"}),s.variable=new s("variable",{fontCharacter:"\\ea88"}),s.symbolVariable=new s("symbol-variable",{fontCharacter:"\\ea88"}),s.array=new s("array",{fontCharacter:"\\ea8a"}),s.symbolArray=new s("symbol-array",{fontCharacter:"\\ea8a"}),s.symbolModule=new s("symbol-module",{fontCharacter:"\\ea8b"}),s.symbolPackage=new s("symbol-package",{fontCharacter:"\\ea8b"}),s.symbolNamespace=new s("symbol-namespace",{fontCharacter:"\\ea8b"}),s.symbolObject=new s("symbol-object",{fontCharacter:"\\ea8b"}),s.symbolMethod=new s("symbol-method",{fontCharacter:"\\ea8c"}),s.symbolFunction=new s("symbol-function",{fontCharacter:"\\ea8c"}),s.symbolConstructor=new s("symbol-constructor",{fontCharacter:"\\ea8c"}),s.symbolBoolean=new s("symbol-boolean",{fontCharacter:"\\ea8f"}),s.symbolNull=new s("symbol-null",{fontCharacter:"\\ea8f"}),s.symbolNumeric=new s("symbol-numeric",{fontCharacter:"\\ea90"}),s.symbolNumber=new s("symbol-number",{fontCharacter:"\\ea90"}),s.symbolStructure=new s("symbol-structure",{fontCharacter:"\\ea91"}),s.symbolStruct=new s("symbol-struct",{fontCharacter:"\\ea91"}),s.symbolParameter=new s("symbol-parameter",{fontCharacter:"\\ea92"}),s.symbolTypeParameter=new s("symbol-type-parameter",{fontCharacter:"\\ea92"}),s.symbolKey=new s("symbol-key",{fontCharacter:"\\ea93"}),s.symbolText=new s("symbol-text",{fontCharacter:"\\ea93"}),s.symbolReference=new s("symbol-reference",{fontCharacter:"\\ea94"}),s.goToFile=new s("go-to-file",{fontCharacter:"\\ea94"}),s.symbolEnum=new s("symbol-enum",{fontCharacter:"\\ea95"}),s.symbolValue=new s("symbol-value",{fontCharacter:"\\ea95"}),s.symbolRuler=new s("symbol-ruler",{fontCharacter:"\\ea96"}),s.symbolUnit=new s("symbol-unit",{fontCharacter:"\\ea96"}),s.activateBreakpoints=new s("activate-breakpoints",{fontCharacter:"\\ea97"}),s.archive=new s("archive",{fontCharacter:"\\ea98"}),s.arrowBoth=new s("arrow-both",{fontCharacter:"\\ea99"}),s.arrowDown=new s("arrow-down",{fontCharacter:"\\ea9a"}),s.arrowLeft=new s("arrow-left",{fontCharacter:"\\ea9b"}),s.arrowRight=new s("arrow-right",{fontCharacter:"\\ea9c"}),s.arrowSmallDown=new s("arrow-small-down",{fontCharacter:"\\ea9d"}),s.arrowSmallLeft=new s("arrow-small-left",{fontCharacter:"\\ea9e"}),s.arrowSmallRight=new s("arrow-small-right",{fontCharacter:"\\ea9f"}),s.arrowSmallUp=new s("arrow-small-up",{fontCharacter:"\\eaa0"}),s.arrowUp=new s("arrow-up",{fontCharacter:"\\eaa1"}),s.bell=new s("bell",{fontCharacter:"\\eaa2"}),s.bold=new s("bold",{fontCharacter:"\\eaa3"}),s.book=new s("book",{fontCharacter:"\\eaa4"}),s.bookmark=new s("bookmark",{fontCharacter:"\\eaa5"}),s.debugBreakpointConditionalUnverified=new s("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),s.debugBreakpointConditional=new s("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),s.debugBreakpointConditionalDisabled=new s("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),s.debugBreakpointDataUnverified=new s("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),s.debugBreakpointData=new s("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),s.debugBreakpointDataDisabled=new s("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),s.debugBreakpointLogUnverified=new s("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),s.debugBreakpointLog=new s("debug-breakpoint-log",{fontCharacter:"\\eaab"}),s.debugBreakpointLogDisabled=new s("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),s.briefcase=new s("briefcase",{fontCharacter:"\\eaac"}),s.broadcast=new s("broadcast",{fontCharacter:"\\eaad"}),s.browser=new s("browser",{fontCharacter:"\\eaae"}),s.bug=new s("bug",{fontCharacter:"\\eaaf"}),s.calendar=new s("calendar",{fontCharacter:"\\eab0"}),s.caseSensitive=new s("case-sensitive",{fontCharacter:"\\eab1"}),s.check=new s("check",{fontCharacter:"\\eab2"}),s.checklist=new s("checklist",{fontCharacter:"\\eab3"}),s.chevronDown=new s("chevron-down",{fontCharacter:"\\eab4"}),s.dropDownButton=new s("drop-down-button",s.chevronDown.definition),s.chevronLeft=new s("chevron-left",{fontCharacter:"\\eab5"}),s.chevronRight=new s("chevron-right",{fontCharacter:"\\eab6"}),s.chevronUp=new s("chevron-up",{fontCharacter:"\\eab7"}),s.chromeClose=new s("chrome-close",{fontCharacter:"\\eab8"}),s.chromeMaximize=new s("chrome-maximize",{fontCharacter:"\\eab9"}),s.chromeMinimize=new s("chrome-minimize",{fontCharacter:"\\eaba"}),s.chromeRestore=new s("chrome-restore",{fontCharacter:"\\eabb"}),s.circleOutline=new s("circle-outline",{fontCharacter:"\\eabc"}),s.debugBreakpointUnverified=new s("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),s.circleSlash=new s("circle-slash",{fontCharacter:"\\eabd"}),s.circuitBoard=new s("circuit-board",{fontCharacter:"\\eabe"}),s.clearAll=new s("clear-all",{fontCharacter:"\\eabf"}),s.clippy=new s("clippy",{fontCharacter:"\\eac0"}),s.closeAll=new s("close-all",{fontCharacter:"\\eac1"}),s.cloudDownload=new s("cloud-download",{fontCharacter:"\\eac2"}),s.cloudUpload=new s("cloud-upload",{fontCharacter:"\\eac3"}),s.code=new s("code",{fontCharacter:"\\eac4"}),s.collapseAll=new s("collapse-all",{fontCharacter:"\\eac5"}),s.colorMode=new s("color-mode",{fontCharacter:"\\eac6"}),s.commentDiscussion=new s("comment-discussion",{fontCharacter:"\\eac7"}),s.compareChanges=new s("compare-changes",{fontCharacter:"\\eafd"}),s.creditCard=new s("credit-card",{fontCharacter:"\\eac9"}),s.dash=new s("dash",{fontCharacter:"\\eacc"}),s.dashboard=new s("dashboard",{fontCharacter:"\\eacd"}),s.database=new s("database",{fontCharacter:"\\eace"}),s.debugContinue=new s("debug-continue",{fontCharacter:"\\eacf"}),s.debugDisconnect=new s("debug-disconnect",{fontCharacter:"\\ead0"}),s.debugPause=new s("debug-pause",{fontCharacter:"\\ead1"}),s.debugRestart=new s("debug-restart",{fontCharacter:"\\ead2"}),s.debugStart=new s("debug-start",{fontCharacter:"\\ead3"}),s.debugStepInto=new s("debug-step-into",{fontCharacter:"\\ead4"}),s.debugStepOut=new s("debug-step-out",{fontCharacter:"\\ead5"}),s.debugStepOver=new s("debug-step-over",{fontCharacter:"\\ead6"}),s.debugStop=new s("debug-stop",{fontCharacter:"\\ead7"}),s.debug=new s("debug",{fontCharacter:"\\ead8"}),s.deviceCameraVideo=new s("device-camera-video",{fontCharacter:"\\ead9"}),s.deviceCamera=new s("device-camera",{fontCharacter:"\\eada"}),s.deviceMobile=new s("device-mobile",{fontCharacter:"\\eadb"}),s.diffAdded=new s("diff-added",{fontCharacter:"\\eadc"}),s.diffIgnored=new s("diff-ignored",{fontCharacter:"\\eadd"}),s.diffModified=new s("diff-modified",{fontCharacter:"\\eade"}),s.diffRemoved=new s("diff-removed",{fontCharacter:"\\eadf"}),s.diffRenamed=new s("diff-renamed",{fontCharacter:"\\eae0"}),s.diff=new s("diff",{fontCharacter:"\\eae1"}),s.discard=new s("discard",{fontCharacter:"\\eae2"}),s.editorLayout=new s("editor-layout",{fontCharacter:"\\eae3"}),s.emptyWindow=new s("empty-window",{fontCharacter:"\\eae4"}),s.exclude=new s("exclude",{fontCharacter:"\\eae5"}),s.extensions=new s("extensions",{fontCharacter:"\\eae6"}),s.eyeClosed=new s("eye-closed",{fontCharacter:"\\eae7"}),s.fileBinary=new s("file-binary",{fontCharacter:"\\eae8"}),s.fileCode=new s("file-code",{fontCharacter:"\\eae9"}),s.fileMedia=new s("file-media",{fontCharacter:"\\eaea"}),s.filePdf=new s("file-pdf",{fontCharacter:"\\eaeb"}),s.fileSubmodule=new s("file-submodule",{fontCharacter:"\\eaec"}),s.fileSymlinkDirectory=new s("file-symlink-directory",{fontCharacter:"\\eaed"}),s.fileSymlinkFile=new s("file-symlink-file",{fontCharacter:"\\eaee"}),s.fileZip=new s("file-zip",{fontCharacter:"\\eaef"}),s.files=new s("files",{fontCharacter:"\\eaf0"}),s.filter=new s("filter",{fontCharacter:"\\eaf1"}),s.flame=new s("flame",{fontCharacter:"\\eaf2"}),s.foldDown=new s("fold-down",{fontCharacter:"\\eaf3"}),s.foldUp=new s("fold-up",{fontCharacter:"\\eaf4"}),s.fold=new s("fold",{fontCharacter:"\\eaf5"}),s.folderActive=new s("folder-active",{fontCharacter:"\\eaf6"}),s.folderOpened=new s("folder-opened",{fontCharacter:"\\eaf7"}),s.gear=new s("gear",{fontCharacter:"\\eaf8"}),s.gift=new s("gift",{fontCharacter:"\\eaf9"}),s.gistSecret=new s("gist-secret",{fontCharacter:"\\eafa"}),s.gist=new s("gist",{fontCharacter:"\\eafb"}),s.gitCommit=new s("git-commit",{fontCharacter:"\\eafc"}),s.gitCompare=new s("git-compare",{fontCharacter:"\\eafd"}),s.gitMerge=new s("git-merge",{fontCharacter:"\\eafe"}),s.githubAction=new s("github-action",{fontCharacter:"\\eaff"}),s.githubAlt=new s("github-alt",{fontCharacter:"\\eb00"}),s.globe=new s("globe",{fontCharacter:"\\eb01"}),s.grabber=new s("grabber",{fontCharacter:"\\eb02"}),s.graph=new s("graph",{fontCharacter:"\\eb03"}),s.gripper=new s("gripper",{fontCharacter:"\\eb04"}),s.heart=new s("heart",{fontCharacter:"\\eb05"}),s.home=new s("home",{fontCharacter:"\\eb06"}),s.horizontalRule=new s("horizontal-rule",{fontCharacter:"\\eb07"}),s.hubot=new s("hubot",{fontCharacter:"\\eb08"}),s.inbox=new s("inbox",{fontCharacter:"\\eb09"}),s.issueClosed=new s("issue-closed",{fontCharacter:"\\eba4"}),s.issueReopened=new s("issue-reopened",{fontCharacter:"\\eb0b"}),s.issues=new s("issues",{fontCharacter:"\\eb0c"}),s.italic=new s("italic",{fontCharacter:"\\eb0d"}),s.jersey=new s("jersey",{fontCharacter:"\\eb0e"}),s.json=new s("json",{fontCharacter:"\\eb0f"}),s.kebabVertical=new s("kebab-vertical",{fontCharacter:"\\eb10"}),s.key=new s("key",{fontCharacter:"\\eb11"}),s.law=new s("law",{fontCharacter:"\\eb12"}),s.lightbulbAutofix=new s("lightbulb-autofix",{fontCharacter:"\\eb13"}),s.linkExternal=new s("link-external",{fontCharacter:"\\eb14"}),s.link=new s("link",{fontCharacter:"\\eb15"}),s.listOrdered=new s("list-ordered",{fontCharacter:"\\eb16"}),s.listUnordered=new s("list-unordered",{fontCharacter:"\\eb17"}),s.liveShare=new s("live-share",{fontCharacter:"\\eb18"}),s.loading=new s("loading",{fontCharacter:"\\eb19"}),s.location=new s("location",{fontCharacter:"\\eb1a"}),s.mailRead=new s("mail-read",{fontCharacter:"\\eb1b"}),s.mail=new s("mail",{fontCharacter:"\\eb1c"}),s.markdown=new s("markdown",{fontCharacter:"\\eb1d"}),s.megaphone=new s("megaphone",{fontCharacter:"\\eb1e"}),s.mention=new s("mention",{fontCharacter:"\\eb1f"}),s.milestone=new s("milestone",{fontCharacter:"\\eb20"}),s.mortarBoard=new s("mortar-board",{fontCharacter:"\\eb21"}),s.move=new s("move",{fontCharacter:"\\eb22"}),s.multipleWindows=new s("multiple-windows",{fontCharacter:"\\eb23"}),s.mute=new s("mute",{fontCharacter:"\\eb24"}),s.noNewline=new s("no-newline",{fontCharacter:"\\eb25"}),s.note=new s("note",{fontCharacter:"\\eb26"}),s.octoface=new s("octoface",{fontCharacter:"\\eb27"}),s.openPreview=new s("open-preview",{fontCharacter:"\\eb28"}),s.package_=new s("package",{fontCharacter:"\\eb29"}),s.paintcan=new s("paintcan",{fontCharacter:"\\eb2a"}),s.pin=new s("pin",{fontCharacter:"\\eb2b"}),s.play=new s("play",{fontCharacter:"\\eb2c"}),s.run=new s("run",{fontCharacter:"\\eb2c"}),s.plug=new s("plug",{fontCharacter:"\\eb2d"}),s.preserveCase=new s("preserve-case",{fontCharacter:"\\eb2e"}),s.preview=new s("preview",{fontCharacter:"\\eb2f"}),s.project=new s("project",{fontCharacter:"\\eb30"}),s.pulse=new s("pulse",{fontCharacter:"\\eb31"}),s.question=new s("question",{fontCharacter:"\\eb32"}),s.quote=new s("quote",{fontCharacter:"\\eb33"}),s.radioTower=new s("radio-tower",{fontCharacter:"\\eb34"}),s.reactions=new s("reactions",{fontCharacter:"\\eb35"}),s.references=new s("references",{fontCharacter:"\\eb36"}),s.refresh=new s("refresh",{fontCharacter:"\\eb37"}),s.regex=new s("regex",{fontCharacter:"\\eb38"}),s.remoteExplorer=new s("remote-explorer",{fontCharacter:"\\eb39"}),s.remote=new s("remote",{fontCharacter:"\\eb3a"}),s.remove=new s("remove",{fontCharacter:"\\eb3b"}),s.replaceAll=new s("replace-all",{fontCharacter:"\\eb3c"}),s.replace=new s("replace",{fontCharacter:"\\eb3d"}),s.repoClone=new s("repo-clone",{fontCharacter:"\\eb3e"}),s.repoForcePush=new s("repo-force-push",{fontCharacter:"\\eb3f"}),s.repoPull=new s("repo-pull",{fontCharacter:"\\eb40"}),s.repoPush=new s("repo-push",{fontCharacter:"\\eb41"}),s.report=new s("report",{fontCharacter:"\\eb42"}),s.requestChanges=new s("request-changes",{fontCharacter:"\\eb43"}),s.rocket=new s("rocket",{fontCharacter:"\\eb44"}),s.rootFolderOpened=new s("root-folder-opened",{fontCharacter:"\\eb45"}),s.rootFolder=new s("root-folder",{fontCharacter:"\\eb46"}),s.rss=new s("rss",{fontCharacter:"\\eb47"}),s.ruby=new s("ruby",{fontCharacter:"\\eb48"}),s.saveAll=new s("save-all",{fontCharacter:"\\eb49"}),s.saveAs=new s("save-as",{fontCharacter:"\\eb4a"}),s.save=new s("save",{fontCharacter:"\\eb4b"}),s.screenFull=new s("screen-full",{fontCharacter:"\\eb4c"}),s.screenNormal=new s("screen-normal",{fontCharacter:"\\eb4d"}),s.searchStop=new s("search-stop",{fontCharacter:"\\eb4e"}),s.server=new s("server",{fontCharacter:"\\eb50"}),s.settingsGear=new s("settings-gear",{fontCharacter:"\\eb51"}),s.settings=new s("settings",{fontCharacter:"\\eb52"}),s.shield=new s("shield",{fontCharacter:"\\eb53"}),s.smiley=new s("smiley",{fontCharacter:"\\eb54"}),s.sortPrecedence=new s("sort-precedence",{fontCharacter:"\\eb55"}),s.splitHorizontal=new s("split-horizontal",{fontCharacter:"\\eb56"}),s.splitVertical=new s("split-vertical",{fontCharacter:"\\eb57"}),s.squirrel=new s("squirrel",{fontCharacter:"\\eb58"}),s.starFull=new s("star-full",{fontCharacter:"\\eb59"}),s.starHalf=new s("star-half",{fontCharacter:"\\eb5a"}),s.symbolClass=new s("symbol-class",{fontCharacter:"\\eb5b"}),s.symbolColor=new s("symbol-color",{fontCharacter:"\\eb5c"}),s.symbolConstant=new s("symbol-constant",{fontCharacter:"\\eb5d"}),s.symbolEnumMember=new s("symbol-enum-member",{fontCharacter:"\\eb5e"}),s.symbolField=new s("symbol-field",{fontCharacter:"\\eb5f"}),s.symbolFile=new s("symbol-file",{fontCharacter:"\\eb60"}),s.symbolInterface=new s("symbol-interface",{fontCharacter:"\\eb61"}),s.symbolKeyword=new s("symbol-keyword",{fontCharacter:"\\eb62"}),s.symbolMisc=new s("symbol-misc",{fontCharacter:"\\eb63"}),s.symbolOperator=new s("symbol-operator",{fontCharacter:"\\eb64"}),s.symbolProperty=new s("symbol-property",{fontCharacter:"\\eb65"}),s.wrench=new s("wrench",{fontCharacter:"\\eb65"}),s.wrenchSubaction=new s("wrench-subaction",{fontCharacter:"\\eb65"}),s.symbolSnippet=new s("symbol-snippet",{fontCharacter:"\\eb66"}),s.tasklist=new s("tasklist",{fontCharacter:"\\eb67"}),s.telescope=new s("telescope",{fontCharacter:"\\eb68"}),s.textSize=new s("text-size",{fontCharacter:"\\eb69"}),s.threeBars=new s("three-bars",{fontCharacter:"\\eb6a"}),s.thumbsdown=new s("thumbsdown",{fontCharacter:"\\eb6b"}),s.thumbsup=new s("thumbsup",{fontCharacter:"\\eb6c"}),s.tools=new s("tools",{fontCharacter:"\\eb6d"}),s.triangleDown=new s("triangle-down",{fontCharacter:"\\eb6e"}),s.triangleLeft=new s("triangle-left",{fontCharacter:"\\eb6f"}),s.triangleRight=new s("triangle-right",{fontCharacter:"\\eb70"}),s.triangleUp=new s("triangle-up",{fontCharacter:"\\eb71"}),s.twitter=new s("twitter",{fontCharacter:"\\eb72"}),s.unfold=new s("unfold",{fontCharacter:"\\eb73"}),s.unlock=new s("unlock",{fontCharacter:"\\eb74"}),s.unmute=new s("unmute",{fontCharacter:"\\eb75"}),s.unverified=new s("unverified",{fontCharacter:"\\eb76"}),s.verified=new s("verified",{fontCharacter:"\\eb77"}),s.versions=new s("versions",{fontCharacter:"\\eb78"}),s.vmActive=new s("vm-active",{fontCharacter:"\\eb79"}),s.vmOutline=new s("vm-outline",{fontCharacter:"\\eb7a"}),s.vmRunning=new s("vm-running",{fontCharacter:"\\eb7b"}),s.watch=new s("watch",{fontCharacter:"\\eb7c"}),s.whitespace=new s("whitespace",{fontCharacter:"\\eb7d"}),s.wholeWord=new s("whole-word",{fontCharacter:"\\eb7e"}),s.window=new s("window",{fontCharacter:"\\eb7f"}),s.wordWrap=new s("word-wrap",{fontCharacter:"\\eb80"}),s.zoomIn=new s("zoom-in",{fontCharacter:"\\eb81"}),s.zoomOut=new s("zoom-out",{fontCharacter:"\\eb82"}),s.listFilter=new s("list-filter",{fontCharacter:"\\eb83"}),s.listFlat=new s("list-flat",{fontCharacter:"\\eb84"}),s.listSelection=new s("list-selection",{fontCharacter:"\\eb85"}),s.selection=new s("selection",{fontCharacter:"\\eb85"}),s.listTree=new s("list-tree",{fontCharacter:"\\eb86"}),s.debugBreakpointFunctionUnverified=new s("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),s.debugBreakpointFunction=new s("debug-breakpoint-function",{fontCharacter:"\\eb88"}),s.debugBreakpointFunctionDisabled=new s("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),s.debugStackframeActive=new s("debug-stackframe-active",{fontCharacter:"\\eb89"}),s.debugStackframeDot=new s("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),s.debugStackframe=new s("debug-stackframe",{fontCharacter:"\\eb8b"}),s.debugStackframeFocused=new s("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),s.debugBreakpointUnsupported=new s("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),s.symbolString=new s("symbol-string",{fontCharacter:"\\eb8d"}),s.debugReverseContinue=new s("debug-reverse-continue",{fontCharacter:"\\eb8e"}),s.debugStepBack=new s("debug-step-back",{fontCharacter:"\\eb8f"}),s.debugRestartFrame=new s("debug-restart-frame",{fontCharacter:"\\eb90"}),s.callIncoming=new s("call-incoming",{fontCharacter:"\\eb92"}),s.callOutgoing=new s("call-outgoing",{fontCharacter:"\\eb93"}),s.menu=new s("menu",{fontCharacter:"\\eb94"}),s.expandAll=new s("expand-all",{fontCharacter:"\\eb95"}),s.feedback=new s("feedback",{fontCharacter:"\\eb96"}),s.groupByRefType=new s("group-by-ref-type",{fontCharacter:"\\eb97"}),s.ungroupByRefType=new s("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),s.account=new s("account",{fontCharacter:"\\eb99"}),s.bellDot=new s("bell-dot",{fontCharacter:"\\eb9a"}),s.debugConsole=new s("debug-console",{fontCharacter:"\\eb9b"}),s.library=new s("library",{fontCharacter:"\\eb9c"}),s.output=new s("output",{fontCharacter:"\\eb9d"}),s.runAll=new s("run-all",{fontCharacter:"\\eb9e"}),s.syncIgnored=new s("sync-ignored",{fontCharacter:"\\eb9f"}),s.pinned=new s("pinned",{fontCharacter:"\\eba0"}),s.githubInverted=new s("github-inverted",{fontCharacter:"\\eba1"}),s.debugAlt=new s("debug-alt",{fontCharacter:"\\eb91"}),s.serverProcess=new s("server-process",{fontCharacter:"\\eba2"}),s.serverEnvironment=new s("server-environment",{fontCharacter:"\\eba3"}),s.pass=new s("pass",{fontCharacter:"\\eba4"}),s.stopCircle=new s("stop-circle",{fontCharacter:"\\eba5"}),s.playCircle=new s("play-circle",{fontCharacter:"\\eba6"}),s.record=new s("record",{fontCharacter:"\\eba7"}),s.debugAltSmall=new s("debug-alt-small",{fontCharacter:"\\eba8"}),s.vmConnect=new s("vm-connect",{fontCharacter:"\\eba9"}),s.cloud=new s("cloud",{fontCharacter:"\\ebaa"}),s.merge=new s("merge",{fontCharacter:"\\ebab"}),s.exportIcon=new s("export",{fontCharacter:"\\ebac"}),s.graphLeft=new s("graph-left",{fontCharacter:"\\ebad"}),s.magnet=new s("magnet",{fontCharacter:"\\ebae"}),s.notebook=new s("notebook",{fontCharacter:"\\ebaf"}),s.redo=new s("redo",{fontCharacter:"\\ebb0"}),s.checkAll=new s("check-all",{fontCharacter:"\\ebb1"}),s.pinnedDirty=new s("pinned-dirty",{fontCharacter:"\\ebb2"}),s.passFilled=new s("pass-filled",{fontCharacter:"\\ebb3"}),s.circleLargeFilled=new s("circle-large-filled",{fontCharacter:"\\ebb4"}),s.circleLargeOutline=new s("circle-large-outline",{fontCharacter:"\\ebb5"}),s.combine=new s("combine",{fontCharacter:"\\ebb6"}),s.gather=new s("gather",{fontCharacter:"\\ebb6"}),s.table=new s("table",{fontCharacter:"\\ebb7"}),s.variableGroup=new s("variable-group",{fontCharacter:"\\ebb8"}),s.typeHierarchy=new s("type-hierarchy",{fontCharacter:"\\ebb9"}),s.typeHierarchySub=new s("type-hierarchy-sub",{fontCharacter:"\\ebba"}),s.typeHierarchySuper=new s("type-hierarchy-super",{fontCharacter:"\\ebbb"}),s.gitPullRequestCreate=new s("git-pull-request-create",{fontCharacter:"\\ebbc"}),s.runAbove=new s("run-above",{fontCharacter:"\\ebbd"}),s.runBelow=new s("run-below",{fontCharacter:"\\ebbe"}),s.notebookTemplate=new s("notebook-template",{fontCharacter:"\\ebbf"}),s.debugRerun=new s("debug-rerun",{fontCharacter:"\\ebc0"}),s.workspaceTrusted=new s("workspace-trusted",{fontCharacter:"\\ebc1"}),s.workspaceUntrusted=new s("workspace-untrusted",{fontCharacter:"\\ebc2"}),s.workspaceUnspecified=new s("workspace-unspecified",{fontCharacter:"\\ebc3"}),s.terminalCmd=new s("terminal-cmd",{fontCharacter:"\\ebc4"}),s.terminalDebian=new s("terminal-debian",{fontCharacter:"\\ebc5"}),s.terminalLinux=new s("terminal-linux",{fontCharacter:"\\ebc6"}),s.terminalPowershell=new s("terminal-powershell",{fontCharacter:"\\ebc7"}),s.terminalTmux=new s("terminal-tmux",{fontCharacter:"\\ebc8"}),s.terminalUbuntu=new s("terminal-ubuntu",{fontCharacter:"\\ebc9"}),s.terminalBash=new s("terminal-bash",{fontCharacter:"\\ebca"}),s.arrowSwap=new s("arrow-swap",{fontCharacter:"\\ebcb"}),s.copy=new s("copy",{fontCharacter:"\\ebcc"}),s.personAdd=new s("person-add",{fontCharacter:"\\ebcd"}),s.filterFilled=new s("filter-filled",{fontCharacter:"\\ebce"}),s.wand=new s("wand",{fontCharacter:"\\ebcf"}),s.debugLineByLine=new s("debug-line-by-line",{fontCharacter:"\\ebd0"}),s.inspect=new s("inspect",{fontCharacter:"\\ebd1"}),s.layers=new s("layers",{fontCharacter:"\\ebd2"}),s.layersDot=new s("layers-dot",{fontCharacter:"\\ebd3"}),s.layersActive=new s("layers-active",{fontCharacter:"\\ebd4"}),s.compass=new s("compass",{fontCharacter:"\\ebd5"}),s.compassDot=new s("compass-dot",{fontCharacter:"\\ebd6"}),s.compassActive=new s("compass-active",{fontCharacter:"\\ebd7"}),s.azure=new s("azure",{fontCharacter:"\\ebd8"}),s.issueDraft=new s("issue-draft",{fontCharacter:"\\ebd9"}),s.gitPullRequestClosed=new s("git-pull-request-closed",{fontCharacter:"\\ebda"}),s.gitPullRequestDraft=new s("git-pull-request-draft",{fontCharacter:"\\ebdb"}),s.debugAll=new s("debug-all",{fontCharacter:"\\ebdc"}),s.debugCoverage=new s("debug-coverage",{fontCharacter:"\\ebdd"}),s.runErrors=new s("run-errors",{fontCharacter:"\\ebde"}),s.folderLibrary=new s("folder-library",{fontCharacter:"\\ebdf"}),s.debugContinueSmall=new s("debug-continue-small",{fontCharacter:"\\ebe0"}),s.beakerStop=new s("beaker-stop",{fontCharacter:"\\ebe1"}),s.graphLine=new s("graph-line",{fontCharacter:"\\ebe2"}),s.graphScatter=new s("graph-scatter",{fontCharacter:"\\ebe3"}),s.pieChart=new s("pie-chart",{fontCharacter:"\\ebe4"}),s.bracket=new s("bracket",s.json.definition),s.bracketDot=new s("bracket-dot",{fontCharacter:"\\ebe5"}),s.bracketError=new s("bracket-error",{fontCharacter:"\\ebe6"}),s.lockSmall=new s("lock-small",{fontCharacter:"\\ebe7"}),s.azureDevops=new s("azure-devops",{fontCharacter:"\\ebe8"}),s.verifiedFilled=new s("verified-filled",{fontCharacter:"\\ebe9"})}(R||(R={}))},6626:function(ti,Ge,c){"use strict";c.d(Ge,{E:function(){return O},r:function(){return Q}});const D=Object.prototype.hasOwnProperty;function O(P,L){for(let J in P)if(D.call(P,J)&&L({key:J,value:P[J]},function(){delete P[J]})===!1)return}class Q{constructor(){this.map=new Map}add(L,J){let R=this.map.get(L);R||(R=new Set,this.map.set(L,R)),R.add(J)}delete(L,J){const R=this.map.get(L);R&&(R.delete(J),R.size===0&&this.map.delete(L))}forEach(L,J){const R=this.map.get(L);R&&R.forEach(J)}}},41264:function(ti,Ge,c){"use strict";c.d(Ge,{Il:function(){return L},VS:function(){return O},tx:function(){return P}});function D(J,R){const W=Math.pow(10,R);return Math.round(J*W)/W}class O{constructor(R,W,s,T=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,R))|0,this.g=Math.min(255,Math.max(0,W))|0,this.b=Math.min(255,Math.max(0,s))|0,this.a=D(Math.max(Math.min(1,T),0),3)}static equals(R,W){return R.r===W.r&&R.g===W.g&&R.b===W.b&&R.a===W.a}}class Q{constructor(R,W,s,T){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,R),0)|0,this.s=D(Math.max(Math.min(1,W),0),3),this.l=D(Math.max(Math.min(1,s),0),3),this.a=D(Math.max(Math.min(1,T),0),3)}static equals(R,W){return R.h===W.h&&R.s===W.s&&R.l===W.l&&R.a===W.a}static fromRGBA(R){const W=R.r/255,s=R.g/255,T=R.b/255,g=R.a,E=Math.max(W,s,T),H=Math.min(W,s,T);let r=0,N=0;const C=(H+E)/2,x=E-H;if(x>0){switch(N=Math.min(C<=.5?x/(2*C):x/(2-2*C),1),E){case W:r=(s-T)/x+(s<T?6:0);break;case s:r=(T-W)/x+2;break;case T:r=(W-s)/x+4;break}r*=60,r=Math.round(r)}return new Q(r,N,C,g)}static _hue2rgb(R,W,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?R+(W-R)*6*s:s<1/2?W:s<2/3?R+(W-R)*(2/3-s)*6:R}static toRGBA(R){const W=R.h/360,{s,l:T,a:g}=R;let E,H,r;if(s===0)E=H=r=T;else{const N=T<.5?T*(1+s):T+s-T*s,C=2*T-N;E=Q._hue2rgb(C,N,W+1/3),H=Q._hue2rgb(C,N,W),r=Q._hue2rgb(C,N,W-1/3)}return new O(Math.round(E*255),Math.round(H*255),Math.round(r*255),g)}}class P{constructor(R,W,s,T){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,R),0)|0,this.s=D(Math.max(Math.min(1,W),0),3),this.v=D(Math.max(Math.min(1,s),0),3),this.a=D(Math.max(Math.min(1,T),0),3)}static equals(R,W){return R.h===W.h&&R.s===W.s&&R.v===W.v&&R.a===W.a}static fromRGBA(R){const W=R.r/255,s=R.g/255,T=R.b/255,g=Math.max(W,s,T),E=Math.min(W,s,T),H=g-E,r=g===0?0:H/g;let N;return H===0?N=0:g===W?N=((s-T)/H%6+6)%6:g===s?N=(T-W)/H+2:N=(W-s)/H+4,new P(Math.round(N*60),r,g,R.a)}static toRGBA(R){const{h:W,s,v:T,a:g}=R,E=T*s,H=E*(1-Math.abs(W/60%2-1)),r=T-E;let[N,C,x]=[0,0,0];return W<60?(N=E,C=H):W<120?(N=H,C=E):W<180?(C=E,x=H):W<240?(C=H,x=E):W<300?(N=H,x=E):W<=360&&(N=E,x=H),N=Math.round((N+r)*255),C=Math.round((C+r)*255),x=Math.round((x+r)*255),new O(N,C,x,g)}}class L{constructor(R){if(R)if(R instanceof O)this.rgba=R;else if(R instanceof Q)this._hsla=R,this.rgba=Q.toRGBA(R);else if(R instanceof P)this._hsva=R,this.rgba=P.toRGBA(R);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(R){return L.Format.CSS.parseHex(R)||L.red}get hsla(){return this._hsla?this._hsla:Q.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:P.fromRGBA(this.rgba)}equals(R){return!!R&&O.equals(this.rgba,R.rgba)&&Q.equals(this.hsla,R.hsla)&&P.equals(this.hsva,R.hsva)}getRelativeLuminance(){const R=L._relativeLuminanceForComponent(this.rgba.r),W=L._relativeLuminanceForComponent(this.rgba.g),s=L._relativeLuminanceForComponent(this.rgba.b),T=.2126*R+.7152*W+.0722*s;return D(T,4)}static _relativeLuminanceForComponent(R){const W=R/255;return W<=.03928?W/12.92:Math.pow((W+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(R){const W=this.getRelativeLuminance(),s=R.getRelativeLuminance();return W>s}isDarkerThan(R){const W=this.getRelativeLuminance(),s=R.getRelativeLuminance();return W<s}lighten(R){return new L(new Q(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*R,this.hsla.a))}darken(R){return new L(new Q(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*R,this.hsla.a))}transparent(R){const{r:W,g:s,b:T,a:g}=this.rgba;return new L(new O(W,s,T,g*R))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new O(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(R,W,s){if(R.isLighterThan(W))return R;s=s||.5;const T=R.getRelativeLuminance(),g=W.getRelativeLuminance();return s=s*(g-T)/g,R.lighten(s)}static getDarkerColor(R,W,s){if(R.isDarkerThan(W))return R;s=s||.5;const T=R.getRelativeLuminance(),g=W.getRelativeLuminance();return s=s*(T-g)/T,R.darken(s)}}L.white=new L(new O(255,255,255,1)),L.black=new L(new O(0,0,0,1)),L.red=new L(new O(255,0,0,1)),L.blue=new L(new O(0,0,255,1)),L.cyan=new L(new O(0,255,255,1)),L.lightgrey=new L(new O(211,211,211,1)),L.transparent=new L(new O(0,0,0,0)),function(J){let R;(function(W){let s;(function(T){function g(h){return h.rgba.a===1?`rgb(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b})`:J.Format.CSS.formatRGBA(h)}T.formatRGB=g;function E(h){return`rgba(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b}, ${+h.rgba.a.toFixed(2)})`}T.formatRGBA=E;function H(h){return h.hsla.a===1?`hsl(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%)`:J.Format.CSS.formatHSLA(h)}T.formatHSL=H;function r(h){return`hsla(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%, ${h.hsla.a.toFixed(2)})`}T.formatHSLA=r;function N(h){const y=h.toString(16);return y.length!==2?"0"+y:y}function C(h){return`#${N(h.rgba.r)}${N(h.rgba.g)}${N(h.rgba.b)}`}T.formatHex=C;function x(h,y=!1){return y&&h.rgba.a===1?J.Format.CSS.formatHex(h):`#${N(h.rgba.r)}${N(h.rgba.g)}${N(h.rgba.b)}${N(Math.round(h.rgba.a*255))}`}T.formatHexA=x;function f(h){return h.isOpaque()?J.Format.CSS.formatHex(h):J.Format.CSS.formatRGBA(h)}T.format=f;function _(h){const y=h.length;if(y===0||h.charCodeAt(0)!==35)return null;if(y===7){const v=16*S(h.charCodeAt(1))+S(h.charCodeAt(2)),B=16*S(h.charCodeAt(3))+S(h.charCodeAt(4)),j=16*S(h.charCodeAt(5))+S(h.charCodeAt(6));return new J(new O(v,B,j,1))}if(y===9){const v=16*S(h.charCodeAt(1))+S(h.charCodeAt(2)),B=16*S(h.charCodeAt(3))+S(h.charCodeAt(4)),j=16*S(h.charCodeAt(5))+S(h.charCodeAt(6)),te=16*S(h.charCodeAt(7))+S(h.charCodeAt(8));return new J(new O(v,B,j,te/255))}if(y===4){const v=S(h.charCodeAt(1)),B=S(h.charCodeAt(2)),j=S(h.charCodeAt(3));return new J(new O(16*v+v,16*B+B,16*j+j))}if(y===5){const v=S(h.charCodeAt(1)),B=S(h.charCodeAt(2)),j=S(h.charCodeAt(3)),te=S(h.charCodeAt(4));return new J(new O(16*v+v,16*B+B,16*j+j,(16*te+te)/255))}return null}T.parseHex=_;function S(h){switch(h){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(s=W.CSS||(W.CSS={}))})(R=J.Format||(J.Format={}))}(L||(L={}))},49898:function(ti,Ge,c){"use strict";c.d(Ge,{H:function(){return D}});function D(O,Q,P){let L=null,J=null;if(typeof P.value=="function"?(L="value",J=P.value,J.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof P.get=="function"&&(L="get",J=P.get),!J)throw new Error("not supported");const R=`$memoize$${Q}`;P[L]=function(...W){return this.hasOwnProperty(R)||Object.defineProperty(this,R,{configurable:!1,enumerable:!1,writable:!1,value:J.apply(this,W)}),this[R]}}},22571:function(ti,Ge,c){"use strict";c.d(Ge,{Hs:function(){return W},a$:function(){return P}});class D{constructor(T,g,E,H){this.originalStart=T,this.originalLength=g,this.modifiedStart=E,this.modifiedLength=H}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var O=c(89954);class Q{constructor(T){this.source=T}getElements(){const T=this.source,g=new Int32Array(T.length);for(let E=0,H=T.length;E<H;E++)g[E]=T.charCodeAt(E);return g}}function P(s,T,g){return new W(new Q(s),new Q(T)).ComputeDiff(g).changes}class L{static Assert(T,g){if(!T)throw new Error(g)}}class J{static Copy(T,g,E,H,r){for(let N=0;N<r;N++)E[H+N]=T[g+N]}static Copy2(T,g,E,H,r){for(let N=0;N<r;N++)E[H+N]=T[g+N]}}class R{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new D(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(T,g){this.m_originalStart=Math.min(this.m_originalStart,T),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_originalCount++}AddModifiedElement(T,g){this.m_originalStart=Math.min(this.m_originalStart,T),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class W{constructor(T,g,E=null){this.ContinueProcessingPredicate=E,this._originalSequence=T,this._modifiedSequence=g;const[H,r,N]=W._getElements(T),[C,x,f]=W._getElements(g);this._hasStrings=N&&f,this._originalStringElements=H,this._originalElementsOrHash=r,this._modifiedStringElements=C,this._modifiedElementsOrHash=x,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(T){return T.length>0&&typeof T[0]=="string"}static _getElements(T){const g=T.getElements();if(W._isStringArray(g)){const E=new Int32Array(g.length);for(let H=0,r=g.length;H<r;H++)E[H]=(0,O.Cv)(g[H],0);return[g,E,!0]}return g instanceof Int32Array?[[],g,!1]:[[],new Int32Array(g),!1]}ElementsAreEqual(T,g){return this._originalElementsOrHash[T]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[T]===this._modifiedStringElements[g]:!0}ElementsAreStrictEqual(T,g){if(!this.ElementsAreEqual(T,g))return!1;const E=W._getStrictElement(this._originalSequence,T),H=W._getStrictElement(this._modifiedSequence,g);return E===H}static _getStrictElement(T,g){return typeof T.getStrictElement=="function"?T.getStrictElement(g):null}OriginalElementsAreEqual(T,g){return this._originalElementsOrHash[T]!==this._originalElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[T]===this._originalStringElements[g]:!0}ModifiedElementsAreEqual(T,g){return this._modifiedElementsOrHash[T]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._modifiedStringElements[T]===this._modifiedStringElements[g]:!0}ComputeDiff(T){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,T)}_ComputeDiff(T,g,E,H,r){const N=[!1];let C=this.ComputeDiffRecursive(T,g,E,H,N);return r&&(C=this.PrettifyChanges(C)),{quitEarly:N[0],changes:C}}ComputeDiffRecursive(T,g,E,H,r){for(r[0]=!1;T<=g&&E<=H&&this.ElementsAreEqual(T,E);)T++,E++;for(;g>=T&&H>=E&&this.ElementsAreEqual(g,H);)g--,H--;if(T>g||E>H){let S;return E<=H?(L.Assert(T===g+1,"originalStart should only be one more than originalEnd"),S=[new D(T,0,E,H-E+1)]):T<=g?(L.Assert(E===H+1,"modifiedStart should only be one more than modifiedEnd"),S=[new D(T,g-T+1,E,0)]):(L.Assert(T===g+1,"originalStart should only be one more than originalEnd"),L.Assert(E===H+1,"modifiedStart should only be one more than modifiedEnd"),S=[]),S}const N=[0],C=[0],x=this.ComputeRecursionPoint(T,g,E,H,N,C,r),f=N[0],_=C[0];if(x!==null)return x;if(!r[0]){const S=this.ComputeDiffRecursive(T,f,E,_,r);let h=[];return r[0]?h=[new D(f+1,g-(f+1)+1,_+1,H-(_+1)+1)]:h=this.ComputeDiffRecursive(f+1,g,_+1,H,r),this.ConcatenateChanges(S,h)}return[new D(T,g-T+1,E,H-E+1)]}WALKTRACE(T,g,E,H,r,N,C,x,f,_,S,h,y,v,B,j,te,ce){let _e=null,Ce=null,Ee=new R,le=g,Y=E,$=y[0]-j[0]-H,G=-1073741824,ee=this.m_forwardHistory.length-1;do{const m=$+T;m===le||m<Y&&f[m-1]<f[m+1]?(S=f[m+1],v=S-$-H,S<G&&Ee.MarkNextChange(),G=S,Ee.AddModifiedElement(S+1,v),$=m+1-T):(S=f[m-1]+1,v=S-$-H,S<G&&Ee.MarkNextChange(),G=S-1,Ee.AddOriginalElement(S,v+1),$=m-1-T),ee>=0&&(f=this.m_forwardHistory[ee],T=f[0],le=1,Y=f.length-1)}while(--ee>=-1);if(_e=Ee.getReverseChanges(),ce[0]){let m=y[0]+1,w=j[0]+1;if(_e!==null&&_e.length>0){const F=_e[_e.length-1];m=Math.max(m,F.getOriginalEnd()),w=Math.max(w,F.getModifiedEnd())}Ce=[new D(m,h-m+1,w,B-w+1)]}else{Ee=new R,le=N,Y=C,$=y[0]-j[0]-x,G=1073741824,ee=te?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const m=$+r;m===le||m<Y&&_[m-1]>=_[m+1]?(S=_[m+1]-1,v=S-$-x,S>G&&Ee.MarkNextChange(),G=S+1,Ee.AddOriginalElement(S+1,v+1),$=m+1-r):(S=_[m-1],v=S-$-x,S>G&&Ee.MarkNextChange(),G=S,Ee.AddModifiedElement(S+1,v+1),$=m-1-r),ee>=0&&(_=this.m_reverseHistory[ee],r=_[0],le=1,Y=_.length-1)}while(--ee>=-1);Ce=Ee.getChanges()}return this.ConcatenateChanges(_e,Ce)}ComputeRecursionPoint(T,g,E,H,r,N,C){let x=0,f=0,_=0,S=0,h=0,y=0;T--,E--,r[0]=0,N[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const v=g-T+(H-E),B=v+1,j=new Int32Array(B),te=new Int32Array(B),ce=H-E,_e=g-T,Ce=T-E,Ee=g-H,Y=(_e-ce)%2===0;j[ce]=T,te[_e]=g,C[0]=!1;for(let $=1;$<=v/2+1;$++){let G=0,ee=0;_=this.ClipDiagonalBound(ce-$,$,ce,B),S=this.ClipDiagonalBound(ce+$,$,ce,B);for(let w=_;w<=S;w+=2){w===_||w<S&&j[w-1]<j[w+1]?x=j[w+1]:x=j[w-1]+1,f=x-(w-ce)-Ce;const F=x;for(;x<g&&f<H&&this.ElementsAreEqual(x+1,f+1);)x++,f++;if(j[w]=x,x+f>G+ee&&(G=x,ee=f),!Y&&Math.abs(w-_e)<=$-1&&x>=te[w])return r[0]=x,N[0]=f,F<=te[w]&&1447>0&&$<=1447+1?this.WALKTRACE(ce,_,S,Ce,_e,h,y,Ee,j,te,x,g,r,f,H,N,Y,C):null}const m=(G-T+(ee-E)-$)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(G,m))return C[0]=!0,r[0]=G,N[0]=ee,m>0&&1447>0&&$<=1447+1?this.WALKTRACE(ce,_,S,Ce,_e,h,y,Ee,j,te,x,g,r,f,H,N,Y,C):(T++,E++,[new D(T,g-T+1,E,H-E+1)]);h=this.ClipDiagonalBound(_e-$,$,_e,B),y=this.ClipDiagonalBound(_e+$,$,_e,B);for(let w=h;w<=y;w+=2){w===h||w<y&&te[w-1]>=te[w+1]?x=te[w+1]-1:x=te[w-1],f=x-(w-_e)-Ee;const F=x;for(;x>T&&f>E&&this.ElementsAreEqual(x,f);)x--,f--;if(te[w]=x,Y&&Math.abs(w-ce)<=$&&x<=j[w])return r[0]=x,N[0]=f,F>=j[w]&&1447>0&&$<=1447+1?this.WALKTRACE(ce,_,S,Ce,_e,h,y,Ee,j,te,x,g,r,f,H,N,Y,C):null}if($<=1447){let w=new Int32Array(S-_+2);w[0]=ce-_+1,J.Copy2(j,_,w,1,S-_+1),this.m_forwardHistory.push(w),w=new Int32Array(y-h+2),w[0]=_e-h+1,J.Copy2(te,h,w,1,y-h+1),this.m_reverseHistory.push(w)}}return this.WALKTRACE(ce,_,S,Ce,_e,h,y,Ee,j,te,x,g,r,f,H,N,Y,C)}PrettifyChanges(T){for(let g=0;g<T.length;g++){const E=T[g],H=g<T.length-1?T[g+1].originalStart:this._originalElementsOrHash.length,r=g<T.length-1?T[g+1].modifiedStart:this._modifiedElementsOrHash.length,N=E.originalLength>0,C=E.modifiedLength>0;for(;E.originalStart+E.originalLength<H&&E.modifiedStart+E.modifiedLength<r&&(!N||this.OriginalElementsAreEqual(E.originalStart,E.originalStart+E.originalLength))&&(!C||this.ModifiedElementsAreEqual(E.modifiedStart,E.modifiedStart+E.modifiedLength));){const f=this.ElementsAreStrictEqual(E.originalStart,E.modifiedStart);if(this.ElementsAreStrictEqual(E.originalStart+E.originalLength,E.modifiedStart+E.modifiedLength)&&!f)break;E.originalStart++,E.modifiedStart++}let x=[null];if(g<T.length-1&&this.ChangesOverlap(T[g],T[g+1],x)){T[g]=x[0],T.splice(g+1,1),g--;continue}}for(let g=T.length-1;g>=0;g--){const E=T[g];let H=0,r=0;if(g>0){const S=T[g-1];H=S.originalStart+S.originalLength,r=S.modifiedStart+S.modifiedLength}const N=E.originalLength>0,C=E.modifiedLength>0;let x=0,f=this._boundaryScore(E.originalStart,E.originalLength,E.modifiedStart,E.modifiedLength);for(let S=1;;S++){const h=E.originalStart-S,y=E.modifiedStart-S;if(h<H||y<r||N&&!this.OriginalElementsAreEqual(h,h+E.originalLength)||C&&!this.ModifiedElementsAreEqual(y,y+E.modifiedLength))break;const B=(h===H&&y===r?5:0)+this._boundaryScore(h,E.originalLength,y,E.modifiedLength);B>f&&(f=B,x=S)}E.originalStart-=x,E.modifiedStart-=x;const _=[null];if(g>0&&this.ChangesOverlap(T[g-1],T[g],_)){T[g-1]=_[0],T.splice(g,1),g++;continue}}if(this._hasStrings)for(let g=1,E=T.length;g<E;g++){const H=T[g-1],r=T[g],N=r.originalStart-H.originalStart-H.originalLength,C=H.originalStart,x=r.originalStart+r.originalLength,f=x-C,_=H.modifiedStart,S=r.modifiedStart+r.modifiedLength,h=S-_;if(N<5&&f<20&&h<20){const y=this._findBetterContiguousSequence(C,f,_,h,N);if(y){const[v,B]=y;(v!==H.originalStart+H.originalLength||B!==H.modifiedStart+H.modifiedLength)&&(H.originalLength=v-H.originalStart,H.modifiedLength=B-H.modifiedStart,r.originalStart=v+N,r.modifiedStart=B+N,r.originalLength=x-r.originalStart,r.modifiedLength=S-r.modifiedStart)}}}return T}_findBetterContiguousSequence(T,g,E,H,r){if(g<r||H<r)return null;const N=T+g-r+1,C=E+H-r+1;let x=0,f=0,_=0;for(let S=T;S<N;S++)for(let h=E;h<C;h++){const y=this._contiguousSequenceScore(S,h,r);y>0&&y>x&&(x=y,f=S,_=h)}return x>0?[f,_]:null}_contiguousSequenceScore(T,g,E){let H=0;for(let r=0;r<E;r++){if(!this.ElementsAreEqual(T+r,g+r))return 0;H+=this._originalStringElements[T+r].length}return H}_OriginalIsBoundary(T){return T<=0||T>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[T])}_OriginalRegionIsBoundary(T,g){if(this._OriginalIsBoundary(T)||this._OriginalIsBoundary(T-1))return!0;if(g>0){const E=T+g;if(this._OriginalIsBoundary(E-1)||this._OriginalIsBoundary(E))return!0}return!1}_ModifiedIsBoundary(T){return T<=0||T>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[T])}_ModifiedRegionIsBoundary(T,g){if(this._ModifiedIsBoundary(T)||this._ModifiedIsBoundary(T-1))return!0;if(g>0){const E=T+g;if(this._ModifiedIsBoundary(E-1)||this._ModifiedIsBoundary(E))return!0}return!1}_boundaryScore(T,g,E,H){const r=this._OriginalRegionIsBoundary(T,g)?1:0,N=this._ModifiedRegionIsBoundary(E,H)?1:0;return r+N}ConcatenateChanges(T,g){let E=[];if(T.length===0||g.length===0)return g.length>0?g:T;if(this.ChangesOverlap(T[T.length-1],g[0],E)){const H=new Array(T.length+g.length-1);return J.Copy(T,0,H,0,T.length-1),H[T.length-1]=E[0],J.Copy(g,1,H,T.length,g.length-1),H}else{const H=new Array(T.length+g.length);return J.Copy(T,0,H,0,T.length),J.Copy(g,0,H,T.length,g.length),H}}ChangesOverlap(T,g,E){if(L.Assert(T.originalStart<=g.originalStart,"Left change is not less than or equal to right change"),L.Assert(T.modifiedStart<=g.modifiedStart,"Left change is not less than or equal to right change"),T.originalStart+T.originalLength>=g.originalStart||T.modifiedStart+T.modifiedLength>=g.modifiedStart){const H=T.originalStart;let r=T.originalLength;const N=T.modifiedStart;let C=T.modifiedLength;return T.originalStart+T.originalLength>=g.originalStart&&(r=g.originalStart+g.originalLength-T.originalStart),T.modifiedStart+T.modifiedLength>=g.modifiedStart&&(C=g.modifiedStart+g.modifiedLength-T.modifiedStart),E[0]=new D(H,r,N,C),!0}else return E[0]=null,!1}ClipDiagonalBound(T,g,E,H){if(T>=0&&T<H)return T;const r=E,N=H-E-1,C=g%2===0;if(T<0){const x=r%2===0;return C===x?0:1}else{const x=N%2===0;return C===x?H-1:H-2}}}},17301:function(ti,Ge,c){"use strict";c.d(Ge,{B8:function(){return g},Cp:function(){return P},F0:function(){return W},L6:function(){return T},VV:function(){return R},b1:function(){return s},dL:function(){return Q},ri:function(){return L}});class D{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(H){setTimeout(()=>{throw H.stack?new Error(H.message+`

`+H.stack):H},0)}}emit(H){this.listeners.forEach(r=>{r(H)})}onUnexpectedError(H){this.unexpectedErrorHandler(H),this.emit(H)}onUnexpectedExternalError(H){this.unexpectedErrorHandler(H)}}const O=new D;function Q(E){R(E)||O.onUnexpectedError(E)}function P(E){R(E)||O.onUnexpectedExternalError(E)}function L(E){if(E instanceof Error){let{name:H,message:r}=E;const N=E.stacktrace||E.stack;return{$isError:!0,name:H,message:r,stack:N}}return E}const J="Canceled";function R(E){return E instanceof Error&&E.name===J&&E.message===J}function W(){const E=new Error(J);return E.name=E.message,E}function s(E){return E?new Error(`Illegal argument: ${E}`):new Error("Illegal argument")}function T(E){return E?new Error(`Illegal state: ${E}`):new Error("Illegal state")}class g extends Error{constructor(H){super("NotSupported"),H&&(this.message=H)}}},4669:function(ti,Ge,c){"use strict";c.d(Ge,{D0:function(){return g},E7:function(){return E},K3:function(){return T},Q5:function(){return s},ZD:function(){return H},ju:function(){return L}});var D=c(17301),O=c(5976),Q=c(91741),P=c(84013),L;(function(r){r.None=()=>O.JT.None;function N(Y){return($,G=null,ee)=>{let m=!1,w;return w=Y(F=>{if(!m)return w?w.dispose():m=!0,$.call(G,F)},null,ee),m&&w.dispose(),w}}r.once=N;function C(Y,$){return y((G,ee=null,m)=>Y(w=>G.call(ee,$(w)),null,m))}r.map=C;function x(Y,$){return y((G,ee=null,m)=>Y(w=>{$(w),G.call(ee,w)},null,m))}r.forEach=x;function f(Y,$){return y((G,ee=null,m)=>Y(w=>$(w)&&G.call(ee,w),null,m))}r.filter=f;function _(Y){return Y}r.signal=_;function S(...Y){return($,G=null,ee)=>(0,O.F8)(...Y.map(m=>m(w=>$.call(G,w),null,ee)))}r.any=S;function h(Y,$,G){let ee=G;return C(Y,m=>(ee=$(ee,m),ee))}r.reduce=h;function y(Y){let $;const G=new s({onFirstListenerAdd(){$=Y(G.fire,G)},onLastListenerRemove(){$.dispose()}});return G.event}function v(Y,$,G=100,ee=!1,m){let w,F,ie,pe=0;const ue=new s({leakWarningThreshold:m,onFirstListenerAdd(){w=Y(ke=>{pe++,F=$(F,ke),ee&&!ie&&(ue.fire(F),F=void 0),clearTimeout(ie),ie=setTimeout(()=>{const Te=F;F=void 0,ie=void 0,(!ee||pe>1)&&ue.fire(Te),pe=0},G)})},onLastListenerRemove(){w.dispose()}});return ue.event}r.debounce=v;function B(Y,$=(G,ee)=>G===ee){let G=!0,ee;return f(Y,m=>{const w=G||!$(m,ee);return G=!1,ee=m,w})}r.latch=B;function j(Y,$){return[r.filter(Y,$),r.filter(Y,G=>!$(G))]}r.split=j;function te(Y,$=!1,G=[]){let ee=G.slice(),m=Y(ie=>{ee?ee.push(ie):F.fire(ie)});const w=()=>{ee&&ee.forEach(ie=>F.fire(ie)),ee=null},F=new s({onFirstListenerAdd(){m||(m=Y(ie=>F.fire(ie)))},onFirstListenerDidAdd(){ee&&($?setTimeout(w):w())},onLastListenerRemove(){m&&m.dispose(),m=null}});return F.event}r.buffer=te;class ce{constructor($){this.event=$}map($){return new ce(C(this.event,$))}forEach($){return new ce(x(this.event,$))}filter($){return new ce(f(this.event,$))}reduce($,G){return new ce(h(this.event,$,G))}latch(){return new ce(B(this.event))}debounce($,G=100,ee=!1,m){return new ce(v(this.event,$,G,ee,m))}on($,G,ee){return this.event($,G,ee)}once($,G,ee){return N(this.event)($,G,ee)}}function _e(Y){return new ce(Y)}r.chain=_e;function Ce(Y,$,G=ee=>ee){const ee=(...ie)=>F.fire(G(...ie)),m=()=>Y.on($,ee),w=()=>Y.removeListener($,ee),F=new s({onFirstListenerAdd:m,onLastListenerRemove:w});return F.event}r.fromNodeEventEmitter=Ce;function Ee(Y,$,G=ee=>ee){const ee=(...ie)=>F.fire(G(...ie)),m=()=>Y.addEventListener($,ee),w=()=>Y.removeEventListener($,ee),F=new s({onFirstListenerAdd:m,onLastListenerRemove:w});return F.event}r.fromDOMEventEmitter=Ee;function le(Y){return new Promise($=>N(Y)($))}r.toPromise=le})(L||(L={}));class J{constructor(N){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${N}_${J._idPool++}`}start(N){this._stopWatch=new P.G(!0),this._listenerCount=N}stop(){if(this._stopWatch){const N=this._stopWatch.elapsed();this._elapsedOverall+=N,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${N.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}J._idPool=0;let R=-1;class W{constructor(N,C=Math.random().toString(18).slice(2,5)){this.customThreshold=N,this.name=C,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(N){let C=R;if(typeof this.customThreshold=="number"&&(C=this.customThreshold),C<=0||N<C)return;this._stacks||(this._stacks=new Map);const x=new Error().stack.split(`
`).slice(3).join(`
`),f=this._stacks.get(x)||0;if(this._stacks.set(x,f+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=C*.5;let _,S=0;for(const[h,y]of this._stacks)(!_||S<y)&&(_=h,S=y);console.warn(`[${this.name}] potential listener LEAK detected, having ${N} listeners already. MOST frequent listener (${S}):`),console.warn(_)}return()=>{const _=this._stacks.get(x)||0;this._stacks.set(x,_-1)}}}class s{constructor(N){var C;this._disposed=!1,this._options=N,this._leakageMon=R>0?new W(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((C=this._options)===null||C===void 0)&&C._profName?new J(this._options._profName):void 0}get event(){return this._event||(this._event=(N,C,x)=>{var f;this._listeners||(this._listeners=new Q.S);const _=this._listeners.isEmpty();_&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const S=this._listeners.push(C?[N,C]:N);_&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,N,C);const h=(f=this._leakageMon)===null||f===void 0?void 0:f.check(this._listeners.size),y=(0,O.OF)(()=>{h&&h(),this._disposed||(S(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return x instanceof O.SL?x.add(y):Array.isArray(x)&&x.push(y),y}),this._event}fire(N){var C,x;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Q.S);for(let f of this._listeners)this._deliveryQueue.push([f,N]);for((C=this._perfMon)===null||C===void 0||C.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[f,_]=this._deliveryQueue.shift();try{typeof f=="function"?f.call(void 0,_):f[0].call(f[1],_)}catch(S){(0,D.dL)(S)}}(x=this._perfMon)===null||x===void 0||x.stop()}}dispose(){var N,C,x,f,_;this._disposed||(this._disposed=!0,(N=this._listeners)===null||N===void 0||N.clear(),(C=this._deliveryQueue)===null||C===void 0||C.clear(),(f=(x=this._options)===null||x===void 0?void 0:x.onLastListenerRemove)===null||f===void 0||f.call(x),(_=this._leakageMon)===null||_===void 0||_.dispose())}}class T extends s{constructor(N){super(N),this._isPaused=0,this._eventQueue=new Q.S,this._mergeFn=N==null?void 0:N.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const N=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(N))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(N){this._listeners&&(this._isPaused!==0?this._eventQueue.push(N):super.fire(N))}}class g extends T{constructor(N){var C;super(N),this._delay=(C=N.delay)!==null&&C!==void 0?C:100}fire(N){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(N)}}class E{constructor(){this.buffers=[]}wrapEvent(N){return(C,x,f)=>N(_=>{const S=this.buffers[this.buffers.length-1];S?S.push(()=>C.call(x,_)):C.call(x,_)},void 0,f)}bufferEvents(N){const C=[];this.buffers.push(C);const x=N();return this.buffers.pop(),C.forEach(f=>f()),x}}class H{constructor(){this.listening=!1,this.inputEvent=L.None,this.inputEventListener=O.JT.None,this.emitter=new s({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(N){this.inputEvent=N,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=N(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(ti,Ge,c){"use strict";c.d(Ge,{KM:function(){return J},fn:function(){return L},oP:function(){return s},vY:function(){return W}});var D=c(55336),O=c(1432),Q=c(97295);function P(T){return T.replace(/[\\/]/g,D.KR.sep)}function L(T){return T.indexOf("/")===-1&&(T=P(T)),/^[a-zA-Z]:(\/|$)/.test(T)&&(T="/"+T),T}function J(T,g,E,H=D.ir){if(T===g)return!0;if(!T||!g||g.length>T.length)return!1;if(E){if(!(0,Q.ok)(T,g))return!1;if(g.length===T.length)return!0;let N=g.length;return g.charAt(g.length-1)===H&&N--,T.charAt(N)===H}return g.charAt(g.length-1)!==H&&(g+=H),T.indexOf(g)===0}function R(T){return T>=65&&T<=90||T>=97&&T<=122}function W(T){const g=(0,D.Fv)(T);return O.ED?T.length>3?!1:s(g)&&(T.length===2||g.charCodeAt(2)===92):g===D.KR.sep}function s(T){return O.ED?R(T.charCodeAt(0))&&T.charCodeAt(1)===58:!1}},75392:function(ti,Ge,c){"use strict";c.d(Ge,{CL:function(){return Je},EW:function(){return Ae},Ji:function(){return P},Oh:function(){return le},jB:function(){return Y},l7:function(){return ot},mB:function(){return $}});var D=c(43702),O=c(97295);function Q(...Ie){return function(Pe,ye){for(let Xe=0,st=Ie.length;Xe<st;Xe++){const Pt=Ie[Xe](Pe,ye);if(Pt)return Pt}return null}}const P=L.bind(void 0,!0);function L(Ie,Pe,ye){if(!ye||ye.length<Pe.length)return null;let Xe;return Ie?Xe=O.ok(ye,Pe):Xe=ye.indexOf(Pe)===0,Xe?Pe.length>0?[{start:0,end:Pe.length}]:[]:null}function J(Ie,Pe){const ye=Pe.toLowerCase().indexOf(Ie.toLowerCase());return ye===-1?null:[{start:ye,end:ye+Ie.length}]}function R(Ie,Pe){return W(Ie.toLowerCase(),Pe.toLowerCase(),0,0)}function W(Ie,Pe,ye,Xe){if(ye===Ie.length)return[];if(Xe===Pe.length)return null;if(Ie[ye]===Pe[Xe]){let st=null;return(st=W(Ie,Pe,ye+1,Xe+1))?x({start:Xe,end:Xe+1},st):null}return W(Ie,Pe,ye,Xe+1)}function s(Ie){return 97<=Ie&&Ie<=122}function T(Ie){return 65<=Ie&&Ie<=90}function g(Ie){return 48<=Ie&&Ie<=57}function E(Ie){return Ie===32||Ie===9||Ie===10||Ie===13}const H=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Ie=>H.add(Ie.charCodeAt(0)));function r(Ie){return E(Ie)||H.has(Ie)}function N(Ie,Pe){return Ie===Pe||r(Ie)&&r(Pe)}function C(Ie){return s(Ie)||T(Ie)||g(Ie)}function x(Ie,Pe){return Pe.length===0?Pe=[Ie]:Ie.end===Pe[0].start?Pe[0].start=Ie.start:Pe.unshift(Ie),Pe}function f(Ie,Pe){for(let ye=Pe;ye<Ie.length;ye++){const Xe=Ie.charCodeAt(ye);if(T(Xe)||g(Xe)||ye>0&&!C(Ie.charCodeAt(ye-1)))return ye}return Ie.length}function _(Ie,Pe,ye,Xe){if(ye===Ie.length)return[];if(Xe===Pe.length)return null;if(Ie[ye]!==Pe[Xe].toLowerCase())return null;{let st=null,Pt=Xe+1;for(st=_(Ie,Pe,ye+1,Xe+1);!st&&(Pt=f(Pe,Pt))<Pe.length;)st=_(Ie,Pe,ye+1,Pt),Pt++;return st===null?null:x({start:Xe,end:Xe+1},st)}}function S(Ie){let Pe=0,ye=0,Xe=0,st=0,Pt=0;for(let Qi=0;Qi<Ie.length;Qi++)Pt=Ie.charCodeAt(Qi),T(Pt)&&Pe++,s(Pt)&&ye++,C(Pt)&&Xe++,g(Pt)&&st++;const qt=Pe/Ie.length,Ci=ye/Ie.length,ii=Xe/Ie.length,At=st/Ie.length;return{upperPercent:qt,lowerPercent:Ci,alphaPercent:ii,numericPercent:At}}function h(Ie){const{upperPercent:Pe,lowerPercent:ye}=Ie;return ye===0&&Pe>.6}function y(Ie){const{upperPercent:Pe,lowerPercent:ye,alphaPercent:Xe,numericPercent:st}=Ie;return ye>.2&&Pe<.8&&Xe>.6&&st<.2}function v(Ie){let Pe=0,ye=0,Xe=0,st=0;for(let Pt=0;Pt<Ie.length;Pt++)Xe=Ie.charCodeAt(Pt),T(Xe)&&Pe++,s(Xe)&&ye++,E(Xe)&&st++;return(Pe===0||ye===0)&&st===0?Ie.length<=30:Pe<=5}function B(Ie,Pe){if(!Pe||(Pe=Pe.trim(),Pe.length===0)||!v(Ie)||Pe.length>60)return null;const ye=S(Pe);if(!y(ye)){if(!h(ye))return null;Pe=Pe.toLowerCase()}let Xe=null,st=0;for(Ie=Ie.toLowerCase();st<Pe.length&&(Xe=_(Ie,Pe,0,st))===null;)st=f(Pe,st+1);return Xe}function j(Ie,Pe,ye=!1){if(!Pe||Pe.length===0)return null;let Xe=null,st=0;for(Ie=Ie.toLowerCase(),Pe=Pe.toLowerCase();st<Pe.length&&(Xe=te(Ie,Pe,0,st,ye))===null;)st=ce(Pe,st+1);return Xe}function te(Ie,Pe,ye,Xe,st){if(ye===Ie.length)return[];if(Xe===Pe.length)return null;if(N(Ie.charCodeAt(ye),Pe.charCodeAt(Xe))){let Pt=null,qt=Xe+1;if(Pt=te(Ie,Pe,ye+1,Xe+1,st),!st)for(;!Pt&&(qt=ce(Pe,qt))<Pe.length;)Pt=te(Ie,Pe,ye+1,qt,st),qt++;return Pt===null?null:x({start:Xe,end:Xe+1},Pt)}else return null}function ce(Ie,Pe){for(let ye=Pe;ye<Ie.length;ye++)if(r(Ie.charCodeAt(ye))||ye>0&&r(Ie.charCodeAt(ye-1)))return ye;return Ie.length}const _e=Q(P,B,J),Ce=Q(P,B,R),Ee=new D.z6(1e4);function le(Ie,Pe,ye=!1){if(typeof Ie!="string"||typeof Pe!="string")return null;let Xe=Ee.get(Ie);Xe||(Xe=new RegExp(O.un(Ie),"i"),Ee.set(Ie,Xe));const st=Xe.exec(Pe);return st?[{start:st.index,end:st.index+st[0].length}]:ye?Ce(Ie,Pe):_e(Ie,Pe)}function Y(Ie,Pe,ye,Xe,st,Pt){const qt=Math.min(13,Ie.length);for(;ye<qt;ye++){const Ci=Ae(Ie,Pe,ye,Xe,st,Pt,!1);if(Ci)return Ci}return[0,Pt]}function $(Ie){if(typeof Ie=="undefined")return[];const Pe=[],ye=Ie[1];for(let Xe=Ie.length-1;Xe>1;Xe--){const st=Ie[Xe]+ye,Pt=Pe[Pe.length-1];Pt&&Pt.end===st?Pt.end=st+1:Pe.push({start:st,end:st+1})}return Pe}const G=128;function ee(){const Ie=[],Pe=[];for(let ye=0;ye<=G;ye++)Pe[ye]=0;for(let ye=0;ye<=G;ye++)Ie.push(Pe.slice(0));return Ie}function m(Ie){const Pe=[];for(let ye=0;ye<=Ie;ye++)Pe[ye]=0;return Pe}const w=m(2*G),F=m(2*G),ie=ee(),pe=ee(),ue=ee(),ke=!1;function Te(Ie,Pe,ye,Xe,st){function Pt(Ci,ii,At=" "){for(;Ci.length<ii;)Ci=At+Ci;return Ci}let qt=` |   |${Xe.split("").map(Ci=>Pt(Ci,3)).join("|")}
`;for(let Ci=0;Ci<=ye;Ci++)Ci===0?qt+=" |":qt+=`${Pe[Ci-1]}|`,qt+=Ie[Ci].slice(0,st+1).map(ii=>Pt(ii.toString(),3)).join("|")+`
`;return qt}function rt(Ie,Pe,ye,Xe){Ie=Ie.substr(Pe),ye=ye.substr(Xe),console.log(Te(pe,Ie,Ie.length,ye,ye.length)),console.log(Te(ue,Ie,Ie.length,ye,ye.length)),console.log(Te(ie,Ie,Ie.length,ye,ye.length))}function Rt(Ie,Pe){if(Pe<0||Pe>=Ie.length)return!1;const ye=Ie.codePointAt(Pe);switch(ye){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!O.C8(ye)}}function mt(Ie,Pe){if(Pe<0||Pe>=Ie.length)return!1;switch(Ie.charCodeAt(Pe)){case 32:case 9:return!0;default:return!1}}function Mt(Ie,Pe,ye){return Pe[Ie]!==ye[Ie]}function it(Ie,Pe,ye,Xe,st,Pt,qt=!1){for(;Pe<ye&&st<Pt;)Ie[Pe]===Xe[st]&&(qt&&(w[Pe]=st),Pe+=1),st+=1;return Pe===ye}var Je;(function(Ie){Ie.Default=[-100,0];function Pe(ye){return!ye||ye.length===2&&ye[0]===-100&&ye[1]===0}Ie.isDefault=Pe})(Je||(Je={}));function Ae(Ie,Pe,ye,Xe,st,Pt,qt){const Ci=Ie.length>G?G:Ie.length,ii=Xe.length>G?G:Xe.length;if(ye>=Ci||Pt>=ii||Ci-ye>ii-Pt||!it(Pe,ye,Ci,st,Pt,ii,!0))return;ge(Ci,ii,ye,Pt,Pe,st);let At=1,Qi=1,ci=ye,je=Pt;const at=[!1];for(At=1,ci=ye;ci<Ci;At++,ci++){const zi=w[ci],as=F[ci],Fn=ci+1<Ci?F[ci+1]:ii;for(Qi=zi-Pt+1,je=zi;je<Fn;Qi++,je++){let An=Number.MIN_SAFE_INTEGER,$i=!1;je<=as&&(An=Re(Ie,Pe,ci,ye,Xe,st,je,ii,Pt,ie[At-1][Qi-1]===0,at));let Nn=0;An!==Number.MAX_SAFE_INTEGER&&($i=!0,Nn=An+pe[At-1][Qi-1]);const sn=je>zi,$e=sn?pe[At][Qi-1]+(ie[At][Qi-1]>0?-5:0):0,It=je>zi+1&&ie[At][Qi-1]>0,xt=It?pe[At][Qi-2]+(ie[At][Qi-2]>0?-5:0):0;if(It&&(!sn||xt>=$e)&&(!$i||xt>=Nn))pe[At][Qi]=xt,ue[At][Qi]=3,ie[At][Qi]=0;else if(sn&&(!$i||$e>=Nn))pe[At][Qi]=$e,ue[At][Qi]=2,ie[At][Qi]=0;else if($i)pe[At][Qi]=Nn,ue[At][Qi]=1,ie[At][Qi]=ie[At-1][Qi-1]+1;else throw new Error("not possible")}}if(ke&&rt(Ie,ye,Xe,Pt),!at[0]&&!qt)return;At--,Qi--;const Ni=[pe[At][Qi],Pt];let fi=0,Wi=0;for(;At>=1;){let zi=Qi;do{const as=ue[At][zi];if(as===3)zi=zi-2;else if(as===2)zi=zi-1;else break}while(zi>=1);fi>1&&Pe[ye+At-1]===st[Pt+Qi-1]&&!Mt(zi+Pt-1,Xe,st)&&fi+1>ie[At][zi]&&(zi=Qi),zi===Qi?fi++:fi=1,Wi||(Wi=zi),At--,Qi=zi-1,Ni.push(Qi)}ii===Ci&&(Ni[0]+=2);const Rn=Wi-Ci;return Ni[0]-=Rn,Ni}function ge(Ie,Pe,ye,Xe,st,Pt){let qt=Ie-1,Ci=Pe-1;for(;qt>=ye&&Ci>=Xe;)st[qt]===Pt[Ci]&&(F[qt]=Ci,qt--),Ci--}function Re(Ie,Pe,ye,Xe,st,Pt,qt,Ci,ii,At,Qi){if(Pe[ye]!==Pt[qt])return Number.MIN_SAFE_INTEGER;let ci=1,je=!1;return qt===ye-Xe?ci=Ie[ye]===st[qt]?7:5:Mt(qt,st,Pt)&&(qt===0||!Mt(qt-1,st,Pt))?(ci=Ie[ye]===st[qt]?7:5,je=!0):Rt(Pt,qt)&&(qt===0||!Rt(Pt,qt-1))?ci=5:(Rt(Pt,qt-1)||mt(Pt,qt-1))&&(ci=5,je=!0),ci>1&&ye===Xe&&(Qi[0]=!0),je||(je=Mt(qt,st,Pt)||Rt(Pt,qt-1)||mt(Pt,qt-1)),ye===Xe?qt>ii&&(ci-=je?3:5):At?ci+=je?2:0:ci+=je?0:1,qt+1===Ci&&(ci-=je?3:5),ci}function ot(Ie,Pe,ye,Xe,st,Pt,qt){return dt(Ie,Pe,ye,Xe,st,Pt,!0,qt)}function dt(Ie,Pe,ye,Xe,st,Pt,qt,Ci){let ii=Ae(Ie,Pe,ye,Xe,st,Pt,Ci);if(ii&&!qt)return ii;if(Ie.length>=3){const At=Math.min(7,Ie.length-1);for(let Qi=ye+1;Qi<At;Qi++){const ci=lt(Ie,Qi);if(ci){const je=Ae(ci,ci.toLowerCase(),ye,Xe,st,Pt,Ci);je&&(je[0]-=3,(!ii||je[0]>ii[0])&&(ii=je))}}}return ii}function lt(Ie,Pe){if(Pe+1>=Ie.length)return;const ye=Ie[Pe],Xe=Ie[Pe+1];if(ye!==Xe)return Ie.slice(0,Pe)+Xe+ye+Ie.slice(Pe+2)}},88289:function(ti,Ge,c){"use strict";c.d(Ge,{I:function(){return D}});function D(O){const Q=this;let P=!1,L;return function(){return P||(P=!0,L=O.apply(Q,arguments)),L}}},14118:function(ti,Ge,c){"use strict";c.d(Ge,{EQ:function(){return Ee},Qc:function(){return le}});var D=c(15393),O=c(15527),Q=c(43702),P=c(55336),L=c(97295);const J="**",R="/",W="[/\\\\]",s="[^/\\\\]",T=/\//g;function g(m){switch(m){case 0:return"";case 1:return`${s}*?`;default:return`(?:${W}|${s}+${W}|${W}${s}+)*?`}}function E(m,w){if(!m)return[];const F=[];let ie=!1,pe=!1,ue="";for(const ke of m){switch(ke){case w:if(!ie&&!pe){F.push(ue),ue="";continue}break;case"{":ie=!0;break;case"}":ie=!1;break;case"[":pe=!0;break;case"]":pe=!1;break}ue+=ke}return ue&&F.push(ue),F}function H(m){if(!m)return"";let w="";const F=E(m,R);if(F.every(ie=>ie===J))w=".*";else{let ie=!1;F.forEach((pe,ue)=>{if(pe===J){ie||(w+=g(2),ie=!0);return}let ke=!1,Te="",rt=!1,Rt="";for(const mt of pe){if(mt!=="}"&&ke){Te+=mt;continue}if(rt&&(mt!=="]"||!Rt)){let Mt;mt==="-"?Mt=mt:(mt==="^"||mt==="!")&&!Rt?Mt="^":mt===R?Mt="":Mt=L.ec(mt),Rt+=Mt;continue}switch(mt){case"{":ke=!0;continue;case"[":rt=!0;continue;case"}":const it=`(?:${E(Te,",").map(Je=>H(Je)).join("|")})`;w+=it,ke=!1,Te="";break;case"]":w+="["+Rt+"]",rt=!1,Rt="";break;case"?":w+=s;continue;case"*":w+=g(1);continue;default:w+=L.ec(mt)}}ue<F.length-1&&(F[ue+1]!==J||ue+2<F.length)&&(w+=W),ie=!1})}return w}const r=/^\*\*\/\*\.[\w\.-]+$/,N=/^\*\*\/([\w\.-]+)\/?$/,C=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,x=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,f=/^\*\*((\/[\w\.-]+)+)\/?$/,_=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,S=new Q.z6(1e4),h=function(){return!1},y=function(){return null};function v(m,w){if(!m)return y;let F;typeof m!="string"?F=m.pattern:F=m,F=F.trim();const ie=`${F}_${!!w.trimForExclusions}`;let pe=S.get(ie);if(pe)return B(pe,m);let ue;if(r.test(F)){const ke=F.substr(4);pe=function(Te,rt){return typeof Te=="string"&&Te.endsWith(ke)?F:null}}else(ue=N.exec(j(F,w)))?pe=te(ue[1],F):(w.trimForExclusions?x:C).test(F)?pe=ce(F,w):(ue=f.exec(j(F,w)))?pe=_e(ue[1].substr(1),F,!0):(ue=_.exec(j(F,w)))?pe=_e(ue[1],F,!1):pe=Ce(F);return S.set(ie,pe),B(pe,m)}function B(m,w){return typeof w=="string"?m:function(F,ie){return O.KM(F,w.base)?m(P.Gf(w.base,F),ie):null}}function j(m,w){return w.trimForExclusions&&m.endsWith("/**")?m.substr(0,m.length-2):m}function te(m,w){const F=`/${m}`,ie=`\\${m}`,pe=function(ke,Te){return typeof ke!="string"?null:Te?Te===m?w:null:ke===m||ke.endsWith(F)||ke.endsWith(ie)?w:null},ue=[m];return pe.basenames=ue,pe.patterns=[w],pe.allBasenames=ue,pe}function ce(m,w){const F=ee(m.slice(1,-1).split(",").map(Te=>v(Te,w)).filter(Te=>Te!==y),m),ie=F.length;if(!ie)return y;if(ie===1)return F[0];const pe=function(Te,rt){for(let Rt=0,mt=F.length;Rt<mt;Rt++)if(F[Rt](Te,rt))return m;return null},ue=F.find(Te=>!!Te.allBasenames);ue&&(pe.allBasenames=ue.allBasenames);const ke=F.reduce((Te,rt)=>rt.allPaths?Te.concat(rt.allPaths):Te,[]);return ke.length&&(pe.allPaths=ke),pe}function _e(m,w,F){const ie=P.ir===P.KR.sep,pe=ie?m:m.replace(T,P.ir),ue=P.ir+pe,ke=P.KR.sep+m,Te=F?function(rt,Rt){return typeof rt=="string"&&(rt===pe||rt.endsWith(ue)||!ie&&(rt===m||rt.endsWith(ke)))?w:null}:function(rt,Rt){return typeof rt=="string"&&(rt===pe||!ie&&rt===m)?w:null};return Te.allPaths=[(F?"*/":"./")+m],Te}function Ce(m){try{const w=new RegExp(`^${H(m)}$`);return function(F){return w.lastIndex=0,typeof F=="string"&&w.test(F)?m:null}}catch(w){return y}}function Ee(m,w,F){return!m||typeof w!="string"?!1:le(m)(w,void 0,F)}function le(m,w={}){if(!m)return h;if(typeof m=="string"||Y(m)){const F=v(m,w);if(F===y)return h;const ie=function(pe,ue){return!!F(pe,ue)};return F.allBasenames&&(ie.allBasenames=F.allBasenames),F.allPaths&&(ie.allPaths=F.allPaths),ie}return $(m,w)}function Y(m){const w=m;return w&&typeof w.base=="string"&&typeof w.pattern=="string"}function $(m,w){const F=ee(Object.getOwnPropertyNames(m).map(Te=>G(Te,m[Te],w)).filter(Te=>Te!==y)),ie=F.length;if(!ie)return y;if(!F.some(Te=>!!Te.requiresSiblings)){if(ie===1)return F[0];const Te=function(mt,Mt){for(let it=0,Je=F.length;it<Je;it++){const Ae=F[it](mt,Mt);if(Ae)return Ae}return null},rt=F.find(mt=>!!mt.allBasenames);rt&&(Te.allBasenames=rt.allBasenames);const Rt=F.reduce((mt,Mt)=>Mt.allPaths?mt.concat(Mt.allPaths):mt,[]);return Rt.length&&(Te.allPaths=Rt),Te}const pe=function(Te,rt,Rt){let mt;for(let Mt=0,it=F.length;Mt<it;Mt++){const Je=F[Mt];Je.requiresSiblings&&Rt&&(rt||(rt=P.EZ(Te)),mt||(mt=rt.substr(0,rt.length-P.DZ(Te).length)));const Ae=Je(Te,rt,mt,Rt);if(Ae)return Ae}return null},ue=F.find(Te=>!!Te.allBasenames);ue&&(pe.allBasenames=ue.allBasenames);const ke=F.reduce((Te,rt)=>rt.allPaths?Te.concat(rt.allPaths):Te,[]);return ke.length&&(pe.allPaths=ke),pe}function G(m,w,F){if(w===!1)return y;const ie=v(m,F);if(ie===y)return y;if(typeof w=="boolean")return ie;if(w){const pe=w.when;if(typeof pe=="string"){const ue=(ke,Te,rt,Rt)=>{if(!Rt||!ie(ke,Te))return null;const mt=pe.replace("$(basename)",rt),Mt=Rt(mt);return(0,D.J8)(Mt)?Mt.then(it=>it?m:null):Mt?m:null};return ue.requiresSiblings=!0,ue}}return ie}function ee(m,w){const F=m.filter(Te=>!!Te.basenames);if(F.length<2)return m;const ie=F.reduce((Te,rt)=>{const Rt=rt.basenames;return Rt?Te.concat(Rt):Te},[]);let pe;if(w){pe=[];for(let Te=0,rt=ie.length;Te<rt;Te++)pe.push(w)}else pe=F.reduce((Te,rt)=>{const Rt=rt.patterns;return Rt?Te.concat(Rt):Te},[]);const ue=function(Te,rt){if(typeof Te!="string")return null;if(!rt){let mt;for(mt=Te.length;mt>0;mt--){const Mt=Te.charCodeAt(mt-1);if(Mt===47||Mt===92)break}rt=Te.substr(mt)}const Rt=ie.indexOf(rt);return Rt!==-1?pe[Rt]:null};ue.basenames=ie,ue.patterns=pe,ue.allBasenames=ie;const ke=m.filter(Te=>!Te.basenames);return ke.push(ue),ke}},89954:function(ti,Ge,c){"use strict";c.d(Ge,{Cv:function(){return J},vp:function(){return O},yP:function(){return H}});var D=c(97295);function O(r){return Q(r,0)}function Q(r,N){switch(typeof r){case"object":return r===null?P(349,N):Array.isArray(r)?R(r,N):W(r,N);case"string":return J(r,N);case"boolean":return L(r,N);case"number":return P(r,N);case"undefined":return P(937,N);default:return P(617,N)}}function P(r,N){return(N<<5)-N+r|0}function L(r,N){return P(r?433:863,N)}function J(r,N){N=P(149417,N);for(let C=0,x=r.length;C<x;C++)N=P(r.charCodeAt(C),N);return N}function R(r,N){return N=P(104579,N),r.reduce((C,x)=>Q(x,C),N)}function W(r,N){return N=P(181387,N),Object.keys(r).sort().reduce((C,x)=>(C=J(x,C),Q(r[x],C)),N)}function s(r,N,C=32){const x=C-N,f=~((1<<x)-1);return(r<<N|(f&r)>>>x)>>>0}function T(r,N=0,C=r.byteLength,x=0){for(let f=0;f<C;f++)r[N+f]=x}function g(r,N,C="0"){for(;r.length<N;)r=C+r;return r}function E(r,N=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(C=>C.toString(16).padStart(2,"0")).join(""):g((r>>>0).toString(16),N/4)}class H{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(N){const C=N.length;if(C===0)return;const x=this._buff;let f=this._buffLen,_=this._leftoverHighSurrogate,S,h;for(_!==0?(S=_,h=-1,_=0):(S=N.charCodeAt(0),h=0);;){let y=S;if(D.ZG(S))if(h+1<C){const v=N.charCodeAt(h+1);D.YK(v)?(h++,y=D.rL(S,v)):y=65533}else{_=S;break}else D.YK(S)&&(y=65533);if(f=this._push(x,f,y),h++,h<C)S=N.charCodeAt(h);else break}this._buffLen=f,this._leftoverHighSurrogate=_}_push(N,C,x){return x<128?N[C++]=x:x<2048?(N[C++]=192|(x&1984)>>>6,N[C++]=128|(x&63)>>>0):x<65536?(N[C++]=224|(x&61440)>>>12,N[C++]=128|(x&4032)>>>6,N[C++]=128|(x&63)>>>0):(N[C++]=240|(x&1835008)>>>18,N[C++]=128|(x&258048)>>>12,N[C++]=128|(x&4032)>>>6,N[C++]=128|(x&63)>>>0),C>=64&&(this._step(),C-=64,this._totalLen+=64,N[0]=N[64+0],N[1]=N[64+1],N[2]=N[64+2]),C}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),E(this._h0)+E(this._h1)+E(this._h2)+E(this._h3)+E(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,T(this._buff,this._buffLen),this._buffLen>56&&(this._step(),T(this._buff));const N=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(N/4294967296),!1),this._buffDV.setUint32(60,N%4294967296,!1),this._step()}_step(){const N=H._bigBlock32,C=this._buffDV;for(let j=0;j<64;j+=4)N.setUint32(j,C.getUint32(j,!1),!1);for(let j=64;j<320;j+=4)N.setUint32(j,s(N.getUint32(j-12,!1)^N.getUint32(j-32,!1)^N.getUint32(j-56,!1)^N.getUint32(j-64,!1),1),!1);let x=this._h0,f=this._h1,_=this._h2,S=this._h3,h=this._h4,y,v,B;for(let j=0;j<80;j++)j<20?(y=f&_|~f&S,v=1518500249):j<40?(y=f^_^S,v=1859775393):j<60?(y=f&_|f&S|_&S,v=2400959708):(y=f^_^S,v=3395469782),B=s(x,5)+y+h+v+N.getUint32(j*4,!1)&4294967295,h=S,S=_,_=s(f,30),f=x,x=B;this._h0=this._h0+x&4294967295,this._h1=this._h1+f&4294967295,this._h2=this._h2+_&4294967295,this._h3=this._h3+S&4294967295,this._h4=this._h4+h&4294967295}}H._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(ti,Ge,c){"use strict";c.d(Ge,{CP:function(){return P},Fr:function(){return L},W5:function(){return Q},oR:function(){return R},v1:function(){return W}});var D=c(17301),O=c(21212);class Q{constructor(T="",g=!1){var E,H,r;if(this.value=T,typeof this.value!="string")throw(0,D.b1)("value");typeof g=="boolean"?(this.isTrusted=g,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(E=g.isTrusted)!==null&&E!==void 0?E:void 0,this.supportThemeIcons=(H=g.supportThemeIcons)!==null&&H!==void 0?H:!1,this.supportHtml=(r=g.supportHtml)!==null&&r!==void 0?r:!1)}appendText(T,g=0){return this.value+=J(this.supportThemeIcons?(0,O.Qo)(T):T).replace(/([ \t]+)/g,(E,H)=>"&nbsp;".repeat(H.length)).replace(/\>/gm,"\\>").replace(/\n/g,g===1?`\\
`:`

`),this}appendMarkdown(T){return this.value+=T,this}appendCodeblock(T,g){return this.value+="\n```",this.value+=T,this.value+=`
`,this.value+=g,this.value+="\n```\n",this}}function P(s){return L(s)?!s.value:Array.isArray(s)?s.every(P):!0}function L(s){return s instanceof Q?!0:s&&typeof s=="object"?typeof s.value=="string"&&(typeof s.isTrusted=="boolean"||s.isTrusted===void 0)&&(typeof s.supportThemeIcons=="boolean"||s.supportThemeIcons===void 0):!1}function J(s){return s.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function R(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function W(s){const T=[],g=s.split("|").map(H=>H.trim());s=g[0];const E=g[1];if(E){const H=/height=(\d+)/.exec(E),r=/width=(\d+)/.exec(E),N=H?H[1]:"",C=r?r[1]:"",x=isFinite(parseInt(C)),f=isFinite(parseInt(N));x&&T.push(`width="${C}"`),f&&T.push(`height="${N}"`)}return{href:s,dimensions:T}}},21212:function(ti,Ge,c){"use strict";c.d(Ge,{Gt:function(){return r},Ho:function(){return E},Qo:function(){return R},f$:function(){return s},x$:function(){return g}});var D=c(73046),O=c(75392),Q=c(97295);const P="$(",L=new RegExp(`\\$\\(${D.dT.iconNameExpression}(?:${D.dT.iconModifierExpression})?\\)`,"g"),J=new RegExp(`(\\\\)?${L.source}`,"g");function R(N){return N.replace(J,(C,x)=>x?C:`\\${C}`)}const W=new RegExp(`\\\\${L.source}`,"g");function s(N){return N.replace(W,C=>`\\${C}`)}const T=new RegExp(`(\\s)?(\\\\)?${L.source}(\\s)?`,"g");function g(N){return N.indexOf(P)===-1?N:N.replace(T,(C,x,f,_)=>f?C:x||_||"")}function E(N){const C=N.indexOf(P);return C===-1?{text:N}:H(N,C)}function H(N,C){const x=[];let f="";function _(ce){if(ce){f+=ce;for(const _e of ce)x.push(y)}}let S=-1,h="",y=0,v,B,j=C;const te=N.length;for(_(N.substr(0,C));j<te;){if(v=N[j],B=N[j+1],v===P[0]&&B===P[1])S=j,_(h),h=P,j++;else if(v===")"&&S!==-1){const ce=j-S+1;y+=ce,S=-1,h=""}else S!==-1?/^[a-z0-9\-]$/i.test(v)?h+=v:(_(h),S=-1,h=""):_(v);j++}return _(h),{text:f,iconOffsets:x}}function r(N,C,x=!1){const{text:f,iconOffsets:_}=C;if(!_||_.length===0)return(0,O.Oh)(N,f,x);const S=(0,Q.j3)(f," "),h=f.length-S.length,y=(0,O.Oh)(N,S,x);if(y)for(const v of y){const B=_[v.start+h]+h;v.start+=B,v.end+=B}return y}},44742:function(ti,Ge,c){"use strict";c.d(Ge,{R:function(){return D},a:function(){return O}});class D{constructor(P){this._prefix=P,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const O=new D("id#")},56899:function(ti,Ge,c){"use strict";c.d(Ge,{$:function(){return D}});var D;(function(O){function Q(S){return S&&typeof S=="object"&&typeof S[Symbol.iterator]=="function"}O.is=Q;const P=Object.freeze([]);function L(){return P}O.empty=L;function*J(S){yield S}O.single=J;function R(S){return S||P}O.from=R;function W(S){return!S||S[Symbol.iterator]().next().done===!0}O.isEmpty=W;function s(S){return S[Symbol.iterator]().next().value}O.first=s;function T(S,h){for(const y of S)if(h(y))return!0;return!1}O.some=T;function g(S,h){for(const y of S)if(h(y))return y}O.find=g;function*E(S,h){for(const y of S)h(y)&&(yield y)}O.filter=E;function*H(S,h){let y=0;for(const v of S)yield h(v,y++)}O.map=H;function*r(...S){for(const h of S)for(const y of h)yield y}O.concat=r;function*N(S){for(const h of S)for(const y of h)yield y}O.concatNested=N;function C(S,h,y){let v=y;for(const B of S)v=h(v,B);return v}O.reduce=C;function*x(S,h,y=S.length){for(h<0&&(h+=S.length),y<0?y+=S.length:y>S.length&&(y=S.length);h<y;h++)yield S[h]}O.slice=x;function f(S,h=Number.POSITIVE_INFINITY){const y=[];if(h===0)return[y,S];const v=S[Symbol.iterator]();for(let B=0;B<h;B++){const j=v.next();if(j.done)return[y,O.empty()];y.push(j.value)}return[y,{[Symbol.iterator](){return v}}]}O.consume=f;function _(S,h,y=(v,B)=>v===B){const v=S[Symbol.iterator](),B=h[Symbol.iterator]();for(;;){const j=v.next(),te=B.next();if(j.done!==te.done)return!1;if(j.done)return!0;if(!y(j.value,te.value))return!1}}O.equals=_})(D||(D={}))},22258:function(ti,Ge,c){"use strict";c.d(Ge,{H_:function(){return L},Vd:function(){return T},gx:function(){return H},kL:function(){return E}});class D{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(N,C){this._keyCodeToStr[N]=C,this._strToKeyCode[C.toLowerCase()]=N}keyCodeToStr(N){return this._keyCodeToStr[N]}strToKeyCode(N){return this._strToKeyCode[N.toLowerCase()]||0}}const O=new D,Q=new D,P=new D,L=new Array(230),J={},R=[],W=Object.create(null),s=Object.create(null),T=[],g=[];for(let r=0;r<=193;r++)T[r]=-1;for(let r=0;r<=126;r++)g[r]=-1;(function(){const r="",N=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[0,1,1,"Hyper",0,r,0,r,r,r],[0,1,2,"Super",0,r,0,r,r,r],[0,1,3,"Fn",0,r,0,r,r,r],[0,1,4,"FnLock",0,r,0,r,r,r],[0,1,5,"Suspend",0,r,0,r,r,r],[0,1,6,"Resume",0,r,0,r,r,r],[0,1,7,"Turbo",0,r,0,r,r,r],[0,1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[0,1,9,"WakeUp",0,r,0,r,r,r],[31,0,10,"KeyA",31,"A",65,"VK_A",r,r],[32,0,11,"KeyB",32,"B",66,"VK_B",r,r],[33,0,12,"KeyC",33,"C",67,"VK_C",r,r],[34,0,13,"KeyD",34,"D",68,"VK_D",r,r],[35,0,14,"KeyE",35,"E",69,"VK_E",r,r],[36,0,15,"KeyF",36,"F",70,"VK_F",r,r],[37,0,16,"KeyG",37,"G",71,"VK_G",r,r],[38,0,17,"KeyH",38,"H",72,"VK_H",r,r],[39,0,18,"KeyI",39,"I",73,"VK_I",r,r],[40,0,19,"KeyJ",40,"J",74,"VK_J",r,r],[41,0,20,"KeyK",41,"K",75,"VK_K",r,r],[42,0,21,"KeyL",42,"L",76,"VK_L",r,r],[43,0,22,"KeyM",43,"M",77,"VK_M",r,r],[44,0,23,"KeyN",44,"N",78,"VK_N",r,r],[45,0,24,"KeyO",45,"O",79,"VK_O",r,r],[46,0,25,"KeyP",46,"P",80,"VK_P",r,r],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[48,0,27,"KeyR",48,"R",82,"VK_R",r,r],[49,0,28,"KeyS",49,"S",83,"VK_S",r,r],[50,0,29,"KeyT",50,"T",84,"VK_T",r,r],[51,0,30,"KeyU",51,"U",85,"VK_U",r,r],[52,0,31,"KeyV",52,"V",86,"VK_V",r,r],[53,0,32,"KeyW",53,"W",87,"VK_W",r,r],[54,0,33,"KeyX",54,"X",88,"VK_X",r,r],[55,0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[22,0,36,"Digit1",22,"1",49,"VK_1",r,r],[23,0,37,"Digit2",23,"2",50,"VK_2",r,r],[24,0,38,"Digit3",24,"3",51,"VK_3",r,r],[25,0,39,"Digit4",25,"4",52,"VK_4",r,r],[26,0,40,"Digit5",26,"5",53,"VK_5",r,r],[27,0,41,"Digit6",27,"6",54,"VK_6",r,r],[28,0,42,"Digit7",28,"7",55,"VK_7",r,r],[29,0,43,"Digit8",29,"8",56,"VK_8",r,r],[30,0,44,"Digit9",30,"9",57,"VK_9",r,r],[21,0,45,"Digit0",21,"0",48,"VK_0",r,r],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[10,1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,r,0,r,r,r],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[59,1,64,"F1",59,"F1",112,"VK_F1",r,r],[60,1,65,"F2",60,"F2",113,"VK_F2",r,r],[61,1,66,"F3",61,"F3",114,"VK_F3",r,r],[62,1,67,"F4",62,"F4",115,"VK_F4",r,r],[63,1,68,"F5",63,"F5",116,"VK_F5",r,r],[64,1,69,"F6",64,"F6",117,"VK_F6",r,r],[65,1,70,"F7",65,"F7",118,"VK_F7",r,r],[66,1,71,"F8",66,"F8",119,"VK_F8",r,r],[67,1,72,"F9",67,"F9",120,"VK_F9",r,r],[68,1,73,"F10",68,"F10",121,"VK_F10",r,r],[69,1,74,"F11",69,"F11",122,"VK_F11",r,r],[70,1,75,"F12",70,"F12",123,"VK_F12",r,r],[0,1,76,"PrintScreen",0,r,0,r,r,r],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",r,r],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[14,1,80,"Home",14,"Home",36,"VK_HOME",r,r],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[13,1,83,"End",13,"End",35,"VK_END",r,r],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",r,r],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",r,r],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",r,r],[3,1,94,"NumpadEnter",3,r,0,r,r,r],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",r,r],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",r,r],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",r,r],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",r,r],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",r,r],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",r,r],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",r,r],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",r,r],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",r,r],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",r,r],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",r,r],[58,1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[0,1,108,"Power",0,r,0,r,r,r],[0,1,109,"NumpadEqual",0,r,0,r,r,r],[71,1,110,"F13",71,"F13",124,"VK_F13",r,r],[72,1,111,"F14",72,"F14",125,"VK_F14",r,r],[73,1,112,"F15",73,"F15",126,"VK_F15",r,r],[74,1,113,"F16",74,"F16",127,"VK_F16",r,r],[75,1,114,"F17",75,"F17",128,"VK_F17",r,r],[76,1,115,"F18",76,"F18",129,"VK_F18",r,r],[77,1,116,"F19",77,"F19",130,"VK_F19",r,r],[0,1,117,"F20",0,r,0,"VK_F20",r,r],[0,1,118,"F21",0,r,0,"VK_F21",r,r],[0,1,119,"F22",0,r,0,"VK_F22",r,r],[0,1,120,"F23",0,r,0,"VK_F23",r,r],[0,1,121,"F24",0,r,0,"VK_F24",r,r],[0,1,122,"Open",0,r,0,r,r,r],[0,1,123,"Help",0,r,0,r,r,r],[0,1,124,"Select",0,r,0,r,r,r],[0,1,125,"Again",0,r,0,r,r,r],[0,1,126,"Undo",0,r,0,r,r,r],[0,1,127,"Cut",0,r,0,r,r,r],[0,1,128,"Copy",0,r,0,r,r,r],[0,1,129,"Paste",0,r,0,r,r,r],[0,1,130,"Find",0,r,0,r,r,r],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",r,r],[0,1,136,"KanaMode",0,r,0,r,r,r],[0,0,137,"IntlYen",0,r,0,r,r,r],[0,1,138,"Convert",0,r,0,r,r,r],[0,1,139,"NonConvert",0,r,0,r,r,r],[0,1,140,"Lang1",0,r,0,r,r,r],[0,1,141,"Lang2",0,r,0,r,r,r],[0,1,142,"Lang3",0,r,0,r,r,r],[0,1,143,"Lang4",0,r,0,r,r,r],[0,1,144,"Lang5",0,r,0,r,r,r],[0,1,145,"Abort",0,r,0,r,r,r],[0,1,146,"Props",0,r,0,r,r,r],[0,1,147,"NumpadParenLeft",0,r,0,r,r,r],[0,1,148,"NumpadParenRight",0,r,0,r,r,r],[0,1,149,"NumpadBackspace",0,r,0,r,r,r],[0,1,150,"NumpadMemoryStore",0,r,0,r,r,r],[0,1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[0,1,152,"NumpadMemoryClear",0,r,0,r,r,r],[0,1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[0,1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[0,1,155,"NumpadClear",0,r,0,r,r,r],[0,1,156,"NumpadClearEntry",0,r,0,r,r,r],[5,1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[4,1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[6,1,0,r,6,"Alt",18,"VK_MENU",r,r],[57,1,0,r,57,"Meta",0,"VK_COMMAND",r,r],[5,1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[4,1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[6,1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[57,1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[5,1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[4,1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[6,1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[57,1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[0,1,165,"BrightnessUp",0,r,0,r,r,r],[0,1,166,"BrightnessDown",0,r,0,r,r,r],[0,1,167,"MediaPlay",0,r,0,r,r,r],[0,1,168,"MediaRecord",0,r,0,r,r,r],[0,1,169,"MediaFastForward",0,r,0,r,r,r],[0,1,170,"MediaRewind",0,r,0,r,r,r],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",r,r],[0,1,174,"Eject",0,r,0,r,r,r],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[0,1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[0,1,180,"SelectTask",0,r,0,r,r,r],[0,1,181,"LaunchScreenSaver",0,r,0,r,r,r],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[0,1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[0,1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[0,1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[0,1,189,"ZoomToggle",0,r,0,r,r,r],[0,1,190,"MailReply",0,r,0,r,r,r],[0,1,191,"MailForward",0,r,0,r,r,r],[0,1,192,"MailSend",0,r,0,r,r,r],[109,1,0,r,109,"KeyInComposition",229,r,r,r],[111,1,0,r,111,"ABNT_C2",194,"VK_ABNT_C2",r,r],[91,1,0,r,91,"OEM_8",223,"VK_OEM_8",r,r],[0,1,0,r,0,r,0,"VK_CLEAR",r,r],[0,1,0,r,0,r,0,"VK_KANA",r,r],[0,1,0,r,0,r,0,"VK_HANGUL",r,r],[0,1,0,r,0,r,0,"VK_JUNJA",r,r],[0,1,0,r,0,r,0,"VK_FINAL",r,r],[0,1,0,r,0,r,0,"VK_HANJA",r,r],[0,1,0,r,0,r,0,"VK_KANJI",r,r],[0,1,0,r,0,r,0,"VK_CONVERT",r,r],[0,1,0,r,0,r,0,"VK_NONCONVERT",r,r],[0,1,0,r,0,r,0,"VK_ACCEPT",r,r],[0,1,0,r,0,r,0,"VK_MODECHANGE",r,r],[0,1,0,r,0,r,0,"VK_SELECT",r,r],[0,1,0,r,0,r,0,"VK_PRINT",r,r],[0,1,0,r,0,r,0,"VK_EXECUTE",r,r],[0,1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[0,1,0,r,0,r,0,"VK_HELP",r,r],[0,1,0,r,0,r,0,"VK_APPS",r,r],[0,1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[0,1,0,r,0,r,0,"VK_PACKET",r,r],[0,1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_ATTN",r,r],[0,1,0,r,0,r,0,"VK_CRSEL",r,r],[0,1,0,r,0,r,0,"VK_EXSEL",r,r],[0,1,0,r,0,r,0,"VK_EREOF",r,r],[0,1,0,r,0,r,0,"VK_PLAY",r,r],[0,1,0,r,0,r,0,"VK_ZOOM",r,r],[0,1,0,r,0,r,0,"VK_NONAME",r,r],[0,1,0,r,0,r,0,"VK_PA1",r,r],[0,1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]];let C=[],x=[];for(const f of N){const[_,S,h,y,v,B,j,te,ce,_e]=f;if(x[h]||(x[h]=!0,R[h]=y,W[y]=h,s[y.toLowerCase()]=h,S&&(T[h]=v,v!==0&&v!==3&&v!==5&&v!==4&&v!==6&&v!==57&&(g[v]=h))),!C[v]){if(C[v]=!0,!B)throw new Error(`String representation missing for key code ${v} around scan code ${y}`);O.define(v,B),Q.define(v,ce||B),P.define(v,_e||ce||B)}j&&(L[j]=v),te&&(J[te]=v)}g[3]=46})();var E;(function(r){function N(h){return O.keyCodeToStr(h)}r.toString=N;function C(h){return O.strToKeyCode(h)}r.fromString=C;function x(h){return Q.keyCodeToStr(h)}r.toUserSettingsUS=x;function f(h){return P.keyCodeToStr(h)}r.toUserSettingsGeneral=f;function _(h){return Q.strToKeyCode(h)||P.strToKeyCode(h)}r.fromUserSettings=_;function S(h){if(h>=93&&h<=108)return null;switch(h){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return O.keyCodeToStr(h)}r.toElectronAccelerator=S})(E||(E={}));function H(r,N){const C=(N&65535)<<16>>>0;return(r|C)>>>0}},8030:function(ti,Ge,c){"use strict";c.d(Ge,{X4:function(){return P},jC:function(){return L},xo:function(){return Q}});var D=c(63580);class O{constructor(W,s,T=s){this.modifierLabels=[null],this.modifierLabels[2]=W,this.modifierLabels[1]=s,this.modifierLabels[3]=T}toLabel(W,s,T){if(s.length===0)return null;const g=[];for(let E=0,H=s.length;E<H;E++){const r=s[E],N=T(r);if(N===null)return null;g[E]=J(r,N,this.modifierLabels[W])}return g.join(" ")}}const Q=new O({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:D.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),P=new O({ctrlKey:D.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:D.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),L=new O({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function J(R,W,s){if(W===null)return"";const T=[];return R.ctrlKey&&T.push(s.ctrlKey),R.shiftKey&&T.push(s.shiftKey),R.altKey&&T.push(s.altKey),R.metaKey&&T.push(s.metaKey),W!==""&&T.push(W),T.join(s.separator)}},8313:function(ti,Ge,c){"use strict";c.d(Ge,{BQ:function(){return R},QC:function(){return P},X_:function(){return L},f1:function(){return W},gm:function(){return O}});var D=c(17301);function O(s,T){if(s===0)return null;const g=(s&65535)>>>0,E=(s&4294901760)>>>16;return E!==0?new L([Q(g,T),Q(E,T)]):new L([Q(g,T)])}function Q(s,T){const g=!!(s&2048),E=!!(s&256),H=T===2?E:g,r=!!(s&1024),N=!!(s&512),C=T===2?g:E,x=s&255;return new P(H,r,N,C,x)}class P{constructor(T,g,E,H,r){this.ctrlKey=T,this.shiftKey=g,this.altKey=E,this.metaKey=H,this.keyCode=r}equals(T){return this.ctrlKey===T.ctrlKey&&this.shiftKey===T.shiftKey&&this.altKey===T.altKey&&this.metaKey===T.metaKey&&this.keyCode===T.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class L{constructor(T){if(T.length===0)throw(0,D.b1)("parts");this.parts=T}}class J{constructor(T,g,E,H,r){this.ctrlKey=T,this.shiftKey=g,this.altKey=E,this.metaKey=H,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class R{constructor(T,g,E,H,r,N){this.ctrlKey=T,this.shiftKey=g,this.altKey=E,this.metaKey=H,this.keyLabel=r,this.keyAriaLabel=N}}class W{}},68843:function(ti,Ge,c){"use strict";c.d(Ge,{D:function(){return R},p:function(){return J}});var D=c(15527),O=c(66663),Q=c(1432),P=c(95935),L=c(70666);function J(W){if(!W)return;typeof W=="string"&&(W=L.o.file(W));const s=(0,P.EZ)(W)||(W.scheme===O.lg.file?W.fsPath:W.path);return Q.ED&&(0,D.vY)(s)?R(s):s}function R(W){return(0,D.oP)(W)?W.charAt(0).toUpperCase()+W.slice(1):W}},5976:function(ti,Ge,c){"use strict";c.d(Ge,{B9:function(){return H},F8:function(){return r},JT:function(){return x},Jz:function(){return _},OF:function(){return N},SL:function(){return C},Wf:function(){return E},XK:function(){return f},dk:function(){return T}});var D=c(88289),O=c(56899);const Q=!1;let P=null;function L(S){P=S}if(Q){const S="__is_disposable_tracked__";L(new class{trackDisposable(h){const y=new Error("Potentially leaked disposable").stack;setTimeout(()=>{h[S]||console.log(y)},3e3)}setParent(h,y){if(h&&h!==x.None)try{h[S]=!0}catch(v){}}markAsDisposed(h){if(h&&h!==x.None)try{h[S]=!0}catch(y){}}markAsSingleton(h){}})}function J(S){return P==null||P.trackDisposable(S),S}function R(S){P==null||P.markAsDisposed(S)}function W(S,h){P==null||P.setParent(S,h)}function s(S,h){if(P)for(const y of S)P.setParent(y,h)}function T(S){return P==null||P.markAsSingleton(S),S}class g extends Error{constructor(h){super(`Encountered errors while disposing of store. Errors: [${h.join(", ")}]`),this.errors=h}}function E(S){return typeof S.dispose=="function"&&S.dispose.length===0}function H(S){if(O.$.is(S)){let h=[];for(const y of S)if(y)try{y.dispose()}catch(v){h.push(v)}if(h.length===1)throw h[0];if(h.length>1)throw new g(h);return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}function r(...S){const h=N(()=>H(S));return s(S,h),h}function N(S){const h=J({dispose:(0,D.I)(()=>{R(h),S()})});return h}class C{constructor(){this._toDispose=new Set,this._isDisposed=!1,J(this)}dispose(){this._isDisposed||(R(this),this._isDisposed=!0,this.clear())}clear(){try{H(this._toDispose.values())}finally{this._toDispose.clear()}}add(h){if(!h)return h;if(h===this)throw new Error("Cannot register a disposable on itself!");return W(h,this),this._isDisposed?C.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(h),h}}C.DISABLE_DISPOSED_WARNING=!1;class x{constructor(){this._store=new C,J(this),W(this._store,this)}dispose(){R(this),this._store.dispose()}_register(h){if(h===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(h)}}x.None=Object.freeze({dispose(){}});class f{constructor(){this._isDisposed=!1,J(this)}get value(){return this._isDisposed?void 0:this._value}set value(h){var y;this._isDisposed||h===this._value||((y=this._value)===null||y===void 0||y.dispose(),h&&W(h,this),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,R(this),(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}clearAndLeak(){const h=this._value;return this._value=void 0,h&&W(h,null),h}}class _{constructor(h){this.object=h}dispose(){}}},91741:function(ti,Ge,c){"use strict";c.d(Ge,{S:function(){return O}});class D{constructor(P){this.element=P,this.next=D.Undefined,this.prev=D.Undefined}}D.Undefined=new D(void 0);class O{constructor(){this._first=D.Undefined,this._last=D.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===D.Undefined}clear(){let P=this._first;for(;P!==D.Undefined;){const L=P.next;P.prev=D.Undefined,P.next=D.Undefined,P=L}this._first=D.Undefined,this._last=D.Undefined,this._size=0}unshift(P){return this._insert(P,!1)}push(P){return this._insert(P,!0)}_insert(P,L){const J=new D(P);if(this._first===D.Undefined)this._first=J,this._last=J;else if(L){const W=this._last;this._last=J,J.prev=W,W.next=J}else{const W=this._first;this._first=J,J.next=W,W.prev=J}this._size+=1;let R=!1;return()=>{R||(R=!0,this._remove(J))}}shift(){if(this._first!==D.Undefined){const P=this._first.element;return this._remove(this._first),P}}pop(){if(this._last!==D.Undefined){const P=this._last.element;return this._remove(this._last),P}}_remove(P){if(P.prev!==D.Undefined&&P.next!==D.Undefined){const L=P.prev;L.next=P.next,P.next.prev=L}else P.prev===D.Undefined&&P.next===D.Undefined?(this._first=D.Undefined,this._last=D.Undefined):P.next===D.Undefined?(this._last=this._last.prev,this._last.next=D.Undefined):P.prev===D.Undefined&&(this._first=this._first.next,this._first.prev=D.Undefined);this._size-=1}*[Symbol.iterator](){let P=this._first;for(;P!==D.Undefined;)yield P.element,P=P.next}}},43702:function(ti,Ge,c){"use strict";c.d(Ge,{Id:function(){return s},Y9:function(){return g},z6:function(){return H}});var D=c(97295),O,Q;class P{constructor(){this._value="",this._pos=0}reset(N){return this._value=N,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(N){const C=N.charCodeAt(0),x=this._value.charCodeAt(this._pos);return C-x}value(){return this._value[this._pos]}}class L{constructor(N=!0){this._caseSensitive=N}reset(N){return this._value=N,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let N=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(N)this._from++;else break;else N=!1;return this}cmp(N){return this._caseSensitive?(0,D.TT)(N,this._value,0,N.length,this._from,this._to):(0,D.j_)(N,this._value,0,N.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class J{constructor(N=!0,C=!0){this._splitOnBackslash=N,this._caseSensitive=C}reset(N){return this._value=N.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let N=!0;for(;this._to<this._value.length;this._to++){const C=this._value.charCodeAt(this._to);if(C===47||this._splitOnBackslash&&C===92)if(N)this._from++;else break;else N=!1}return this}cmp(N){return this._caseSensitive?(0,D.TT)(N,this._value,0,N.length,this._from,this._to):(0,D.j_)(N,this._value,0,N.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class R{constructor(N){this._ignorePathCasing=N,this._states=[],this._stateIdx=0}reset(N){return this._value=N,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new J(!1,!this._ignorePathCasing(N)),this._pathIterator.reset(N.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(N){if(this._states[this._stateIdx]===1)return(0,D.zY)(N,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,D.zY)(N,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(N);if(this._states[this._stateIdx]===4)return(0,D.qu)(N,this._value.query);if(this._states[this._stateIdx]===5)return(0,D.qu)(N,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class W{constructor(){this.height=1}rotateLeft(){const N=this.right;return this.right=N.left,N.left=this,this.updateHeight(),N.updateHeight(),N}rotateRight(){const N=this.left;return this.left=N.right,N.right=this,this.updateHeight(),N.updateHeight(),N}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var N,C;return(C=(N=this.left)===null||N===void 0?void 0:N.height)!==null&&C!==void 0?C:0}get heightRight(){var N,C;return(C=(N=this.right)===null||N===void 0?void 0:N.height)!==null&&C!==void 0?C:0}}class s{constructor(N){this._iter=N}static forUris(N=()=>!1){return new s(new R(N))}static forStrings(){return new s(new P)}static forConfigKeys(){return new s(new L)}clear(){this._root=void 0}set(N,C){const x=this._iter.reset(N);let f;this._root||(this._root=new W,this._root.segment=x.value());const _=[];for(f=this._root;;){const h=x.cmp(f.segment);if(h>0)f.left||(f.left=new W,f.left.segment=x.value()),_.push([-1,f]),f=f.left;else if(h<0)f.right||(f.right=new W,f.right.segment=x.value()),_.push([1,f]),f=f.right;else if(x.hasNext())x.next(),f.mid||(f.mid=new W,f.mid.segment=x.value()),_.push([0,f]),f=f.mid;else break}const S=f.value;f.value=C,f.key=N;for(let h=_.length-1;h>=0;h--){const y=_[h][1];y.updateHeight();const v=y.balanceFactor();if(v<-1||v>1){const B=_[h][0],j=_[h+1][0];if(B===1&&j===1)_[h][1]=y.rotateLeft();else if(B===-1&&j===-1)_[h][1]=y.rotateRight();else if(B===1&&j===-1)y.right=_[h+1][1]=_[h+1][1].rotateRight(),_[h][1]=y.rotateLeft();else if(B===-1&&j===1)y.left=_[h+1][1]=_[h+1][1].rotateLeft(),_[h][1]=y.rotateRight();else throw new Error;if(h>0)switch(_[h-1][0]){case-1:_[h-1][1].left=_[h][1];break;case 1:_[h-1][1].right=_[h][1];break;case 0:_[h-1][1].mid=_[h][1];break}else this._root=_[0][1]}}return S}get(N){var C;return(C=this._getNode(N))===null||C===void 0?void 0:C.value}_getNode(N){const C=this._iter.reset(N);let x=this._root;for(;x;){const f=C.cmp(x.segment);if(f>0)x=x.left;else if(f<0)x=x.right;else if(C.hasNext())C.next(),x=x.mid;else break}return x}has(N){const C=this._getNode(N);return!((C==null?void 0:C.value)===void 0&&(C==null?void 0:C.mid)===void 0)}delete(N){return this._delete(N,!1)}deleteSuperstr(N){return this._delete(N,!0)}_delete(N,C){var x;const f=this._iter.reset(N),_=[];let S=this._root;for(;S;){const h=f.cmp(S.segment);if(h>0)_.push([-1,S]),S=S.left;else if(h<0)_.push([1,S]),S=S.right;else if(f.hasNext())f.next(),_.push([0,S]),S=S.mid;else break}if(S){if(C?(S.left=void 0,S.mid=void 0,S.right=void 0,S.height=1):(S.key=void 0,S.value=void 0),!S.mid&&!S.value)if(S.left&&S.right){const h=this._min(S.right),{key:y,value:v,segment:B}=h;this._delete(h.key,!1),S.key=y,S.value=v,S.segment=B}else{const h=(x=S.left)!==null&&x!==void 0?x:S.right;if(_.length>0){const[y,v]=_[_.length-1];switch(y){case-1:v.left=h;break;case 0:v.mid=h;break;case 1:v.right=h;break}}else this._root=h}for(let h=_.length-1;h>=0;h--){const y=_[h][1];y.updateHeight();const v=y.balanceFactor();if(v>1?(y.right.balanceFactor()>=0||(y.right=_[h+1][1]=_[h+1][1].rotateRight()),_[h][1]=y.rotateLeft()):v<-1&&(y.left.balanceFactor()<=0||(y.left=_[h+1][1]=_[h+1][1].rotateLeft()),_[h][1]=y.rotateRight()),h>0)switch(_[h-1][0]){case-1:_[h-1][1].left=_[h][1];break;case 1:_[h-1][1].right=_[h][1];break;case 0:_[h-1][1].mid=_[h][1];break}else this._root=_[0][1]}}}_min(N){for(;N.left;)N=N.left;return N}findSubstr(N){const C=this._iter.reset(N);let x=this._root,f;for(;x;){const _=C.cmp(x.segment);if(_>0)x=x.left;else if(_<0)x=x.right;else if(C.hasNext())C.next(),f=x.value||f,x=x.mid;else break}return x&&x.value||f}findSuperstr(N){const C=this._iter.reset(N);let x=this._root;for(;x;){const f=C.cmp(x.segment);if(f>0)x=x.left;else if(f<0)x=x.right;else if(C.hasNext())C.next(),x=x.mid;else return x.mid?this._entries(x.mid):void 0}}forEach(N){for(const[C,x]of this)N(x,C)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(N){N&&(N.left&&(yield*this._entries(N.left)),N.value&&(yield[N.key,N.value]),N.mid&&(yield*this._entries(N.mid)),N.right&&(yield*this._entries(N.right)))}}class T{constructor(N,C){this.uri=N,this.value=C}}class g{constructor(N,C){this[O]="ResourceMap",N instanceof g?(this.map=new Map(N.map),this.toKey=C!=null?C:g.defaultToKey):(this.map=new Map,this.toKey=N!=null?N:g.defaultToKey)}set(N,C){return this.map.set(this.toKey(N),new T(N,C)),this}get(N){var C;return(C=this.map.get(this.toKey(N)))===null||C===void 0?void 0:C.value}has(N){return this.map.has(this.toKey(N))}get size(){return this.map.size}clear(){this.map.clear()}delete(N){return this.map.delete(this.toKey(N))}forEach(N,C){typeof C!="undefined"&&(N=N.bind(C));for(let[x,f]of this.map)N(f.value,f.uri,this)}*values(){for(let N of this.map.values())yield N.value}*keys(){for(let N of this.map.values())yield N.uri}*entries(){for(let N of this.map.values())yield[N.uri,N.value]}*[(O=Symbol.toStringTag,Symbol.iterator)](){for(let[,N]of this.map)yield[N.uri,N.value]}}g.defaultToKey=r=>r.toString();class E{constructor(){this[Q]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var N;return(N=this._head)===null||N===void 0?void 0:N.value}get last(){var N;return(N=this._tail)===null||N===void 0?void 0:N.value}has(N){return this._map.has(N)}get(N,C=0){const x=this._map.get(N);if(x)return C!==0&&this.touch(x,C),x.value}set(N,C,x=0){let f=this._map.get(N);if(f)f.value=C,x!==0&&this.touch(f,x);else{switch(f={key:N,value:C,next:void 0,previous:void 0},x){case 0:this.addItemLast(f);break;case 1:this.addItemFirst(f);break;case 2:this.addItemLast(f);break;default:this.addItemLast(f);break}this._map.set(N,f),this._size++}return this}delete(N){return!!this.remove(N)}remove(N){const C=this._map.get(N);if(C)return this._map.delete(N),this.removeItem(C),this._size--,C.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const N=this._head;return this._map.delete(N.key),this.removeItem(N),this._size--,N.value}forEach(N,C){const x=this._state;let f=this._head;for(;f;){if(C?N.bind(C)(f.value,f.key,this):N(f.value,f.key,this),this._state!==x)throw new Error("LinkedMap got modified during iteration.");f=f.next}}keys(){const N=this,C=this._state;let x=this._head;const f={[Symbol.iterator](){return f},next(){if(N._state!==C)throw new Error("LinkedMap got modified during iteration.");if(x){const _={value:x.key,done:!1};return x=x.next,_}else return{value:void 0,done:!0}}};return f}values(){const N=this,C=this._state;let x=this._head;const f={[Symbol.iterator](){return f},next(){if(N._state!==C)throw new Error("LinkedMap got modified during iteration.");if(x){const _={value:x.value,done:!1};return x=x.next,_}else return{value:void 0,done:!0}}};return f}entries(){const N=this,C=this._state;let x=this._head;const f={[Symbol.iterator](){return f},next(){if(N._state!==C)throw new Error("LinkedMap got modified during iteration.");if(x){const _={value:[x.key,x.value],done:!1};return x=x.next,_}else return{value:void 0,done:!0}}};return f}[(Q=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(N){if(N>=this.size)return;if(N===0){this.clear();return}let C=this._head,x=this.size;for(;C&&x>N;)this._map.delete(C.key),C=C.next,x--;this._head=C,this._size=x,C&&(C.previous=void 0),this._state++}addItemFirst(N){if(!this._head&&!this._tail)this._tail=N;else if(this._head)N.next=this._head,this._head.previous=N;else throw new Error("Invalid list");this._head=N,this._state++}addItemLast(N){if(!this._head&&!this._tail)this._head=N;else if(this._tail)N.previous=this._tail,this._tail.next=N;else throw new Error("Invalid list");this._tail=N,this._state++}removeItem(N){if(N===this._head&&N===this._tail)this._head=void 0,this._tail=void 0;else if(N===this._head){if(!N.next)throw new Error("Invalid list");N.next.previous=void 0,this._head=N.next}else if(N===this._tail){if(!N.previous)throw new Error("Invalid list");N.previous.next=void 0,this._tail=N.previous}else{const C=N.next,x=N.previous;if(!C||!x)throw new Error("Invalid list");C.previous=x,x.next=C}N.next=void 0,N.previous=void 0,this._state++}touch(N,C){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(C!==1&&C!==2)){if(C===1){if(N===this._head)return;const x=N.next,f=N.previous;N===this._tail?(f.next=void 0,this._tail=f):(x.previous=f,f.next=x),N.previous=void 0,N.next=this._head,this._head.previous=N,this._head=N,this._state++}else if(C===2){if(N===this._tail)return;const x=N.next,f=N.previous;N===this._head?(x.previous=void 0,this._head=x):(x.previous=f,f.next=x),N.next=void 0,N.previous=this._tail,this._tail.next=N,this._tail=N,this._state++}}}toJSON(){const N=[];return this.forEach((C,x)=>{N.push([x,C])}),N}fromJSON(N){this.clear();for(const[C,x]of N)this.set(C,x)}}class H extends E{constructor(N,C=1){super(),this._limit=N,this._ratio=Math.min(Math.max(0,C),1)}get limit(){return this._limit}set limit(N){this._limit=N,this.checkTrim()}get(N,C=2){return super.get(N,C)}peek(N){return super.get(N,0)}set(N,C){return super.set(N,C,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},33720:function(ti,Ge,c){"use strict";c.d(Ge,{Qc:function(){return g},Th:function(){return L}}),ti=c.hmd(ti);let D;(function(){function E(H){D=H()}E.amd=!0,function(H,r){typeof exports=="object"?ti.exports=r():typeof E=="function"&&E.amd?E(r):(H=typeof globalThis!="undefined"?globalThis:H||self,H.marked=r())}(this,function(){"use strict";function H(wt,ht){for(var Et=0;Et<ht.length;Et++){var He=ht[Et];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(wt,He.key,He)}}function r(wt,ht,Et){return ht&&H(wt.prototype,ht),Et&&H(wt,Et),wt}function N(wt,ht){if(wt){if(typeof wt=="string")return C(wt,ht);var Et=Object.prototype.toString.call(wt).slice(8,-1);if(Et==="Object"&&wt.constructor&&(Et=wt.constructor.name),Et==="Map"||Et==="Set")return Array.from(wt);if(Et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Et))return C(wt,ht)}}function C(wt,ht){(ht==null||ht>wt.length)&&(ht=wt.length);for(var Et=0,He=new Array(ht);Et<ht;Et++)He[Et]=wt[Et];return He}function x(wt,ht){var Et=typeof Symbol!="undefined"&&wt[Symbol.iterator]||wt["@@iterator"];if(Et)return(Et=Et.call(wt)).next.bind(Et);if(Array.isArray(wt)||(Et=N(wt))||ht&&wt&&typeof wt.length=="number"){Et&&(wt=Et);var He=0;return function(){return He>=wt.length?{done:!0}:{done:!1,value:wt[He++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f={exports:{}};function _(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function S(wt){f.exports.defaults=wt}f.exports={defaults:_(),getDefaults:_,changeDefaults:S};var h=/[&<>"']/,y=/[&<>"']/g,v=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=function(ht){return j[ht]};function ce(wt,ht){if(ht){if(h.test(wt))return wt.replace(y,te)}else if(v.test(wt))return wt.replace(B,te);return wt}var _e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ce(wt){return wt.replace(_e,function(ht,Et){return Et=Et.toLowerCase(),Et==="colon"?":":Et.charAt(0)==="#"?Et.charAt(1)==="x"?String.fromCharCode(parseInt(Et.substring(2),16)):String.fromCharCode(+Et.substring(1)):""})}var Ee=/(^|[^\[])\^/g;function le(wt,ht){wt=wt.source||wt,ht=ht||"";var Et={replace:function(nt,pt){return pt=pt.source||pt,pt=pt.replace(Ee,"$1"),wt=wt.replace(nt,pt),Et},getRegex:function(){return new RegExp(wt,ht)}};return Et}var Y=/[^\w:]/g,$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function G(wt,ht,Et){if(wt){var He;try{He=decodeURIComponent(Ce(Et)).replace(Y,"").toLowerCase()}catch(nt){return null}if(He.indexOf("javascript:")===0||He.indexOf("vbscript:")===0||He.indexOf("data:")===0)return null}ht&&!$.test(Et)&&(Et=ie(ht,Et));try{Et=encodeURI(Et).replace(/%25/g,"%")}catch(nt){return null}return Et}var ee={},m=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,F=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ie(wt,ht){ee[" "+wt]||(m.test(wt)?ee[" "+wt]=wt+"/":ee[" "+wt]=Te(wt,"/",!0)),wt=ee[" "+wt];var Et=wt.indexOf(":")===-1;return ht.substring(0,2)==="//"?Et?ht:wt.replace(w,"$1")+ht:ht.charAt(0)==="/"?Et?ht:wt.replace(F,"$1")+ht:wt+ht}var pe={exec:function(){}};function ue(wt){for(var ht=1,Et,He;ht<arguments.length;ht++){Et=arguments[ht];for(He in Et)Object.prototype.hasOwnProperty.call(Et,He)&&(wt[He]=Et[He])}return wt}function ke(wt,ht){var Et=wt.replace(/\|/g,function(pt,ft,oi){for(var Hi=!1,vi=ft;--vi>=0&&oi[vi]==="\\";)Hi=!Hi;return Hi?"|":" |"}),He=Et.split(/ \|/),nt=0;if(He[0].trim()||He.shift(),He[He.length-1].trim()||He.pop(),He.length>ht)He.splice(ht);else for(;He.length<ht;)He.push("");for(;nt<He.length;nt++)He[nt]=He[nt].trim().replace(/\\\|/g,"|");return He}function Te(wt,ht,Et){var He=wt.length;if(He===0)return"";for(var nt=0;nt<He;){var pt=wt.charAt(He-nt-1);if(pt===ht&&!Et)nt++;else if(pt!==ht&&Et)nt++;else break}return wt.substr(0,He-nt)}function rt(wt,ht){if(wt.indexOf(ht[1])===-1)return-1;for(var Et=wt.length,He=0,nt=0;nt<Et;nt++)if(wt[nt]==="\\")nt++;else if(wt[nt]===ht[0])He++;else if(wt[nt]===ht[1]&&(He--,He<0))return nt;return-1}function Rt(wt){wt&&wt.sanitize&&!wt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mt(wt,ht){if(ht<1)return"";for(var Et="";ht>1;)ht&1&&(Et+=wt),ht>>=1,wt+=wt;return Et+wt}var Mt={escape:ce,unescape:Ce,edit:le,cleanUrl:G,resolveUrl:ie,noopTest:pe,merge:ue,splitCells:ke,rtrim:Te,findClosingBracket:rt,checkSanitizeDeprecation:Rt,repeatString:mt},it=f.exports.defaults,Je=Mt.rtrim,Ae=Mt.splitCells,ge=Mt.escape,Re=Mt.findClosingBracket;function ot(wt,ht,Et,He){var nt=ht.href,pt=ht.title?ge(ht.title):null,ft=wt[1].replace(/\\([\[\]])/g,"$1");if(wt[0].charAt(0)!=="!"){He.state.inLink=!0;var oi={type:"link",raw:Et,href:nt,title:pt,text:ft,tokens:He.inlineTokens(ft,[])};return He.state.inLink=!1,oi}else return{type:"image",raw:Et,href:nt,title:pt,text:ge(ft)}}function dt(wt,ht){var Et=wt.match(/^(\s+)(?:```)/);if(Et===null)return ht;var He=Et[1];return ht.split(`
`).map(function(nt){var pt=nt.match(/^\s+/);if(pt===null)return nt;var ft=pt[0];return ft.length>=He.length?nt.slice(He.length):nt}).join(`
`)}var lt=function(){function wt(Et){this.options=Et||it}var ht=wt.prototype;return ht.space=function(He){var nt=this.rules.block.newline.exec(He);if(nt)return nt[0].length>1?{type:"space",raw:nt[0]}:{raw:`
`}},ht.code=function(He){var nt=this.rules.block.code.exec(He);if(nt){var pt=nt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:nt[0],codeBlockStyle:"indented",text:this.options.pedantic?pt:Je(pt,`
`)}}},ht.fences=function(He){var nt=this.rules.block.fences.exec(He);if(nt){var pt=nt[0],ft=dt(pt,nt[3]||"");return{type:"code",raw:pt,lang:nt[2]?nt[2].trim():nt[2],text:ft}}},ht.heading=function(He){var nt=this.rules.block.heading.exec(He);if(nt){var pt=nt[2].trim();if(/#$/.test(pt)){var ft=Je(pt,"#");(this.options.pedantic||!ft||/ $/.test(ft))&&(pt=ft.trim())}var oi={type:"heading",raw:nt[0],depth:nt[1].length,text:pt,tokens:[]};return this.lexer.inline(oi.text,oi.tokens),oi}},ht.hr=function(He){var nt=this.rules.block.hr.exec(He);if(nt)return{type:"hr",raw:nt[0]}},ht.blockquote=function(He){var nt=this.rules.block.blockquote.exec(He);if(nt){var pt=nt[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:nt[0],tokens:this.lexer.blockTokens(pt,[]),text:pt}}},ht.list=function(He){var nt=this.rules.block.list.exec(He);if(nt){var pt,ft,oi,Hi,vi,Ii,Ui,dn,gn,Ri,_i=nt[1].trim(),hn=_i.length>1,wn={type:"list",raw:"",ordered:hn,start:hn?+_i.slice(0,-1):"",loose:!1,items:[]};_i=hn?"\\d{1,9}\\"+_i.slice(-1):"\\"+_i,this.options.pedantic&&(_i=hn?_i:"[*+-]");for(var Qn=new RegExp("^( {0,3}"+_i+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");He&&!(this.rules.block.hr.test(He)||!(nt=Qn.exec(He)));){gn=nt[2].split(`
`),this.options.pedantic?(Hi=2,Ri=gn[0].trimLeft()):(Hi=nt[2].search(/[^ ]/),Hi=nt[1].length+(Hi>4?1:Hi),Ri=gn[0].slice(Hi-nt[1].length)),Ii=!1,pt=nt[0],!gn[0]&&/^ *$/.test(gn[1])&&(pt=nt[1]+gn.slice(0,2).join(`
`)+`
`,wn.loose=!0,gn=[]);var os=new RegExp("^ {0,"+Math.min(3,Hi-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(vi=1;vi<gn.length;vi++){if(dn=gn[vi],this.options.pedantic&&(dn=dn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),os.test(dn)){pt=nt[1]+gn.slice(0,vi).join(`
`)+`
`;break}if(!Ii){dn.trim()||(Ii=!0),dn.search(/[^ ]/)>=Hi?Ri+=`
`+dn.slice(Hi):Ri+=`
`+dn;continue}if(dn.search(/[^ ]/)>=Hi||!dn.trim()){Ri+=`
`+dn.slice(Hi);continue}else{pt=nt[1]+gn.slice(0,vi).join(`
`)+`
`;break}}wn.loose||(Ui?wn.loose=!0:/\n *\n *$/.test(pt)&&(Ui=!0)),this.options.gfm&&(ft=/^\[[ xX]\] /.exec(Ri),ft&&(oi=ft[0]!=="[ ] ",Ri=Ri.replace(/^\[[ xX]\] +/,""))),wn.items.push({type:"list_item",raw:pt,task:!!ft,checked:oi,loose:!1,text:Ri}),wn.raw+=pt,He=He.slice(pt.length)}wn.items[wn.items.length-1].raw=pt.trimRight(),wn.items[wn.items.length-1].text=Ri.trimRight(),wn.raw=wn.raw.trimRight();var Yn=wn.items.length;for(vi=0;vi<Yn;vi++)this.lexer.state.top=!1,wn.items[vi].tokens=this.lexer.blockTokens(wn.items[vi].text,[]),wn.items[vi].tokens.some(function(Ts){return Ts.type==="space"})&&(wn.loose=!0,wn.items[vi].loose=!0);return wn}},ht.html=function(He){var nt=this.rules.block.html.exec(He);if(nt){var pt={type:"html",raw:nt[0],pre:!this.options.sanitizer&&(nt[1]==="pre"||nt[1]==="script"||nt[1]==="style"),text:nt[0]};return this.options.sanitize&&(pt.type="paragraph",pt.text=this.options.sanitizer?this.options.sanitizer(nt[0]):ge(nt[0]),pt.tokens=[],this.lexer.inline(pt.text,pt.tokens)),pt}},ht.def=function(He){var nt=this.rules.block.def.exec(He);if(nt){nt[3]&&(nt[3]=nt[3].substring(1,nt[3].length-1));var pt=nt[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:pt,raw:nt[0],href:nt[2],title:nt[3]}}},ht.table=function(He){var nt=this.rules.block.table.exec(He);if(nt){var pt={type:"table",header:Ae(nt[1]).map(function(Ui){return{text:Ui}}),align:nt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:nt[3]?nt[3].replace(/\n$/,"").split(`
`):[]};if(pt.header.length===pt.align.length){pt.raw=nt[0];var ft=pt.align.length,oi,Hi,vi,Ii;for(oi=0;oi<ft;oi++)/^ *-+: *$/.test(pt.align[oi])?pt.align[oi]="right":/^ *:-+: *$/.test(pt.align[oi])?pt.align[oi]="center":/^ *:-+ *$/.test(pt.align[oi])?pt.align[oi]="left":pt.align[oi]=null;for(ft=pt.rows.length,oi=0;oi<ft;oi++)pt.rows[oi]=Ae(pt.rows[oi],pt.header.length).map(function(Ui){return{text:Ui}});for(ft=pt.header.length,Hi=0;Hi<ft;Hi++)pt.header[Hi].tokens=[],this.lexer.inlineTokens(pt.header[Hi].text,pt.header[Hi].tokens);for(ft=pt.rows.length,Hi=0;Hi<ft;Hi++)for(Ii=pt.rows[Hi],vi=0;vi<Ii.length;vi++)Ii[vi].tokens=[],this.lexer.inlineTokens(Ii[vi].text,Ii[vi].tokens);return pt}}},ht.lheading=function(He){var nt=this.rules.block.lheading.exec(He);if(nt){var pt={type:"heading",raw:nt[0],depth:nt[2].charAt(0)==="="?1:2,text:nt[1],tokens:[]};return this.lexer.inline(pt.text,pt.tokens),pt}},ht.paragraph=function(He){var nt=this.rules.block.paragraph.exec(He);if(nt){var pt={type:"paragraph",raw:nt[0],text:nt[1].charAt(nt[1].length-1)===`
`?nt[1].slice(0,-1):nt[1],tokens:[]};return this.lexer.inline(pt.text,pt.tokens),pt}},ht.text=function(He){var nt=this.rules.block.text.exec(He);if(nt){var pt={type:"text",raw:nt[0],text:nt[0],tokens:[]};return this.lexer.inline(pt.text,pt.tokens),pt}},ht.escape=function(He){var nt=this.rules.inline.escape.exec(He);if(nt)return{type:"escape",raw:nt[0],text:ge(nt[1])}},ht.tag=function(He){var nt=this.rules.inline.tag.exec(He);if(nt)return!this.lexer.state.inLink&&/^<a /i.test(nt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(nt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(nt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(nt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:nt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(nt[0]):ge(nt[0]):nt[0]}},ht.link=function(He){var nt=this.rules.inline.link.exec(He);if(nt){var pt=nt[2].trim();if(!this.options.pedantic&&/^</.test(pt)){if(!/>$/.test(pt))return;var ft=Je(pt.slice(0,-1),"\\");if((pt.length-ft.length)%2===0)return}else{var oi=Re(nt[2],"()");if(oi>-1){var Hi=nt[0].indexOf("!")===0?5:4,vi=Hi+nt[1].length+oi;nt[2]=nt[2].substring(0,oi),nt[0]=nt[0].substring(0,vi).trim(),nt[3]=""}}var Ii=nt[2],Ui="";if(this.options.pedantic){var dn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ii);dn&&(Ii=dn[1],Ui=dn[3])}else Ui=nt[3]?nt[3].slice(1,-1):"";return Ii=Ii.trim(),/^</.test(Ii)&&(this.options.pedantic&&!/>$/.test(pt)?Ii=Ii.slice(1):Ii=Ii.slice(1,-1)),ot(nt,{href:Ii&&Ii.replace(this.rules.inline._escapes,"$1"),title:Ui&&Ui.replace(this.rules.inline._escapes,"$1")},nt[0],this.lexer)}},ht.reflink=function(He,nt){var pt;if((pt=this.rules.inline.reflink.exec(He))||(pt=this.rules.inline.nolink.exec(He))){var ft=(pt[2]||pt[1]).replace(/\s+/g," ");if(ft=nt[ft.toLowerCase()],!ft||!ft.href){var oi=pt[0].charAt(0);return{type:"text",raw:oi,text:oi}}return ot(pt,ft,pt[0],this.lexer)}},ht.emStrong=function(He,nt,pt){pt===void 0&&(pt="");var ft=this.rules.inline.emStrong.lDelim.exec(He);if(ft&&!(ft[3]&&pt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var oi=ft[1]||ft[2]||"";if(!oi||oi&&(pt===""||this.rules.inline.punctuation.exec(pt))){var Hi=ft[0].length-1,vi,Ii,Ui=Hi,dn=0,gn=ft[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(gn.lastIndex=0,nt=nt.slice(-1*He.length+Hi);(ft=gn.exec(nt))!=null;)if(vi=ft[1]||ft[2]||ft[3]||ft[4]||ft[5]||ft[6],!!vi){if(Ii=vi.length,ft[3]||ft[4]){Ui+=Ii;continue}else if((ft[5]||ft[6])&&Hi%3&&!((Hi+Ii)%3)){dn+=Ii;continue}if(Ui-=Ii,!(Ui>0)){if(Ii=Math.min(Ii,Ii+Ui+dn),Math.min(Hi,Ii)%2){var Ri=He.slice(1,Hi+ft.index+Ii);return{type:"em",raw:He.slice(0,Hi+ft.index+Ii+1),text:Ri,tokens:this.lexer.inlineTokens(Ri,[])}}var _i=He.slice(2,Hi+ft.index+Ii-1);return{type:"strong",raw:He.slice(0,Hi+ft.index+Ii+1),text:_i,tokens:this.lexer.inlineTokens(_i,[])}}}}}},ht.codespan=function(He){var nt=this.rules.inline.code.exec(He);if(nt){var pt=nt[2].replace(/\n/g," "),ft=/[^ ]/.test(pt),oi=/^ /.test(pt)&&/ $/.test(pt);return ft&&oi&&(pt=pt.substring(1,pt.length-1)),pt=ge(pt,!0),{type:"codespan",raw:nt[0],text:pt}}},ht.br=function(He){var nt=this.rules.inline.br.exec(He);if(nt)return{type:"br",raw:nt[0]}},ht.del=function(He){var nt=this.rules.inline.del.exec(He);if(nt)return{type:"del",raw:nt[0],text:nt[2],tokens:this.lexer.inlineTokens(nt[2],[])}},ht.autolink=function(He,nt){var pt=this.rules.inline.autolink.exec(He);if(pt){var ft,oi;return pt[2]==="@"?(ft=ge(this.options.mangle?nt(pt[1]):pt[1]),oi="mailto:"+ft):(ft=ge(pt[1]),oi=ft),{type:"link",raw:pt[0],text:ft,href:oi,tokens:[{type:"text",raw:ft,text:ft}]}}},ht.url=function(He,nt){var pt;if(pt=this.rules.inline.url.exec(He)){var ft,oi;if(pt[2]==="@")ft=ge(this.options.mangle?nt(pt[0]):pt[0]),oi="mailto:"+ft;else{var Hi;do Hi=pt[0],pt[0]=this.rules.inline._backpedal.exec(pt[0])[0];while(Hi!==pt[0]);ft=ge(pt[0]),pt[1]==="www."?oi="http://"+ft:oi=ft}return{type:"link",raw:pt[0],text:ft,href:oi,tokens:[{type:"text",raw:ft,text:ft}]}}},ht.inlineText=function(He,nt){var pt=this.rules.inline.text.exec(He);if(pt){var ft;return this.lexer.state.inRawBlock?ft=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(pt[0]):ge(pt[0]):pt[0]:ft=ge(this.options.smartypants?nt(pt[0]):pt[0]),{type:"text",raw:pt[0],text:ft}}},wt}(),Ie=Mt.noopTest,Pe=Mt.edit,ye=Mt.merge,Xe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Ie,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Xe._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Xe._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Xe.def=Pe(Xe.def).replace("label",Xe._label).replace("title",Xe._title).getRegex(),Xe.bullet=/(?:[*+-]|\d{1,9}[.)])/,Xe.listItemStart=Pe(/^( *)(bull) */).replace("bull",Xe.bullet).getRegex(),Xe.list=Pe(Xe.list).replace(/bull/g,Xe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Xe.def.source+")").getRegex(),Xe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Xe.html=Pe(Xe.html,"i").replace("comment",Xe._comment).replace("tag",Xe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Xe.paragraph=Pe(Xe._paragraph).replace("hr",Xe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xe._tag).getRegex(),Xe.blockquote=Pe(Xe.blockquote).replace("paragraph",Xe.paragraph).getRegex(),Xe.normal=ye({},Xe),Xe.gfm=ye({},Xe.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Xe.gfm.table=Pe(Xe.gfm.table).replace("hr",Xe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xe._tag).getRegex(),Xe.pedantic=ye({},Xe.normal,{html:Pe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Xe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ie,paragraph:Pe(Xe.normal._paragraph).replace("hr",Xe.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var st={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ie,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ie,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};st._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",st.punctuation=Pe(st.punctuation).replace(/punctuation/g,st._punctuation).getRegex(),st.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,st.escapedEmSt=/\\\*|\\_/g,st._comment=Pe(Xe._comment).replace("(?:-->|$)","-->").getRegex(),st.emStrong.lDelim=Pe(st.emStrong.lDelim).replace(/punct/g,st._punctuation).getRegex(),st.emStrong.rDelimAst=Pe(st.emStrong.rDelimAst,"g").replace(/punct/g,st._punctuation).getRegex(),st.emStrong.rDelimUnd=Pe(st.emStrong.rDelimUnd,"g").replace(/punct/g,st._punctuation).getRegex(),st._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,st._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,st._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,st.autolink=Pe(st.autolink).replace("scheme",st._scheme).replace("email",st._email).getRegex(),st._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,st.tag=Pe(st.tag).replace("comment",st._comment).replace("attribute",st._attribute).getRegex(),st._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,st._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,st._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,st.link=Pe(st.link).replace("label",st._label).replace("href",st._href).replace("title",st._title).getRegex(),st.reflink=Pe(st.reflink).replace("label",st._label).getRegex(),st.reflinkSearch=Pe(st.reflinkSearch,"g").replace("reflink",st.reflink).replace("nolink",st.nolink).getRegex(),st.normal=ye({},st),st.pedantic=ye({},st.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pe(/^!?\[(label)\]\((.*?)\)/).replace("label",st._label).getRegex(),reflink:Pe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",st._label).getRegex()}),st.gfm=ye({},st.normal,{escape:Pe(st.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),st.gfm.url=Pe(st.gfm.url,"i").replace("email",st.gfm._extended_email).getRegex(),st.breaks=ye({},st.gfm,{br:Pe(st.br).replace("{2,}","*").getRegex(),text:Pe(st.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Pt={block:Xe,inline:st},qt=lt,Ci=f.exports.defaults,ii=Pt.block,At=Pt.inline,Qi=Mt.repeatString;function ci(wt){return wt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function je(wt){var ht="",Et,He,nt=wt.length;for(Et=0;Et<nt;Et++)He=wt.charCodeAt(Et),Math.random()>.5&&(He="x"+He.toString(16)),ht+="&#"+He+";";return ht}var at=function(){function wt(Et){this.tokens=[],this.tokens.links=Object.create(null),this.options=Et||Ci,this.options.tokenizer=this.options.tokenizer||new qt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var He={block:ii.normal,inline:At.normal};this.options.pedantic?(He.block=ii.pedantic,He.inline=At.pedantic):this.options.gfm&&(He.block=ii.gfm,this.options.breaks?He.inline=At.breaks:He.inline=At.gfm),this.tokenizer.rules=He}wt.lex=function(He,nt){var pt=new wt(nt);return pt.lex(He)},wt.lexInline=function(He,nt){var pt=new wt(nt);return pt.inlineTokens(He)};var ht=wt.prototype;return ht.lex=function(He){He=He.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(He,this.tokens);for(var nt;nt=this.inlineQueue.shift();)this.inlineTokens(nt.src,nt.tokens);return this.tokens},ht.blockTokens=function(He,nt){var pt=this;nt===void 0&&(nt=[]),this.options.pedantic&&(He=He.replace(/^ +$/gm,""));for(var ft,oi,Hi,vi;He;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ui){return(ft=Ui.call({lexer:pt},He,nt))?(He=He.substring(ft.raw.length),nt.push(ft),!0):!1}))){if(ft=this.tokenizer.space(He)){He=He.substring(ft.raw.length),ft.type&&nt.push(ft);continue}if(ft=this.tokenizer.code(He)){He=He.substring(ft.raw.length),oi=nt[nt.length-1],oi&&(oi.type==="paragraph"||oi.type==="text")?(oi.raw+=`
`+ft.raw,oi.text+=`
`+ft.text,this.inlineQueue[this.inlineQueue.length-1].src=oi.text):nt.push(ft);continue}if(ft=this.tokenizer.fences(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.heading(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.hr(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.blockquote(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.list(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.html(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.def(He)){He=He.substring(ft.raw.length),oi=nt[nt.length-1],oi&&(oi.type==="paragraph"||oi.type==="text")?(oi.raw+=`
`+ft.raw,oi.text+=`
`+ft.raw,this.inlineQueue[this.inlineQueue.length-1].src=oi.text):this.tokens.links[ft.tag]||(this.tokens.links[ft.tag]={href:ft.href,title:ft.title});continue}if(ft=this.tokenizer.table(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.lheading(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(Hi=He,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ui=1/0,dn=He.slice(1),gn=void 0;pt.options.extensions.startBlock.forEach(function(Ri){gn=Ri.call({lexer:this},dn),typeof gn=="number"&&gn>=0&&(Ui=Math.min(Ui,gn))}),Ui<1/0&&Ui>=0&&(Hi=He.substring(0,Ui+1))}(),this.state.top&&(ft=this.tokenizer.paragraph(Hi))){oi=nt[nt.length-1],vi&&oi.type==="paragraph"?(oi.raw+=`
`+ft.raw,oi.text+=`
`+ft.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oi.text):nt.push(ft),vi=Hi.length!==He.length,He=He.substring(ft.raw.length);continue}if(ft=this.tokenizer.text(He)){He=He.substring(ft.raw.length),oi=nt[nt.length-1],oi&&oi.type==="text"?(oi.raw+=`
`+ft.raw,oi.text+=`
`+ft.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oi.text):nt.push(ft);continue}if(He){var Ii="Infinite loop on byte: "+He.charCodeAt(0);if(this.options.silent){console.error(Ii);break}else throw new Error(Ii)}}return this.state.top=!0,nt},ht.inline=function(He,nt){this.inlineQueue.push({src:He,tokens:nt})},ht.inlineTokens=function(He,nt){var pt=this;nt===void 0&&(nt=[]);var ft,oi,Hi,vi=He,Ii,Ui,dn;if(this.tokens.links){var gn=Object.keys(this.tokens.links);if(gn.length>0)for(;(Ii=this.tokenizer.rules.inline.reflinkSearch.exec(vi))!=null;)gn.includes(Ii[0].slice(Ii[0].lastIndexOf("[")+1,-1))&&(vi=vi.slice(0,Ii.index)+"["+Qi("a",Ii[0].length-2)+"]"+vi.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ii=this.tokenizer.rules.inline.blockSkip.exec(vi))!=null;)vi=vi.slice(0,Ii.index)+"["+Qi("a",Ii[0].length-2)+"]"+vi.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ii=this.tokenizer.rules.inline.escapedEmSt.exec(vi))!=null;)vi=vi.slice(0,Ii.index)+"++"+vi.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;He;)if(Ui||(dn=""),Ui=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(_i){return(ft=_i.call({lexer:pt},He,nt))?(He=He.substring(ft.raw.length),nt.push(ft),!0):!1}))){if(ft=this.tokenizer.escape(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.tag(He)){He=He.substring(ft.raw.length),oi=nt[nt.length-1],oi&&ft.type==="text"&&oi.type==="text"?(oi.raw+=ft.raw,oi.text+=ft.text):nt.push(ft);continue}if(ft=this.tokenizer.link(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.reflink(He,this.tokens.links)){He=He.substring(ft.raw.length),oi=nt[nt.length-1],oi&&ft.type==="text"&&oi.type==="text"?(oi.raw+=ft.raw,oi.text+=ft.text):nt.push(ft);continue}if(ft=this.tokenizer.emStrong(He,vi,dn)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.codespan(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.br(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.del(He)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(ft=this.tokenizer.autolink(He,je)){He=He.substring(ft.raw.length),nt.push(ft);continue}if(!this.state.inLink&&(ft=this.tokenizer.url(He,je))){He=He.substring(ft.raw.length),nt.push(ft);continue}if(Hi=He,this.options.extensions&&this.options.extensions.startInline&&function(){var _i=1/0,hn=He.slice(1),wn=void 0;pt.options.extensions.startInline.forEach(function(Qn){wn=Qn.call({lexer:this},hn),typeof wn=="number"&&wn>=0&&(_i=Math.min(_i,wn))}),_i<1/0&&_i>=0&&(Hi=He.substring(0,_i+1))}(),ft=this.tokenizer.inlineText(Hi,ci)){He=He.substring(ft.raw.length),ft.raw.slice(-1)!=="_"&&(dn=ft.raw.slice(-1)),Ui=!0,oi=nt[nt.length-1],oi&&oi.type==="text"?(oi.raw+=ft.raw,oi.text+=ft.text):nt.push(ft);continue}if(He){var Ri="Infinite loop on byte: "+He.charCodeAt(0);if(this.options.silent){console.error(Ri);break}else throw new Error(Ri)}}return nt},r(wt,null,[{key:"rules",get:function(){return{block:ii,inline:At}}}]),wt}(),Ni=f.exports.defaults,fi=Mt.cleanUrl,Wi=Mt.escape,Rn=function(){function wt(Et){this.options=Et||Ni}var ht=wt.prototype;return ht.code=function(He,nt,pt){var ft=(nt||"").match(/\S*/)[0];if(this.options.highlight){var oi=this.options.highlight(He,ft);oi!=null&&oi!==He&&(pt=!0,He=oi)}return He=He.replace(/\n$/,"")+`
`,ft?'<pre><code class="'+this.options.langPrefix+Wi(ft,!0)+'">'+(pt?He:Wi(He,!0))+`</code></pre>
`:"<pre><code>"+(pt?He:Wi(He,!0))+`</code></pre>
`},ht.blockquote=function(He){return`<blockquote>
`+He+`</blockquote>
`},ht.html=function(He){return He},ht.heading=function(He,nt,pt,ft){return this.options.headerIds?"<h"+nt+' id="'+this.options.headerPrefix+ft.slug(pt)+'">'+He+"</h"+nt+`>
`:"<h"+nt+">"+He+"</h"+nt+`>
`},ht.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ht.list=function(He,nt,pt){var ft=nt?"ol":"ul",oi=nt&&pt!==1?' start="'+pt+'"':"";return"<"+ft+oi+`>
`+He+"</"+ft+`>
`},ht.listitem=function(He){return"<li>"+He+`</li>
`},ht.checkbox=function(He){return"<input "+(He?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ht.paragraph=function(He){return"<p>"+He+`</p>
`},ht.table=function(He,nt){return nt&&(nt="<tbody>"+nt+"</tbody>"),`<table>
<thead>
`+He+`</thead>
`+nt+`</table>
`},ht.tablerow=function(He){return`<tr>
`+He+`</tr>
`},ht.tablecell=function(He,nt){var pt=nt.header?"th":"td",ft=nt.align?"<"+pt+' align="'+nt.align+'">':"<"+pt+">";return ft+He+"</"+pt+`>
`},ht.strong=function(He){return"<strong>"+He+"</strong>"},ht.em=function(He){return"<em>"+He+"</em>"},ht.codespan=function(He){return"<code>"+He+"</code>"},ht.br=function(){return this.options.xhtml?"<br/>":"<br>"},ht.del=function(He){return"<del>"+He+"</del>"},ht.link=function(He,nt,pt){if(He=fi(this.options.sanitize,this.options.baseUrl,He),He===null)return pt;var ft='<a href="'+Wi(He)+'"';return nt&&(ft+=' title="'+nt+'"'),ft+=">"+pt+"</a>",ft},ht.image=function(He,nt,pt){if(He=fi(this.options.sanitize,this.options.baseUrl,He),He===null)return pt;var ft='<img src="'+He+'" alt="'+pt+'"';return nt&&(ft+=' title="'+nt+'"'),ft+=this.options.xhtml?"/>":">",ft},ht.text=function(He){return He},wt}(),zi=function(){function wt(){}var ht=wt.prototype;return ht.strong=function(He){return He},ht.em=function(He){return He},ht.codespan=function(He){return He},ht.del=function(He){return He},ht.html=function(He){return He},ht.text=function(He){return He},ht.link=function(He,nt,pt){return""+pt},ht.image=function(He,nt,pt){return""+pt},ht.br=function(){return""},wt}(),as=function(){function wt(){this.seen={}}var ht=wt.prototype;return ht.serialize=function(He){return He.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ht.getNextSafeSlug=function(He,nt){var pt=He,ft=0;if(this.seen.hasOwnProperty(pt)){ft=this.seen[He];do ft++,pt=He+"-"+ft;while(this.seen.hasOwnProperty(pt))}return nt||(this.seen[He]=ft,this.seen[pt]=0),pt},ht.slug=function(He,nt){nt===void 0&&(nt={});var pt=this.serialize(He);return this.getNextSafeSlug(pt,nt.dryrun)},wt}(),Fn=Rn,An=zi,$i=as,Nn=f.exports.defaults,sn=Mt.unescape,$e=function(){function wt(Et){this.options=Et||Nn,this.options.renderer=this.options.renderer||new Fn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new An,this.slugger=new $i}wt.parse=function(He,nt){var pt=new wt(nt);return pt.parse(He)},wt.parseInline=function(He,nt){var pt=new wt(nt);return pt.parseInline(He)};var ht=wt.prototype;return ht.parse=function(He,nt){nt===void 0&&(nt=!0);var pt="",ft,oi,Hi,vi,Ii,Ui,dn,gn,Ri,_i,hn,wn,Qn,os,Yn,Ts,Co,Vs,cs,oo=He.length;for(ft=0;ft<oo;ft++){if(_i=He[ft],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_i.type]&&(cs=this.options.extensions.renderers[_i.type].call({parser:this},_i),cs!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_i.type))){pt+=cs||"";continue}switch(_i.type){case"space":continue;case"hr":{pt+=this.renderer.hr();continue}case"heading":{pt+=this.renderer.heading(this.parseInline(_i.tokens),_i.depth,sn(this.parseInline(_i.tokens,this.textRenderer)),this.slugger);continue}case"code":{pt+=this.renderer.code(_i.text,_i.lang,_i.escaped);continue}case"table":{for(gn="",dn="",vi=_i.header.length,oi=0;oi<vi;oi++)dn+=this.renderer.tablecell(this.parseInline(_i.header[oi].tokens),{header:!0,align:_i.align[oi]});for(gn+=this.renderer.tablerow(dn),Ri="",vi=_i.rows.length,oi=0;oi<vi;oi++){for(Ui=_i.rows[oi],dn="",Ii=Ui.length,Hi=0;Hi<Ii;Hi++)dn+=this.renderer.tablecell(this.parseInline(Ui[Hi].tokens),{header:!1,align:_i.align[Hi]});Ri+=this.renderer.tablerow(dn)}pt+=this.renderer.table(gn,Ri);continue}case"blockquote":{Ri=this.parse(_i.tokens),pt+=this.renderer.blockquote(Ri);continue}case"list":{for(hn=_i.ordered,wn=_i.start,Qn=_i.loose,vi=_i.items.length,Ri="",oi=0;oi<vi;oi++)Yn=_i.items[oi],Ts=Yn.checked,Co=Yn.task,os="",Yn.task&&(Vs=this.renderer.checkbox(Ts),Qn?Yn.tokens.length>0&&Yn.tokens[0].type==="paragraph"?(Yn.tokens[0].text=Vs+" "+Yn.tokens[0].text,Yn.tokens[0].tokens&&Yn.tokens[0].tokens.length>0&&Yn.tokens[0].tokens[0].type==="text"&&(Yn.tokens[0].tokens[0].text=Vs+" "+Yn.tokens[0].tokens[0].text)):Yn.tokens.unshift({type:"text",text:Vs}):os+=Vs),os+=this.parse(Yn.tokens,Qn),Ri+=this.renderer.listitem(os,Co,Ts);pt+=this.renderer.list(Ri,hn,wn);continue}case"html":{pt+=this.renderer.html(_i.text);continue}case"paragraph":{pt+=this.renderer.paragraph(this.parseInline(_i.tokens));continue}case"text":{for(Ri=_i.tokens?this.parseInline(_i.tokens):_i.text;ft+1<oo&&He[ft+1].type==="text";)_i=He[++ft],Ri+=`
`+(_i.tokens?this.parseInline(_i.tokens):_i.text);pt+=nt?this.renderer.paragraph(Ri):Ri;continue}default:{var to='Token with "'+_i.type+'" type was not found.';if(this.options.silent){console.error(to);return}else throw new Error(to)}}}return pt},ht.parseInline=function(He,nt){nt=nt||this.renderer;var pt="",ft,oi,Hi,vi=He.length;for(ft=0;ft<vi;ft++){if(oi=He[ft],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oi.type]&&(Hi=this.options.extensions.renderers[oi.type].call({parser:this},oi),Hi!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(oi.type))){pt+=Hi||"";continue}switch(oi.type){case"escape":{pt+=nt.text(oi.text);break}case"html":{pt+=nt.html(oi.text);break}case"link":{pt+=nt.link(oi.href,oi.title,this.parseInline(oi.tokens,nt));break}case"image":{pt+=nt.image(oi.href,oi.title,oi.text);break}case"strong":{pt+=nt.strong(this.parseInline(oi.tokens,nt));break}case"em":{pt+=nt.em(this.parseInline(oi.tokens,nt));break}case"codespan":{pt+=nt.codespan(oi.text);break}case"br":{pt+=nt.br();break}case"del":{pt+=nt.del(this.parseInline(oi.tokens,nt));break}case"text":{pt+=nt.text(oi.text);break}default:{var Ii='Token with "'+oi.type+'" type was not found.';if(this.options.silent){console.error(Ii);return}else throw new Error(Ii)}}}return pt},wt}(),It=at,xt=$e,Qe=lt,tt=Rn,Nt=zi,Tt=as,Yt=Mt.merge,ai=Mt.checkSanitizeDeprecation,Si=Mt.escape,qi=f.exports.getDefaults,ji=f.exports.changeDefaults,Zn=f.exports.defaults;function Vi(wt,ht,Et){if(typeof wt=="undefined"||wt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof wt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(wt)+", string expected");if(typeof ht=="function"&&(Et=ht,ht=null),ht=Yt({},Vi.defaults,ht||{}),ai(ht),Et){var He=ht.highlight,nt;try{nt=It.lex(wt,ht)}catch(Hi){return Et(Hi)}var pt=function(vi){var Ii;if(!vi)try{ht.walkTokens&&Vi.walkTokens(nt,ht.walkTokens),Ii=xt.parse(nt,ht)}catch(Ui){vi=Ui}return ht.highlight=He,vi?Et(vi):Et(null,Ii)};if(!He||He.length<3||(delete ht.highlight,!nt.length))return pt();var ft=0;Vi.walkTokens(nt,function(Hi){Hi.type==="code"&&(ft++,setTimeout(function(){He(Hi.text,Hi.lang,function(vi,Ii){if(vi)return pt(vi);Ii!=null&&Ii!==Hi.text&&(Hi.text=Ii,Hi.escaped=!0),ft--,ft===0&&pt()})},0))}),ft===0&&pt();return}try{var oi=It.lex(wt,ht);return ht.walkTokens&&Vi.walkTokens(oi,ht.walkTokens),xt.parse(oi,ht)}catch(Hi){if(Hi.message+=`
Please report this to https://github.com/markedjs/marked.`,ht.silent)return"<p>An error occurred:</p><pre>"+Si(Hi.message+"",!0)+"</pre>";throw Hi}}Vi.options=Vi.setOptions=function(wt){return Yt(Vi.defaults,wt),ji(Vi.defaults),Vi},Vi.getDefaults=qi,Vi.defaults=Zn,Vi.use=function(){for(var wt=this,ht=arguments.length,Et=new Array(ht),He=0;He<ht;He++)Et[He]=arguments[He];var nt=Yt.apply(void 0,[{}].concat(Et)),pt=Vi.defaults.extensions||{renderers:{},childTokens:{}},ft;Et.forEach(function(oi){if(oi.extensions&&(ft=!0,oi.extensions.forEach(function(vi){if(!vi.name)throw new Error("extension name required");if(vi.renderer){var Ii=pt.renderers?pt.renderers[vi.name]:null;Ii?pt.renderers[vi.name]=function(){for(var Ui=arguments.length,dn=new Array(Ui),gn=0;gn<Ui;gn++)dn[gn]=arguments[gn];var Ri=vi.renderer.apply(this,dn);return Ri===!1&&(Ri=Ii.apply(this,dn)),Ri}:pt.renderers[vi.name]=vi.renderer}if(vi.tokenizer){if(!vi.level||vi.level!=="block"&&vi.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");pt[vi.level]?pt[vi.level].unshift(vi.tokenizer):pt[vi.level]=[vi.tokenizer],vi.start&&(vi.level==="block"?pt.startBlock?pt.startBlock.push(vi.start):pt.startBlock=[vi.start]:vi.level==="inline"&&(pt.startInline?pt.startInline.push(vi.start):pt.startInline=[vi.start]))}vi.childTokens&&(pt.childTokens[vi.name]=vi.childTokens)})),oi.renderer&&function(){var vi=Vi.defaults.renderer||new tt,Ii=function(gn){var Ri=vi[gn];vi[gn]=function(){for(var _i=arguments.length,hn=new Array(_i),wn=0;wn<_i;wn++)hn[wn]=arguments[wn];var Qn=oi.renderer[gn].apply(vi,hn);return Qn===!1&&(Qn=Ri.apply(vi,hn)),Qn}};for(var Ui in oi.renderer)Ii(Ui);nt.renderer=vi}(),oi.tokenizer&&function(){var vi=Vi.defaults.tokenizer||new Qe,Ii=function(gn){var Ri=vi[gn];vi[gn]=function(){for(var _i=arguments.length,hn=new Array(_i),wn=0;wn<_i;wn++)hn[wn]=arguments[wn];var Qn=oi.tokenizer[gn].apply(vi,hn);return Qn===!1&&(Qn=Ri.apply(vi,hn)),Qn}};for(var Ui in oi.tokenizer)Ii(Ui);nt.tokenizer=vi}(),oi.walkTokens){var Hi=Vi.defaults.walkTokens;nt.walkTokens=function(vi){oi.walkTokens.call(wt,vi),Hi&&Hi(vi)}}ft&&(nt.extensions=pt),Vi.setOptions(nt)})},Vi.walkTokens=function(wt,ht){for(var Et=function(){var ft=nt.value;switch(ht(ft),ft.type){case"table":{for(var oi=x(ft.header),Hi;!(Hi=oi()).done;){var vi=Hi.value;Vi.walkTokens(vi.tokens,ht)}for(var Ii=x(ft.rows),Ui;!(Ui=Ii()).done;)for(var dn=Ui.value,gn=x(dn),Ri;!(Ri=gn()).done;){var _i=Ri.value;Vi.walkTokens(_i.tokens,ht)}break}case"list":{Vi.walkTokens(ft.items,ht);break}default:Vi.defaults.extensions&&Vi.defaults.extensions.childTokens&&Vi.defaults.extensions.childTokens[ft.type]?Vi.defaults.extensions.childTokens[ft.type].forEach(function(hn){Vi.walkTokens(ft[hn],ht)}):ft.tokens&&Vi.walkTokens(ft.tokens,ht)}},He=x(wt),nt;!(nt=He()).done;)Et()},Vi.parseInline=function(wt,ht){if(typeof wt=="undefined"||wt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof wt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(wt)+", string expected");ht=Yt({},Vi.defaults,ht||{}),ai(ht);try{var Et=It.lexInline(wt,ht);return ht.walkTokens&&Vi.walkTokens(Et,ht.walkTokens),xt.parseInline(Et,ht)}catch(He){if(He.message+=`
Please report this to https://github.com/markedjs/marked.`,ht.silent)return"<p>An error occurred:</p><pre>"+Si(He.message+"",!0)+"</pre>";throw He}},Vi.Parser=xt,Vi.parser=xt.parse,Vi.Renderer=tt,Vi.TextRenderer=Nt,Vi.Lexer=It,Vi.lexer=It.lex,Vi.Tokenizer=Qe,Vi.Slugger=Tt,Vi.parse=Vi;var Xi=Vi;return Xi})})();var O=null,Q=D.Parser,P=D.parser,L=D.Renderer,J=D.TextRenderer,R=D.Lexer,W=D.lexer,s=D.Tokenizer,T=D.Slugger,g=D.parse},23897:function(ti,Ge,c){"use strict";c.d(Ge,{Q:function(){return Q}});var D=c(53060),O=c(70666);function Q(L){let J=JSON.parse(L);return J=P(J),J}function P(L,J=0){if(!L||J>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return O.o.revive(L);case 2:return new RegExp(L.source,L.flags)}if(L instanceof D.KN||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let R=0;R<L.length;++R)L[R]=P(L[R],J+1);else for(const R in L)Object.hasOwnProperty.call(L,R)&&(L[R]=P(L[R],J+1))}return L}},81170:function(ti,Ge,c){"use strict";c.d(Ge,{G8:function(){return H},bS:function(){return E},sA:function(){return T},vW:function(){return J}});var D=c(14118),O=c(66663),Q=c(55336),P=c(95935),L=c(97295),J;(function(C){C.text="text/plain",C.binary="application/octet-stream",C.unknown="application/unknown",C.markdown="text/markdown",C.latex="text/latex"})(J||(J={}));let R=[],W=[],s=[];function T(C,x=!1){const f=g(C);R.push(f),f.userConfigured?s.push(f):W.push(f),x&&!f.userConfigured&&R.forEach(_=>{_.mime===f.mime||_.userConfigured||(f.extension&&_.extension===f.extension&&console.warn(`Overwriting extension <<${f.extension}>> to now point to mime <<${f.mime}>>`),f.filename&&_.filename===f.filename&&console.warn(`Overwriting filename <<${f.filename}>> to now point to mime <<${f.mime}>>`),f.filepattern&&_.filepattern===f.filepattern&&console.warn(`Overwriting filepattern <<${f.filepattern}>> to now point to mime <<${f.mime}>>`),f.firstline&&_.firstline===f.firstline&&console.warn(`Overwriting firstline <<${f.firstline}>> to now point to mime <<${f.mime}>>`))})}function g(C){return{id:C.id,mime:C.mime,filename:C.filename,extension:C.extension,filepattern:C.filepattern,firstline:C.firstline,userConfigured:C.userConfigured,filenameLowercase:C.filename?C.filename.toLowerCase():void 0,extensionLowercase:C.extension?C.extension.toLowerCase():void 0,filepatternLowercase:C.filepattern?(0,D.Qc)(C.filepattern.toLowerCase()):void 0,filepatternOnPath:C.filepattern?C.filepattern.indexOf(Q.KR.sep)>=0:!1}}function E(C){C?(R=R.filter(x=>!x.userConfigured),s=[]):(R=[],W=[],s=[])}function H(C,x){let f;if(C)switch(C.scheme){case O.lg.file:f=C.fsPath;break;case O.lg.data:f=P.Vb.parseMetaData(C).get(P.Vb.META_DATA_LABEL);break;default:f=C.path}if(!f)return[J.unknown];f=f.toLowerCase();const _=(0,Q.EZ)(f),S=r(f,_,s);if(S)return[S,J.text];const h=r(f,_,W);if(h)return[h,J.text];if(x){const y=N(x);if(y)return[y,J.text]}return[J.unknown]}function r(C,x,f){var _;let S=null,h=null,y=null;for(let v=f.length-1;v>=0;v--){const B=f[v];if(x===B.filenameLowercase){S=B;break}if(B.filepattern&&(!h||B.filepattern.length>h.filepattern.length)){const j=B.filepatternOnPath?C:x;!((_=B.filepatternLowercase)===null||_===void 0)&&_.call(B,j)&&(h=B)}B.extension&&(!y||B.extension.length>y.extension.length)&&x.endsWith(B.extensionLowercase)&&(y=B)}return S?S.mime:h?h.mime:y?y.mime:null}function N(C){if((0,L.uS)(C)&&(C=C.substr(1)),C.length>0)for(let x=R.length-1;x>=0;x--){const f=R[x];if(!f.firstline)continue;const _=C.match(f.firstline);if(_&&_.length>0)return f.mime}return null}},66663:function(ti,Ge,c){"use strict";c.d(Ge,{Gi:function(){return R},WX:function(){return L},lg:function(){return Q}});var D=c(1432),O=c(70666),Q;(function(W){W.inMemory="inmemory",W.vscode="vscode",W.internal="private",W.walkThrough="walkThrough",W.walkThroughSnippet="walkThroughSnippet",W.http="http",W.https="https",W.file="file",W.mailto="mailto",W.untitled="untitled",W.data="data",W.command="command",W.vscodeRemote="vscode-remote",W.vscodeRemoteResource="vscode-remote-resource",W.userData="vscode-userdata",W.vscodeCustomEditor="vscode-custom-editor",W.vscodeNotebook="vscode-notebook",W.vscodeNotebookCell="vscode-notebook-cell",W.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",W.vscodeNotebookCellOutput="vscode-notebook-cell-output",W.vscodeInteractive="vscode-interactive",W.vscodeInteractiveInput="vscode-interactive-input",W.vscodeSettings="vscode-settings",W.vscodeWorkspaceTrust="vscode-workspace-trust",W.vscodeTerminal="vscode-terminal",W.webviewPanel="webview-panel",W.vscodeWebview="vscode-webview",W.extension="extension",W.vscodeFileResource="vscode-file",W.tmp="tmp"})(Q||(Q={}));class P{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(s){this._preferredWebSchema=s}rewrite(s){if(this._delegate)return this._delegate(s);const T=s.authority;let g=this._hosts[T];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const E=this._ports[T],H=this._connectionTokens[T];let r=`path=${encodeURIComponent(s.path)}`;return typeof H=="string"&&(r+=`&tkn=${encodeURIComponent(H)}`),O.o.from({scheme:D.$L?this._preferredWebSchema:Q.vscodeRemoteResource,authority:`${g}:${E}`,path:"/vscode-remote-resource",query:r})}}const L=new P;class J{asBrowserUri(s,T){const g=this.toUri(s,T);return g.scheme===Q.vscodeRemote?L.rewrite(g):g.scheme===Q.file&&(D.tY||typeof D.li.importScripts=="function"&&D.li.origin===`${Q.vscodeFileResource}://${J.FALLBACK_AUTHORITY}`)?g.with({scheme:Q.vscodeFileResource,authority:g.authority||J.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(s,T){return O.o.isUri(s)?s:O.o.parse(T.toUrl(s))}}J.FALLBACK_AUTHORITY="vscode-app";const R=new J},59870:function(ti,Ge,c){"use strict";c.d(Ge,{u:function(){return D}});function D(Q,P,L){return Math.min(Math.max(Q,P),L)}class O{constructor(){this._n=1,this._val=0}update(P){return this._val=this._val+(P-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},36248:function(ti,Ge,c){"use strict";c.d(Ge,{CJ:function(){return s},I8:function(){return O},_A:function(){return Q},fS:function(){return W},jB:function(){return R},rs:function(){return L}});var D=c(98401);function O(T){if(!T||typeof T!="object"||T instanceof RegExp)return T;const g=Array.isArray(T)?[]:{};return Object.keys(T).forEach(E=>{T[E]&&typeof T[E]=="object"?g[E]=O(T[E]):g[E]=T[E]}),g}function Q(T){if(!T||typeof T!="object")return T;const g=[T];for(;g.length>0;){const E=g.shift();Object.freeze(E);for(const H in E)if(P.call(E,H)){const r=E[H];typeof r=="object"&&!Object.isFrozen(r)&&g.push(r)}}return T}const P=Object.prototype.hasOwnProperty;function L(T,g){return J(T,g,new Set)}function J(T,g,E){if((0,D.Jp)(T))return T;const H=g(T);if(typeof H!="undefined")return H;if((0,D.kJ)(T)){const r=[];for(const N of T)r.push(J(N,g,E));return r}if((0,D.Kn)(T)){if(E.has(T))throw new Error("Cannot clone recursive data-structure");E.add(T);const r={};for(let N in T)P.call(T,N)&&(r[N]=J(T[N],g,E));return E.delete(T),r}return T}function R(T,g,E=!0){return(0,D.Kn)(T)?((0,D.Kn)(g)&&Object.keys(g).forEach(H=>{H in T?E&&((0,D.Kn)(T[H])&&(0,D.Kn)(g[H])?R(T[H],g[H],E):T[H]=g[H]):T[H]=g[H]}),T):g}function W(T,g){if(T===g)return!0;if(T==null||g===null||g===void 0||typeof T!=typeof g||typeof T!="object"||Array.isArray(T)!==Array.isArray(g))return!1;let E,H;if(Array.isArray(T)){if(T.length!==g.length)return!1;for(E=0;E<T.length;E++)if(!W(T[E],g[E]))return!1}else{const r=[];for(H in T)r.push(H);r.sort();const N=[];for(H in g)N.push(H);if(N.sort(),!W(r,N))return!1;for(E=0;E<r.length;E++)if(!W(T[r[E]],g[r[E]]))return!1}return!0}function s(T,g,E){const H=g(T);return typeof H=="undefined"?E:H}},55336:function(ti,Ge,c){"use strict";c.d(Ge,{EZ:function(){return Ce},XX:function(){return _e},DZ:function(){return Ee},Fv:function(){return j},KR:function(){return B},Gf:function(){return ce},DB:function(){return te},ir:function(){return le},Ku:function(){return v}});var D=c(1432),O=c(34155);let Q;if(typeof D.li.vscode!="undefined"&&typeof D.li.vscode.process!="undefined"){const Y=D.li.vscode.process;Q={get platform(){return Y.platform},get arch(){return Y.arch},get env(){return Y.env},cwd(){return Y.cwd()},nextTick($){return(0,D.xS)($)}}}else typeof O!="undefined"?Q={get platform(){return O.platform},get arch(){return O.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||O.cwd()},nextTick(Y){return O.nextTick(Y)}}:Q={get platform(){return D.ED?"win32":D.dz?"darwin":"linux"},get arch(){},nextTick(Y){return(0,D.xS)(Y)},get env(){return{}},cwd(){return"/"}};const P=Q.cwd,L=Q.env,J=Q.platform,R=65,W=97,s=90,T=122,g=46,E=47,H=92,r=58,N=63;class C extends Error{constructor($,G,ee){let m;typeof G=="string"&&G.indexOf("not ")===0?(m="must not be",G=G.replace(/^not /,"")):m="must be";const w=$.indexOf(".")!==-1?"property":"argument";let F=`The "${$}" ${w} ${m} of type ${G}`;F+=`. Received type ${typeof ee}`,super(F),this.code="ERR_INVALID_ARG_TYPE"}}function x(Y,$){if(typeof Y!="string")throw new C($,"string",Y)}function f(Y){return Y===E||Y===H}function _(Y){return Y===E}function S(Y){return Y>=R&&Y<=s||Y>=W&&Y<=T}function h(Y,$,G,ee){let m="",w=0,F=-1,ie=0,pe=0;for(let ue=0;ue<=Y.length;++ue){if(ue<Y.length)pe=Y.charCodeAt(ue);else{if(ee(pe))break;pe=E}if(ee(pe)){if(!(F===ue-1||ie===1))if(ie===2){if(m.length<2||w!==2||m.charCodeAt(m.length-1)!==g||m.charCodeAt(m.length-2)!==g){if(m.length>2){const ke=m.lastIndexOf(G);ke===-1?(m="",w=0):(m=m.slice(0,ke),w=m.length-1-m.lastIndexOf(G)),F=ue,ie=0;continue}else if(m.length!==0){m="",w=0,F=ue,ie=0;continue}}$&&(m+=m.length>0?`${G}..`:"..",w=2)}else m.length>0?m+=`${G}${Y.slice(F+1,ue)}`:m=Y.slice(F+1,ue),w=ue-F-1;F=ue,ie=0}else pe===g&&ie!==-1?++ie:ie=-1}return m}function y(Y,$){if($===null||typeof $!="object")throw new C("pathObject","Object",$);const G=$.dir||$.root,ee=$.base||`${$.name||""}${$.ext||""}`;return G?G===$.root?`${G}${ee}`:`${G}${Y}${ee}`:ee}const v={resolve(...Y){let $="",G="",ee=!1;for(let m=Y.length-1;m>=-1;m--){let w;if(m>=0){if(w=Y[m],x(w,"path"),w.length===0)continue}else $.length===0?w=P():(w={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${$}`]||P(),(w===void 0||w.slice(0,2).toLowerCase()!==$.toLowerCase()&&w.charCodeAt(2)===H)&&(w=`${$}\\`));const F=w.length;let ie=0,pe="",ue=!1;const ke=w.charCodeAt(0);if(F===1)f(ke)&&(ie=1,ue=!0);else if(f(ke))if(ue=!0,f(w.charCodeAt(1))){let Te=2,rt=Te;for(;Te<F&&!f(w.charCodeAt(Te));)Te++;if(Te<F&&Te!==rt){const Rt=w.slice(rt,Te);for(rt=Te;Te<F&&f(w.charCodeAt(Te));)Te++;if(Te<F&&Te!==rt){for(rt=Te;Te<F&&!f(w.charCodeAt(Te));)Te++;(Te===F||Te!==rt)&&(pe=`\\\\${Rt}\\${w.slice(rt,Te)}`,ie=Te)}}}else ie=1;else S(ke)&&w.charCodeAt(1)===r&&(pe=w.slice(0,2),ie=2,F>2&&f(w.charCodeAt(2))&&(ue=!0,ie=3));if(pe.length>0)if($.length>0){if(pe.toLowerCase()!==$.toLowerCase())continue}else $=pe;if(ee){if($.length>0)break}else if(G=`${w.slice(ie)}\\${G}`,ee=ue,ue&&$.length>0)break}return G=h(G,!ee,"\\",f),ee?`${$}\\${G}`:`${$}${G}`||"."},normalize(Y){x(Y,"path");const $=Y.length;if($===0)return".";let G=0,ee,m=!1;const w=Y.charCodeAt(0);if($===1)return _(w)?"\\":Y;if(f(w))if(m=!0,f(Y.charCodeAt(1))){let ie=2,pe=ie;for(;ie<$&&!f(Y.charCodeAt(ie));)ie++;if(ie<$&&ie!==pe){const ue=Y.slice(pe,ie);for(pe=ie;ie<$&&f(Y.charCodeAt(ie));)ie++;if(ie<$&&ie!==pe){for(pe=ie;ie<$&&!f(Y.charCodeAt(ie));)ie++;if(ie===$)return`\\\\${ue}\\${Y.slice(pe)}\\`;ie!==pe&&(ee=`\\\\${ue}\\${Y.slice(pe,ie)}`,G=ie)}}}else G=1;else S(w)&&Y.charCodeAt(1)===r&&(ee=Y.slice(0,2),G=2,$>2&&f(Y.charCodeAt(2))&&(m=!0,G=3));let F=G<$?h(Y.slice(G),!m,"\\",f):"";return F.length===0&&!m&&(F="."),F.length>0&&f(Y.charCodeAt($-1))&&(F+="\\"),ee===void 0?m?`\\${F}`:F:m?`${ee}\\${F}`:`${ee}${F}`},isAbsolute(Y){x(Y,"path");const $=Y.length;if($===0)return!1;const G=Y.charCodeAt(0);return f(G)||$>2&&S(G)&&Y.charCodeAt(1)===r&&f(Y.charCodeAt(2))},join(...Y){if(Y.length===0)return".";let $,G;for(let w=0;w<Y.length;++w){const F=Y[w];x(F,"path"),F.length>0&&($===void 0?$=G=F:$+=`\\${F}`)}if($===void 0)return".";let ee=!0,m=0;if(typeof G=="string"&&f(G.charCodeAt(0))){++m;const w=G.length;w>1&&f(G.charCodeAt(1))&&(++m,w>2&&(f(G.charCodeAt(2))?++m:ee=!1))}if(ee){for(;m<$.length&&f($.charCodeAt(m));)m++;m>=2&&($=`\\${$.slice(m)}`)}return v.normalize($)},relative(Y,$){if(x(Y,"from"),x($,"to"),Y===$)return"";const G=v.resolve(Y),ee=v.resolve($);if(G===ee||(Y=G.toLowerCase(),$=ee.toLowerCase(),Y===$))return"";let m=0;for(;m<Y.length&&Y.charCodeAt(m)===H;)m++;let w=Y.length;for(;w-1>m&&Y.charCodeAt(w-1)===H;)w--;const F=w-m;let ie=0;for(;ie<$.length&&$.charCodeAt(ie)===H;)ie++;let pe=$.length;for(;pe-1>ie&&$.charCodeAt(pe-1)===H;)pe--;const ue=pe-ie,ke=F<ue?F:ue;let Te=-1,rt=0;for(;rt<ke;rt++){const mt=Y.charCodeAt(m+rt);if(mt!==$.charCodeAt(ie+rt))break;mt===H&&(Te=rt)}if(rt!==ke){if(Te===-1)return ee}else{if(ue>ke){if($.charCodeAt(ie+rt)===H)return ee.slice(ie+rt+1);if(rt===2)return ee.slice(ie+rt)}F>ke&&(Y.charCodeAt(m+rt)===H?Te=rt:rt===2&&(Te=3)),Te===-1&&(Te=0)}let Rt="";for(rt=m+Te+1;rt<=w;++rt)(rt===w||Y.charCodeAt(rt)===H)&&(Rt+=Rt.length===0?"..":"\\..");return ie+=Te,Rt.length>0?`${Rt}${ee.slice(ie,pe)}`:(ee.charCodeAt(ie)===H&&++ie,ee.slice(ie,pe))},toNamespacedPath(Y){if(typeof Y!="string")return Y;if(Y.length===0)return"";const $=v.resolve(Y);if($.length<=2)return Y;if($.charCodeAt(0)===H){if($.charCodeAt(1)===H){const G=$.charCodeAt(2);if(G!==N&&G!==g)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(S($.charCodeAt(0))&&$.charCodeAt(1)===r&&$.charCodeAt(2)===H)return`\\\\?\\${$}`;return Y},dirname(Y){x(Y,"path");const $=Y.length;if($===0)return".";let G=-1,ee=0;const m=Y.charCodeAt(0);if($===1)return f(m)?Y:".";if(f(m)){if(G=ee=1,f(Y.charCodeAt(1))){let ie=2,pe=ie;for(;ie<$&&!f(Y.charCodeAt(ie));)ie++;if(ie<$&&ie!==pe){for(pe=ie;ie<$&&f(Y.charCodeAt(ie));)ie++;if(ie<$&&ie!==pe){for(pe=ie;ie<$&&!f(Y.charCodeAt(ie));)ie++;if(ie===$)return Y;ie!==pe&&(G=ee=ie+1)}}}}else S(m)&&Y.charCodeAt(1)===r&&(G=$>2&&f(Y.charCodeAt(2))?3:2,ee=G);let w=-1,F=!0;for(let ie=$-1;ie>=ee;--ie)if(f(Y.charCodeAt(ie))){if(!F){w=ie;break}}else F=!1;if(w===-1){if(G===-1)return".";w=G}return Y.slice(0,w)},basename(Y,$){$!==void 0&&x($,"ext"),x(Y,"path");let G=0,ee=-1,m=!0,w;if(Y.length>=2&&S(Y.charCodeAt(0))&&Y.charCodeAt(1)===r&&(G=2),$!==void 0&&$.length>0&&$.length<=Y.length){if($===Y)return"";let F=$.length-1,ie=-1;for(w=Y.length-1;w>=G;--w){const pe=Y.charCodeAt(w);if(f(pe)){if(!m){G=w+1;break}}else ie===-1&&(m=!1,ie=w+1),F>=0&&(pe===$.charCodeAt(F)?--F===-1&&(ee=w):(F=-1,ee=ie))}return G===ee?ee=ie:ee===-1&&(ee=Y.length),Y.slice(G,ee)}for(w=Y.length-1;w>=G;--w)if(f(Y.charCodeAt(w))){if(!m){G=w+1;break}}else ee===-1&&(m=!1,ee=w+1);return ee===-1?"":Y.slice(G,ee)},extname(Y){x(Y,"path");let $=0,G=-1,ee=0,m=-1,w=!0,F=0;Y.length>=2&&Y.charCodeAt(1)===r&&S(Y.charCodeAt(0))&&($=ee=2);for(let ie=Y.length-1;ie>=$;--ie){const pe=Y.charCodeAt(ie);if(f(pe)){if(!w){ee=ie+1;break}continue}m===-1&&(w=!1,m=ie+1),pe===g?G===-1?G=ie:F!==1&&(F=1):G!==-1&&(F=-1)}return G===-1||m===-1||F===0||F===1&&G===m-1&&G===ee+1?"":Y.slice(G,m)},format:y.bind(null,"\\"),parse(Y){x(Y,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(Y.length===0)return $;const G=Y.length;let ee=0,m=Y.charCodeAt(0);if(G===1)return f(m)?($.root=$.dir=Y,$):($.base=$.name=Y,$);if(f(m)){if(ee=1,f(Y.charCodeAt(1))){let Te=2,rt=Te;for(;Te<G&&!f(Y.charCodeAt(Te));)Te++;if(Te<G&&Te!==rt){for(rt=Te;Te<G&&f(Y.charCodeAt(Te));)Te++;if(Te<G&&Te!==rt){for(rt=Te;Te<G&&!f(Y.charCodeAt(Te));)Te++;Te===G?ee=Te:Te!==rt&&(ee=Te+1)}}}}else if(S(m)&&Y.charCodeAt(1)===r){if(G<=2)return $.root=$.dir=Y,$;if(ee=2,f(Y.charCodeAt(2))){if(G===3)return $.root=$.dir=Y,$;ee=3}}ee>0&&($.root=Y.slice(0,ee));let w=-1,F=ee,ie=-1,pe=!0,ue=Y.length-1,ke=0;for(;ue>=ee;--ue){if(m=Y.charCodeAt(ue),f(m)){if(!pe){F=ue+1;break}continue}ie===-1&&(pe=!1,ie=ue+1),m===g?w===-1?w=ue:ke!==1&&(ke=1):w!==-1&&(ke=-1)}return ie!==-1&&(w===-1||ke===0||ke===1&&w===ie-1&&w===F+1?$.base=$.name=Y.slice(F,ie):($.name=Y.slice(F,w),$.base=Y.slice(F,ie),$.ext=Y.slice(w,ie))),F>0&&F!==ee?$.dir=Y.slice(0,F-1):$.dir=$.root,$},sep:"\\",delimiter:";",win32:null,posix:null},B={resolve(...Y){let $="",G=!1;for(let ee=Y.length-1;ee>=-1&&!G;ee--){const m=ee>=0?Y[ee]:P();x(m,"path"),m.length!==0&&($=`${m}/${$}`,G=m.charCodeAt(0)===E)}return $=h($,!G,"/",_),G?`/${$}`:$.length>0?$:"."},normalize(Y){if(x(Y,"path"),Y.length===0)return".";const $=Y.charCodeAt(0)===E,G=Y.charCodeAt(Y.length-1)===E;return Y=h(Y,!$,"/",_),Y.length===0?$?"/":G?"./":".":(G&&(Y+="/"),$?`/${Y}`:Y)},isAbsolute(Y){return x(Y,"path"),Y.length>0&&Y.charCodeAt(0)===E},join(...Y){if(Y.length===0)return".";let $;for(let G=0;G<Y.length;++G){const ee=Y[G];x(ee,"path"),ee.length>0&&($===void 0?$=ee:$+=`/${ee}`)}return $===void 0?".":B.normalize($)},relative(Y,$){if(x(Y,"from"),x($,"to"),Y===$||(Y=B.resolve(Y),$=B.resolve($),Y===$))return"";const G=1,ee=Y.length,m=ee-G,w=1,F=$.length-w,ie=m<F?m:F;let pe=-1,ue=0;for(;ue<ie;ue++){const Te=Y.charCodeAt(G+ue);if(Te!==$.charCodeAt(w+ue))break;Te===E&&(pe=ue)}if(ue===ie)if(F>ie){if($.charCodeAt(w+ue)===E)return $.slice(w+ue+1);if(ue===0)return $.slice(w+ue)}else m>ie&&(Y.charCodeAt(G+ue)===E?pe=ue:ue===0&&(pe=0));let ke="";for(ue=G+pe+1;ue<=ee;++ue)(ue===ee||Y.charCodeAt(ue)===E)&&(ke+=ke.length===0?"..":"/..");return`${ke}${$.slice(w+pe)}`},toNamespacedPath(Y){return Y},dirname(Y){if(x(Y,"path"),Y.length===0)return".";const $=Y.charCodeAt(0)===E;let G=-1,ee=!0;for(let m=Y.length-1;m>=1;--m)if(Y.charCodeAt(m)===E){if(!ee){G=m;break}}else ee=!1;return G===-1?$?"/":".":$&&G===1?"//":Y.slice(0,G)},basename(Y,$){$!==void 0&&x($,"ext"),x(Y,"path");let G=0,ee=-1,m=!0,w;if($!==void 0&&$.length>0&&$.length<=Y.length){if($===Y)return"";let F=$.length-1,ie=-1;for(w=Y.length-1;w>=0;--w){const pe=Y.charCodeAt(w);if(pe===E){if(!m){G=w+1;break}}else ie===-1&&(m=!1,ie=w+1),F>=0&&(pe===$.charCodeAt(F)?--F===-1&&(ee=w):(F=-1,ee=ie))}return G===ee?ee=ie:ee===-1&&(ee=Y.length),Y.slice(G,ee)}for(w=Y.length-1;w>=0;--w)if(Y.charCodeAt(w)===E){if(!m){G=w+1;break}}else ee===-1&&(m=!1,ee=w+1);return ee===-1?"":Y.slice(G,ee)},extname(Y){x(Y,"path");let $=-1,G=0,ee=-1,m=!0,w=0;for(let F=Y.length-1;F>=0;--F){const ie=Y.charCodeAt(F);if(ie===E){if(!m){G=F+1;break}continue}ee===-1&&(m=!1,ee=F+1),ie===g?$===-1?$=F:w!==1&&(w=1):$!==-1&&(w=-1)}return $===-1||ee===-1||w===0||w===1&&$===ee-1&&$===G+1?"":Y.slice($,ee)},format:y.bind(null,"/"),parse(Y){x(Y,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(Y.length===0)return $;const G=Y.charCodeAt(0)===E;let ee;G?($.root="/",ee=1):ee=0;let m=-1,w=0,F=-1,ie=!0,pe=Y.length-1,ue=0;for(;pe>=ee;--pe){const ke=Y.charCodeAt(pe);if(ke===E){if(!ie){w=pe+1;break}continue}F===-1&&(ie=!1,F=pe+1),ke===g?m===-1?m=pe:ue!==1&&(ue=1):m!==-1&&(ue=-1)}if(F!==-1){const ke=w===0&&G?1:w;m===-1||ue===0||ue===1&&m===F-1&&m===w+1?$.base=$.name=Y.slice(ke,F):($.name=Y.slice(ke,m),$.base=Y.slice(ke,F),$.ext=Y.slice(m,F))}return w>0?$.dir=Y.slice(0,w-1):G&&($.dir="/"),$},sep:"/",delimiter:":",win32:null,posix:null};B.win32=v.win32=v,B.posix=v.posix=B;const j=J==="win32"?v.normalize:B.normalize,te=J==="win32"?v.resolve:B.resolve,ce=J==="win32"?v.relative:B.relative,_e=J==="win32"?v.dirname:B.dirname,Ce=J==="win32"?v.basename:B.basename,Ee=J==="win32"?v.extname:B.extname,le=J==="win32"?v.sep:B.sep},1432:function(ti,Ge,c){"use strict";c.d(Ge,{$L:function(){return v},ED:function(){return _},IJ:function(){return h},OS:function(){return ce},WE:function(){return j},dz:function(){return S},gn:function(){return B},li:function(){return N},r:function(){return Ee},tY:function(){return y},xS:function(){return te}});var D=c(34155),O;const Q="en";let P=!1,L=!1,J=!1,R=!1,W=!1,s=!1,T=!1,g,E=null,H=null,r;const N=typeof self=="object"?self:typeof c.g=="object"?c.g:{};let C;typeof N.vscode!="undefined"&&typeof N.vscode.process!="undefined"?C=N.vscode.process:typeof D!="undefined"&&(C=D);const x=typeof((O=C==null?void 0:C.versions)===null||O===void 0?void 0:O.electron)=="string"&&C.type==="renderer";if(typeof navigator=="object"&&!x)r=navigator.userAgent,P=r.indexOf("Windows")>=0,L=r.indexOf("Macintosh")>=0,T=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,J=r.indexOf("Linux")>=0,s=!0,g=navigator.language,E=g;else if(typeof C=="object"){P=C.platform==="win32",L=C.platform==="darwin",J=C.platform==="linux",R=J&&!!C.env.SNAP&&!!C.env.SNAP_REVISION,g=Q,E=Q;const le=C.env.VSCODE_NLS_CONFIG;if(le)try{const Y=JSON.parse(le),$=Y.availableLanguages["*"];g=Y.locale,E=$||Q,H=Y._translationsConfigFile}catch(Y){}W=!0}else console.error("Unable to resolve platform.");let f=0;L?f=1:P?f=3:J&&(f=2);const _=P,S=L,h=J,y=W,v=s,B=T,j=r,te=function(){if(N.setImmediate)return N.setImmediate.bind(N);if(typeof N.postMessage=="function"&&!N.importScripts){let $=[];N.addEventListener("message",ee=>{if(ee.data&&ee.data.vscodeSetImmediateId)for(let m=0,w=$.length;m<w;m++){const F=$[m];if(F.id===ee.data.vscodeSetImmediateId){$.splice(m,1),F.callback();return}}});let G=0;return ee=>{const m=++G;$.push({id:m,callback:ee}),N.postMessage({vscodeSetImmediateId:m},"*")}}if(typeof(C==null?void 0:C.nextTick)=="function")return C.nextTick.bind(C);const Y=Promise.resolve();return $=>Y.then($)}(),ce=L||T?2:P?1:3;let _e=!0,Ce=!1;function Ee(){if(!Ce){Ce=!0;const le=new Uint8Array(2);le[0]=1,le[1]=2,_e=new Uint16Array(le.buffer)[0]===512+1}return _e}},61134:function(ti,Ge,c){"use strict";c.d(Ge,{e:function(){return D}});var D;(function(O){function Q(R,W){if(R.start>=W.end||W.start>=R.end)return{start:0,end:0};const s=Math.max(R.start,W.start),T=Math.min(R.end,W.end);return T-s<=0?{start:0,end:0}:{start:s,end:T}}O.intersect=Q;function P(R){return R.end-R.start<=0}O.isEmpty=P;function L(R,W){return!P(Q(R,W))}O.intersects=L;function J(R,W){const s=[],T={start:R.start,end:Math.min(W.start,R.end)},g={start:Math.max(W.end,R.start),end:R.end};return P(T)||s.push(T),P(g)||s.push(g),s}O.relativeComplement=J})(D||(D={}))},95935:function(ti,Ge,c){"use strict";c.d(Ge,{AH:function(){return r},EZ:function(){return g},Hx:function(){return T},SF:function(){return W},Vb:function(){return C},XX:function(){return E},Xy:function(){return s},i3:function(){return N}});var D=c(15527),O=c(66663),Q=c(55336),P=c(97295),L=c(70666);function J(x){return(0,L.q)(x,!0)}class R{constructor(f){this._ignorePathCasing=f}compare(f,_,S=!1){return f===_?0:(0,P.qu)(this.getComparisonKey(f,S),this.getComparisonKey(_,S))}isEqual(f,_,S=!1){return f===_?!0:!f||!_?!1:this.getComparisonKey(f,S)===this.getComparisonKey(_,S)}getComparisonKey(f,_=!1){return f.with({path:this._ignorePathCasing(f)?f.path.toLowerCase():void 0,fragment:_?null:void 0}).toString()}joinPath(f,..._){return L.o.joinPath(f,..._)}basenameOrAuthority(f){return g(f)||f.authority}basename(f){return Q.KR.basename(f.path)}dirname(f){if(f.path.length===0)return f;let _;return f.scheme===O.lg.file?_=L.o.file(Q.XX(J(f))).path:(_=Q.KR.dirname(f.path),f.authority&&_.length&&_.charCodeAt(0)!==47&&(console.error(`dirname("${f.toString})) resulted in a relative path`),_="/")),f.with({path:_})}normalizePath(f){if(!f.path.length)return f;let _;return f.scheme===O.lg.file?_=L.o.file(Q.Fv(J(f))).path:_=Q.KR.normalize(f.path),f.with({path:_})}resolvePath(f,_){if(f.scheme===O.lg.file){const S=L.o.file(Q.DB(J(f),_));return f.with({authority:S.authority,path:S.path})}return _=D.fn(_),f.with({path:Q.KR.resolve(f.path,_)})}}const W=new R(()=>!1),s=W.isEqual.bind(W),T=W.basenameOrAuthority.bind(W),g=W.basename.bind(W),E=W.dirname.bind(W),H=W.joinPath.bind(W),r=W.normalizePath.bind(W),N=W.resolvePath.bind(W);var C;(function(x){x.META_DATA_LABEL="label",x.META_DATA_DESCRIPTION="description",x.META_DATA_SIZE="size",x.META_DATA_MIME="mime";function f(_){const S=new Map;_.path.substring(_.path.indexOf(";")+1,_.path.lastIndexOf(";")).split(";").forEach(v=>{const[B,j]=v.split(":");B&&j&&S.set(B,j)});const y=_.path.substring(0,_.path.indexOf(";"));return y&&S.set(x.META_DATA_MIME,y),S}x.parseMetaData=f})(C||(C={}))},76633:function(ti,Ge,c){"use strict";c.d(Ge,{Rm:function(){return P}});var D=c(4669),O=c(5976);class Q{constructor(E,H,r,N,C,x){this._scrollStateBrand=void 0,E=E|0,H=H|0,r=r|0,N=N|0,C=C|0,x=x|0,this.rawScrollLeft=r,this.rawScrollTop=x,E<0&&(E=0),r+E>H&&(r=H-E),r<0&&(r=0),N<0&&(N=0),x+N>C&&(x=C-N),x<0&&(x=0),this.width=E,this.scrollWidth=H,this.scrollLeft=r,this.height=N,this.scrollHeight=C,this.scrollTop=x}equals(E){return this.rawScrollLeft===E.rawScrollLeft&&this.rawScrollTop===E.rawScrollTop&&this.width===E.width&&this.scrollWidth===E.scrollWidth&&this.scrollLeft===E.scrollLeft&&this.height===E.height&&this.scrollHeight===E.scrollHeight&&this.scrollTop===E.scrollTop}withScrollDimensions(E,H){return new Q(typeof E.width!="undefined"?E.width:this.width,typeof E.scrollWidth!="undefined"?E.scrollWidth:this.scrollWidth,H?this.rawScrollLeft:this.scrollLeft,typeof E.height!="undefined"?E.height:this.height,typeof E.scrollHeight!="undefined"?E.scrollHeight:this.scrollHeight,H?this.rawScrollTop:this.scrollTop)}withScrollPosition(E){return new Q(this.width,this.scrollWidth,typeof E.scrollLeft!="undefined"?E.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof E.scrollTop!="undefined"?E.scrollTop:this.rawScrollTop)}createScrollEvent(E,H){const r=this.width!==E.width,N=this.scrollWidth!==E.scrollWidth,C=this.scrollLeft!==E.scrollLeft,x=this.height!==E.height,f=this.scrollHeight!==E.scrollHeight,_=this.scrollTop!==E.scrollTop;return{inSmoothScrolling:H,oldWidth:E.width,oldScrollWidth:E.scrollWidth,oldScrollLeft:E.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:E.height,oldScrollHeight:E.scrollHeight,oldScrollTop:E.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:N,scrollLeftChanged:C,heightChanged:x,scrollHeightChanged:f,scrollTopChanged:_}}}class P extends O.JT{constructor(E,H){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new D.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=E,this._scheduleAtNextAnimationFrame=H,this._state=new Q(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(E){this._smoothScrollDuration=E}validateScrollPosition(E){return this._state.withScrollPosition(E)}getScrollDimensions(){return this._state}setScrollDimensions(E,H){const r=this._state.withScrollDimensions(E,H);this._setState(r,!!this._smoothScrolling),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(E){const H=this._state.withScrollPosition(E);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(H,!1)}setScrollPositionSmooth(E,H){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(E);if(this._smoothScrolling){E={scrollLeft:typeof E.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:E.scrollLeft,scrollTop:typeof E.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:E.scrollTop};const r=this._state.withScrollPosition(E);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let N;H?N=new W(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):N=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=N}else{const r=this._state.withScrollPosition(E);this._smoothScrolling=W.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const E=this._smoothScrolling.tick(),H=this._state.withScrollPosition(E);if(this._setState(H,!0),!!this._smoothScrolling){if(E.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(E,H){const r=this._state;r.equals(E)||(this._state=E,this._onScroll.fire(this._state.createScrollEvent(r,H)))}}class L{constructor(E,H,r){this.scrollLeft=E,this.scrollTop=H,this.isDone=r}}function J(g,E){const H=E-g;return function(r){return g+H*T(r)}}function R(g,E,H){return function(r){return r<H?g(r/H):E((r-H)/(1-H))}}class W{constructor(E,H,r,N){this.from=E,this.to=H,this.duration=N,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(E,H,r){if(Math.abs(E-H)>2.5*r){let C,x;return E<H?(C=E+.75*r,x=H-.75*r):(C=E-.75*r,x=H+.75*r),R(J(E,C),J(x,H),.33)}return J(E,H)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(E){this.to=E.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(E){const H=(E-this.startTime)/this.duration;if(H<1){const r=this.scrollLeft(H),N=this.scrollTop(H);return new L(r,N,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(E,H,r){return W.start(E,H,r)}static start(E,H,r){r=r+10;const N=Date.now()-10;return new W(E,H,N,r)}}function s(g){return Math.pow(g,3)}function T(g){return 1-s(1-g)}},14603:function(ti,Ge,c){"use strict";var D=c(97295),O;(function(Q){Q[Q.Ignore=0]="Ignore",Q[Q.Info=1]="Info",Q[Q.Warning=2]="Warning",Q[Q.Error=3]="Error"})(O||(O={})),function(Q){const P="error",L="warning",J="warn",R="info",W="ignore";function s(g){return g?D.qq(P,g)?Q.Error:D.qq(L,g)||D.qq(J,g)?Q.Warning:D.qq(R,g)?Q.Info:Q.Ignore:Q.Ignore}Q.fromValue=s;function T(g){switch(g){case Q.Error:return P;case Q.Warning:return L;case Q.Info:return R;default:return W}}Q.toString=T}(O||(O={})),Ge.Z=O},84013:function(ti,Ge,c){"use strict";c.d(Ge,{G:function(){return Q}});var D=c(1432);const O=D.li.performance&&typeof D.li.performance.now=="function";class Q{constructor(L){this._highResolution=O&&L,this._startTime=this._now(),this._stopTime=-1}static create(L=!0){return new Q(L)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?D.li.performance.now():Date.now()}}},97295:function(ti,Ge,c){"use strict";c.d(Ge,{$i:function(){return pe},C8:function(){return Rt},GF:function(){return g},HO:function(){return G},IO:function(){return E},K7:function(){return rt},Kw:function(){return it},LC:function(){return N},Mh:function(){return te},P1:function(){return ce},PJ:function(){return Je},Qe:function(){return ue},RP:function(){return F},S6:function(){return Ae},TT:function(){return _},Ut:function(){return m},V8:function(){return C},WU:function(){return Q},YK:function(){return Ce},YU:function(){return P},ZG:function(){return _e},ZH:function(){return le},ab:function(){return ke},c1:function(){return mt},df:function(){return v},ec:function(){return L},fi:function(){return ge},j3:function(){return R},j_:function(){return h},m5:function(){return D},mK:function(){return y},mr:function(){return H},oH:function(){return dt},oL:function(){return W},ok:function(){return j},ow:function(){return x},qq:function(){return B},qu:function(){return f},rL:function(){return Ee},uS:function(){return Mt},un:function(){return s},uq:function(){return r},vH:function(){return $},xe:function(){return Te},zY:function(){return S}});function D(ye){return!ye||typeof ye!="string"?!0:ye.trim().length===0}const O=/{(\d+)}/g;function Q(ye,...Xe){return Xe.length===0?ye:ye.replace(O,function(st,Pt){const qt=parseInt(Pt,10);return isNaN(qt)||qt<0||qt>=Xe.length?st:Xe[qt]})}function P(ye){return ye.replace(/[<>&]/g,function(Xe){switch(Xe){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Xe}})}function L(ye){return ye.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function J(ye,Xe=" "){const st=R(ye,Xe);return W(st,Xe)}function R(ye,Xe){if(!ye||!Xe)return ye;const st=Xe.length;if(st===0||ye.length===0)return ye;let Pt=0;for(;ye.indexOf(Xe,Pt)===Pt;)Pt=Pt+st;return ye.substring(Pt)}function W(ye,Xe){if(!ye||!Xe)return ye;const st=Xe.length,Pt=ye.length;if(st===0||Pt===0)return ye;let qt=Pt,Ci=-1;for(;Ci=ye.lastIndexOf(Xe,qt-1),!(Ci===-1||Ci+st!==qt);){if(Ci===0)return"";qt=Ci}return ye.substring(0,qt)}function s(ye){return ye.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function T(ye){return ye.replace(/\*/g,"")}function g(ye,Xe,st={}){if(!ye)throw new Error("Cannot create regex from empty string");Xe||(ye=L(ye)),st.wholeWord&&(/\B/.test(ye.charAt(0))||(ye="\\b"+ye),/\B/.test(ye.charAt(ye.length-1))||(ye=ye+"\\b"));let Pt="";return st.global&&(Pt+="g"),st.matchCase||(Pt+="i"),st.multiline&&(Pt+="m"),st.unicode&&(Pt+="u"),new RegExp(ye,Pt)}function E(ye){return ye.source==="^"||ye.source==="^$"||ye.source==="$"||ye.source==="^\\s*$"?!1:!!(ye.exec("")&&ye.lastIndex===0)}function H(ye){return(ye.global?"g":"")+(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")}function r(ye){return ye.split(/\r\n|\r|\n/)}function N(ye){for(let Xe=0,st=ye.length;Xe<st;Xe++){const Pt=ye.charCodeAt(Xe);if(Pt!==32&&Pt!==9)return Xe}return-1}function C(ye,Xe=0,st=ye.length){for(let Pt=Xe;Pt<st;Pt++){const qt=ye.charCodeAt(Pt);if(qt!==32&&qt!==9)return ye.substring(Xe,Pt)}return ye.substring(Xe,st)}function x(ye,Xe=ye.length-1){for(let st=Xe;st>=0;st--){const Pt=ye.charCodeAt(st);if(Pt!==32&&Pt!==9)return st}return-1}function f(ye,Xe){return ye<Xe?-1:ye>Xe?1:0}function _(ye,Xe,st=0,Pt=ye.length,qt=0,Ci=Xe.length){for(;st<Pt&&qt<Ci;st++,qt++){let Qi=ye.charCodeAt(st),ci=Xe.charCodeAt(qt);if(Qi<ci)return-1;if(Qi>ci)return 1}const ii=Pt-st,At=Ci-qt;return ii<At?-1:ii>At?1:0}function S(ye,Xe){return h(ye,Xe,0,ye.length,0,Xe.length)}function h(ye,Xe,st=0,Pt=ye.length,qt=0,Ci=Xe.length){for(;st<Pt&&qt<Ci;st++,qt++){let Qi=ye.charCodeAt(st),ci=Xe.charCodeAt(qt);if(Qi===ci)continue;if(Qi>=128||ci>=128)return _(ye.toLowerCase(),Xe.toLowerCase(),st,Pt,qt,Ci);y(Qi)&&(Qi-=32),y(ci)&&(ci-=32);const je=Qi-ci;if(je!==0)return je}const ii=Pt-st,At=Ci-qt;return ii<At?-1:ii>At?1:0}function y(ye){return ye>=97&&ye<=122}function v(ye){return ye>=65&&ye<=90}function B(ye,Xe){return ye.length===Xe.length&&h(ye,Xe)===0}function j(ye,Xe){const st=Xe.length;return Xe.length>ye.length?!1:h(ye,Xe,0,st)===0}function te(ye,Xe){let st,Pt=Math.min(ye.length,Xe.length);for(st=0;st<Pt;st++)if(ye.charCodeAt(st)!==Xe.charCodeAt(st))return st;return Pt}function ce(ye,Xe){let st,Pt=Math.min(ye.length,Xe.length);const qt=ye.length-1,Ci=Xe.length-1;for(st=0;st<Pt;st++)if(ye.charCodeAt(qt-st)!==Xe.charCodeAt(Ci-st))return st;return Pt}function _e(ye){return 55296<=ye&&ye<=56319}function Ce(ye){return 56320<=ye&&ye<=57343}function Ee(ye,Xe){return(ye-55296<<10)+(Xe-56320)+65536}function le(ye,Xe,st){const Pt=ye.charCodeAt(st);if(_e(Pt)&&st+1<Xe){const qt=ye.charCodeAt(st+1);if(Ce(qt))return Ee(Pt,qt)}return Pt}function Y(ye,Xe){const st=ye.charCodeAt(Xe-1);if(Ce(st)&&Xe>1){const Pt=ye.charCodeAt(Xe-2);if(_e(Pt))return Ee(Pt,st)}return st}function $(ye,Xe){const st=Re.getInstance(),Pt=Xe,qt=ye.length,Ci=le(ye,qt,Xe);Xe+=Ci>=65536?2:1;let ii=st.getGraphemeBreakType(Ci);for(;Xe<qt;){const At=le(ye,qt,Xe),Qi=st.getGraphemeBreakType(At);if(ge(ii,Qi))break;Xe+=At>=65536?2:1,ii=Qi}return Xe-Pt}function G(ye,Xe){const st=Re.getInstance(),Pt=Xe,qt=Y(ye,Xe);Xe-=qt>=65536?2:1;let Ci=st.getGraphemeBreakType(qt);for(;Xe>0;){const ii=Y(ye,Xe),At=st.getGraphemeBreakType(ii);if(ge(At,Ci))break;Xe-=ii>=65536?2:1,Ci=At}return Pt-Xe}const ee=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function m(ye){return ee.test(ye)}const w=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function F(ye){return w.test(ye)}const ie=/^[\t\n\r\x20-\x7E]*$/;function pe(ye){return ie.test(ye)}const ue=/[\u2028\u2029]/;function ke(ye){return ue.test(ye)}function Te(ye){for(let Xe=0,st=ye.length;Xe<st;Xe++)if(rt(ye.charCodeAt(Xe)))return!0;return!1}function rt(ye){return ye=+ye,ye>=11904&&ye<=55215||ye>=63744&&ye<=64255||ye>=65281&&ye<=65374}function Rt(ye){return ye>=127462&&ye<=127487||ye===8986||ye===8987||ye===9200||ye===9203||ye>=9728&&ye<=10175||ye===11088||ye===11093||ye>=127744&&ye<=128591||ye>=128640&&ye<=128764||ye>=128992&&ye<=129003||ye>=129280&&ye<=129535||ye>=129648&&ye<=129750}const mt=String.fromCharCode(65279);function Mt(ye){return!!(ye&&ye.length>0&&ye.charCodeAt(0)===65279)}function it(ye,Xe=!1){return ye?(Xe&&(ye=ye.replace(/\\./g,"")),ye.toLowerCase()!==ye):!1}function Je(ye){return ye=ye%(2*26),ye<26?String.fromCharCode(97+ye):String.fromCharCode(65+ye-26)}function Ae(ye){return Re.getInstance().getGraphemeBreakType(ye)}function ge(ye,Xe){return ye===0?Xe!==5&&Xe!==7:ye===2&&Xe===3?!1:ye===4||ye===2||ye===3||Xe===4||Xe===2||Xe===3?!0:!(ye===8&&(Xe===8||Xe===9||Xe===11||Xe===12)||(ye===11||ye===9)&&(Xe===9||Xe===10)||(ye===12||ye===10)&&Xe===10||Xe===5||Xe===13||Xe===7||ye===1||ye===13&&Xe===14||ye===6&&Xe===6)}class Re{constructor(){this._data=ot()}static getInstance(){return Re._INSTANCE||(Re._INSTANCE=new Re),Re._INSTANCE}getGraphemeBreakType(Xe){if(Xe<32)return Xe===10?3:Xe===13?2:4;if(Xe<127)return 0;const st=this._data,Pt=st.length/3;let qt=1;for(;qt<=Pt;)if(Xe<st[3*qt])qt=2*qt;else if(Xe>st[3*qt+1])qt=2*qt+1;else return st[3*qt+2];return 0}}Re._INSTANCE=null;function ot(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function dt(ye,Xe){if(ye===0)return 0;const st=lt(ye,Xe);if(st!==void 0)return st;const Pt=Y(Xe,ye);return ye-=Ie(Pt),ye}function lt(ye,Xe){let st=Y(Xe,ye);for(ye-=Ie(st);Pe(st)||st===65039||st===8419;){if(ye===0)return;st=Y(Xe,ye),ye-=Ie(st)}if(Rt(st)){if(ye>=0){const Pt=Y(Xe,ye);Pt===8205&&(ye-=Ie(Pt))}return ye}}function Ie(ye){return ye>=65536?2:1}function Pe(ye){return 127995<=ye&&ye<=127999}},98401:function(ti,Ge,c){"use strict";c.d(Ge,{$E:function(){return N},$K:function(){return R},D8:function(){return E},HD:function(){return O},IU:function(){return C},Jp:function(){return W},Kn:function(){return Q},f6:function(){return x},hj:function(){return P},jn:function(){return L},kJ:function(){return D},mf:function(){return g},o8:function(){return J},p_:function(){return s},vE:function(){return f}});function D(_){return Array.isArray(_)}function O(_){return typeof _=="string"}function Q(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)&&!(_ instanceof RegExp)&&!(_ instanceof Date)}function P(_){return typeof _=="number"&&!isNaN(_)}function L(_){return _===!0||_===!1}function J(_){return typeof _=="undefined"}function R(_){return!W(_)}function W(_){return J(_)||_===null}function s(_,S){if(!_)throw new Error(S?`Unexpected type, expected '${S}'`:"Unexpected type")}function T(_){if(W(_))throw new Error("Assertion Failed: argument is undefined or null");return _}function g(_){return typeof _=="function"}function E(_,S){const h=Math.min(_.length,S.length);for(let y=0;y<h;y++)H(_[y],S[y])}function H(_,S){if(O(S)){if(typeof _!==S)throw new Error(`argument does not match constraint: typeof ${S}`)}else if(g(S)){try{if(_ instanceof S)return}catch(h){}if(!W(_)&&_.constructor===S||S.length===1&&S.call(void 0,_)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function r(_){let S=[],h=Object.getPrototypeOf(_);for(;Object.prototype!==h;)S=S.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return S}function N(_){const S=[];for(const h of r(_))typeof _[h]=="function"&&S.push(h);return S}function C(_,S){const h=v=>function(){const B=Array.prototype.slice.call(arguments,0);return S(v,B)};let y={};for(const v of _)y[v]=h(v);return y}function x(_){return _===null?void 0:_}function f(_,S="Unreachable"){throw new Error(S)}},85427:function(ti,Ge,c){"use strict";c.d(Ge,{A:function(){return O},K:function(){return D}});function D(Q){return Q<0?0:Q>255?255:Q|0}function O(Q){return Q<0?0:Q>4294967295?4294967295:Q|0}},70666:function(ti,Ge,c){"use strict";c.d(Ge,{o:function(){return E},q:function(){return f}});var D=c(55336),O=c(1432);const Q=/^\w[\w\d+.-]*$/,P=/^\//,L=/^\/\//;function J(v,B){if(!v.scheme&&B)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${v.authority}", path: "${v.path}", query: "${v.query}", fragment: "${v.fragment}"}`);if(v.scheme&&!Q.test(v.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(v.path){if(v.authority){if(!P.test(v.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(v.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function R(v,B){return!v&&!B?"file":v}function W(v,B){switch(v){case"https":case"http":case"file":B?B[0]!==T&&(B=T+B):B=T;break}return B}const s="",T="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class E{constructor(B,j,te,ce,_e,Ce=!1){typeof B=="object"?(this.scheme=B.scheme||s,this.authority=B.authority||s,this.path=B.path||s,this.query=B.query||s,this.fragment=B.fragment||s):(this.scheme=R(B,Ce),this.authority=j||s,this.path=W(this.scheme,te||s),this.query=ce||s,this.fragment=_e||s,J(this,Ce))}static isUri(B){return B instanceof E?!0:B?typeof B.authority=="string"&&typeof B.fragment=="string"&&typeof B.path=="string"&&typeof B.query=="string"&&typeof B.scheme=="string"&&typeof B.fsPath=="string"&&typeof B.with=="function"&&typeof B.toString=="function":!1}get fsPath(){return f(this,!1)}with(B){if(!B)return this;let{scheme:j,authority:te,path:ce,query:_e,fragment:Ce}=B;return j===void 0?j=this.scheme:j===null&&(j=s),te===void 0?te=this.authority:te===null&&(te=s),ce===void 0?ce=this.path:ce===null&&(ce=s),_e===void 0?_e=this.query:_e===null&&(_e=s),Ce===void 0?Ce=this.fragment:Ce===null&&(Ce=s),j===this.scheme&&te===this.authority&&ce===this.path&&_e===this.query&&Ce===this.fragment?this:new r(j,te,ce,_e,Ce)}static parse(B,j=!1){const te=g.exec(B);return te?new r(te[2]||s,y(te[4]||s),y(te[5]||s),y(te[7]||s),y(te[9]||s),j):new r(s,s,s,s,s)}static file(B){let j=s;if(O.ED&&(B=B.replace(/\\/g,T)),B[0]===T&&B[1]===T){const te=B.indexOf(T,2);te===-1?(j=B.substring(2),B=T):(j=B.substring(2,te),B=B.substring(te)||T)}return new r("file",j,B,s,s)}static from(B){const j=new r(B.scheme,B.authority,B.path,B.query,B.fragment);return J(j,!0),j}static joinPath(B,...j){if(!B.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let te;return O.ED&&B.scheme==="file"?te=E.file(D.Ku.join(f(B,!0),...j)).path:te=D.KR.join(B.path,...j),B.with({path:te})}toString(B=!1){return _(this,B)}toJSON(){return this}static revive(B){if(B){if(B instanceof E)return B;{const j=new r(B);return j._formatted=B.external,j._fsPath=B._sep===H?B.fsPath:null,j}}else return B}}const H=O.ED?1:void 0;class r extends E{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=f(this,!1)),this._fsPath}toString(B=!1){return B?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){const B={$mid:1};return this._fsPath&&(B.fsPath=this._fsPath,B._sep=H),this._formatted&&(B.external=this._formatted),this.path&&(B.path=this.path),this.scheme&&(B.scheme=this.scheme),this.authority&&(B.authority=this.authority),this.query&&(B.query=this.query),this.fragment&&(B.fragment=this.fragment),B}}const N={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function C(v,B){let j,te=-1;for(let ce=0;ce<v.length;ce++){const _e=v.charCodeAt(ce);if(_e>=97&&_e<=122||_e>=65&&_e<=90||_e>=48&&_e<=57||_e===45||_e===46||_e===95||_e===126||B&&_e===47)te!==-1&&(j+=encodeURIComponent(v.substring(te,ce)),te=-1),j!==void 0&&(j+=v.charAt(ce));else{j===void 0&&(j=v.substr(0,ce));const Ce=N[_e];Ce!==void 0?(te!==-1&&(j+=encodeURIComponent(v.substring(te,ce)),te=-1),j+=Ce):te===-1&&(te=ce)}}return te!==-1&&(j+=encodeURIComponent(v.substring(te))),j!==void 0?j:v}function x(v){let B;for(let j=0;j<v.length;j++){const te=v.charCodeAt(j);te===35||te===63?(B===void 0&&(B=v.substr(0,j)),B+=N[te]):B!==void 0&&(B+=v[j])}return B!==void 0?B:v}function f(v,B){let j;return v.authority&&v.path.length>1&&v.scheme==="file"?j=`//${v.authority}${v.path}`:v.path.charCodeAt(0)===47&&(v.path.charCodeAt(1)>=65&&v.path.charCodeAt(1)<=90||v.path.charCodeAt(1)>=97&&v.path.charCodeAt(1)<=122)&&v.path.charCodeAt(2)===58?B?j=v.path.substr(1):j=v.path[1].toLowerCase()+v.path.substr(2):j=v.path,O.ED&&(j=j.replace(/\//g,"\\")),j}function _(v,B){const j=B?x:C;let te="",{scheme:ce,authority:_e,path:Ce,query:Ee,fragment:le}=v;if(ce&&(te+=ce,te+=":"),(_e||ce==="file")&&(te+=T,te+=T),_e){let Y=_e.indexOf("@");if(Y!==-1){const $=_e.substr(0,Y);_e=_e.substr(Y+1),Y=$.indexOf(":"),Y===-1?te+=j($,!1):(te+=j($.substr(0,Y),!1),te+=":",te+=j($.substr(Y+1),!1)),te+="@"}_e=_e.toLowerCase(),Y=_e.indexOf(":"),Y===-1?te+=j(_e,!1):(te+=j(_e.substr(0,Y),!1),te+=_e.substr(Y))}if(Ce){if(Ce.length>=3&&Ce.charCodeAt(0)===47&&Ce.charCodeAt(2)===58){const Y=Ce.charCodeAt(1);Y>=65&&Y<=90&&(Ce=`/${String.fromCharCode(Y+32)}:${Ce.substr(3)}`)}else if(Ce.length>=2&&Ce.charCodeAt(1)===58){const Y=Ce.charCodeAt(0);Y>=65&&Y<=90&&(Ce=`${String.fromCharCode(Y+32)}:${Ce.substr(2)}`)}te+=j(Ce,!0)}return Ee&&(te+="?",te+=j(Ee,!1)),le&&(te+="#",te+=B?le:C(le,!1)),te}function S(v){try{return decodeURIComponent(v)}catch(B){return v.length>3?v.substr(0,3)+S(v.substr(3)):v}}const h=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function y(v){return v.match(h)?v.replace(h,B=>S(B)):v}},25552:function(ti,Ge,c){"use strict";c.d(Ge,{H:function(){return J}});var D=c(89587),O={},Q={},P=function(){function R(W){var s=this;this._languageId=W,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(T,g){s._lazyLoadPromiseResolve=T,s._lazyLoadPromiseReject=g})}return R.getOrCreate=function(W){return Q[W]||(Q[W]=new R(W)),Q[W]},R.prototype.whenLoaded=function(){return this._lazyLoadPromise},R.prototype.load=function(){var W=this;return this._loadingTriggered||(this._loadingTriggered=!0,O[this._languageId].loader().then(function(s){return W._lazyLoadPromiseResolve(s)},function(s){return W._lazyLoadPromiseReject(s)})),this._lazyLoadPromise},R}();function L(R){return P.getOrCreate(R).load()}function J(R){var W=R.id;O[W]=R,D.Mj.register(R);var s=P.getOrCreate(W);D.Mj.setMonarchTokensProvider(W,s.whenLoaded().then(function(T){return T.language})),D.Mj.onLanguage(W,function(){s.load().then(function(T){D.Mj.setLanguageConfiguration(W,T.conf)})})}},56292:function(ti,Ge,c){"use strict";c.r(Ge);var D=c(25552);(0,D.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return c.e(75).then(c.bind(c,62075))}})},89587:function(ti,Ge,c){"use strict";c.d(Ge,{Mj:function(){return D.languages}});var D=c(50048)},40902:function(ti,Ge,c){"use strict";c.r(Ge);var D=c(25552);(0,D.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return c.e(571).then(c.bind(c,2571))}})},43763:function(ti,Ge,c){"use strict";c.r(Ge);var D=c(25552);(0,D.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return c.e(134).then(c.bind(c,41134))}})},88307:function(ti,Ge,c){"use strict";c.r(Ge);var D=c(25552);(0,D.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return c.e(713).then(c.bind(c,96717))}})},87917:function(ti,Ge,c){"use strict";c.d(Ge,{V:function(){return N},P:function(){return H}});var D=c(16268),O=c(4669),Q=c(5976),P=c(1432),L=c(64141);class J{constructor(x,f){this.chr=x,this.type=f,this.width=0}fulfill(x){this.width=x}}class R{constructor(x,f){this._bareFontInfo=x,this._requests=f,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const x=this._bareFontInfo.getMassagedFontFamily(D.G6?L.hL.fontFamily:null),f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const _=document.createElement("div");_.style.fontFamily=x,_.style.fontWeight=this._bareFontInfo.fontWeight,_.style.fontSize=this._bareFontInfo.fontSize+"px",_.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,_.style.lineHeight=this._bareFontInfo.lineHeight+"px",_.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.appendChild(_);const S=document.createElement("div");S.style.fontFamily=x,S.style.fontWeight="bold",S.style.fontSize=this._bareFontInfo.fontSize+"px",S.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,S.style.lineHeight=this._bareFontInfo.lineHeight+"px",S.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.appendChild(S);const h=document.createElement("div");h.style.fontFamily=x,h.style.fontWeight=this._bareFontInfo.fontWeight,h.style.fontSize=this._bareFontInfo.fontSize+"px",h.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,h.style.lineHeight=this._bareFontInfo.lineHeight+"px",h.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",h.style.fontStyle="italic",f.appendChild(h);const y=[];for(const v of this._requests){let B;v.type===0&&(B=_),v.type===2&&(B=S),v.type===1&&(B=h),B.appendChild(document.createElement("br"));const j=document.createElement("span");R._render(j,v),B.appendChild(j),y.push(j)}this._container=f,this._testElements=y}static _render(x,f){if(f.chr===" "){let _="\xA0";for(let S=0;S<8;S++)_+=_;x.innerText=_}else{let _=f.chr;for(let S=0;S<8;S++)_+=_;x.textContent=_}}_readFromDomElements(){for(let x=0,f=this._requests.length;x<f;x++){const _=this._requests[x],S=this._testElements[x];_.fulfill(S.offsetWidth/256)}}}function W(C,x){new R(C,x).read()}var s=c(45476),T=c(56345),g=c(27374);class E{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(x){const f=x.getId();return!!this._values[f]}get(x){const f=x.getId();return this._values[f]}put(x,f){const _=x.getId();this._keys[_]=x,this._values[_]=f}remove(x){const f=x.getId();delete this._keys[f],delete this._values[f]}getValues(){return Object.keys(this._keys).map(x=>this._values[x])}}function H(){r.INSTANCE.clearCache()}class r extends Q.JT{constructor(){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._cache=new E,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new E,this._onDidChange.fire()}_writeToCache(x,f){this._cache.put(x,f),!f.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const x=this._cache.getValues();let f=!1;for(const _ of x)_.isTrusted||(f=!0,this._cache.remove(_));f&&this._onDidChange.fire()}readConfiguration(x){if(!this._cache.has(x)){let f=r._actualReadConfiguration(x);(f.typicalHalfwidthCharacterWidth<=2||f.typicalFullwidthCharacterWidth<=2||f.spaceWidth<=2||f.maxDigitWidth<=2)&&(f=new g.pR({zoomLevel:D.px(),pixelRatio:D.mX(),fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:f.isMonospace,typicalHalfwidthCharacterWidth:Math.max(f.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(f.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:f.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(f.spaceWidth,5),middotWidth:Math.max(f.middotWidth,5),wsmiddotWidth:Math.max(f.wsmiddotWidth,5),maxDigitWidth:Math.max(f.maxDigitWidth,5)},!1)),this._writeToCache(x,f)}return this._cache.get(x)}static createRequest(x,f,_,S){const h=new J(x,f);return _.push(h),S&&S.push(h),h}static _actualReadConfiguration(x){const f=[],_=[],S=this.createRequest("n",0,f,_),h=this.createRequest("\uFF4D",0,f,null),y=this.createRequest(" ",0,f,_),v=this.createRequest("0",0,f,_),B=this.createRequest("1",0,f,_),j=this.createRequest("2",0,f,_),te=this.createRequest("3",0,f,_),ce=this.createRequest("4",0,f,_),_e=this.createRequest("5",0,f,_),Ce=this.createRequest("6",0,f,_),Ee=this.createRequest("7",0,f,_),le=this.createRequest("8",0,f,_),Y=this.createRequest("9",0,f,_),$=this.createRequest("\u2192",0,f,_),G=this.createRequest("\uFFEB",0,f,null),ee=this.createRequest("\xB7",0,f,_),m=this.createRequest(String.fromCharCode(11825),0,f,null),w="|/-_ilm%";for(let Te=0,rt=w.length;Te<rt;Te++)this.createRequest(w.charAt(Te),0,f,_),this.createRequest(w.charAt(Te),1,f,_),this.createRequest(w.charAt(Te),2,f,_);W(x,f);const F=Math.max(v.width,B.width,j.width,te.width,ce.width,_e.width,Ce.width,Ee.width,le.width,Y.width);let ie=x.fontFeatureSettings===L.n0.OFF;const pe=_[0].width;for(let Te=1,rt=_.length;ie&&Te<rt;Te++){const Rt=pe-_[Te].width;if(Rt<-.001||Rt>.001){ie=!1;break}}let ue=!0;ie&&G.width!==pe&&(ue=!1),G.width>$.width&&(ue=!1);const ke=D.WP()>2e3;return new g.pR({zoomLevel:D.px(),pixelRatio:D.mX(),fontFamily:x.fontFamily,fontWeight:x.fontWeight,fontSize:x.fontSize,fontFeatureSettings:x.fontFeatureSettings,lineHeight:x.lineHeight,letterSpacing:x.letterSpacing,isMonospace:ie,typicalHalfwidthCharacterWidth:S.width,typicalFullwidthCharacterWidth:h.width,canUseHalfwidthRightwardsArrow:ue,spaceWidth:y.width,middotWidth:ee.width,wsmiddotWidth:m.width,maxDigitWidth:F},ke)}}r.INSTANCE=new r;class N extends T.fv{constructor(x,f,_=null,S){super(x,f),this.accessibilityService=S,this._elementSizeObserver=this._register(new s.I(_,f.dimension,()=>this._recomputeOptions())),this._register(r.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(D.fX(h=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(x,f){x.style.fontFamily=f.getMassagedFontFamily(D.G6?L.hL.fontFamily:null),x.style.fontWeight=f.fontWeight,x.style.fontSize=f.fontSize+"px",x.style.fontFeatureSettings=f.fontFeatureSettings,x.style.lineHeight=f.lineHeight+"px",x.style.letterSpacing=f.letterSpacing+"px"}static applyFontInfo(x,f){x.setFontFamily(f.getMassagedFontFamily(D.G6?L.hL.fontFamily:null)),x.setFontWeight(f.fontWeight),x.setFontSize(f.fontSize),x.setFontFeatureSettings(f.fontFeatureSettings),x.setLineHeight(f.lineHeight),x.setLetterSpacing(f.letterSpacing)}observeReferenceElement(x){this._elementSizeObserver.observe(x)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let x="";return!D.G6&&!D.MG&&(x+="no-user-select "),D.G6&&(x+="no-minimap-shadow "),P.dz&&(x+="mac "),x}_getEnvConfiguration(){return{extraEditorClassName:N._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:D.Pf||D.vU,pixelRatio:D.mX(),zoomLevel:D.px(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(x){return r.INSTANCE.readConfiguration(x)}}},45476:function(ti,Ge,c){"use strict";c.d(Ge,{I:function(){return O}});var D=c(5976);class O extends D.JT{constructor(P,L,J){super(),this.referenceDomElement=P,this.changeCallback=J,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,L)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(P=>{P&&P[0]&&P[0].contentRect?this.observe({width:P[0].contentRect.width,height:P[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(P){this.measureReferenceDomElement(!0,P)}measureReferenceDomElement(P,L){let J=0,R=0;L?(J=L.width,R=L.height):this.referenceDomElement&&(J=this.referenceDomElement.clientWidth,R=this.referenceDomElement.clientHeight),J=Math.max(5,J),R=Math.max(5,R),(this.width!==J||this.height!==R)&&(this.width=J,this.height=R,P&&this.changeCallback())}}},89495:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{CoreEditingCommands:function(){return Ce},CoreEditorCommand:function(){return h},CoreNavigationCommands:function(){return j},EditorScroll_:function(){return y},RevealLine_:function(){return v}});var D=c(63580),O=c(16268),Q=c(98401),P=c(35996),L=c(16830),J=c(11640),R=c(33181),W=c(50187),s=c(24314);class T{static columnSelect($,G,ee,m,w,F){let ie=Math.abs(w-ee)+1,pe=ee>w,ue=m>F,ke=m<F,Te=[];for(let rt=0;rt<ie;rt++){let Rt=ee+(pe?-rt:rt),mt=R.io.columnFromVisibleColumn2($,G,Rt,m),Mt=R.io.columnFromVisibleColumn2($,G,Rt,F),it=R.io.visibleColumnFromColumn2($,G,new W.L(Rt,mt)),Je=R.io.visibleColumnFromColumn2($,G,new W.L(Rt,Mt));ke&&(it>F||Je<m)||ue&&(Je>m||it<F)||Te.push(new R.rS(new s.e(Rt,mt,Rt,mt),0,new W.L(Rt,Mt),0))}if(Te.length===0)for(let rt=0;rt<ie;rt++){const Rt=ee+(pe?-rt:rt),mt=G.getLineMaxColumn(Rt);Te.push(new R.rS(new s.e(Rt,mt,Rt,mt),0,new W.L(Rt,mt),0))}return{viewStates:Te,reversed:pe,fromLineNumber:ee,fromVisualColumn:m,toLineNumber:w,toVisualColumn:F}}static columnSelectLeft($,G,ee){let m=ee.toViewVisualColumn;return m>0&&m--,T.columnSelect($,G,ee.fromViewLineNumber,ee.fromViewVisualColumn,ee.toViewLineNumber,m)}static columnSelectRight($,G,ee){let m=0;const w=Math.min(ee.fromViewLineNumber,ee.toViewLineNumber),F=Math.max(ee.fromViewLineNumber,ee.toViewLineNumber);for(let pe=w;pe<=F;pe++){const ue=G.getLineMaxColumn(pe),ke=R.io.visibleColumnFromColumn2($,G,new W.L(pe,ue));m=Math.max(m,ke)}let ie=ee.toViewVisualColumn;return ie<m&&ie++,this.columnSelect($,G,ee.fromViewLineNumber,ee.fromViewVisualColumn,ee.toViewLineNumber,ie)}static columnSelectUp($,G,ee,m){const w=m?$.pageSize:1,F=Math.max(1,ee.toViewLineNumber-w);return this.columnSelect($,G,ee.fromViewLineNumber,ee.fromViewVisualColumn,F,ee.toViewVisualColumn)}static columnSelectDown($,G,ee,m){const w=m?$.pageSize:1,F=Math.min(G.getLineCount(),ee.toViewLineNumber+w);return this.columnSelect($,G,ee.fromViewLineNumber,ee.fromViewVisualColumn,F,ee.toViewVisualColumn)}}var g=c(31380),E=c(88784),H=c(5795);class r{static addCursorDown($,G,ee){let m=[],w=0;for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];m[w++]=new R.Vi(pe.modelState,pe.viewState),ee?m[w++]=R.Vi.fromModelState(E.o.translateDown($.cursorConfig,$.model,pe.modelState)):m[w++]=R.Vi.fromViewState(E.o.translateDown($.cursorConfig,$,pe.viewState))}return m}static addCursorUp($,G,ee){let m=[],w=0;for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];m[w++]=new R.Vi(pe.modelState,pe.viewState),ee?m[w++]=R.Vi.fromModelState(E.o.translateUp($.cursorConfig,$.model,pe.modelState)):m[w++]=R.Vi.fromViewState(E.o.translateUp($.cursorConfig,$,pe.viewState))}return m}static moveToBeginningOfLine($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w];m[w]=this._moveToLineStart($,ie,ee)}return m}static _moveToLineStart($,G,ee){const m=G.viewState.position.column,w=G.modelState.position.column,F=m===w,ie=G.viewState.position.lineNumber,pe=$.getLineFirstNonWhitespaceColumn(ie);return!F&&!(m===pe)?this._moveToLineStartByView($,G,ee):this._moveToLineStartByModel($,G,ee)}static _moveToLineStartByView($,G,ee){return R.Vi.fromViewState(E.o.moveToBeginningOfLine($.cursorConfig,$,G.viewState,ee))}static _moveToLineStartByModel($,G,ee){return R.Vi.fromModelState(E.o.moveToBeginningOfLine($.cursorConfig,$.model,G.modelState,ee))}static moveToEndOfLine($,G,ee,m){let w=[];for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];w[F]=this._moveToLineEnd($,pe,ee,m)}return w}static _moveToLineEnd($,G,ee,m){const w=G.viewState.position,F=$.getLineMaxColumn(w.lineNumber),ie=w.column===F,pe=G.modelState.position,ue=$.model.getLineMaxColumn(pe.lineNumber),ke=F-w.column===ue-pe.column;return ie||ke?this._moveToLineEndByModel($,G,ee,m):this._moveToLineEndByView($,G,ee,m)}static _moveToLineEndByView($,G,ee,m){return R.Vi.fromViewState(E.o.moveToEndOfLine($.cursorConfig,$,G.viewState,ee,m))}static _moveToLineEndByModel($,G,ee,m){return R.Vi.fromModelState(E.o.moveToEndOfLine($.cursorConfig,$.model,G.modelState,ee,m))}static expandLineSelection($,G){let ee=[];for(let m=0,w=G.length;m<w;m++){const F=G[m],ie=F.modelState.selection.startLineNumber,pe=$.model.getLineCount();let ue=F.modelState.selection.endLineNumber,ke;ue===pe?ke=$.model.getLineMaxColumn(pe):(ue++,ke=1),ee[m]=R.Vi.fromModelState(new R.rS(new s.e(ie,1,ie,1),0,new W.L(ue,ke),0))}return ee}static moveToBeginningOfBuffer($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w];m[w]=R.Vi.fromModelState(E.o.moveToBeginningOfBuffer($.cursorConfig,$.model,ie.modelState,ee))}return m}static moveToEndOfBuffer($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w];m[w]=R.Vi.fromModelState(E.o.moveToEndOfBuffer($.cursorConfig,$.model,ie.modelState,ee))}return m}static selectAll($,G){const ee=$.model.getLineCount(),m=$.model.getLineMaxColumn(ee);return R.Vi.fromModelState(new R.rS(new s.e(1,1,1,1),0,new W.L(ee,m),0))}static line($,G,ee,m,w){const F=$.model.validatePosition(m),ie=w?$.coordinatesConverter.validateViewPosition(new W.L(w.lineNumber,w.column),F):$.coordinatesConverter.convertModelPositionToViewPosition(F);if(!ee||!G.modelState.hasSelection()){const ue=$.model.getLineCount();let ke=F.lineNumber+1,Te=1;return ke>ue&&(ke=ue,Te=$.model.getLineMaxColumn(ke)),R.Vi.fromModelState(new R.rS(new s.e(F.lineNumber,1,ke,Te),0,new W.L(ke,Te),0))}const pe=G.modelState.selectionStart.getStartPosition().lineNumber;if(F.lineNumber<pe)return R.Vi.fromViewState(G.viewState.move(G.modelState.hasSelection(),ie.lineNumber,1,0));if(F.lineNumber>pe){const ue=$.getLineCount();let ke=ie.lineNumber+1,Te=1;return ke>ue&&(ke=ue,Te=$.getLineMaxColumn(ke)),R.Vi.fromViewState(G.viewState.move(G.modelState.hasSelection(),ke,Te,0))}else{const ue=G.modelState.selectionStart.getEndPosition();return R.Vi.fromModelState(G.modelState.move(G.modelState.hasSelection(),ue.lineNumber,ue.column,0))}}static word($,G,ee,m){const w=$.model.validatePosition(m);return R.Vi.fromModelState(H.w.word($.cursorConfig,$.model,G.modelState,ee,w))}static cancelSelection($,G){if(!G.modelState.hasSelection())return new R.Vi(G.modelState,G.viewState);const ee=G.viewState.position.lineNumber,m=G.viewState.position.column;return R.Vi.fromViewState(new R.rS(new s.e(ee,m,ee,m),0,new W.L(ee,m),0))}static moveTo($,G,ee,m,w){const F=$.model.validatePosition(m),ie=w?$.coordinatesConverter.validateViewPosition(new W.L(w.lineNumber,w.column),F):$.coordinatesConverter.convertModelPositionToViewPosition(F);return R.Vi.fromViewState(G.viewState.move(ee,ie.lineNumber,ie.column,0))}static simpleMove($,G,ee,m,w,F){switch(ee){case 0:return F===4?this._moveHalfLineLeft($,G,m):this._moveLeft($,G,m,w);case 1:return F===4?this._moveHalfLineRight($,G,m):this._moveRight($,G,m,w);case 2:return F===2?this._moveUpByViewLines($,G,m,w):this._moveUpByModelLines($,G,m,w);case 3:return F===2?this._moveDownByViewLines($,G,m,w):this._moveDownByModelLines($,G,m,w);case 4:return F===2?G.map(ie=>R.Vi.fromViewState(E.o.moveToPrevBlankLine($.cursorConfig,$,ie.viewState,m))):G.map(ie=>R.Vi.fromModelState(E.o.moveToPrevBlankLine($.cursorConfig,$.model,ie.modelState,m)));case 5:return F===2?G.map(ie=>R.Vi.fromViewState(E.o.moveToNextBlankLine($.cursorConfig,$,ie.viewState,m))):G.map(ie=>R.Vi.fromModelState(E.o.moveToNextBlankLine($.cursorConfig,$.model,ie.modelState,m)));case 6:return this._moveToViewMinColumn($,G,m);case 7:return this._moveToViewFirstNonWhitespaceColumn($,G,m);case 8:return this._moveToViewCenterColumn($,G,m);case 9:return this._moveToViewMaxColumn($,G,m);case 10:return this._moveToViewLastNonWhitespaceColumn($,G,m);default:return null}}static viewportMove($,G,ee,m,w){const F=$.getCompletelyVisibleViewRange(),ie=$.coordinatesConverter.convertViewRangeToModelRange(F);switch(ee){case 11:{const pe=this._firstLineNumberInRange($.model,ie,w),ue=$.model.getLineFirstNonWhitespaceColumn(pe);return[this._moveToModelPosition($,G[0],m,pe,ue)]}case 13:{const pe=this._lastLineNumberInRange($.model,ie,w),ue=$.model.getLineFirstNonWhitespaceColumn(pe);return[this._moveToModelPosition($,G[0],m,pe,ue)]}case 12:{const pe=Math.round((ie.startLineNumber+ie.endLineNumber)/2),ue=$.model.getLineFirstNonWhitespaceColumn(pe);return[this._moveToModelPosition($,G[0],m,pe,ue)]}case 14:{let pe=[];for(let ue=0,ke=G.length;ue<ke;ue++){const Te=G[ue];pe[ue]=this.findPositionInViewportIfOutside($,Te,F,m)}return pe}default:return null}}static findPositionInViewportIfOutside($,G,ee,m){let w=G.viewState.position.lineNumber;if(ee.startLineNumber<=w&&w<=ee.endLineNumber-1)return new R.Vi(G.modelState,G.viewState);{let F;w>ee.endLineNumber-1?F=ee.endLineNumber-1:w<ee.startLineNumber?F=ee.startLineNumber:F=w;const ie=E.o.vertical($.cursorConfig,$,w,G.viewState.position.column,G.viewState.leftoverVisibleColumns,F,!1);return R.Vi.fromViewState(G.viewState.move(m,ie.lineNumber,ie.column,ie.leftoverVisibleColumns))}}static _firstLineNumberInRange($,G,ee){let m=G.startLineNumber;return G.startColumn!==$.getLineMinColumn(m)&&m++,Math.min(G.endLineNumber,m+ee-1)}static _lastLineNumberInRange($,G,ee){let m=G.startLineNumber;return G.startColumn!==$.getLineMinColumn(m)&&m++,Math.max(m,G.endLineNumber-ee+1)}static _moveLeft($,G,ee,m){return G.map(w=>R.Vi.fromViewState(E.o.moveLeft($.cursorConfig,$,w.viewState,ee,m)))}static _moveHalfLineLeft($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=Math.round($.getLineContent(pe).length/2);m[w]=R.Vi.fromViewState(E.o.moveLeft($.cursorConfig,$,ie.viewState,ee,ue))}return m}static _moveRight($,G,ee,m){return G.map(w=>R.Vi.fromViewState(E.o.moveRight($.cursorConfig,$,w.viewState,ee,m)))}static _moveHalfLineRight($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=Math.round($.getLineContent(pe).length/2);m[w]=R.Vi.fromViewState(E.o.moveRight($.cursorConfig,$,ie.viewState,ee,ue))}return m}static _moveDownByViewLines($,G,ee,m){let w=[];for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];w[F]=R.Vi.fromViewState(E.o.moveDown($.cursorConfig,$,pe.viewState,ee,m))}return w}static _moveDownByModelLines($,G,ee,m){let w=[];for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];w[F]=R.Vi.fromModelState(E.o.moveDown($.cursorConfig,$.model,pe.modelState,ee,m))}return w}static _moveUpByViewLines($,G,ee,m){let w=[];for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];w[F]=R.Vi.fromViewState(E.o.moveUp($.cursorConfig,$,pe.viewState,ee,m))}return w}static _moveUpByModelLines($,G,ee,m){let w=[];for(let F=0,ie=G.length;F<ie;F++){const pe=G[F];w[F]=R.Vi.fromModelState(E.o.moveUp($.cursorConfig,$.model,pe.modelState,ee,m))}return w}static _moveToViewPosition($,G,ee,m,w){return R.Vi.fromViewState(G.viewState.move(ee,m,w,0))}static _moveToModelPosition($,G,ee,m,w){return R.Vi.fromModelState(G.modelState.move(ee,m,w,0))}static _moveToViewMinColumn($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=$.getLineMinColumn(pe);m[w]=this._moveToViewPosition($,ie,ee,pe,ue)}return m}static _moveToViewFirstNonWhitespaceColumn($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=$.getLineFirstNonWhitespaceColumn(pe);m[w]=this._moveToViewPosition($,ie,ee,pe,ue)}return m}static _moveToViewCenterColumn($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=Math.round(($.getLineMaxColumn(pe)+$.getLineMinColumn(pe))/2);m[w]=this._moveToViewPosition($,ie,ee,pe,ue)}return m}static _moveToViewMaxColumn($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=$.getLineMaxColumn(pe);m[w]=this._moveToViewPosition($,ie,ee,pe,ue)}return m}static _moveToViewLastNonWhitespaceColumn($,G,ee){let m=[];for(let w=0,F=G.length;w<F;w++){const ie=G[w],pe=ie.viewState.position.lineNumber,ue=$.getLineLastNonWhitespaceColumn(pe);m[w]=this._moveToViewPosition($,ie,ee,pe,ue)}return m}}var N;(function(Y){const $=function(ee){if(!Q.Kn(ee))return!1;let m=ee;return!(!Q.HD(m.to)||!Q.o8(m.select)&&!Q.jn(m.select)||!Q.o8(m.by)&&!Q.HD(m.by)||!Q.o8(m.value)&&!Q.hj(m.value))};Y.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},Y.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},Y.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function G(ee){if(!ee.to)return null;let m;switch(ee.to){case Y.RawDirection.Left:m=0;break;case Y.RawDirection.Right:m=1;break;case Y.RawDirection.Up:m=2;break;case Y.RawDirection.Down:m=3;break;case Y.RawDirection.PrevBlankLine:m=4;break;case Y.RawDirection.NextBlankLine:m=5;break;case Y.RawDirection.WrappedLineStart:m=6;break;case Y.RawDirection.WrappedLineFirstNonWhitespaceCharacter:m=7;break;case Y.RawDirection.WrappedLineColumnCenter:m=8;break;case Y.RawDirection.WrappedLineEnd:m=9;break;case Y.RawDirection.WrappedLineLastNonWhitespaceCharacter:m=10;break;case Y.RawDirection.ViewPortTop:m=11;break;case Y.RawDirection.ViewPortBottom:m=13;break;case Y.RawDirection.ViewPortCenter:m=12;break;case Y.RawDirection.ViewPortIfOutside:m=14;break;default:return null}let w=0;switch(ee.by){case Y.RawUnit.Line:w=1;break;case Y.RawUnit.WrappedLine:w=2;break;case Y.RawUnit.Character:w=3;break;case Y.RawUnit.HalfLine:w=4;break}return{direction:m,unit:w,select:!!ee.select,value:ee.value||1}}Y.parse=G})(N||(N={}));var C=c(70966),x=c(29102),f=c(38819),_=c(49989);const S=0;class h extends L._l{runEditorCommand($,G,ee){const m=G._getViewModel();m&&this.runCoreEditorCommand(m,ee||{})}}var y;(function(Y){const $=function(ee){if(!Q.Kn(ee))return!1;const m=ee;return!(!Q.HD(m.to)||!Q.o8(m.by)&&!Q.HD(m.by)||!Q.o8(m.value)&&!Q.hj(m.value)||!Q.o8(m.revealCursor)&&!Q.jn(m.revealCursor))};Y.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},Y.RawDirection={Up:"up",Down:"down"},Y.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function G(ee){let m;switch(ee.to){case Y.RawDirection.Up:m=1;break;case Y.RawDirection.Down:m=2;break;default:return null}let w;switch(ee.by){case Y.RawUnit.Line:w=1;break;case Y.RawUnit.WrappedLine:w=2;break;case Y.RawUnit.Page:w=3;break;case Y.RawUnit.HalfPage:w=4;break;default:w=2}const F=Math.floor(ee.value||1),ie=!!ee.revealCursor;return{direction:m,unit:w,value:F,revealCursor:ie,select:!!ee.select}}Y.parse=G})(y||(y={}));var v;(function(Y){const $=function(G){if(!Q.Kn(G))return!1;const ee=G;return!(!Q.hj(ee.lineNumber)&&!Q.HD(ee.lineNumber)||!Q.o8(ee.at)&&!Q.HD(ee.at))};Y.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:$,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},Y.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(v||(v={}));class B{constructor($){$.addImplementation(1e4,"code-editor",(G,ee)=>{const m=G.get(J.$).getFocusedCodeEditor();return m&&m.hasTextFocus()?this._runEditorCommand(G,m,ee):!1}),$.addImplementation(1e3,"generic-dom-input-textarea",(G,ee)=>{const m=document.activeElement;return m&&["input","textarea"].indexOf(m.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),$.addImplementation(0,"generic-dom",(G,ee)=>{const m=G.get(J.$).getActiveCodeEditor();return m?(m.focus(),this._runEditorCommand(G,m,ee)):!1})}_runEditorCommand($,G,ee){const m=this.runEditorCommand($,G,ee);return m||!0}}var j;(function(Y){class $ extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,[r.moveTo(Ae,Ae.getPrimaryCursorState(),this._inSelectionMode,ge.position,ge.viewPosition)]),Ae.revealPrimaryCursor(ge.source,!0)}}Y.MoveTo=(0,L.fK)(new $({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),Y.MoveToSelect=(0,L.fK)(new $({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class G extends h{runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement();const Re=this._getColumnSelectResult(Ae,Ae.getPrimaryCursorState(),Ae.getCursorColumnSelectData(),ge);Ae.setCursorStates(ge.source,3,Re.viewStates.map(ot=>R.Vi.fromViewState(ot))),Ae.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Re.fromLineNumber,fromViewVisualColumn:Re.fromVisualColumn,toViewLineNumber:Re.toLineNumber,toViewVisualColumn:Re.toVisualColumn}),Re.reversed?Ae.revealTopMostCursor(ge.source):Ae.revealBottomMostCursor(ge.source)}}Y.ColumnSelect=(0,L.fK)(new class extends G{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Je,Ae,ge,Re){const ot=Je.model.validatePosition(Re.position),dt=Je.coordinatesConverter.validateViewPosition(new W.L(Re.viewPosition.lineNumber,Re.viewPosition.column),ot);let lt=Re.doColumnSelect?ge.fromViewLineNumber:dt.lineNumber,Ie=Re.doColumnSelect?ge.fromViewVisualColumn:Re.mouseColumn-1;return T.columnSelect(Je.cursorConfig,Je,lt,Ie,dt.lineNumber,Re.mouseColumn-1)}}),Y.CursorColumnSelectLeft=(0,L.fK)(new class extends G{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Je,Ae,ge,Re){return T.columnSelectLeft(Je.cursorConfig,Je,ge)}}),Y.CursorColumnSelectRight=(0,L.fK)(new class extends G{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Je,Ae,ge,Re){return T.columnSelectRight(Je.cursorConfig,Je,ge)}});class ee extends G{constructor(Ae){super(Ae),this._isPaged=Ae.isPaged}_getColumnSelectResult(Ae,ge,Re,ot){return T.columnSelectUp(Ae.cursorConfig,Ae,Re,this._isPaged)}}Y.CursorColumnSelectUp=(0,L.fK)(new ee({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3600,linux:{primary:0}}})),Y.CursorColumnSelectPageUp=(0,L.fK)(new ee({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3595,linux:{primary:0}}}));class m extends G{constructor(Ae){super(Ae),this._isPaged=Ae.isPaged}_getColumnSelectResult(Ae,ge,Re,ot){return T.columnSelectDown(Ae.cursorConfig,Ae,Re,this._isPaged)}}Y.CursorColumnSelectDown=(0,L.fK)(new m({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3602,linux:{primary:0}}})),Y.CursorColumnSelectPageDown=(0,L.fK)(new m({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3596,linux:{primary:0}}}));class w extends h{constructor(){super({id:"cursorMove",precondition:void 0,description:N.description})}runCoreEditorCommand(Ae,ge){const Re=N.parse(ge);Re&&this._runCursorMove(Ae,ge.source,Re)}_runCursorMove(Ae,ge,Re){Ae.model.pushStackElement(),Ae.setCursorStates(ge,3,w._move(Ae,Ae.getCursorStates(),Re)),Ae.revealPrimaryCursor(ge,!0)}static _move(Ae,ge,Re){const ot=Re.select,dt=Re.value;switch(Re.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return r.simpleMove(Ae,ge,Re.direction,ot,dt,Re.unit);case 11:case 13:case 12:case 14:return r.viewportMove(Ae,ge,Re.direction,ot,dt);default:return null}}}Y.CursorMoveImpl=w,Y.CursorMove=(0,L.fK)(new w);class F extends h{constructor(Ae){super(Ae),this._staticArgs=Ae.args}runCoreEditorCommand(Ae,ge){let Re=this._staticArgs;this._staticArgs.value===-1&&(Re={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Ae.cursorConfig.pageSize}),Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,r.simpleMove(Ae,Ae.getCursorStates(),Re.direction,Re.select,Re.value,Re.unit)),Ae.revealPrimaryCursor(ge.source,!0)}}Y.CursorLeft=(0,L.fK)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),Y.CursorLeftSelect=(0,L.fK)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1039}})),Y.CursorRight=(0,L.fK)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),Y.CursorRightSelect=(0,L.fK)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1041}})),Y.CursorUp=(0,L.fK)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),Y.CursorUpSelect=(0,L.fK)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),Y.CursorPageUp=(0,L.fK)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:11}})),Y.CursorPageUpSelect=(0,L.fK)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1035}})),Y.CursorDown=(0,L.fK)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),Y.CursorDownSelect=(0,L.fK)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),Y.CursorPageDown=(0,L.fK)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:12}})),Y.CursorPageDownSelect=(0,L.fK)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1036}})),Y.CreateCursor=(0,L.fK)(new class extends h{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Je,Ae){let ge;Ae.wholeLine?ge=r.line(Je,Je.getPrimaryCursorState(),!1,Ae.position,Ae.viewPosition):ge=r.moveTo(Je,Je.getPrimaryCursorState(),!1,Ae.position,Ae.viewPosition);const Re=Je.getCursorStates();if(Re.length>1){const ot=ge.modelState?ge.modelState.position:null,dt=ge.viewState?ge.viewState.position:null;for(let lt=0,Ie=Re.length;lt<Ie;lt++){const Pe=Re[lt];if(!(ot&&!Pe.modelState.selection.containsPosition(ot))&&!(dt&&!Pe.viewState.selection.containsPosition(dt))){Re.splice(lt,1),Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,Re);return}}}Re.push(ge),Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,Re)}}),Y.LastCursorMoveToSelect=(0,L.fK)(new class extends h{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Je,Ae){const ge=Je.getLastAddedCursorIndex(),Re=Je.getCursorStates(),ot=Re.slice(0);ot[ge]=r.moveTo(Je,Re[ge],!0,Ae.position,Ae.viewPosition),Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,ot)}});class ie extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,r.moveToBeginningOfLine(Ae,Ae.getCursorStates(),this._inSelectionMode)),Ae.revealPrimaryCursor(ge.source,!0)}}Y.CursorHome=(0,L.fK)(new ie({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),Y.CursorHomeSelect=(0,L.fK)(new ie({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class pe extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,this._exec(Ae.getCursorStates())),Ae.revealPrimaryCursor(ge.source,!0)}_exec(Ae){const ge=[];for(let Re=0,ot=Ae.length;Re<ot;Re++){const dt=Ae[Re],lt=dt.modelState.position.lineNumber;ge[Re]=R.Vi.fromModelState(dt.modelState.move(this._inSelectionMode,lt,1,0))}return ge}}Y.CursorLineStart=(0,L.fK)(new pe({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:287}}})),Y.CursorLineStartSelect=(0,L.fK)(new pe({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ue extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,r.moveToEndOfLine(Ae,Ae.getCursorStates(),this._inSelectionMode,ge.sticky||!1)),Ae.revealPrimaryCursor(ge.source,!0)}}Y.CursorEnd=(0,L.fK)(new ue({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:S,kbExpr:x.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:D.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),Y.CursorEndSelect=(0,L.fK)(new ue({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:S,kbExpr:x.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:D.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ke extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,this._exec(Ae,Ae.getCursorStates())),Ae.revealPrimaryCursor(ge.source,!0)}_exec(Ae,ge){const Re=[];for(let ot=0,dt=ge.length;ot<dt;ot++){const lt=ge[ot],Ie=lt.modelState.position.lineNumber,Pe=Ae.model.getLineMaxColumn(Ie);Re[ot]=R.Vi.fromModelState(lt.modelState.move(this._inSelectionMode,Ie,Pe,0))}return Re}}Y.CursorLineEnd=(0,L.fK)(new ke({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:291}}})),Y.CursorLineEndSelect=(0,L.fK)(new ke({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Te extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,r.moveToBeginningOfBuffer(Ae,Ae.getCursorStates(),this._inSelectionMode)),Ae.revealPrimaryCursor(ge.source,!0)}}Y.CursorTop=(0,L.fK)(new Te({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2062,mac:{primary:2064}}})),Y.CursorTopSelect=(0,L.fK)(new Te({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class rt extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,r.moveToEndOfBuffer(Ae,Ae.getCursorStates(),this._inSelectionMode)),Ae.revealPrimaryCursor(ge.source,!0)}}Y.CursorBottom=(0,L.fK)(new rt({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2061,mac:{primary:2066}}})),Y.CursorBottomSelect=(0,L.fK)(new rt({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Rt extends h{constructor(){super({id:"editorScroll",precondition:void 0,description:y.description})}runCoreEditorCommand(Ae,ge){const Re=y.parse(ge);Re&&this._runEditorScroll(Ae,ge.source,Re)}_runEditorScroll(Ae,ge,Re){const ot=this._computeDesiredScrollTop(Ae,Re);if(Re.revealCursor){const dt=Ae.getCompletelyVisibleViewRangeAtScrollTop(ot);Ae.setCursorStates(ge,3,[r.findPositionInViewportIfOutside(Ae,Ae.getPrimaryCursorState(),dt,Re.select)])}Ae.setScrollTop(ot,0)}_computeDesiredScrollTop(Ae,ge){if(ge.unit===1){const dt=Ae.getCompletelyVisibleViewRange(),lt=Ae.coordinatesConverter.convertViewRangeToModelRange(dt);let Ie;ge.direction===1?Ie=Math.max(1,lt.startLineNumber-ge.value):Ie=Math.min(Ae.model.getLineCount(),lt.startLineNumber+ge.value);const Pe=Ae.coordinatesConverter.convertModelPositionToViewPosition(new W.L(Ie,1));return Ae.getVerticalOffsetForLineNumber(Pe.lineNumber)}let Re;ge.unit===3?Re=Ae.cursorConfig.pageSize*ge.value:ge.unit===4?Re=Math.round(Ae.cursorConfig.pageSize/2)*ge.value:Re=ge.value;const ot=(ge.direction===1?-1:1)*Re;return Ae.getScrollTop()+ot*Ae.cursorConfig.lineHeight}}Y.EditorScrollImpl=Rt,Y.EditorScroll=(0,L.fK)(new Rt),Y.ScrollLineUp=(0,L.fK)(new class extends h{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Je,Ae){Y.EditorScroll._runEditorScroll(Je,Ae.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),Y.ScrollPageUp=(0,L.fK)(new class extends h{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Je,Ae){Y.EditorScroll._runEditorScroll(Je,Ae.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),Y.ScrollLineDown=(0,L.fK)(new class extends h{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Je,Ae){Y.EditorScroll._runEditorScroll(Je,Ae.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),Y.ScrollPageDown=(0,L.fK)(new class extends h{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Je,Ae){Y.EditorScroll._runEditorScroll(Je,Ae.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class mt extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,[r.word(Ae,Ae.getPrimaryCursorState(),this._inSelectionMode,ge.position)]),Ae.revealPrimaryCursor(ge.source,!0)}}Y.WordSelect=(0,L.fK)(new mt({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),Y.WordSelectDrag=(0,L.fK)(new mt({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),Y.LastCursorWordSelect=(0,L.fK)(new class extends h{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Je,Ae){const ge=Je.getLastAddedCursorIndex(),Re=Je.getCursorStates(),ot=Re.slice(0),dt=Re[ge];ot[ge]=r.word(Je,dt,dt.modelState.hasSelection(),Ae.position),Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,ot)}});class Mt extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,[r.line(Ae,Ae.getPrimaryCursorState(),this._inSelectionMode,ge.position,ge.viewPosition)]),Ae.revealPrimaryCursor(ge.source,!1)}}Y.LineSelect=(0,L.fK)(new Mt({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),Y.LineSelectDrag=(0,L.fK)(new Mt({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class it extends h{constructor(Ae){super(Ae),this._inSelectionMode=Ae.inSelectionMode}runCoreEditorCommand(Ae,ge){const Re=Ae.getLastAddedCursorIndex(),ot=Ae.getCursorStates(),dt=ot.slice(0);dt[Re]=r.line(Ae,ot[Re],this._inSelectionMode,ge.position,ge.viewPosition),Ae.model.pushStackElement(),Ae.setCursorStates(ge.source,3,dt)}}Y.LastCursorLineSelect=(0,L.fK)(new it({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),Y.LastCursorLineSelectDrag=(0,L.fK)(new it({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),Y.ExpandLineSelection=(0,L.fK)(new class extends h{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2090}})}runCoreEditorCommand(Je,Ae){Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,r.expandLineSelection(Je,Je.getCursorStates())),Je.revealPrimaryCursor(Ae.source,!0)}}),Y.CancelSelection=(0,L.fK)(new class extends h{constructor(){super({id:"cancelSelection",precondition:x.u.hasNonEmptySelection,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Je,Ae){Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,[r.cancelSelection(Je,Je.getPrimaryCursorState())]),Je.revealPrimaryCursor(Ae.source,!0)}}),Y.RemoveSecondaryCursors=(0,L.fK)(new class extends h{constructor(){super({id:"removeSecondaryCursors",precondition:x.u.hasMultipleSelections,kbOpts:{weight:S+1,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Je,Ae){Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,[Je.getPrimaryCursorState()]),Je.revealPrimaryCursor(Ae.source,!0),(0,P.i7)(D.N("removedCursor","Removed secondary cursors"))}}),Y.RevealLine=(0,L.fK)(new class extends h{constructor(){super({id:"revealLine",precondition:void 0,description:v.description})}runCoreEditorCommand(Je,Ae){const ge=Ae,Re=ge.lineNumber||0;let ot=typeof Re=="number"?Re+1:parseInt(Re)+1;ot<1&&(ot=1);const dt=Je.model.getLineCount();ot>dt&&(ot=dt);const lt=new s.e(ot,1,ot,Je.model.getLineMaxColumn(ot));let Ie=0;if(ge.at)switch(ge.at){case v.RawAtArgument.Top:Ie=3;break;case v.RawAtArgument.Center:Ie=1;break;case v.RawAtArgument.Bottom:Ie=4;break;default:break}const Pe=Je.coordinatesConverter.convertModelRangeToViewRange(lt);Je.revealRange(Ae.source,!1,Pe,Ie,0)}}),Y.SelectAll=new class extends B{constructor(){super(L.Sq)}runDOMCommand(){O.vU&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Je,Ae,ge){const Re=Ae._getViewModel();Re&&this.runCoreEditorCommand(Re,ge)}runCoreEditorCommand(Je,Ae){Je.model.pushStackElement(),Je.setCursorStates("keyboard",3,[r.selectAll(Je,Je.getPrimaryCursorState())])}},Y.SetSelection=(0,L.fK)(new class extends h{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Je,Ae){Je.model.pushStackElement(),Je.setCursorStates(Ae.source,3,[R.Vi.fromModelSelection(Ae.selection)])}})})(j||(j={}));const te=f.Ao.and(x.u.textInputFocus,x.u.columnSelection);function ce(Y,$){_.W.registerKeybindingRule({id:Y,primary:$,when:te,weight:S+1})}ce(j.CursorColumnSelectLeft.id,1039),ce(j.CursorColumnSelectRight.id,1041),ce(j.CursorColumnSelectUp.id,1040),ce(j.CursorColumnSelectPageUp.id,1035),ce(j.CursorColumnSelectDown.id,1042),ce(j.CursorColumnSelectPageDown.id,1036);function _e(Y){return Y.register(),Y}var Ce;(function(Y){class $ extends L._l{runEditorCommand(ee,m,w){const F=m._getViewModel();F&&this.runCoreEditingCommand(m,F,w||{})}}Y.CoreEditingCommand=$,Y.LineBreakInsert=(0,L.fK)(new class extends ${constructor(){super({id:"lineBreakInsert",precondition:x.u.writable,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(G,ee,m){G.pushUndoStop(),G.executeCommands(this.id,C.u.lineBreakInsert(ee.cursorConfig,ee.model,ee.getCursorStates().map(w=>w.modelState.selection)))}}),Y.Outdent=(0,L.fK)(new class extends ${constructor(){super({id:"outdent",precondition:x.u.writable,kbOpts:{weight:S,kbExpr:f.Ao.and(x.u.editorTextFocus,x.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(G,ee,m){G.pushUndoStop(),G.executeCommands(this.id,C.u.outdent(ee.cursorConfig,ee.model,ee.getCursorStates().map(w=>w.modelState.selection))),G.pushUndoStop()}}),Y.Tab=(0,L.fK)(new class extends ${constructor(){super({id:"tab",precondition:x.u.writable,kbOpts:{weight:S,kbExpr:f.Ao.and(x.u.editorTextFocus,x.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(G,ee,m){G.pushUndoStop(),G.executeCommands(this.id,C.u.tab(ee.cursorConfig,ee.model,ee.getCursorStates().map(w=>w.modelState.selection))),G.pushUndoStop()}}),Y.DeleteLeft=(0,L.fK)(new class extends ${constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(G,ee,m){const[w,F]=g.A.deleteLeft(ee.getPrevEditOperationType(),ee.cursorConfig,ee.model,ee.getCursorStates().map(ie=>ie.modelState.selection),ee.getCursorAutoClosedCharacters());w&&G.pushUndoStop(),G.executeCommands(this.id,F),ee.setPrevEditOperationType(2)}}),Y.DeleteRight=(0,L.fK)(new class extends ${constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(G,ee,m){const[w,F]=g.A.deleteRight(ee.getPrevEditOperationType(),ee.cursorConfig,ee.model,ee.getCursorStates().map(ie=>ie.modelState.selection));w&&G.pushUndoStop(),G.executeCommands(this.id,F),ee.setPrevEditOperationType(3)}}),Y.Undo=new class extends B{constructor(){super(L.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(G,ee,m){if(!(!ee.hasModel()||ee.getOption(80)===!0))return ee.getModel().undo()}},Y.Redo=new class extends B{constructor(){super(L.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(G,ee,m){if(!(!ee.hasModel()||ee.getOption(80)===!0))return ee.getModel().redo()}}})(Ce||(Ce={}));class Ee extends L.mY{constructor($,G,ee){super({id:$,precondition:void 0,description:ee}),this._handlerId=G}runCommand($,G){const ee=$.get(J.$).getFocusedCodeEditor();ee&&ee.trigger("keyboard",this._handlerId,G)}}function le(Y,$){_e(new Ee("default:"+Y,Y)),_e(new Ee(Y,Y,$))}le("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),le("replacePreviousChar"),le("compositionType"),le("compositionStart"),le("compositionEnd"),le("paste"),le("cut")},55812:function(ti,Ge,c){"use strict";c.d(Ge,{yy:function(){return r},Dl:function(){return N},ZF:function(){return x},YQ:function(){return C}});var D=c(97295),O=c(24314),Q=c(71050),P=c(5976),L=c(16830),J=c(38819),R=c(91741),W=c(72065),s=c(65026),T=c(63580);const g=(0,W.yh)("IEditorCancelService"),E=new J.uy("cancellableOperation",!1,(0,T.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,s.z)(g,class{constructor(){this._tokens=new WeakMap}add(f,_){let S=this._tokens.get(f);S||(S=f.invokeWithinContext(y=>{const v=E.bindTo(y.get(J.i6)),B=new R.S;return{key:v,tokens:B}}),this._tokens.set(f,S));let h;return S.key.set(!0),h=S.tokens.push(_),()=>{h&&(h(),S.key.set(!S.tokens.isEmpty()),h=void 0)}}cancel(f){const _=this._tokens.get(f);if(!_)return;const S=_.tokens.pop();S&&(S.cancel(),_.key.set(!_.tokens.isEmpty()))}},!0);class H extends Q.A{constructor(_,S){super(S),this.editor=_,this._unregister=_.invokeWithinContext(h=>h.get(g).add(_,this))}dispose(){this._unregister(),super.dispose()}}(0,L.fK)(new class extends L._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:E})}runEditorCommand(f,_){f.get(g).cancel(_)}});class r{constructor(_,S){if(this.flags=S,this.flags&1){const h=_.getModel();this.modelVersionId=h?D.WU("{0}#{1}",h.uri.toString(),h.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=_.getPosition():this.position=null,this.flags&2?this.selection=_.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=_.getScrollLeft(),this.scrollTop=_.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(_){if(!(_ instanceof r))return!1;const S=_;return!(this.modelVersionId!==S.modelVersionId||this.scrollLeft!==S.scrollLeft||this.scrollTop!==S.scrollTop||!this.position&&S.position||this.position&&!S.position||this.position&&S.position&&!this.position.equals(S.position)||!this.selection&&S.selection||this.selection&&!S.selection||this.selection&&S.selection&&!this.selection.equalsRange(S.selection))}validate(_){return this._equals(new r(_,this.flags))}}class N extends H{constructor(_,S,h,y){super(_,y),this._listener=new P.SL,S&4&&this._listener.add(_.onDidChangeCursorPosition(v=>{(!h||!O.e.containsPosition(h,v.position))&&this.cancel()})),S&2&&this._listener.add(_.onDidChangeCursorSelection(v=>{(!h||!O.e.containsRange(h,v.selection))&&this.cancel()})),S&8&&this._listener.add(_.onDidScrollChange(v=>this.cancel())),S&1&&(this._listener.add(_.onDidChangeModel(v=>this.cancel())),this._listener.add(_.onDidChangeModelContent(v=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class C extends Q.A{constructor(_,S){super(S),this._listener=_.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class x{constructor(_,S,h){this._visiblePosition=_,this._visiblePositionScrollDelta=S,this._cursorPosition=h}static capture(_){let S=null,h=0;if(_.getScrollTop()!==0){const y=_.getVisibleRanges();if(y.length>0){S=y[0].getStartPosition();const v=_.getTopForPosition(S.lineNumber,S.column);h=_.getScrollTop()-v}}return new x(S,h,_.getPosition())}restore(_){if(this._visiblePosition){const S=_.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);_.setScrollTop(S+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(_){const S=_.getPosition();if(!this._cursorPosition||!S)return;const h=_.getTopForLineNumber(S.lineNumber)-_.getTopForLineNumber(this._cursorPosition.lineNumber);_.setScrollTop(_.getScrollTop()+h)}}},53430:function(ti,Ge,c){"use strict";c.d(Ge,{$:function(){return Xi}});var D=c(65321);function O(wt){if(Array.isArray(wt)){for(var ht=0,Et=Array(wt.length);ht<wt.length;ht++)Et[ht]=wt[ht];return Et}else return Array.from(wt)}var Q=Object.hasOwnProperty,P=Object.setPrototypeOf,L=Object.isFrozen,J=Object.getPrototypeOf,R=Object.getOwnPropertyDescriptor,W=Object.freeze,s=Object.seal,T=Object.create,g=typeof Reflect!="undefined"&&Reflect,E=g.apply,H=g.construct;E||(E=function(ht,Et,He){return ht.apply(Et,He)}),W||(W=function(ht){return ht}),s||(s=function(ht){return ht}),H||(H=function(ht,Et){return new(Function.prototype.bind.apply(ht,[null].concat(O(Et))))});var r=B(Array.prototype.forEach),N=B(Array.prototype.pop),C=B(Array.prototype.push),x=B(String.prototype.toLowerCase),f=B(String.prototype.match),_=B(String.prototype.replace),S=B(String.prototype.indexOf),h=B(String.prototype.trim),y=B(RegExp.prototype.test),v=j(TypeError);function B(wt){return function(ht){for(var Et=arguments.length,He=Array(Et>1?Et-1:0),nt=1;nt<Et;nt++)He[nt-1]=arguments[nt];return E(wt,ht,He)}}function j(wt){return function(){for(var ht=arguments.length,Et=Array(ht),He=0;He<ht;He++)Et[He]=arguments[He];return H(wt,Et)}}function te(wt,ht){P&&P(wt,null);for(var Et=ht.length;Et--;){var He=ht[Et];if(typeof He=="string"){var nt=x(He);nt!==He&&(L(ht)||(ht[Et]=nt),He=nt)}wt[He]=!0}return wt}function ce(wt){var ht=T(null),Et=void 0;for(Et in wt)E(Q,wt,[Et])&&(ht[Et]=wt[Et]);return ht}function _e(wt,ht){for(;wt!==null;){var Et=R(wt,ht);if(Et){if(Et.get)return B(Et.get);if(typeof Et.value=="function")return B(Et.value)}wt=J(wt)}function He(nt){return console.warn("fallback value for",nt),null}return He}var Ce=W(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ee=W(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),le=W(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y=W(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=W(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=W(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ee=W(["#text"]),m=W(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),w=W(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=W(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ie=W(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pe=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ue=s(/<%[\s\S]*|[\s\S]*%>/gm),ke=s(/^data-[\-\w.\u00B7-\uFFFF]/),Te=s(/^aria-[\-\w]+$/),rt=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rt=s(/^(?:\w+script|data):/i),mt=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt};function it(wt){if(Array.isArray(wt)){for(var ht=0,Et=Array(wt.length);ht<wt.length;ht++)Et[ht]=wt[ht];return Et}else return Array.from(wt)}var Je=function(){return typeof window=="undefined"?null:window},Ae=function(ht,Et){if((typeof ht=="undefined"?"undefined":Mt(ht))!=="object"||typeof ht.createPolicy!="function")return null;var He=null,nt="data-tt-policy-suffix";Et.currentScript&&Et.currentScript.hasAttribute(nt)&&(He=Et.currentScript.getAttribute(nt));var pt="dompurify"+(He?"#"+He:"");try{return ht.createPolicy(pt,{createHTML:function(oi){return oi}})}catch(ft){return console.warn("TrustedTypes policy "+pt+" could not be created."),null}};function ge(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Je(),ht=function(jt){return ge(jt)};if(ht.version="2.3.1",ht.removed=[],!wt||!wt.document||wt.document.nodeType!==9)return ht.isSupported=!1,ht;var Et=wt.document,He=wt.document,nt=wt.DocumentFragment,pt=wt.HTMLTemplateElement,ft=wt.Node,oi=wt.Element,Hi=wt.NodeFilter,vi=wt.NamedNodeMap,Ii=vi===void 0?wt.NamedNodeMap||wt.MozNamedAttrMap:vi,Ui=wt.Text,dn=wt.Comment,gn=wt.DOMParser,Ri=wt.trustedTypes,_i=oi.prototype,hn=_e(_i,"cloneNode"),wn=_e(_i,"nextSibling"),Qn=_e(_i,"childNodes"),os=_e(_i,"parentNode");if(typeof pt=="function"){var Yn=He.createElement("template");Yn.content&&Yn.content.ownerDocument&&(He=Yn.content.ownerDocument)}var Ts=Ae(Ri,Et),Co=Ts&&Di?Ts.createHTML(""):"",Vs=He,cs=Vs.implementation,oo=Vs.createNodeIterator,to=Vs.createDocumentFragment,Gs=Vs.getElementsByTagName,Ss=Et.importNode,Rs={};try{Rs=ce(He).documentMode?He.documentMode:{}}catch(Gi){}var Hs={};ht.isSupported=typeof os=="function"&&cs&&typeof cs.createHTMLDocument!="undefined"&&Rs!==9;var io=pe,Ks=ue,zs=ke,ho=Te,jn=Rt,lo=mt,ts=rt,Un=null,Zs=te({},[].concat(it(Ce),it(Ee),it(le),it($),it(ee))),Xn=null,Ys=te({},[].concat(it(m),it(w),it(F),it(ie))),xs=null,Xs=null,pi=!0,me=!0,ct=!1,gt=!1,Bt=!1,Gt=!1,bi=!1,li=!1,ei=!1,ki=!0,Di=!1,Pn=!0,kt=!0,V=!1,ae={},Ne=null,qe=te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bt=null,$t=te({},["audio","video","img","source","image","track"]),ni=null,mi=te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ai="http://www.w3.org/1998/Math/MathML",Ei="http://www.w3.org/2000/svg",Bi="http://www.w3.org/1999/xhtml",ln=Bi,Ti=!1,on=null,en=He.createElement("form"),pn=function(jt){on&&on===jt||((!jt||(typeof jt=="undefined"?"undefined":Mt(jt))!=="object")&&(jt={}),jt=ce(jt),Un="ALLOWED_TAGS"in jt?te({},jt.ALLOWED_TAGS):Zs,Xn="ALLOWED_ATTR"in jt?te({},jt.ALLOWED_ATTR):Ys,ni="ADD_URI_SAFE_ATTR"in jt?te(ce(mi),jt.ADD_URI_SAFE_ATTR):mi,bt="ADD_DATA_URI_TAGS"in jt?te(ce($t),jt.ADD_DATA_URI_TAGS):$t,Ne="FORBID_CONTENTS"in jt?te({},jt.FORBID_CONTENTS):qe,xs="FORBID_TAGS"in jt?te({},jt.FORBID_TAGS):{},Xs="FORBID_ATTR"in jt?te({},jt.FORBID_ATTR):{},ae="USE_PROFILES"in jt?jt.USE_PROFILES:!1,pi=jt.ALLOW_ARIA_ATTR!==!1,me=jt.ALLOW_DATA_ATTR!==!1,ct=jt.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=jt.SAFE_FOR_TEMPLATES||!1,Bt=jt.WHOLE_DOCUMENT||!1,li=jt.RETURN_DOM||!1,ei=jt.RETURN_DOM_FRAGMENT||!1,ki=jt.RETURN_DOM_IMPORT!==!1,Di=jt.RETURN_TRUSTED_TYPE||!1,bi=jt.FORCE_BODY||!1,Pn=jt.SANITIZE_DOM!==!1,kt=jt.KEEP_CONTENT!==!1,V=jt.IN_PLACE||!1,ts=jt.ALLOWED_URI_REGEXP||ts,ln=jt.NAMESPACE||Bi,gt&&(me=!1),ei&&(li=!0),ae&&(Un=te({},[].concat(it(ee))),Xn=[],ae.html===!0&&(te(Un,Ce),te(Xn,m)),ae.svg===!0&&(te(Un,Ee),te(Xn,w),te(Xn,ie)),ae.svgFilters===!0&&(te(Un,le),te(Xn,w),te(Xn,ie)),ae.mathMl===!0&&(te(Un,$),te(Xn,F),te(Xn,ie))),jt.ADD_TAGS&&(Un===Zs&&(Un=ce(Un)),te(Un,jt.ADD_TAGS)),jt.ADD_ATTR&&(Xn===Ys&&(Xn=ce(Xn)),te(Xn,jt.ADD_ATTR)),jt.ADD_URI_SAFE_ATTR&&te(ni,jt.ADD_URI_SAFE_ATTR),jt.FORBID_CONTENTS&&(Ne===qe&&(Ne=ce(Ne)),te(Ne,jt.FORBID_CONTENTS)),kt&&(Un["#text"]=!0),Bt&&te(Un,["html","head","body"]),Un.table&&(te(Un,["tbody"]),delete xs.tbody),W&&W(jt),on=jt)},$n=te({},["mi","mo","mn","ms","mtext"]),Ds=te({},["foreignobject","desc","title","annotation-xml"]),Cn=te({},Ee);te(Cn,le),te(Cn,Y);var Kt=te({},$);te(Kt,G);var ve=function(jt){var wi=os(jt);(!wi||!wi.tagName)&&(wi={namespaceURI:Bi,tagName:"template"});var Ki=x(jt.tagName),qn=x(wi.tagName);if(jt.namespaceURI===Ei)return wi.namespaceURI===Bi?Ki==="svg":wi.namespaceURI===Ai?Ki==="svg"&&(qn==="annotation-xml"||$n[qn]):!!Cn[Ki];if(jt.namespaceURI===Ai)return wi.namespaceURI===Bi?Ki==="math":wi.namespaceURI===Ei?Ki==="math"&&Ds[qn]:!!Kt[Ki];if(jt.namespaceURI===Bi){if(wi.namespaceURI===Ei&&!Ds[qn]||wi.namespaceURI===Ai&&!$n[qn])return!1;var ls=te({},["title","style","font","a","script"]);return!Kt[Ki]&&(ls[Ki]||!Cn[Ki])}return!1},Me=function(jt){C(ht.removed,{element:jt});try{jt.parentNode.removeChild(jt)}catch(wi){try{jt.outerHTML=Co}catch(Ki){jt.remove()}}},Ue=function(jt,wi){try{C(ht.removed,{attribute:wi.getAttributeNode(jt),from:wi})}catch(Ki){C(ht.removed,{attribute:null,from:wi})}if(wi.removeAttribute(jt),jt==="is"&&!Xn[jt])if(li||ei)try{Me(wi)}catch(Ki){}else try{wi.setAttribute(jt,"")}catch(Ki){}},vt=function(jt){var wi=void 0,Ki=void 0;if(bi)jt="<remove></remove>"+jt;else{var qn=f(jt,/^[\r\n\t ]+/);Ki=qn&&qn[0]}var ls=Ts?Ts.createHTML(jt):jt;if(ln===Bi)try{wi=new gn().parseFromString(ls,"text/html")}catch(Be){}if(!wi||!wi.documentElement){wi=cs.createDocument(ln,"template",null);try{wi.documentElement.innerHTML=Ti?"":ls}catch(Be){}}var Cs=wi.body||wi.documentElement;return jt&&Ki&&Cs.insertBefore(He.createTextNode(Ki),Cs.childNodes[0]||null),ln===Bi?Gs.call(wi,Bt?"html":"body")[0]:Bt?wi.documentElement:Cs},yt=function(jt){return oo.call(jt.ownerDocument||jt,jt,Hi.SHOW_ELEMENT|Hi.SHOW_COMMENT|Hi.SHOW_TEXT,null,!1)},si=function(jt){return jt instanceof Ui||jt instanceof dn?!1:typeof jt.nodeName!="string"||typeof jt.textContent!="string"||typeof jt.removeChild!="function"||!(jt.attributes instanceof Ii)||typeof jt.removeAttribute!="function"||typeof jt.setAttribute!="function"||typeof jt.namespaceURI!="string"||typeof jt.insertBefore!="function"},Jt=function(jt){return(typeof ft=="undefined"?"undefined":Mt(ft))==="object"?jt instanceof ft:jt&&(typeof jt=="undefined"?"undefined":Mt(jt))==="object"&&typeof jt.nodeType=="number"&&typeof jt.nodeName=="string"},un=function(jt,wi,Ki){Hs[jt]&&r(Hs[jt],function(qn){qn.call(ht,wi,Ki,on)})},xn=function(jt){var wi=void 0;if(un("beforeSanitizeElements",jt,null),si(jt)||f(jt.nodeName,/[\u0080-\uFFFF]/))return Me(jt),!0;var Ki=x(jt.nodeName);if(un("uponSanitizeElement",jt,{tagName:Ki,allowedTags:Un}),!Jt(jt.firstElementChild)&&(!Jt(jt.content)||!Jt(jt.content.firstElementChild))&&y(/<[/\w]/g,jt.innerHTML)&&y(/<[/\w]/g,jt.textContent)||Ki==="select"&&y(/<template/i,jt.innerHTML))return Me(jt),!0;if(!Un[Ki]||xs[Ki]){if(kt&&!Ne[Ki]){var qn=os(jt)||jt.parentNode,ls=Qn(jt)||jt.childNodes;if(ls&&qn)for(var Cs=ls.length,Be=Cs-1;Be>=0;--Be)qn.insertBefore(hn(ls[Be],!0),wn(jt))}return Me(jt),!0}return jt instanceof oi&&!ve(jt)||(Ki==="noscript"||Ki==="noembed")&&y(/<\/no(script|embed)/i,jt.innerHTML)?(Me(jt),!0):(gt&&jt.nodeType===3&&(wi=jt.textContent,wi=_(wi,io," "),wi=_(wi,Ks," "),jt.textContent!==wi&&(C(ht.removed,{element:jt.cloneNode()}),jt.textContent=wi)),un("afterSanitizeElements",jt,null),!1)},Pi=function(jt,wi,Ki){if(Pn&&(wi==="id"||wi==="name")&&(Ki in He||Ki in en))return!1;if(!(me&&!Xs[wi]&&y(zs,wi))){if(!(pi&&y(ho,wi))){if(!Xn[wi]||Xs[wi])return!1;if(!ni[wi]){if(!y(ts,_(Ki,lo,""))){if(!((wi==="src"||wi==="xlink:href"||wi==="href")&&jt!=="script"&&S(Ki,"data:")===0&&bt[jt])){if(!(ct&&!y(jn,_(Ki,lo,"")))){if(Ki)return!1}}}}}}return!0},Ji=function(jt){var wi=void 0,Ki=void 0,qn=void 0,ls=void 0;un("beforeSanitizeAttributes",jt,null);var Cs=jt.attributes;if(Cs){var Be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xn};for(ls=Cs.length;ls--;){wi=Cs[ls];var d=wi,M=d.name,U=d.namespaceURI;if(Ki=h(wi.value),qn=x(M),Be.attrName=qn,Be.attrValue=Ki,Be.keepAttr=!0,Be.forceKeepAttr=void 0,un("uponSanitizeAttribute",jt,Be),Ki=Be.attrValue,!Be.forceKeepAttr&&(Ue(M,jt),!!Be.keepAttr)){if(y(/\/>/i,Ki)){Ue(M,jt);continue}gt&&(Ki=_(Ki,io," "),Ki=_(Ki,Ks," "));var re=jt.nodeName.toLowerCase();if(Pi(re,qn,Ki))try{U?jt.setAttributeNS(U,M,Ki):jt.setAttribute(M,Ki),N(ht.removed)}catch(fe){}}}un("afterSanitizeAttributes",jt,null)}},_n=function Gi(jt){var wi=void 0,Ki=yt(jt);for(un("beforeSanitizeShadowDOM",jt,null);wi=Ki.nextNode();)un("uponSanitizeShadowNode",wi,null),!xn(wi)&&(wi.content instanceof nt&&Gi(wi.content),Ji(wi));un("afterSanitizeShadowDOM",jt,null)};return ht.sanitize=function(Gi,jt){var wi=void 0,Ki=void 0,qn=void 0,ls=void 0,Cs=void 0;if(Ti=!Gi,Ti&&(Gi="<!-->"),typeof Gi!="string"&&!Jt(Gi)){if(typeof Gi.toString!="function")throw v("toString is not a function");if(Gi=Gi.toString(),typeof Gi!="string")throw v("dirty is not a string, aborting")}if(!ht.isSupported){if(Mt(wt.toStaticHTML)==="object"||typeof wt.toStaticHTML=="function"){if(typeof Gi=="string")return wt.toStaticHTML(Gi);if(Jt(Gi))return wt.toStaticHTML(Gi.outerHTML)}return Gi}if(Gt||pn(jt),ht.removed=[],typeof Gi=="string"&&(V=!1),!V)if(Gi instanceof ft)wi=vt("<!---->"),Ki=wi.ownerDocument.importNode(Gi,!0),Ki.nodeType===1&&Ki.nodeName==="BODY"||Ki.nodeName==="HTML"?wi=Ki:wi.appendChild(Ki);else{if(!li&&!gt&&!Bt&&Gi.indexOf("<")===-1)return Ts&&Di?Ts.createHTML(Gi):Gi;if(wi=vt(Gi),!wi)return li?null:Co}wi&&bi&&Me(wi.firstChild);for(var Be=yt(V?Gi:wi);qn=Be.nextNode();)qn.nodeType===3&&qn===ls||xn(qn)||(qn.content instanceof nt&&_n(qn.content),Ji(qn),ls=qn);if(ls=null,V)return Gi;if(li){if(ei)for(Cs=to.call(wi.ownerDocument);wi.firstChild;)Cs.appendChild(wi.firstChild);else Cs=wi;return ki&&(Cs=Ss.call(Et,Cs,!0)),Cs}var d=Bt?wi.outerHTML:wi.innerHTML;return gt&&(d=_(d,io," "),d=_(d,Ks," ")),Ts&&Di?Ts.createHTML(d):d},ht.setConfig=function(Gi){pn(Gi),Gt=!0},ht.clearConfig=function(){on=null,Gt=!1},ht.isValidAttribute=function(Gi,jt,wi){on||pn({});var Ki=x(Gi),qn=x(jt);return Pi(Ki,qn,wi)},ht.addHook=function(Gi,jt){typeof jt=="function"&&(Hs[Gi]=Hs[Gi]||[],C(Hs[Gi],jt))},ht.removeHook=function(Gi){Hs[Gi]&&N(Hs[Gi])},ht.removeHooks=function(Gi){Hs[Gi]&&(Hs[Gi]=[])},ht.removeAllHooks=function(){Hs={}},ht}var Re=ge(),ot=null;const dt=Re.version,lt=Re.isSupported,Ie=Re.sanitize,Pe=Re.setConfig,ye=Re.clearConfig,Xe=Re.isValidAttribute,st=Re.addHook,Pt=Re.removeHook,qt=Re.removeHooks,Ci=Re.removeAllHooks;var ii=c(4850),At=c(94079),Qi=c(23938),ci=c(56811),je=c(15393),at=c(71050),Ni=c(17301),fi=c(4669),Wi=c(59365),Rn=c(21212),zi=c(44742),as=c(5976),Fn=c(33720),An=c(23897),$i=c(66663),Nn=c(36248),sn=c(95935),$e=c(97295),It=c(70666);function xt(wt,ht={},Et={}){var He;const nt=new as.SL;let pt=!1;const ft=nt.add(new at.A),oi=(0,At.az)(ht),Hi=function(_i){let hn;try{hn=(0,An.Q)(decodeURIComponent(_i))}catch(wn){}return hn?(hn=(0,Nn.rs)(hn,wn=>{if(wt.uris&&wt.uris[wn])return It.o.revive(wt.uris[wn])}),encodeURIComponent(JSON.stringify(hn))):_i},vi=function(_i,hn){const wn=wt.uris&&wt.uris[_i];if(!wn)return _i;let Qn=It.o.revive(wn);return hn?_i.startsWith($i.lg.data+":")?_i:$i.Gi.asBrowserUri(Qn).toString(!0):It.o.parse(_i).toString()===Qn.toString()?_i:(Qn.query&&(Qn=Qn.with({query:Hi(Qn.query)})),Qn.toString())};let Ii;const Ui=new Promise(_i=>Ii=_i),dn=new Fn.Th;if(dn.image=(_i,hn,wn)=>{let Qn=[],os=[];if(_i){({href:_i,dimensions:Qn}=(0,Wi.v1)(_i)),_i=vi(_i,!0);try{const Yn=It.o.parse(_i);ht.baseUrl&&Yn.scheme===$i.lg.file&&(_i=(0,sn.i3)(ht.baseUrl,_i).toString())}catch(Yn){}os.push(`src="${_i}"`)}return wn&&os.push(`alt="${wn}"`),hn&&os.push(`title="${hn}"`),Qn.length&&(os=os.concat(Qn)),"<img "+os.join(" ")+">"},dn.link=(_i,hn,wn)=>(_i===wn&&(wn=(0,Wi.oR)(wn)),_i=vi(_i,!1),ht.baseUrl&&(/^\w[\w\d+.-]*:/.test(_i)||(_i=(0,sn.i3)(ht.baseUrl,_i).toString())),hn=(0,Wi.oR)(hn),_i=(0,Wi.oR)(_i),!_i||_i.match(/^data:|javascript:/i)||_i.match(/^command:/i)&&!wt.isTrusted||_i.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?wn:(_i=_i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${_i}" title="${hn||_i}">${wn}</a>`)),dn.paragraph=_i=>`<p>${_i}</p>`,ht.codeBlockRenderer&&(dn.code=(_i,hn)=>{const wn=ht.codeBlockRenderer(hn,_i),Qn=zi.a.nextId();return(0,je.eP)(Promise.all([wn,Ui]),ft.token).then(os=>{var Yn;if(!pt&&os){const Ts=oi.querySelector(`div[data-code="${Qn}"]`);Ts&&D.mc(Ts,os[0]),(Yn=ht.asyncRenderCallback)===null||Yn===void 0||Yn.call(ht)}}).catch(()=>{}),`<div class="code" data-code="${Qn}">${(0,$e.YU)(_i)}</div>`}),ht.actionHandler){const _i=ht.actionHandler.disposables.add(new ii.Y(oi,"click")),hn=ht.actionHandler.disposables.add(new ii.Y(oi,"auxclick"));ht.actionHandler.disposables.add(fi.ju.any(_i.event,hn.event)(wn=>{const Qn=new Qi.n(wn);if(!Qn.leftButton&&!Qn.middleButton)return;let os=Qn.target;if(!(os.tagName!=="A"&&(os=os.parentElement,!os||os.tagName!=="A")))try{const Yn=os.dataset.href;Yn&&ht.actionHandler.callback(Yn,Qn)}catch(Yn){(0,Ni.dL)(Yn)}finally{Qn.preventDefault()}}))}wt.supportHtml||(Et.sanitizer=_i=>(wt.isTrusted?_i.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?_i:"",Et.sanitize=!0,Et.silent=!0),Et.renderer=dn;let gn=(He=wt.value)!==null&&He!==void 0?He:"";gn.length>1e5&&(gn=`${gn.substr(0,1e5)}\u2026`),wt.supportThemeIcons&&(gn=(0,Rn.f$)(gn));let Ri=Fn.Qc(gn,Et);if(wt.supportThemeIcons&&(Ri=(0,ci.T)(Ri).map(hn=>typeof hn=="string"?hn:hn.outerHTML).join("")),oi.innerHTML=Qe(wt,Ri),Ii(),ht.asyncRenderCallback)for(const _i of oi.getElementsByTagName("img")){const hn=nt.add(D.nm(_i,"load",()=>{hn.dispose(),ht.asyncRenderCallback()}))}return{element:oi,dispose:()=>{pt=!0,ft.cancel(),nt.dispose()}}}function Qe(wt,ht){const{config:Et,allowedSchemes:He}=tt(wt);st("uponSanitizeAttribute",(pt,ft)=>{if(ft.attrName==="style"||ft.attrName==="class"){if(pt.tagName==="SPAN"){if(ft.attrName==="style"){ft.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(ft.attrValue);return}else if(ft.attrName==="class"){ft.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ft.attrValue);return}}ft.keepAttr=!1;return}});const nt=document.createElement("a");st("afterSanitizeAttributes",pt=>{for(const ft of["href","src"])pt.hasAttribute(ft)&&(nt.href=pt.getAttribute(ft),He.includes(nt.protocol.replace(/:$/,""))||pt.removeAttribute(ft))});try{return Ie(ht,Object.assign(Object.assign({},Et),{RETURN_TRUSTED_TYPE:!0}))}finally{Pt("uponSanitizeAttribute"),Pt("afterSanitizeAttributes")}}function tt(wt){const ht=[$i.lg.http,$i.lg.https,$i.lg.mailto,$i.lg.data,$i.lg.file,$i.lg.vscodeFileResource,$i.lg.vscodeRemote,$i.lg.vscodeRemoteResource];return wt.isTrusted&&ht.push($i.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:ht}}var Nt=c(50988),Tt=c(71531),Yt=c(55713),ai=c(10351),Si=c(87917),qi=function(wt,ht,Et,He){var nt=arguments.length,pt=nt<3?ht:He===null?He=Object.getOwnPropertyDescriptor(ht,Et):He,ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(wt,ht,Et,He);else for(var oi=wt.length-1;oi>=0;oi--)(ft=wt[oi])&&(pt=(nt<3?ft(pt):nt>3?ft(ht,Et,pt):ft(ht,Et))||pt);return nt>3&&pt&&Object.defineProperty(ht,Et,pt),pt},ji=function(wt,ht){return function(Et,He){ht(Et,He,wt)}},Zn=function(wt,ht,Et,He){function nt(pt){return pt instanceof Et?pt:new Et(function(ft){ft(pt)})}return new(Et||(Et=Promise))(function(pt,ft){function oi(Ii){try{vi(He.next(Ii))}catch(Ui){ft(Ui)}}function Hi(Ii){try{vi(He.throw(Ii))}catch(Ui){ft(Ui)}}function vi(Ii){Ii.done?pt(Ii.value):nt(Ii.value).then(oi,Hi)}vi((He=He.apply(wt,ht||[])).next())})},Vi;let Xi=class hu{constructor(ht,Et,He){this._options=ht,this._modeService=Et,this._openerService=He,this._onDidRenderAsync=new fi.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(ht,Et,He){if(!ht)return{element:document.createElement("span"),dispose:()=>{}};const nt=new as.SL;return{element:nt.add(xt(ht,Object.assign(Object.assign({},this._getRenderOptions(ht,nt)),Et),He)).element,dispose:()=>nt.dispose()}}_getRenderOptions(ht,Et){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(He,nt)=>Zn(this,void 0,void 0,function*(){var pt,ft,oi,Hi;let vi;He?vi=this._modeService.getModeIdForLanguageName(He):this._options.editor&&(vi=(pt=this._options.editor.getModel())===null||pt===void 0?void 0:pt.getLanguageId()),vi||(vi="plaintext"),this._modeService.triggerMode(vi);const Ii=(ft=yield ai.RW.getPromise(vi))!==null&&ft!==void 0?ft:void 0,Ui=document.createElement("span");if(Ui.innerHTML=(Hi=(oi=hu._ttpTokenizer)===null||oi===void 0?void 0:oi.createHTML(nt,this._modeService.languageIdCodec,Ii))!==null&&Hi!==void 0?Hi:(0,Yt.C)(nt,this._modeService.languageIdCodec,Ii),this._options.editor){const dn=this._options.editor.getOption(43);Si.V.applyFontInfoSlow(Ui,dn)}else this._options.codeBlockFontFamily&&(Ui.style.fontFamily=this._options.codeBlockFontFamily);return Ui}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:He=>this._openerService.open(He,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:ht.isTrusted}).catch(Ni.dL),disposables:Et}}}};Xi._ttpTokenizer=(Vi=window.trustedTypes)===null||Vi===void 0?void 0:Vi.createPolicy("tokenizeToString",{createHTML(wt,ht,Et){return(0,Yt.C)(wt,ht,Et)}}),Xi=qi([ji(1,Tt.h),ji(2,Nt.v4)],Xi)},65520:function(ti,Ge,c){"use strict";c.d(Ge,{CL:function(){return O}});var D=c(96518);function O(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===D.g.ICodeEditor:!1}function Q(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===editorCommon.EditorType.IDiffEditor:!1}function P(L){return O(L)?L:Q(L)?L.getModifiedEditor():null}},16830:function(ti,Ge,c){"use strict";c.d(Ge,{QG:function(){return te},Qr:function(){return B},R6:function(){return _},Sq:function(){return G},Uc:function(){return _e},_K:function(){return ce},_l:function(){return f},f:function(){return y},fK:function(){return v},jY:function(){return S},kz:function(){return $},mY:function(){return N},n_:function(){return Y},rn:function(){return j},sb:function(){return h}});var D=c(63580),O=c(70666),Q=c(11640),P=c(50187),L=c(51200),J=c(88216),R=c(84144),W=c(94565),s=c(38819),T=c(49989),g=c(89872),E=c(10829),H=c(98401),r=c(43557);class N{constructor(m){this.id=m.id,this.precondition=m.precondition,this._kbOpts=m.kbOpts,this._menuOpts=m.menuOpts,this._description=m.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const m=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const w of m){let F=w.kbExpr;this.precondition&&(F?F=s.Ao.and(F,this.precondition):F=this.precondition);const ie={id:this.id,weight:w.weight,args:w.args,when:F,primary:w.primary,secondary:w.secondary,win:w.win,linux:w.linux,mac:w.mac};T.W.registerKeybindingRule(ie)}}W.P.registerCommand({id:this.id,handler:(m,w)=>this.runCommand(m,w),description:this._description})}_registerMenuItem(m){R.BH.appendMenuItem(m.menuId,{group:m.group,command:{id:this.id,title:m.title,icon:m.icon,precondition:this.precondition},when:m.when,order:m.order})}}class C extends N{constructor(){super(...arguments),this._implementations=[]}addImplementation(m,w,F){return this._implementations.push({priority:m,name:w,implementation:F}),this._implementations.sort((ie,pe)=>pe.priority-ie.priority),{dispose:()=>{for(let ie=0;ie<this._implementations.length;ie++)if(this._implementations[ie].implementation===F){this._implementations.splice(ie,1);return}}}}runCommand(m,w){const F=m.get(r.VZ);F.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const ie of this._implementations){const pe=ie.implementation(m,w);if(pe)return F.trace(`Command '${this.id}' was handled by '${ie.name}'.`),typeof pe=="boolean"?void 0:pe}F.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class x extends N{constructor(m,w){super(w),this.command=m}runCommand(m,w){return this.command.runCommand(m,w)}}class f extends N{static bindToContribution(m){return class extends f{constructor(F){super(F),this._callback=F.handler}runEditorCommand(F,ie,pe){m(ie)&&this._callback(m(ie),pe)}}}runCommand(m,w){const F=m.get(Q.$),ie=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(ie)return ie.invokeWithinContext(pe=>{if(pe.get(s.i6).contextMatchesRules((0,H.f6)(this.precondition)))return this.runEditorCommand(pe,ie,w)})}}class _ extends f{constructor(m){super(_.convertOptions(m)),this.label=m.label,this.alias=m.alias}static convertOptions(m){let w;Array.isArray(m.menuOpts)?w=m.menuOpts:m.menuOpts?w=[m.menuOpts]:w=[];function F(ie){return ie.menuId||(ie.menuId=R.eH.EditorContext),ie.title||(ie.title=m.label),ie.when=s.Ao.and(m.precondition,ie.when),ie}return Array.isArray(m.contextMenuOpts)?w.push(...m.contextMenuOpts.map(F)):m.contextMenuOpts&&w.push(F(m.contextMenuOpts)),m.menuOpts=w,m}runEditorCommand(m,w,F){return this.reportTelemetry(m,w),this.run(m,w,F||{})}reportTelemetry(m,w){m.get(E.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class S extends _{constructor(){super(...arguments),this._implementations=[]}addImplementation(m,w){return this._implementations.push([m,w]),this._implementations.sort((F,ie)=>ie[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===w){this._implementations.splice(F,1);return}}}}run(m,w,F){for(const ie of this._implementations){const pe=ie[1](m,w,F);if(pe)return typeof pe=="boolean"?void 0:pe}}}function h(ee,m){W.P.registerCommand(ee,function(w,...F){const[ie,pe]=F;(0,H.p_)(O.o.isUri(ie)),(0,H.p_)(P.L.isIPosition(pe));const ue=w.get(L.q).getModel(ie);if(ue){const ke=P.L.lift(pe);return m(ue,ke,...F.slice(2))}return w.get(J.S).createModelReference(ie).then(ke=>new Promise((Te,rt)=>{try{const Rt=m(ke.object.textEditorModel,P.L.lift(pe),F.slice(2));Te(Rt)}catch(Rt){rt(Rt)}}).finally(()=>{ke.dispose()}))})}function y(ee,m){W.P.registerCommand(ee,function(w,...F){const[ie]=F;(0,H.p_)(O.o.isUri(ie));const pe=w.get(L.q).getModel(ie);return pe?m(pe,...F.slice(1)):w.get(J.S).createModelReference(ie).then(ue=>new Promise((ke,Te)=>{try{const rt=m(ue.object.textEditorModel,F.slice(1));ke(rt)}catch(rt){Te(rt)}}).finally(()=>{ue.dispose()}))})}function v(ee){return Ee.INSTANCE.registerEditorCommand(ee),ee}function B(ee){const m=new ee;return Ee.INSTANCE.registerEditorAction(m),m}function j(ee){return Ee.INSTANCE.registerEditorAction(ee),ee}function te(ee){Ee.INSTANCE.registerEditorAction(ee)}function ce(ee,m){Ee.INSTANCE.registerEditorContribution(ee,m)}var _e;(function(ee){function m(ue){return Ee.INSTANCE.getEditorCommand(ue)}ee.getEditorCommand=m;function w(){return Ee.INSTANCE.getEditorActions()}ee.getEditorActions=w;function F(){return Ee.INSTANCE.getEditorContributions()}ee.getEditorContributions=F;function ie(ue){return Ee.INSTANCE.getEditorContributions().filter(ke=>ue.indexOf(ke.id)>=0)}ee.getSomeEditorContributions=ie;function pe(){return Ee.INSTANCE.getDiffEditorContributions()}ee.getDiffEditorContributions=pe})(_e||(_e={}));const Ce={EditorCommonContributions:"editor.contributions"};class Ee{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(m,w){this.editorContributions.push({id:m,ctor:w})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(m){m.register(),this.editorActions.push(m)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(m){m.register(),this.editorCommands[m.id]=m}getEditorCommand(m){return this.editorCommands[m]||null}}Ee.INSTANCE=new Ee,g.B.add(Ce.EditorCommonContributions,Ee.INSTANCE);function le(ee){return ee.register(),ee}const Y=le(new C({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"1_do",title:D.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:R.eH.CommandPalette,group:"",title:D.N("undo","Undo"),order:1}]}));le(new x(Y,{id:"default:undo",precondition:void 0}));const $=le(new C({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"1_do",title:D.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:R.eH.CommandPalette,group:"",title:D.N("redo","Redo"),order:1}]}));le(new x($,{id:"default:redo",precondition:void 0}));const G=le(new C({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:R.eH.MenubarSelectionMenu,group:"1_basic",title:D.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:R.eH.CommandPalette,group:"",title:D.N("selectAll","Select All"),order:1}]}))},66007:function(ti,Ge,c){"use strict";c.d(Ge,{Gl:function(){return W},fo:function(){return R},vu:function(){return P}});var D=c(72065),O=c(70666),Q=c(98401);const P=(0,D.yh)("IWorkspaceEditService");function L(T){return(0,Q.Kn)(T)&&(!!T.newUri||!!T.oldUri)}function J(T){return(0,Q.Kn)(T)&&O.o.isUri(T.resource)&&(0,Q.Kn)(T.edit)}class R{constructor(g){this.metadata=g}static convert(g){return g.edits.map(E=>{if(J(E))return new W(E.resource,E.edit,E.modelVersionId,E.metadata);if(L(E))return new s(E.oldUri,E.newUri,E.options,E.metadata);throw new Error("Unsupported edit")})}}class W extends R{constructor(g,E,H,r){super(r),this.resource=g,this.textEdit=E,this.versionId=H}}class s extends R{constructor(g,E,H,r){super(r),this.oldResource=g,this.newResource=E,this.options=H}}},11640:function(ti,Ge,c){"use strict";c.d(Ge,{$:function(){return O}});var D=c(72065);const O=(0,D.yh)("codeEditorService")},53418:function(ti,Ge,c){"use strict";c.d(Ge,{Gm:function(){return Do}});var D=c(26479),O=c(16830),Q=function(Ct,e,n,l){var b=arguments.length,k=b<3?e:l===null?l=Object.getOwnPropertyDescriptor(e,n):l,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Ct,e,n,l);else for(var ne=Ct.length-1;ne>=0;ne--)(Z=Ct[ne])&&(k=(b<3?Z(k):b>3?Z(e,n,k):Z(e,n))||k);return b>3&&k&&Object.defineProperty(e,n,k),k},P=function(Ct,e){return function(n,l){e(n,l,Ct)}};let L=class{constructor(e,n){}dispose(){}};L.ID="editor.contrib.markerDecorations",L=Q([P(1,D.i)],L),(0,O._K)(L.ID,L);var J=c(63580),R=c(65321),W=c(17301),s=c(4669),T=c(5976),g=c(66663),E=c(87917),H=c(11640),r=c(16268),N=c(3860),C=c(38626),x=c(1432),f=c(10553),_=c(23938),S=c(15393),h=c(57974);class y{constructor(e,n){this.x=e,this.y=n,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new v(this.x-R.DI.scrollX,this.y-R.DI.scrollY)}}class v{constructor(e,n){this.clientX=e,this.clientY=n,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new y(this.clientX+R.DI.scrollX,this.clientY+R.DI.scrollY)}}class B{constructor(e,n,l,b){this.x=e,this.y=n,this.width=l,this.height=b,this._editorPagePositionBrand=void 0}}function j(Ct){const e=R.i(Ct);return new B(e.left,e.top,e.width,e.height)}class te extends _.n{constructor(e,n){super(e),this._editorMouseEventBrand=void 0,this.pos=new y(this.posx,this.posy),this.editorPos=j(n)}}class ce{constructor(e){this._editorViewDomNode=e}_create(e){return new te(e,this._editorViewDomNode)}onContextMenu(e,n){return R.nm(e,"contextmenu",l=>{n(this._create(l))})}onMouseUp(e,n){return R.nm(e,"mouseup",l=>{n(this._create(l))})}onMouseDown(e,n){return R.nm(e,"mousedown",l=>{n(this._create(l))})}onMouseLeave(e,n){return R.j_(e,l=>{n(this._create(l))})}onMouseMoveThrottled(e,n,l,b){const k=(Z,ne)=>l(Z,this._create(ne));return R.Y_(e,"mousemove",n,k,b)}}class _e{constructor(e){this._editorViewDomNode=e}_create(e){return new te(e,this._editorViewDomNode)}onPointerUp(e,n){return R.nm(e,"pointerup",l=>{n(this._create(l))})}onPointerDown(e,n){return R.nm(e,"pointerdown",l=>{n(this._create(l))})}onPointerLeave(e,n){return R.RE(e,l=>{n(this._create(l))})}onPointerMoveThrottled(e,n,l,b){const k=(Z,ne)=>l(Z,this._create(ne));return R.Y_(e,"pointermove",n,k,b)}}class Ce extends T.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new h.Z),this._keydownListener=null}startMonitoring(e,n,l,b,k){this._keydownListener=R.mu(document,"keydown",ne=>{ne.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,ne.browserEvent)},!0);const Z=(ne,he)=>l(ne,new te(he,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,n,Z,b,ne=>{this._keydownListener.dispose(),k(ne)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class Ee extends T.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let n=!1;for(let l=0,b=e.length;l<b;l++){let k=e[l];switch(k.type){case 0:this.onCompositionStart(k)&&(n=!0);break;case 1:this.onCompositionEnd(k)&&(n=!0);break;case 2:this.onConfigurationChanged(k)&&(n=!0);break;case 3:this.onCursorStateChanged(k)&&(n=!0);break;case 4:this.onDecorationsChanged(k)&&(n=!0);break;case 5:this.onFlushed(k)&&(n=!0);break;case 6:this.onFocusChanged(k)&&(n=!0);break;case 7:this.onLanguageConfigurationChanged(k)&&(n=!0);break;case 8:this.onLineMappingChanged(k)&&(n=!0);break;case 9:this.onLinesChanged(k)&&(n=!0);break;case 10:this.onLinesDeleted(k)&&(n=!0);break;case 11:this.onLinesInserted(k)&&(n=!0);break;case 12:this.onRevealRangeRequest(k)&&(n=!0);break;case 13:this.onScrollChanged(k)&&(n=!0);break;case 15:this.onTokensChanged(k)&&(n=!0);break;case 14:this.onThemeChanged(k)&&(n=!0);break;case 16:this.onTokensColorsChanged(k)&&(n=!0);break;case 17:this.onZonesChanged(k)&&(n=!0);break;default:console.info("View received unknown event: "),console.info(k)}}n&&(this._shouldRender=!0)}}class le extends Ee{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Y{static write(e,n){e instanceof C.Z,e.setAttribute("data-mprt",String(n))}static read(e){const n=e.getAttribute("data-mprt");return n===null?0:parseInt(n,10)}static collect(e,n){let l=[],b=0;for(;e&&e!==document.body&&e!==n;)e.nodeType===e.ELEMENT_NODE&&(l[b++]=this.read(e)),e=e.parentElement;const k=new Uint8Array(b);for(let Z=0;Z<b;Z++)k[Z]=l[b-Z-1];return k}}class ${constructor(e,n){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=n,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const l=this._viewLayout.getCurrentViewport();this.scrollTop=l.top,this.scrollLeft=l.left,this.viewportWidth=l.width,this.viewportHeight=l.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class G extends ${constructor(e,n,l){super(e,n),this._renderingContextBrand=void 0,this._viewLines=l}linesVisibleRangesForRange(e,n){return this._viewLines.linesVisibleRangesForRange(e,n)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class ee{constructor(e,n,l){this.outsideRenderedLine=e,this.lineNumber=n,this.ranges=l}}class m{constructor(e,n){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(n)}static from(e){const n=new Array(e.length);for(let l=0,b=e.length;l<b;l++){const k=e[l];n[l]=new m(k.left,k.width)}return n}toString(){return`[${this.left},${this.width}]`}}class w{constructor(e,n){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=n}toString(){return`[${this.left},${this.width}]`}static compare(e,n){return e.left-n.left}}class F{constructor(e,n){this.outsideRenderedLine=e,this.originalLeft=n,this.left=Math.round(this.originalLeft)}}class ie{constructor(e,n){this.outsideRenderedLine=e,this.ranges=n}}class pe{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,n){e.selectNodeContents(n)}static _readClientRects(e,n,l,b,k){const Z=this._createRange();try{return Z.setStart(e,n),Z.setEnd(l,b),Z.getClientRects()}catch(ne){return null}finally{this._detachRange(Z,k)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(w.compare);let n=[],l=0,b=e[0];for(let k=1,Z=e.length;k<Z;k++){const ne=e[k];b.left+b.width+.9>=ne.left?b.width=Math.max(b.width,ne.left+ne.width-b.left):(n[l++]=b,b=ne)}return n[l++]=b,n}static _createHorizontalRangesFromClientRects(e,n){if(!e||e.length===0)return null;const l=[];for(let b=0,k=e.length;b<k;b++){const Z=e[b];l[b]=new w(Math.max(0,Z.left-n),Z.width)}return this._mergeAdjacentRanges(l)}static readHorizontalRanges(e,n,l,b,k,Z,ne){const De=e.children.length-1;if(0>De)return null;if(n=Math.min(De,Math.max(0,n)),b=Math.min(De,Math.max(0,b)),n===b&&l===k&&l===0&&!e.children[n].firstChild){const _t=e.children[n].getClientRects();return this._createHorizontalRangesFromClientRects(_t,Z)}n!==b&&b>0&&k===0&&(b--,k=1073741824);let Oe=e.children[n].firstChild,Ke=e.children[b].firstChild;if((!Oe||!Ke)&&(!Oe&&l===0&&n>0&&(Oe=e.children[n-1].firstChild,l=1073741824),!Ke&&k===0&&b>0&&(Ke=e.children[b-1].firstChild,k=1073741824)),!Oe||!Ke)return null;l=Math.min(Oe.textContent.length,Math.max(0,l)),k=Math.min(Ke.textContent.length,Math.max(0,k));const Lt=this._readClientRects(Oe,l,Ke,k,ne);return this._createHorizontalRangesFromClientRects(Lt,Z)}}var ue=c(92550),ke=c(77736),Te=c(92321),rt=c(64141);const Rt=function(){return x.tY?!0:!(x.IJ||r.vU||r.G6)}();let mt=!0;class Mt{constructor(e,n){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=n}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class it{constructor(e,n){this.themeType=n;const l=e.options,b=l.get(43);this.renderWhitespace=l.get(87),this.renderControlCharacters=l.get(82),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!l.get(29),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=l.get(58),this.stopRenderingLineAfter=l.get(104),this.fontLigatures=l.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Je{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,C.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===Te.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,n,l,b){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const k=l.getViewLineRenderingData(e),Z=this._options,ne=ue.Kp.filter(k.inlineDecorations,e,k.minColumn,k.maxColumn);let he=null;if(Z.themeType===Te.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const Lt=l.selections;for(const _t of Lt){if(_t.endLineNumber<e||_t.startLineNumber>e)continue;const Ft=_t.startLineNumber===e?_t.startColumn:k.minColumn,Zt=_t.endLineNumber===e?_t.endColumn:k.maxColumn;Ft<Zt&&(Z.themeType===Te.e.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?ne.push(new ue.Kp(Ft,Zt,"inline-selected-text",0)):(he||(he=[]),he.push(new ke.zG(Ft-1,Zt-1))))}}const De=new ke.IJ(Z.useMonospaceOptimizations,Z.canUseHalfwidthRightwardsArrow,k.content,k.continuesWithWrappedLine,k.isBasicASCII,k.containsRTL,k.minColumn-1,k.tokens,ne,k.tabSize,k.startVisibleColumn,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,Z.stopRenderingLineAfter,Z.renderWhitespace,Z.renderControlCharacters,Z.fontLigatures!==rt.n0.OFF,he);if(this._renderedViewLine&&this._renderedViewLine.input.equals(De))return!1;b.appendASCIIString('<div style="top:'),b.appendASCIIString(String(n)),b.appendASCIIString("px;height:"),b.appendASCIIString(String(this._options.lineHeight)),b.appendASCIIString('px;" class="'),b.appendASCIIString(Je.CLASS_NAME),b.appendASCIIString('">');const Oe=(0,ke.d1)(De,b);b.appendASCIIString("</div>");let Ke=null;return mt&&Rt&&k.isBasicASCII&&Z.useMonospaceOptimizations&&Oe.containsForeignElements===0&&k.content.length<300&&De.lineTokens.getCount()<100&&(Ke=new Ae(this._renderedViewLine?this._renderedViewLine.domNode:null,De,Oe.characterMapping)),Ke||(Ke=ot(this._renderedViewLine?this._renderedViewLine.domNode:null,De,Oe.characterMapping,Oe.containsRTL,Oe.containsForeignElements)),this._renderedViewLine=Ke,!0}layoutLine(e,n){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(n),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof Ae:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Ae?this._renderedViewLine.monospaceAssumptionsAreValid():mt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Ae&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,n,l,b){if(!this._renderedViewLine)return null;n=n|0,l=l|0,n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n)),l=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,l));const k=this._renderedViewLine.input.stopRenderingLineAfter|0;let Z=!1;k!==-1&&n>k+1&&l>k+1&&(Z=!0),k!==-1&&n>k+1&&(n=k+1),k!==-1&&l>k+1&&(l=k+1);const ne=this._renderedViewLine.getVisibleRangesForRange(e,n,l,b);return ne&&ne.length>0?new ie(Z,ne):null}getColumnOfNodeOffset(e,n,l){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,n,l):1}}Je.CLASS_NAME="view-line";class Ae{constructor(e,n,l){this.domNode=e,this.input=n,this._characterMapping=l,this._charWidth=n.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return mt;const e=this.getWidth(),n=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-n)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),mt=!1),mt}toSlowRenderedLine(){return ot(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,n,l,b){const k=this._getCharPosition(n),Z=this._getCharPosition(l);return[new w(k,Z-k)]}_getCharPosition(e){const n=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*n}getColumnOfNodeOffset(e,n,l){const b=n.textContent.length;let k=-1;for(;n;)n=n.previousSibling,k++;return this._characterMapping.getColumn(new ke.Nd(k,l),b)}}class ge{constructor(e,n,l,b,k){if(this.domNode=e,this.input=n,this._characterMapping=l,this._isWhitespaceOnly=/^\s*$/.test(n.lineContent),this._containsForeignElements=k,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,ne=this._characterMapping.length;Z<=ne;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,n,l,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const k=this._readPixelOffset(this.domNode,e,n,b);if(k===-1)return null;const Z=this._readPixelOffset(this.domNode,e,l,b);return Z===-1?null:[new w(k,Z-k)]}return this._readVisibleRangesForRange(this.domNode,e,n,l,b)}_readVisibleRangesForRange(e,n,l,b,k){if(l===b){const Z=this._readPixelOffset(e,n,l,k);return Z===-1?null:[new w(Z,0)]}else return this._readRawVisibleRangesForRange(e,l,b,k)}_readPixelOffset(e,n,l,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const k=this._getReadingTarget(e);return k.firstChild?k.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const k=this._pixelOffsetCache[l];if(k!==-1)return k;const Z=this._actualReadPixelOffset(e,n,l,b);return this._pixelOffsetCache[l]=Z,Z}return this._actualReadPixelOffset(e,n,l,b)}_actualReadPixelOffset(e,n,l,b){if(this._characterMapping.length===0){const he=pe.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,b.clientRectDeltaLeft,b.endNode);return!he||he.length===0?-1:he[0].left}if(l===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const k=this._characterMapping.getDomPosition(l),Z=pe.readHorizontalRanges(this._getReadingTarget(e),k.partIndex,k.charIndex,k.partIndex,k.charIndex,b.clientRectDeltaLeft,b.endNode);if(!Z||Z.length===0)return-1;const ne=Z[0].left;if(this.input.isBasicASCII){const he=this._characterMapping.getAbsoluteOffset(l),De=Math.round(this.input.spaceWidth*he);if(Math.abs(De-ne)<=1)return De}return ne}_readRawVisibleRangesForRange(e,n,l,b){if(n===1&&l===this._characterMapping.length)return[new w(0,this.getWidth())];const k=this._characterMapping.getDomPosition(n),Z=this._characterMapping.getDomPosition(l);return pe.readHorizontalRanges(this._getReadingTarget(e),k.partIndex,k.charIndex,Z.partIndex,Z.charIndex,b.clientRectDeltaLeft,b.endNode)}getColumnOfNodeOffset(e,n,l){const b=n.textContent.length;let k=-1;for(;n;)n=n.previousSibling,k++;return this._characterMapping.getColumn(new ke.Nd(k,l),b)}}class Re extends ge{_readVisibleRangesForRange(e,n,l,b,k){const Z=super._readVisibleRangesForRange(e,n,l,b,k);if(!Z||Z.length===0||l===b||l===1&&b===this._characterMapping.length)return Z;if(!this.input.containsRTL){const ne=this._readPixelOffset(e,n,b,k);if(ne!==-1){const he=Z[Z.length-1];he.left<ne&&(he.width=ne-he.left)}}return Z}}const ot=function(){return r.Pf?dt:lt}();function dt(Ct,e,n,l,b){return new Re(Ct,e,n,l,b)}function lt(Ct,e,n,l,b){return new ge(Ct,e,n,l,b)}var Ie=c(50187),Pe=c(24314),ye=c(33181),Xe=c(3675);class st{constructor(e=null){this.hitTarget=e,this.type=0}}class Pt{constructor(e,n,l){this.position=e,this.spanNode=n,this.injectedText=l,this.type=1}}var qt;(function(Ct){function e(n,l,b){const k=n.getPositionFromDOMInfo(l,b);return k?new Pt(k,l,null):new st(l)}Ct.createFromDOMInfo=e})(qt||(qt={}));class Ci{constructor(e,n){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=n}}class ii{constructor(e,n,l=0,b=null,k=null,Z=null){this.element=e,this.type=n,this.mouseColumn=l,this.position=b,!k&&b&&(k=new Pe.e(b.lineNumber,b.column,b.lineNumber,b.column)),this.range=k,this.detail=Z}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return ii.toString(this)}}class At{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Qi{constructor(e,n,l){this.model=e.model;const b=e.configuration.options;this.layoutInfo=b.get(129),this.viewDomNode=n.viewDomNode,this.lineHeight=b.get(58),this.stickyTabStops=b.get(103),this.typicalHalfwidthCharacterWidth=b.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=l,this._context=e,this._viewHelper=n}getZoneAtCoord(e){return Qi.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,n){const l=e.viewLayout.getWhitespaceAtVerticalOffset(n);if(l){const b=l.verticalOffset+l.height/2,k=e.model.getLineCount();let Z=null,ne,he=null;return l.afterLineNumber!==k&&(he=new Ie.L(l.afterLineNumber+1,1)),l.afterLineNumber>0&&(Z=new Ie.L(l.afterLineNumber,e.model.getLineMaxColumn(l.afterLineNumber))),he===null?ne=Z:Z===null?ne=he:n<b?ne=Z:ne=he,{viewZoneId:l.id,afterLineNumber:l.afterLineNumber,positionBefore:Z,positionAfter:he,position:ne}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const b=this._context.model.getLineCount(),k=this._context.model.getLineMaxColumn(b);return{range:new Pe.e(b,k,b,k),isAfterLines:!0}}const n=this._context.viewLayout.getLineNumberAtVerticalOffset(e),l=this._context.model.getLineMaxColumn(n);return{range:new Pe.e(n,1,n,l),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,n){return Qi._findAttribute(e,n,this._viewHelper.viewDomNode)}static _findAttribute(e,n,l){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(n))return e.getAttribute(n);if(e===l)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,n){return this._viewHelper.visibleRangeForPosition(e,n)}getPositionFromDOMInfo(e,n){return this._viewHelper.getPositionFromDOMInfo(e,n)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class ci{constructor(e,n,l){this.editorPos=n,this.pos=l,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+l.y-n.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+l.x-n.x-e.layoutInfo.contentLeft,this.isInMarginArea=l.x-n.x<e.layoutInfo.contentLeft&&l.x-n.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,fi._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class je extends ci{constructor(e,n,l,b){super(e,n,l),this._ctx=e,b?(this.target=b,this.targetPath=Y.collect(b,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,n=null,l=null,b=null){let k=this.mouseColumn;return n&&n.column<this._ctx.model.getLineMaxColumn(n.lineNumber)&&(k=ye.io.visibleColumnFromColumn(this._ctx.model.getLineContent(n.lineNumber),n.column,this._ctx.model.getTextModelOptions().tabSize)+1),new ii(this.target,e,k,n,l,b)}withTarget(e){return new je(this._ctx,this.editorPos,this.pos,e)}}const at={isAfterLines:!0};function Ni(Ct){return{isAfterLines:!1,horizontalDistanceToText:Ct}}class fi{constructor(e,n){this._context=e,this._viewHelper=n}mouseTargetIsWidget(e){const n=e.target,l=Y.collect(n,this._viewHelper.viewDomNode);return!!(At.isChildOfContentWidgets(l)||At.isChildOfOverflowingContentWidgets(l)||At.isChildOfOverlayWidgets(l))}createMouseTarget(e,n,l,b){const k=new Qi(this._context,this._viewHelper,e),Z=new je(k,n,l,b);try{return fi._createMouseTarget(k,Z,!1)}catch(ne){return Z.fulfill(0)}}static _createMouseTarget(e,n,l){if(n.target===null){if(l)return n.fulfill(0);const Z=fi._doHitTest(e,n);return Z.type===1?fi.createMouseTargetFromHitTestPosition(e,n,Z.spanNode,Z.position,Z.injectedText):this._createMouseTarget(e,n.withTarget(Z.hitTarget),!0)}const b=n;let k=null;return k=k||fi._hitTestContentWidget(e,b),k=k||fi._hitTestOverlayWidget(e,b),k=k||fi._hitTestMinimap(e,b),k=k||fi._hitTestScrollbarSlider(e,b),k=k||fi._hitTestViewZone(e,b),k=k||fi._hitTestMargin(e,b),k=k||fi._hitTestViewCursor(e,b),k=k||fi._hitTestTextArea(e,b),k=k||fi._hitTestViewLines(e,b,l),k=k||fi._hitTestScrollbar(e,b),k||n.fulfill(0)}static _hitTestContentWidget(e,n){if(At.isChildOfContentWidgets(n.targetPath)||At.isChildOfOverflowingContentWidgets(n.targetPath)){const l=e.findAttribute(n.target,"widgetId");return l?n.fulfill(9,null,null,l):n.fulfill(0)}return null}static _hitTestOverlayWidget(e,n){if(At.isChildOfOverlayWidgets(n.targetPath)){const l=e.findAttribute(n.target,"widgetId");return l?n.fulfill(12,null,null,l):n.fulfill(0)}return null}static _hitTestViewCursor(e,n){if(n.target){const l=e.lastRenderData.lastViewCursorsRenderData;for(const b of l)if(n.target===b.domNode)return n.fulfill(6,b.position,null,{mightBeForeignElement:!1})}if(n.isInContentArea){const l=e.lastRenderData.lastViewCursorsRenderData,b=n.mouseContentHorizontalOffset,k=n.mouseVerticalOffset;for(const Z of l){if(b<Z.contentLeft||b>Z.contentLeft+Z.width)continue;const ne=e.getVerticalOffsetForLineNumber(Z.position.lineNumber);if(ne<=k&&k<=ne+Z.height)return n.fulfill(6,Z.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,n){const l=e.getZoneAtCoord(n.mouseVerticalOffset);if(l){const b=n.isInContentArea?8:5;return n.fulfill(b,l.position,null,l)}return null}static _hitTestTextArea(e,n){return At.isTextArea(n.targetPath)?e.lastRenderData.lastTextareaPosition?n.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):n.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,n){if(n.isInMarginArea){const l=e.getFullLineRangeAtCoord(n.mouseVerticalOffset),b=l.range.getStartPosition();let k=Math.abs(n.pos.x-n.editorPos.x);const Z={isAfterLines:l.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:k};return k-=e.layoutInfo.glyphMarginLeft,k<=e.layoutInfo.glyphMarginWidth?n.fulfill(2,b,l.range,Z):(k-=e.layoutInfo.glyphMarginWidth,k<=e.layoutInfo.lineNumbersWidth?n.fulfill(3,b,l.range,Z):(k-=e.layoutInfo.lineNumbersWidth,n.fulfill(4,b,l.range,Z)))}return null}static _hitTestViewLines(e,n,l){if(!At.isChildOfViewLines(n.targetPath))return null;if(e.isInTopPadding(n.mouseVerticalOffset))return n.fulfill(7,new Ie.L(1,1),null,at);if(e.isAfterLines(n.mouseVerticalOffset)||e.isInBottomPadding(n.mouseVerticalOffset)){const k=e.model.getLineCount(),Z=e.model.getLineMaxColumn(k);return n.fulfill(7,new Ie.L(k,Z),null,at)}if(l){if(At.isStrictChildOfViewLines(n.targetPath)){const k=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(e.model.getLineLength(k)===0){const ne=e.getLineWidth(k),he=Ni(n.mouseContentHorizontalOffset-ne);return n.fulfill(7,new Ie.L(k,1),null,he)}const Z=e.getLineWidth(k);if(n.mouseContentHorizontalOffset>=Z){const ne=Ni(n.mouseContentHorizontalOffset-Z),he=new Ie.L(k,e.model.getLineMaxColumn(k));return n.fulfill(7,he,null,ne)}}return n.fulfill(0)}const b=fi._doHitTest(e,n);return b.type===1?fi.createMouseTargetFromHitTestPosition(e,n,b.spanNode,b.position,b.injectedText):this._createMouseTarget(e,n.withTarget(b.hitTarget),!0)}static _hitTestMinimap(e,n){if(At.isChildOfMinimap(n.targetPath)){const l=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),b=e.model.getLineMaxColumn(l);return n.fulfill(11,new Ie.L(l,b))}return null}static _hitTestScrollbarSlider(e,n){if(At.isChildOfScrollableElement(n.targetPath)&&n.target&&n.target.nodeType===1){const l=n.target.className;if(l&&/\b(slider|scrollbar)\b/.test(l)){const b=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),k=e.model.getLineMaxColumn(b);return n.fulfill(11,new Ie.L(b,k))}}return null}static _hitTestScrollbar(e,n){if(At.isChildOfScrollableElement(n.targetPath)){const l=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),b=e.model.getLineMaxColumn(l);return n.fulfill(11,new Ie.L(l,b))}return null}getMouseColumn(e,n){const l=this._context.configuration.options,b=l.get(129),k=this._context.viewLayout.getCurrentScrollLeft()+n.x-e.x-b.contentLeft;return fi._getMouseColumn(k,l.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,n){return e<0?1:Math.round(e/n)+1}static createMouseTargetFromHitTestPosition(e,n,l,b,k){const Z=b.lineNumber,ne=b.column,he=e.getLineWidth(Z);if(n.mouseContentHorizontalOffset>he){const Xt=Ni(n.mouseContentHorizontalOffset-he);return n.fulfill(7,b,null,Xt)}const De=e.visibleRangeForPosition(Z,ne);if(!De)return n.fulfill(0,b);const Oe=De.left;if(n.mouseContentHorizontalOffset===Oe)return n.fulfill(6,b,null,{mightBeForeignElement:!!k});const Ke=[];if(Ke.push({offset:De.left,column:ne}),ne>1){const Xt=e.visibleRangeForPosition(Z,ne-1);Xt&&Ke.push({offset:Xt.left,column:ne-1})}const Lt=e.model.getLineMaxColumn(Z);if(ne<Lt){const Xt=e.visibleRangeForPosition(Z,ne+1);Xt&&Ke.push({offset:Xt.left,column:ne+1})}Ke.sort((Xt,di)=>Xt.offset-di.offset);const _t=n.pos.toClientCoordinates(),Ft=l.getBoundingClientRect(),Zt=Ft.left<=_t.clientX&&_t.clientX<=Ft.right;for(let Xt=1;Xt<Ke.length;Xt++){const di=Ke[Xt-1],xi=Ke[Xt];if(di.offset<=n.mouseContentHorizontalOffset&&n.mouseContentHorizontalOffset<=xi.offset){const yi=new Pe.e(Z,di.column,Z,xi.column);return n.fulfill(6,b,yi,{mightBeForeignElement:!Zt||!!k})}}return n.fulfill(6,b,null,{mightBeForeignElement:!Zt||!!k})}static _doHitTestWithCaretRangeFromPoint(e,n){const l=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),k=e.getVerticalOffsetForLineNumber(l)+Math.floor(e.lineHeight/2);let Z=n.pos.y+(k-n.mouseVerticalOffset);Z<=n.editorPos.y&&(Z=n.editorPos.y+1),Z>=n.editorPos.y+e.layoutInfo.height&&(Z=n.editorPos.y+e.layoutInfo.height-1);const ne=new y(n.pos.x,Z),he=this._actualDoHitTestWithCaretRangeFromPoint(e,ne.toClientCoordinates());return he.type===1?he:this._actualDoHitTestWithCaretRangeFromPoint(e,n.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,n){const l=R.Ay(e.viewDomNode);let b;if(l?typeof l.caretRangeFromPoint=="undefined"?b=Wi(l,n.clientX,n.clientY):b=l.caretRangeFromPoint(n.clientX,n.clientY):b=document.caretRangeFromPoint(n.clientX,n.clientY),!b||!b.startContainer)return new st;const k=b.startContainer;if(k.nodeType===k.TEXT_NODE){const Z=k.parentNode,ne=Z?Z.parentNode:null,he=ne?ne.parentNode:null;return(he&&he.nodeType===he.ELEMENT_NODE?he.className:null)===Je.CLASS_NAME?qt.createFromDOMInfo(e,Z,b.startOffset):new st(k.parentNode)}else if(k.nodeType===k.ELEMENT_NODE){const Z=k.parentNode,ne=Z?Z.parentNode:null;return(ne&&ne.nodeType===ne.ELEMENT_NODE?ne.className:null)===Je.CLASS_NAME?qt.createFromDOMInfo(e,k,k.textContent.length):new st(k)}return new st}static _doHitTestWithCaretPositionFromPoint(e,n){const l=document.caretPositionFromPoint(n.clientX,n.clientY);if(l.offsetNode.nodeType===l.offsetNode.TEXT_NODE){const b=l.offsetNode.parentNode,k=b?b.parentNode:null,Z=k?k.parentNode:null;return(Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null)===Je.CLASS_NAME?qt.createFromDOMInfo(e,l.offsetNode.parentNode,l.offset):new st(l.offsetNode.parentNode)}if(l.offsetNode.nodeType===l.offsetNode.ELEMENT_NODE){const b=l.offsetNode.parentNode,k=b&&b.nodeType===b.ELEMENT_NODE?b.className:null,Z=b?b.parentNode:null,ne=Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null;if(k===Je.CLASS_NAME){const he=l.offsetNode.childNodes[Math.min(l.offset,l.offsetNode.childNodes.length-1)];if(he)return qt.createFromDOMInfo(e,he,0)}else if(ne===Je.CLASS_NAME)return qt.createFromDOMInfo(e,l.offsetNode,0)}return new st(l.offsetNode)}static _snapToSoftTabBoundary(e,n){const l=n.getLineContent(e.lineNumber),{tabSize:b}=n.getTextModelOptions(),k=Xe.l.atomicPosition(l,e.column-1,b,2);return k!==-1?new Ie.L(e.lineNumber,k+1):e}static _doHitTest(e,n){let l=new st;if(typeof document.caretRangeFromPoint=="function"?l=this._doHitTestWithCaretRangeFromPoint(e,n):document.caretPositionFromPoint&&(l=this._doHitTestWithCaretPositionFromPoint(e,n.pos.toClientCoordinates())),l.type===1){const b=e.model.getInjectedTextAt(l.position),k=e.model.normalizePosition(l.position,2);(b||!k.equals(l.position))&&(l=new Pt(k,l.spanNode,b))}return l.type===1&&e.stickyTabStops&&(l=new Pt(this._snapToSoftTabBoundary(l.position,e.model),l.spanNode,l.injectedText)),l}}function Wi(Ct,e,n){const l=document.createRange();let b=Ct.elementFromPoint(e,n);if(b!==null){for(;b&&b.firstChild&&b.firstChild.nodeType!==b.firstChild.TEXT_NODE&&b.lastChild&&b.lastChild.firstChild;)b=b.lastChild;const k=b.getBoundingClientRect(),Z=window.getComputedStyle(b,null).getPropertyValue("font"),ne=b.innerText;let he=k.left,De=0,Oe;if(e>k.left+k.width)De=ne.length;else{const Ke=Rn.getInstance();for(let Lt=0;Lt<ne.length+1;Lt++){if(Oe=Ke.getCharWidth(ne.charAt(Lt),Z)/2,he+=Oe,e<he){De=Lt;break}he+=Oe}}l.setStart(b.firstChild,De),l.setEnd(b.firstChild,De)}return l}class Rn{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Rn._INSTANCE||(Rn._INSTANCE=new Rn),Rn._INSTANCE}getCharWidth(e,n){const l=e+n;if(this._cache[l])return this._cache[l];const b=this._canvas.getContext("2d");b.font=n;const Z=b.measureText(e).width;return this._cache[l]=Z,Z}}Rn._INSTANCE=null;var zi=c(82334);function as(Ct){return function(e,n){let l=!1;return Ct&&(l=Ct.mouseTargetIsWidget(n)),l||n.preventDefault(),n}}class Fn extends Ee{constructor(e,n,l){super(),this._context=e,this.viewController=n,this.viewHelper=l,this.mouseTargetFactory=new fi(this._context,l),this._mouseDownOperation=this._register(new An(this._context,this.viewController,this.viewHelper,(Z,ne)=>this._createMouseTarget(Z,ne),Z=>this._getMouseColumn(Z))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const b=new ce(this.viewHelper.viewDomNode);this._register(b.onContextMenu(this.viewHelper.viewDomNode,Z=>this._onContextMenu(Z,!0))),this._register(b.onMouseMoveThrottled(this.viewHelper.viewDomNode,Z=>this._onMouseMove(Z),as(this.mouseTargetFactory),Fn.MOUSE_MOVE_MINIMUM_TIME)),this._register(b.onMouseUp(this.viewHelper.viewDomNode,Z=>this._onMouseUp(Z))),this._register(b.onMouseLeave(this.viewHelper.viewDomNode,Z=>this._onMouseLeave(Z))),this._register(b.onMouseDown(this.viewHelper.viewDomNode,Z=>this._onMouseDown(Z)));const k=Z=>{if(this.viewController.emitMouseWheel(Z),!this._context.configuration.options.get(67))return;const ne=new _.q(Z);if(x.dz?(Z.metaKey||Z.ctrlKey)&&!Z.shiftKey&&!Z.altKey:Z.ctrlKey&&!Z.metaKey&&!Z.shiftKey&&!Z.altKey){const De=zi.C.getZoomLevel(),Oe=ne.deltaY>0?1:-1;zi.C.setZoomLevel(De+Oe),ne.preventDefault(),ne.stopPropagation()}};this._register(R.nm(this.viewHelper.viewDomNode,R.tw.MOUSE_WHEEL,k,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const n=this._context.configuration.options.get(129).height;this._height!==n&&(this._height=n,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,n){const b=new v(e,n).toPageCoordinates(),k=j(this.viewHelper.viewDomNode);return b.y<k.y||b.y>k.y+k.height||b.x<k.x||b.x>k.x+k.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),k,b,null)}_createMouseTarget(e,n){let l=e.target;if(!this.viewHelper.viewDomNode.contains(l)){const b=R.Ay(this.viewHelper.viewDomNode);b&&(l=b.elementsFromPoint(e.posx,e.posy).find(k=>this.viewHelper.viewDomNode.contains(k)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,n?l:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,n){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,n)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const n=this._createMouseTarget(e,!0),l=n.type===6||n.type===7,b=n.type===2||n.type===3||n.type===4,k=n.type===3,Z=this._context.configuration.options.get(97),ne=n.type===8||n.type===5,he=n.type===9;let De=e.leftButton||e.middleButton;x.dz&&e.leftButton&&e.ctrlKey&&(De=!1);const Oe=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(De&&(l||k&&Z))Oe(),this._mouseDownOperation.start(n.type,e);else if(b)e.preventDefault();else if(ne){const Ke=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(Ke.viewZoneId)&&(Oe(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else he&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(Oe(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})}}Fn.MOUSE_MOVE_MINIMUM_TIME=100;class An extends T.JT{constructor(e,n,l,b,k){super(),this._context=e,this._viewController=n,this._viewHelper=l,this._createMouseTarget=b,this._getMouseColumn=k,this._mouseMoveMonitor=this._register(new Ce(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new S._F),this._mouseState=new $i,this._currentSelection=new N.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const n=this._findMousePosition(e,!0);n&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:n}):this._dispatchMouse(n,!0))}start(e,n){this._lastMouseEvent=n,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(n),this._mouseState.setModifiers(n);const l=this._findMousePosition(n,!0);if(!l||!l.position)return;this._mouseState.trySetCount(n.detail,l.position),n.detail=this._mouseState.count;const b=this._context.configuration.options;if(!b.get(80)&&b.get(31)&&!b.get(18)&&!this._mouseState.altKey&&n.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,as(null),k=>this._onMouseDownThenMove(k),k=>{const Z=this._findMousePosition(this._lastMouseEvent,!0);k&&k instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Z?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,n.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,as(null),k=>this._onMouseDownThenMove(k),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const n=e.editorPos,l=this._context.model,b=this._context.viewLayout,k=this._getMouseColumn(e);if(e.posy<n.y){const ne=Math.max(b.getCurrentScrollTop()-(n.y-e.posy),0),he=Qi.getZoneAtCoord(this._context,ne);if(he){const Oe=this._helpPositionJumpOverViewZone(he);if(Oe)return new ii(null,13,k,Oe)}const De=b.getLineNumberAtVerticalOffset(ne);return new ii(null,13,k,new Ie.L(De,1))}if(e.posy>n.y+n.height){const ne=b.getCurrentScrollTop()+(e.posy-n.y),he=Qi.getZoneAtCoord(this._context,ne);if(he){const Oe=this._helpPositionJumpOverViewZone(he);if(Oe)return new ii(null,13,k,Oe)}const De=b.getLineNumberAtVerticalOffset(ne);return new ii(null,13,k,new Ie.L(De,l.getLineMaxColumn(De)))}const Z=b.getLineNumberAtVerticalOffset(b.getCurrentScrollTop()+(e.posy-n.y));return e.posx<n.x?new ii(null,13,k,new Ie.L(Z,1)):e.posx>n.x+n.width?new ii(null,13,k,new Ie.L(Z,l.getLineMaxColumn(Z))):null}_findMousePosition(e,n){const l=this._getPositionOutsideEditor(e);if(l)return l;const b=this._createMouseTarget(e,n);if(!b.position)return null;if(b.type===8||b.type===5){const Z=this._helpPositionJumpOverViewZone(b.detail);if(Z)return new ii(b.element,b.type,b.mouseColumn,Z,null,b.detail)}return b}_helpPositionJumpOverViewZone(e){const n=new Ie.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=e.positionBefore,b=e.positionAfter;return l&&b?l.isBefore(n)?l:b:null}_dispatchMouse(e,n){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:n,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class $i{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,n){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>$i.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=l,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}$i.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Nn=c(10161),sn=c(81170),$e=c(97295);const It=!1;class xt{constructor(e,n,l,b,k){this.value=e,this.selectionStart=n,this.selectionEnd=l,this.selectionStartPosition=b,this.selectionEndPosition=k}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new xt(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new xt(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,n,l){It&&console.log("writeToTextArea "+e+": "+this.toString()),n.setValue(e,this.value),l&&n.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const b=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,b,-1)}if(e>=this.selectionEnd){const b=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,b,1)}const n=this.value.substring(this.selectionStart,e);if(n.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);const l=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,l,-1)}_finishDeduceEditorPosition(e,n,l){let b=0,k=-1;for(;(k=n.indexOf(`
`,k+1))!==-1;)b++;return[e,l*n.length,b]}static selectedText(e){return new xt(e,0,e.length,null,null)}static deduceInput(e,n,l){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};It&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+n.toString()));let b=e.value,k=e.selectionStart,Z=e.selectionEnd,ne=n.value,he=n.selectionStart,De=n.selectionEnd;const Oe=b.substring(Z),Ke=ne.substring(De),Lt=$e.P1(Oe,Ke);ne=ne.substring(0,ne.length-Lt),b=b.substring(0,b.length-Lt);const _t=b.substring(0,k),Ft=ne.substring(0,he),Zt=$e.Mh(_t,Ft);if(ne=ne.substring(Zt),b=b.substring(Zt),he-=Zt,k-=Zt,De-=Zt,Z-=Zt,It&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+b+">, selectionStart: "+k+", selectionEnd: "+Z),console.log("AFTER DIFFING CURRENT STATE: <"+ne+">, selectionStart: "+he+", selectionEnd: "+De)),l&&he===De&&b.length>0){let di=null;if(he===ne.length?ne.startsWith(b)&&(di=ne.substring(b.length)):ne.endsWith(b)&&(di=ne.substring(0,ne.length-b.length)),di!==null&&di.length>0&&(/\uFE0F/.test(di)||$e.RP(di)))return{text:di,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(he===De){if(b===ne&&k===0&&Z===b.length&&he===ne.length&&ne.indexOf(`
`)===-1&&$e.xe(ne))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const di=_t.length-Zt;return It&&console.log("REMOVE PREVIOUS: "+(_t.length-Zt)+" chars"),{text:ne,replacePrevCharCnt:di,replaceNextCharCnt:0,positionDelta:0}}const Xt=Z-k;return{text:ne,replacePrevCharCnt:Xt,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(It&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+n.toString())),e.value===n.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:n.selectionEnd-e.selectionEnd};const l=Math.min($e.Mh(e.value,n.value),e.selectionEnd),b=Math.min($e.P1(e.value,n.value),e.value.length-e.selectionEnd),k=e.value.substring(l,e.value.length-b),Z=n.value.substring(l,n.value.length-b),ne=e.selectionStart-l,he=e.selectionEnd-l,De=n.selectionStart-l,Oe=n.selectionEnd-l;return It&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+k+">, selectionStart: "+ne+", selectionEnd: "+he),console.log("AFTER DIFFING CURRENT STATE: <"+Z+">, selectionStart: "+De+", selectionEnd: "+Oe)),{text:Z,replacePrevCharCnt:he,replaceNextCharCnt:k.length-he,positionDelta:Oe-Z.length}}}xt.EMPTY=new xt("",0,0,null,null);class Qe{static _getPageOfLine(e,n){return Math.floor((e-1)/n)}static _getRangeForPage(e,n){const l=e*n,b=l+1,k=l+n;return new Pe.e(b,1,k+1,1)}static fromEditorSelection(e,n,l,b,k){const Z=Qe._getPageOfLine(l.startLineNumber,b),ne=Qe._getRangeForPage(Z,b),he=Qe._getPageOfLine(l.endLineNumber,b),De=Qe._getRangeForPage(he,b),Oe=ne.intersectRanges(new Pe.e(1,1,l.startLineNumber,l.startColumn));let Ke=n.getValueInRange(Oe,1);const Lt=n.getLineCount(),_t=n.getLineMaxColumn(Lt),Ft=De.intersectRanges(new Pe.e(l.endLineNumber,l.endColumn,Lt,_t));let Zt=n.getValueInRange(Ft,1),Xt;if(Z===he||Z+1===he)Xt=n.getValueInRange(l,1);else{const di=ne.intersectRanges(l),xi=De.intersectRanges(l);Xt=n.getValueInRange(di,1)+String.fromCharCode(8230)+n.getValueInRange(xi,1)}return k&&(Ke.length>500&&(Ke=Ke.substring(Ke.length-500,Ke.length)),Zt.length>500&&(Zt=Zt.substring(0,500)),Xt.length>2*500&&(Xt=Xt.substring(0,500)+String.fromCharCode(8230)+Xt.substring(Xt.length-500,Xt.length))),new xt(Ke+Xt+Zt,Ke.length,Ke.length+Xt.length,new Ie.L(l.startLineNumber,l.startColumn),new Ie.L(l.endLineNumber,l.endColumn))}}var tt;(function(Ct){Ct.Tap="-monaco-textarea-synthetic-tap"})(tt||(tt={}));const Nt={forceCopyWithSyntaxHighlighting:!1};class Tt{constructor(){this._lastState=null}set(e,n){this._lastState={lastCopiedValue:e,data:n}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}Tt.INSTANCE=new Tt;class Yt extends T.JT{constructor(e,n){super(),this.textArea=n,this._onFocus=this._register(new s.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new s.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new s.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new s.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new s.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new s.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new s.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new s.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new s.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new Si(n)),this._asyncTriggerCut=this._register(new S.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new S.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=xt.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let l=null;this._register(R.mu(n.domNode,"keydown",ne=>{(ne.keyCode===109||this._isDoingComposition&&ne.keyCode===1)&&ne.stopPropagation(),ne.equals(9)&&ne.preventDefault(),l=ne,this._onKeyDown.fire(ne)})),this._register(R.mu(n.domNode,"keyup",ne=>{this._onKeyUp.fire(ne)})),this._register(R.nm(n.domNode,"compositionstart",ne=>{if(It&&console.log("[compositionstart]",ne),!this._isDoingComposition){if(this._isDoingComposition=!0,x.dz&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===ne.data&&(l&&l.equals(109)&&(l.code==="ArrowRight"||l.code==="ArrowLeft")||r.vU)){It&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",ne),this._textAreaState=new xt(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new Ie.L(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(r.Dt){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",xt.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const b=ne=>{const he=this._textAreaState,De=xt.readFromTextArea(this._textArea);return[De,xt.deduceInput(he,De,ne)]},k=()=>{const ne=this._textAreaState,he=xt.readFromTextArea(this._textArea);return[he,xt.deduceAndroidCompositionInput(ne,he)]},Z=ne=>{const he=this._textAreaState,De=xt.selectedText(ne),Oe={text:De.value,replacePrevCharCnt:he.selectionEnd-he.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[De,Oe]};this._register(R.nm(n.domNode,"compositionupdate",ne=>{if(It&&console.log("[compositionupdate]",ne),r.Dt){const[Oe,Ke]=k();this._textAreaState=Oe,this._onType.fire(Ke),this._onCompositionUpdate.fire(ne);return}const[he,De]=Z(ne.data||"");this._textAreaState=he,this._onType.fire(De),this._onCompositionUpdate.fire(ne)})),this._register(R.nm(n.domNode,"compositionend",ne=>{if(It&&console.log("[compositionend]",ne),!this._isDoingComposition)return;if(this._isDoingComposition=!1,r.Dt){const[Oe,Ke]=k();this._textAreaState=Oe,this._onType.fire(Ke),this._onCompositionEnd.fire();return}const[he,De]=Z(ne.data||"");this._textAreaState=he,this._onType.fire(De),(r.i7||r.vU)&&(this._textAreaState=xt.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(R.nm(n.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[ne,he]=b(x.dz);he.replacePrevCharCnt===0&&he.text.length===1&&$e.ZG(he.text.charCodeAt(0))||(this._textAreaState=ne,this._nextCommand===0?(he.text!==""||he.replacePrevCharCnt!==0)&&this._onType.fire(he):((he.text!==""||he.replacePrevCharCnt!==0)&&this._firePaste(he.text,null),this._nextCommand=0))})),this._register(R.nm(n.domNode,"cut",ne=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(ne),this._asyncTriggerCut.schedule()})),this._register(R.nm(n.domNode,"copy",ne=>{this._ensureClipboardGetsEditorSelection(ne)})),this._register(R.nm(n.domNode,"paste",ne=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),ai.canUseTextData(ne)){const[he,De]=ai.getTextData(ne);he!==""&&this._firePaste(he,De)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",xt.EMPTY),this._nextCommand=1})),this._register(R.nm(n.domNode,"focus",()=>{const ne=this._hasFocus;this._setHasFocus(!0),r.G6&&!ne&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(R.nm(n.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(R.nm(n.domNode,tt.Tap,()=>{r.Dt&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return R.nm(document,"selectionchange",n=>{if(!this._hasFocus||this._isDoingComposition||!r.i7)return;const l=Date.now(),b=l-e;if(e=l,b<5)return;const k=l-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),k<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const Z=this._textArea.getValue();if(this._textAreaState.value!==Z)return;const ne=this._textArea.getSelectionStart(),he=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===ne&&this._textAreaState.selectionEnd===he)return;const De=this._textAreaState.deduceEditorPosition(ne),Oe=this._host.deduceModelPosition(De[0],De[1],De[2]),Ke=this._textAreaState.deduceEditorPosition(he),Lt=this._host.deduceModelPosition(Ke[0],Ke[1],Ke[2]),_t=new N.Y(Oe.lineNumber,Oe.column,Lt.lineNumber,Lt.column);this._onSelectionChangeRequest.fire(_t)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=R.Ay(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):R.Uw(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,n){this._hasFocus||(n=n.collapseSelection()),n.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=n}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const n=this._host.getDataToCopy(ai.canUseTextData(e)),l={version:1,isFromEmptySelection:n.isFromEmptySelection,multicursorText:n.multicursorText,mode:n.mode};if(Tt.INSTANCE.set(r.vU?n.text.replace(/\r\n/g,`
`):n.text,l),!ai.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",xt.selectedText(n.text));return}ai.setTextData(e,n.text,n.html,l)}_firePaste(e,n){n||(n=Tt.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:n})}}class ai{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const n=e.clipboardData.getData(sn.vW.text);let l=null;const b=e.clipboardData.getData("vscode-editor-data");if(typeof b=="string")try{l=JSON.parse(b),l.version!==1&&(l=null)}catch(k){}return[n,l]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,n,l,b){if(e.clipboardData){e.clipboardData.setData(sn.vW.text,n),typeof l=="string"&&e.clipboardData.setData("text/html",l),e.clipboardData.setData("vscode-editor-data",JSON.stringify(b)),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class Si extends T.JT{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,n){const l=this._actual.domNode;l.value!==n&&(this.setIgnoreSelectionChangeTime("setValue"),l.value=n)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,n,l){const b=this._actual.domNode;let k=null;const Z=R.Ay(b);Z?k=Z.activeElement:k=document.activeElement;const ne=k===b,he=b.selectionStart,De=b.selectionEnd;if(ne&&he===n&&De===l){r.vU&&window.parent!==window&&b.focus();return}if(ne){this.setIgnoreSelectionChangeTime("setSelectionRange"),b.setSelectionRange(n,l),r.vU&&window.parent!==window&&b.focus();return}try{const Oe=R.vL(b);this.setIgnoreSelectionChangeTime("setSelectionRange"),b.focus(),b.setSelectionRange(n,l),R._0(b,Oe)}catch(Oe){}}}class qi extends Fn{constructor(e,n,l){super(e,n,l),this._register(f.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Tap,k=>this.onTap(k))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Change,k=>this.onChange(k))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Contextmenu,k=>this._onContextMenu(new te(k,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(R.nm(this.viewHelper.linesContentDomNode,"pointerdown",k=>{const Z=k.pointerType;if(Z==="mouse"){this._lastPointerType="mouse";return}else Z==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const b=new _e(this.viewHelper.viewDomNode);this._register(b.onPointerMoveThrottled(this.viewHelper.viewDomNode,k=>this._onMouseMove(k),as(this.mouseTargetFactory),Fn.MOUSE_MOVE_MINIMUM_TIME)),this._register(b.onPointerUp(this.viewHelper.viewDomNode,k=>this._onMouseUp(k))),this._register(b.onPointerLeave(this.viewHelper.viewDomNode,k=>this._onMouseLeave(k))),this._register(b.onPointerDown(this.viewHelper.viewDomNode,k=>this._onMouseDown(k)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const n=this._createMouseTarget(new te(e,this.viewHelper.viewDomNode),!1);n.position&&this.viewController.dispatchMouse({position:n.position,mouseColumn:n.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class ji extends Fn{constructor(e,n,l){super(e,n,l),this._register(f.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Tap,b=>this.onTap(b))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Change,b=>this.onChange(b))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Contextmenu,b=>this._onContextMenu(new te(b,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const n=this._createMouseTarget(new te(e,this.viewHelper.viewDomNode),!1);if(n.position){const l=document.createEvent("CustomEvent");l.initEvent(tt.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(l),this.viewController.moveTo(n.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class Zn extends T.JT{constructor(e,n,l){super(),x.gn&&Nn.D.pointerEvents?this.handler=this._register(new qi(e,n,l)):window.TouchEvent?this.handler=this._register(new ji(e,n,l)):this.handler=this._register(new Fn(e,n,l))}getTargetAtClientPoint(e,n){return this.handler.getTargetAtClientPoint(e,n)}}class Vi extends Ee{}var Xi=c(27869),wt=c(97781);class ht extends Vi{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Ie.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const n=e.get(59);this._renderLineNumbers=n.renderType,this._renderCustomLineNumbers=n.renderFn,this._renderFinalNewline=e.get(83);const l=e.get(129);this._lineNumbersLeft=l.lineNumbersLeft,this._lineNumbersWidth=l.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const n=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(n);let l=!1;return this._activeLineNumber!==n.lineNumber&&(this._activeLineNumber=n.lineNumber,l=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(l=!0),l}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const n=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ie.L(e,1));if(n.column!==1)return"";const l=n.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(l);if(this._renderLineNumbers===2){const b=Math.abs(this._lastCursorModelPosition.lineNumber-l);return b===0?'<span class="relative-current-line-number">'+l+"</span>":String(b)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===l||l%10===0?String(l):"":String(l)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const n=x.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",l=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,k='<div class="'+ht.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',Z=this._context.model.getLineCount(),ne=[];for(let he=l;he<=b;he++){const De=he-l;if(!this._renderFinalNewline&&he===Z&&this._context.model.getLineLength(he)===0){ne[De]="";continue}const Oe=this._getLineRenderLineNumber(he);Oe?he===this._activeLineNumber?ne[De]='<div class="active-line-number '+ht.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+Oe+"</div>":ne[De]=k+Oe+"</div>":ne[De]=""}this._renderResult=ne}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}ht.CLASS_NAME="line-numbers",(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Xi.hw);n&&e.addRule(`.monaco-editor .line-numbers { color: ${n}; }`);const l=Ct.getColor(Xi.DD);l&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${l}; }`)});class Et extends le{constructor(e){super(e);const n=this._context.configuration.options,l=n.get(129);this._canUseLayerHinting=!n.get(28),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._domNode=(0,C.X)(document.createElement("div")),this._domNode.setClassName(Et.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,C.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Et.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._canUseLayerHinting=!n.get(28),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const n=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-n);const l=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(l),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(l)}}Et.CLASS_NAME="glyph-margin",Et.OUTER_CLASS_NAME="margin";var He=c(59410),nt=c(49335);class pt{constructor(e,n,l){this._visibleTextAreaBrand=void 0,this.top=e,this.left=n,this.width=l}setWidth(e){return new pt(this.top,this.left,e)}}const ft=r.vU;class oi extends le{constructor(e,n,l){super(e),this._primaryCursorPosition=new Ie.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=n,this._viewHelper=l,this._scrollLeft=0,this._scrollTop=0;const b=this._context.configuration.options,k=b.get(129);this._setAccessibilityOptions(b),this._contentLeft=k.contentLeft,this._contentWidth=k.contentWidth,this._contentHeight=k.height,this._fontInfo=b.get(43),this._lineHeight=b.get(58),this._emptySelectionClipboard=b.get(32),this._copyWithSyntaxHighlighting=b.get(21),this._visibleTextArea=null,this._selections=[new N.Y(1,1,1,1)],this._modelSelections=[new N.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,C.X)(document.createElement("textarea")),Y.write(this.textArea,6),this.textArea.setClassName(`inputarea ${nt.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(b)),this.textArea.setAttribute("tabindex",String(b.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",J.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),b.get(30)&&b.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,C.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Z={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:he=>this._context.model.getLineMaxColumn(he),getValueInRange:(he,De)=>this._context.model.getValueInRange(he,De)},ne={getDataToCopy:he=>{const De=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,x.ED),Oe=this._context.model.getEOL(),Ke=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Lt=Array.isArray(De)?De:null,_t=Array.isArray(De)?De.join(Oe):De;let Ft,Zt=null;if(he&&(Nt.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&_t.length<65536)){const Xt=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Xt&&(Ft=Xt.html,Zt=Xt.mode)}return{isFromEmptySelection:Ke,multicursorText:Lt,text:_t,html:Ft,mode:Zt}},getScreenReaderContent:he=>{if(this._accessibilitySupport===1){if(x.dz){const De=this._selections[0];if(De.isEmpty()){const Oe=De.getStartPosition();let Ke=this._getWordBeforePosition(Oe);if(Ke.length===0&&(Ke=this._getCharacterBeforePosition(Oe)),Ke.length>0)return new xt(Ke,Ke.length,Ke.length,Oe,Oe)}}return xt.EMPTY}if(r.Dt){const De=this._selections[0];if(De.isEmpty()){const Oe=De.getStartPosition(),[Ke,Lt]=this._getAndroidWordAtPosition(Oe);if(Ke.length>0)return new xt(Ke,Lt,Lt,Oe,Oe)}return xt.EMPTY}return Qe.fromEditorSelection(he,Z,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(he,De,Oe)=>this._context.model.deduceModelPositionRelativeToViewPosition(he,De,Oe)};this._textAreaInput=this._register(new Yt(ne,this.textArea)),this._register(this._textAreaInput.onKeyDown(he=>{this._viewController.emitKeyDown(he)})),this._register(this._textAreaInput.onKeyUp(he=>{this._viewController.emitKeyUp(he)})),this._register(this._textAreaInput.onPaste(he=>{let De=!1,Oe=null,Ke=null;he.metadata&&(De=this._emptySelectionClipboard&&!!he.metadata.isFromEmptySelection,Oe=typeof he.metadata.multicursorText!="undefined"?he.metadata.multicursorText:null,Ke=he.metadata.mode),this._viewController.paste(he.text,De,Oe,Ke)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(he=>{he.replacePrevCharCnt||he.replaceNextCharCnt||he.positionDelta?(It&&console.log(` => compositionType: <<${he.text}>>, ${he.replacePrevCharCnt}, ${he.replaceNextCharCnt}, ${he.positionDelta}`),this._viewController.compositionType(he.text,he.replacePrevCharCnt,he.replaceNextCharCnt,he.positionDelta)):(It&&console.log(` => type: <<${he.text}>>`),this._viewController.type(he.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(he=>{this._viewController.setSelection(he)})),this._register(this._textAreaInput.onCompositionStart(he=>{const De=this._selections[0].startLineNumber,Oe=this._selections[0].startColumn+he.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new Pe.e(De,Oe,De,Oe),0,1);const Ke=this._viewHelper.visibleRangeForPositionRelativeToEditor(De,Oe);Ke&&(this._visibleTextArea=new pt(this._context.viewLayout.getVerticalOffsetForLineNumber(De),Ke.left,ft?0:1),this._render()),this.textArea.setClassName(`inputarea ${nt.S} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(he=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(Hi(he.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${nt.S}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const n='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',l=this._context.model.getLineContent(e.lineNumber),b=(0,He.u)(n);let k=!0,Z=e.column,ne=!0,he=e.column,De=0;for(;De<50&&(k||ne);){if(k&&Z<=1&&(k=!1),k){const Oe=l.charCodeAt(Z-2);b.get(Oe)!==0?k=!1:Z--}if(ne&&he>l.length&&(ne=!1),ne){const Oe=l.charCodeAt(he-1);b.get(Oe)!==0?ne=!1:he++}De++}return[l.substring(Z-1,he-1),e.column-Z]}_getWordBeforePosition(e){const n=this._context.model.getLineContent(e.lineNumber),l=(0,He.u)(this._context.configuration.options.get(115));let b=e.column,k=0;for(;b>1;){const Z=n.charCodeAt(b-2);if(l.get(Z)!==0||k>50)return n.substring(b-1,e.column-1);k++,b--}return n.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const l=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!$e.ZG(l.charCodeAt(0)))return l}return""}_getAriaLabel(e){return e.get(2)===1?J.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",x.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const n=e.get(3);this._accessibilitySupport===2&&n===rt.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=n}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._setAccessibilityOptions(n),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._contentHeight=l.height,this._fontInfo=n.get(43),this._lineHeight=n.get(58),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(n.get(30)&&n.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Ie.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const n=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(n<0||n>this._contentHeight){this._renderAtTopLeft();return}if(x.dz){this._renderInsideEditor(this._primaryCursorPosition,n,e,ft?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,n,e,ft?0:1,ft?0:1)}_renderInsideEditor(e,n,l,b,k){this._lastRenderPosition=e;const Z=this.textArea,ne=this.textAreaCover;E.V.applyFontInfo(Z,this._fontInfo),Z.setTop(n),Z.setLeft(l),Z.setWidth(b),Z.setHeight(k),ne.setTop(0),ne.setLeft(0),ne.setWidth(0),ne.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,n=this.textAreaCover;if(E.V.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),n.setTop(0),n.setLeft(0),ft){e.setWidth(0),e.setHeight(0),n.setWidth(0),n.setHeight(0);return}e.setWidth(1),e.setHeight(1),n.setWidth(1),n.setHeight(1);const l=this._context.configuration.options;l.get(49)?n.setClassName("monaco-editor-background textAreaCover "+Et.OUTER_CLASS_NAME):l.get(59).renderType!==0?n.setClassName("monaco-editor-background textAreaCover "+ht.CLASS_NAME):n.setClassName("monaco-editor-background textAreaCover")}}function Hi(Ct,e){const l=document.createElement("canvas").getContext("2d");l.font=vi(e);const b=l.measureText(Ct);return r.vU?b.width+2:b.width}function vi(Ct){return Ii("normal",Ct.fontWeight,Ct.fontSize,Ct.lineHeight,Ct.fontFamily)}function Ii(Ct,e,n,l,b){return`${Ct} normal ${e} ${n}px / ${l}px ${b}`}var Ui=c(89495);class dn{constructor(e,n,l,b){this.configuration=e,this.viewModel=n,this.userInputEvents=l,this.commandDelegate=b}paste(e,n,l,b){this.commandDelegate.paste(e,n,l,b)}type(e){this.commandDelegate.type(e)}compositionType(e,n,l,b){this.commandDelegate.compositionType(e,n,l,b)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Ui.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const n=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<n?new Ie.L(e.lineNumber,n):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const n=this.configuration.options,l=x.IJ&&n.get(95),b=n.get(18);e.middleButton&&!l?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):b?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Ui.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Ui.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,n,l){e=this._validateViewColumn(e),Ui.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:n,doColumnSelect:l})}_createCursor(e,n){e=this._validateViewColumn(e),Ui.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:n})}_lastCursorMoveToSelect(e){Ui.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Ui.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Ui.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Ui.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Ui.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Ui.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Ui.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Ui.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Ui.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class gn{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return gn.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,n){return new Ri(e.element,e.type,e.mouseColumn,e.position?n.convertViewPositionToModelPosition(e.position):null,e.range?n.convertViewRangeToModelRange(e.range):null,e.detail)}}class Ri{constructor(e,n,l,b,k,Z){this.element=e,this.type=n,this.mouseColumn=l,this.position=b,this.range=k,this.detail=Z}toString(){return ii.toString(this)}}var _i=c(50072),hn;class wn{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,n){this._lines=n,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const n=e-this._rendLineNumberStart;if(n<0||n>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[n]}onLinesDeleted(e,n){if(this.getCount()===0)return null;const l=this.getStartLineNumber(),b=this.getEndLineNumber();if(n<l){const he=n-e+1;return this._rendLineNumberStart-=he,null}if(e>b)return null;let k=0,Z=0;for(let he=l;he<=b;he++){const De=he-this._rendLineNumberStart;e<=he&&he<=n&&(Z===0?(k=De,Z=1):Z++)}if(e<l){let he=0;n<l?he=n-e+1:he=l-e,this._rendLineNumberStart-=he}return this._lines.splice(k,Z)}onLinesChanged(e,n){if(this.getCount()===0)return!1;const l=this.getStartLineNumber(),b=this.getEndLineNumber();let k=!1;for(let Z=e;Z<=n;Z++)Z>=l&&Z<=b&&(this._lines[Z-this._rendLineNumberStart].onContentChanged(),k=!0);return k}onLinesInserted(e,n){if(this.getCount()===0)return null;const l=n-e+1,b=this.getStartLineNumber(),k=this.getEndLineNumber();if(e<=b)return this._rendLineNumberStart+=l,null;if(e>k)return null;if(l+e>k)return this._lines.splice(e-this._rendLineNumberStart,k-e+1);const Z=[];for(let Ke=0;Ke<l;Ke++)Z[Ke]=this._createLine();const ne=e-this._rendLineNumberStart,he=this._lines.slice(0,ne),De=this._lines.slice(ne,this._lines.length-l),Oe=this._lines.slice(this._lines.length-l,this._lines.length);return this._lines=he.concat(Z).concat(De),Oe}onTokensChanged(e){if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),l=this.getEndLineNumber();let b=!1;for(let k=0,Z=e.length;k<Z;k++){const ne=e[k];if(ne.toLineNumber<n||ne.fromLineNumber>l)continue;const he=Math.max(n,ne.fromLineNumber),De=Math.min(l,ne.toLineNumber);for(let Oe=he;Oe<=De;Oe++){const Ke=Oe-this._rendLineNumberStart;this._lines[Ke].onTokensChanged(),b=!0}}return b}}class Qn{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new wn(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,C.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const n=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(n)for(let l=0,b=n.length;l<b;l++){const k=n[l].getDomNode();k&&this.domNode.domNode.removeChild(k)}return!0}onLinesInserted(e){const n=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(n)for(let l=0,b=n.length;l<b;l++){const k=n[l].getDomNode();k&&this.domNode.domNode.removeChild(k)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const n=this._linesCollection._get(),l=new os(this.domNode.domNode,this._host,e),b={rendLineNumberStart:n.rendLineNumberStart,lines:n.lines,linesLength:n.lines.length},k=l.render(b,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(k.rendLineNumberStart,k.lines)}}class os{constructor(e,n,l){this.domNode=e,this.host=n,this.viewportData=l}render(e,n,l,b){const k={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(k.rendLineNumberStart+k.linesLength-1<n||l<k.rendLineNumberStart){k.rendLineNumberStart=n,k.linesLength=l-n+1,k.lines=[];for(let Z=n;Z<=l;Z++)k.lines[Z-n]=this.host.createVisibleLine();return this._finishRendering(k,!0,b),k}if(this._renderUntouchedLines(k,Math.max(n-k.rendLineNumberStart,0),Math.min(l-k.rendLineNumberStart,k.linesLength-1),b,n),k.rendLineNumberStart>n){const Z=n,ne=Math.min(l,k.rendLineNumberStart-1);Z<=ne&&(this._insertLinesBefore(k,Z,ne,b,n),k.linesLength+=ne-Z+1)}else if(k.rendLineNumberStart<n){const Z=Math.min(k.linesLength,n-k.rendLineNumberStart);Z>0&&(this._removeLinesBefore(k,Z),k.linesLength-=Z)}if(k.rendLineNumberStart=n,k.rendLineNumberStart+k.linesLength-1<l){const Z=k.rendLineNumberStart+k.linesLength,ne=l;Z<=ne&&(this._insertLinesAfter(k,Z,ne,b,n),k.linesLength+=ne-Z+1)}else if(k.rendLineNumberStart+k.linesLength-1>l){const Z=Math.max(0,l-k.rendLineNumberStart+1),he=k.linesLength-1-Z+1;he>0&&(this._removeLinesAfter(k,he),k.linesLength-=he)}return this._finishRendering(k,!1,b),k}_renderUntouchedLines(e,n,l,b,k){const Z=e.rendLineNumberStart,ne=e.lines;for(let he=n;he<=l;he++){const De=Z+he;ne[he].layoutLine(De,b[De-k])}}_insertLinesBefore(e,n,l,b,k){const Z=[];let ne=0;for(let he=n;he<=l;he++)Z[ne++]=this.host.createVisibleLine();e.lines=Z.concat(e.lines)}_removeLinesBefore(e,n){for(let l=0;l<n;l++){const b=e.lines[l].getDomNode();b&&this.domNode.removeChild(b)}e.lines.splice(0,n)}_insertLinesAfter(e,n,l,b,k){const Z=[];let ne=0;for(let he=n;he<=l;he++)Z[ne++]=this.host.createVisibleLine();e.lines=e.lines.concat(Z)}_removeLinesAfter(e,n){const l=e.linesLength-n;for(let b=0;b<n;b++){const k=e.lines[l+b].getDomNode();k&&this.domNode.removeChild(k)}e.lines.splice(l,n)}_finishRenderingNewLines(e,n,l,b){os._ttPolicy&&(l=os._ttPolicy.createHTML(l));const k=this.domNode.lastChild;n||!k?this.domNode.innerHTML=l:k.insertAdjacentHTML("afterend",l);let Z=this.domNode.lastChild;for(let ne=e.linesLength-1;ne>=0;ne--){const he=e.lines[ne];b[ne]&&(he.setDomNode(Z),Z=Z.previousSibling)}}_finishRenderingInvalidLines(e,n,l){const b=document.createElement("div");os._ttPolicy&&(n=os._ttPolicy.createHTML(n)),b.innerHTML=n;for(let k=0;k<e.linesLength;k++){const Z=e.lines[k];if(l[k]){const ne=b.firstChild,he=Z.getDomNode();he.parentNode.replaceChild(ne,he),Z.setDomNode(ne)}}}_finishRendering(e,n,l){const b=os._sb,k=e.linesLength,Z=e.lines,ne=e.rendLineNumberStart,he=[];{b.reset();let De=!1;for(let Oe=0;Oe<k;Oe++){const Ke=Z[Oe];he[Oe]=!1,!(Ke.getDomNode()||!Ke.renderLine(Oe+ne,l[Oe],this.viewportData,b))&&(he[Oe]=!0,De=!0)}De&&this._finishRenderingNewLines(e,n,b.build(),he)}{b.reset();let De=!1;const Oe=[];for(let Ke=0;Ke<k;Ke++){const Lt=Z[Ke];Oe[Ke]=!1,!(he[Ke]||!Lt.renderLine(Ke+ne,l[Ke],this.viewportData,b))&&(Oe[Ke]=!0,De=!0)}De&&this._finishRenderingInvalidLines(e,b.build(),Oe)}}}os._ttPolicy=(hn=window.trustedTypes)===null||hn===void 0?void 0:hn.createPolicy("editorViewLayer",{createHTML:Ct=>Ct}),os._sb=(0,_i.l$)(1e5);class Yn extends le{constructor(e){super(e),this._visibleLines=new Qn(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,n=this._dynamicOverlays.length;e<n;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,n=this._dynamicOverlays.length;e<n;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Ts(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let b=n;b<=l;b++)this._visibleLines.getVisibleLine(b).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const n=this._dynamicOverlays.filter(l=>l.shouldRender());for(let l=0,b=n.length;l<b;l++){const k=n[l];k.prepareRender(e),k.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Ts{constructor(e,n){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,C.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,n,l,b){let k="";for(let Z=0,ne=this._dynamicOverlays.length;Z<ne;Z++){const he=this._dynamicOverlays[Z];k+=he.render(l.startLineNumber,e)}return this._renderedContent===k?!1:(this._renderedContent=k,b.appendASCIIString('<div style="position:absolute;top:'),b.appendASCIIString(String(n)),b.appendASCIIString("px;width:100%;height:"),b.appendASCIIString(String(this._lineHeight)),b.appendASCIIString('px;">'),b.appendASCIIString(k),b.appendASCIIString("</div>"),!0)}layoutLine(e,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}class Co extends Yn{constructor(e){super(e);const l=this._context.configuration.options.get(129);this._contentWidth=l.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const l=this._context.configuration.options.get(129);return this._contentWidth=l.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Vs extends Yn{constructor(e){super(e);const n=this._context.configuration.options,l=n.get(129);this._contentLeft=l.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),E.V.applyFontInfo(this.domNode,n.get(43))}onConfigurationChanged(e){const n=this._context.configuration.options;E.V.applyFontInfo(this.domNode,n.get(43));const l=n.get(129);return this._contentLeft=l.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const n=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}class cs{constructor(e,n){this._coordinateBrand=void 0,this.top=e,this.left=n}}class oo extends le{constructor(e,n){super(e),this._viewDomNode=n,this._widgets={},this.domNode=(0,C.X)(document.createElement("div")),Y.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,C.X)(document.createElement("div")),Y.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const n=new to(this._context,this._viewDomNode,e);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(e,n,l){this._widgets[e.getId()].setPosition(n,l),this.setShouldRender()}removeWidget(e){const n=e.getId();if(this._widgets.hasOwnProperty(n)){const l=this._widgets[n];delete this._widgets[n];const b=l.domNode.domNode;b.parentNode.removeChild(b),b.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].onBeforeRender(e)}prepareRender(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].prepareRender(e)}render(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].render(e)}}class to{constructor(e,n,l){this._context=e,this._viewDomNode=n,this._actual=l,this.domNode=(0,C.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const b=this._context.configuration.options,k=b.get(129);this._fixedOverflowWidgets=b.get(36),this._contentWidth=k.contentWidth,this._contentLeft=k.contentLeft,this._lineHeight=b.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const n=this._context.configuration.options;if(this._lineHeight=n.get(58),e.hasChanged(129)){const l=n.get(129);this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const n=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(n.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(n.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(n))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,n){this._setPosition(e),this._preference=n,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,n,l,b,k){const Z=e.top,ne=Z,he=n.top+this._lineHeight,De=k.viewportHeight-he,Oe=Z-b,Ke=ne>=b,Lt=he,_t=De>=b;let Ft=e.left,Zt=n.left;return Ft+l>k.scrollLeft+k.viewportWidth&&(Ft=k.scrollLeft+k.viewportWidth-l),Zt+l>k.scrollLeft+k.viewportWidth&&(Zt=k.scrollLeft+k.viewportWidth-l),Ft<k.scrollLeft&&(Ft=k.scrollLeft),Zt<k.scrollLeft&&(Zt=k.scrollLeft),{fitsAbove:Ke,aboveTop:Oe,aboveLeft:Ft,fitsBelow:_t,belowTop:Lt,belowLeft:Zt}}_layoutHorizontalSegmentInPage(e,n,l,b){const k=Math.max(0,n.left-b),Z=Math.min(n.left+n.width+b,e.width);let ne=n.left+l-R.DI.scrollX;if(ne+b>Z){const he=ne-(Z-b);ne-=he,l-=he}if(ne<k){const he=ne-k;ne-=he,l-=he}return[l,ne]}_layoutBoxInPage(e,n,l,b,k){const Z=e.top-b,ne=n.top+this._lineHeight,he=R.i(this._viewDomNode.domNode),De=he.top+Z-R.DI.scrollY,Oe=he.top+ne-R.DI.scrollY,Ke=R.D6(document.body),[Lt,_t]=this._layoutHorizontalSegmentInPage(Ke,he,e.left-k.scrollLeft+this._contentLeft,l),[Ft,Zt]=this._layoutHorizontalSegmentInPage(Ke,he,n.left-k.scrollLeft+this._contentLeft,l),Xt=22,di=22,xi=De>=Xt,yi=Oe+b<=Ke.height-di;return this._fixedOverflowWidgets?{fitsAbove:xi,aboveTop:Math.max(De,Xt),aboveLeft:_t,fitsBelow:yi,belowTop:Oe,belowLeft:Zt}:{fitsAbove:xi,aboveTop:Z,aboveLeft:Lt,fitsBelow:yi,belowTop:ne,belowLeft:Ft}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new cs(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const n=e.linesVisibleRangesForRange(this._viewRange,!1);if(!n||n.length===0)return[null,null];let l=n[0],b=n[0];for(const Ke of n)Ke.lineNumber<l.lineNumber&&(l=Ke),Ke.lineNumber>b.lineNumber&&(b=Ke);let k=1073741824;for(const Ke of l.ranges)Ke.left<k&&(k=Ke.left);let Z=1073741824;for(const Ke of b.ranges)Ke.left<Z&&(Z=Ke.left);const ne=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop,he=new cs(ne,k),De=e.getVerticalOffsetForLineNumber(b.lineNumber)-e.scrollTop,Oe=new cs(De,Z);return[he,Oe]}_prepareRenderWidget(e){const[n,l]=this._getTopAndBottomLeft(e);if(!n||!l)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let k=null;if(typeof this._actual.beforeRender=="function"&&(k=Gs(this._actual.beforeRender,this._actual)),k)this._cachedDomNodeClientWidth=k.width,this._cachedDomNodeClientHeight=k.height;else{const Z=this.domNode.domNode;this._cachedDomNodeClientWidth=Z.clientWidth,this._cachedDomNodeClientHeight=Z.clientHeight}}let b;if(this.allowEditorOverflow?b=this._layoutBoxInPage(n,l,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):b=this._layoutBoxInViewport(n,l,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let k=1;k<=2;k++)for(const Z of this._preference)if(Z===1){if(!b)return null;if(k===2||b.fitsAbove)return{coordinate:new cs(b.aboveTop,b.aboveLeft),position:1}}else if(Z===2){if(!b)return null;if(k===2||b.fitsBelow)return{coordinate:new cs(b.belowTop,b.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(n),position:0}:{coordinate:n,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Gs(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Gs(this._actual.afterRender,this._actual,this._renderData.position)}}function Gs(Ct,e,...n){try{return Ct.call(e,...n)}catch(l){return null}}var Ss=c(9488);let Rs=!0;class Hs extends Vi{constructor(e){super(),this._context=e;const n=this._context.configuration.options,l=n.get(129);this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new N.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const n=Rs?this._selections.slice(0,1):this._selections,l=n.map(k=>k.positionLineNumber);l.sort((k,Z)=>k-Z),Ss.fS(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,e=!0);const b=n.every(k=>k.isEmpty());return this._selectionIsEmpty!==b&&(this._selectionIsEmpty=b,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(e),l=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,k=this._cursorLineNumbers.length;let Z=0;const ne=[];for(let he=l;he<=b;he++){const De=he-l;for(;Z<k&&this._cursorLineNumbers[Z]<he;)Z++;Z<k&&this._cursorLineNumbers[Z]===he?ne[De]=n:ne[De]=""}this._renderData=ne}render(e,n){if(!this._renderData)return"";const l=n-e;return l>=this._renderData.length?"":this._renderData[l]}}class io extends Hs{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Ks extends Hs{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}(0,wt.Ic)((Ct,e)=>{Rs=!1;const n=Ct.getColor(Xi.Kh);if(n&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||Ct.defines(Xi.Mm)){const l=Ct.getColor(Xi.Mm);l&&(Rs=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${l}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${l}; }`),Ct.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class zs extends Vi{constructor(e){super(),this._context=e;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const n=e.getDecorationsInViewport();let l=[],b=0;for(let he=0,De=n.length;he<De;he++){const Oe=n[he];Oe.options.className&&(l[b++]=Oe)}l=l.sort((he,De)=>{if(he.options.zIndex<De.options.zIndex)return-1;if(he.options.zIndex>De.options.zIndex)return 1;const Oe=he.options.className,Ke=De.options.className;return Oe<Ke?-1:Oe>Ke?1:Pe.e.compareRangesUsingStarts(he.range,De.range)});const k=e.visibleRange.startLineNumber,Z=e.visibleRange.endLineNumber,ne=[];for(let he=k;he<=Z;he++){const De=he-k;ne[De]=""}this._renderWholeLineDecorations(e,l,ne),this._renderNormalDecorations(e,l,ne),this._renderResult=ne}_renderWholeLineDecorations(e,n,l){const b=String(this._lineHeight),k=e.visibleRange.startLineNumber,Z=e.visibleRange.endLineNumber;for(let ne=0,he=n.length;ne<he;ne++){const De=n[ne];if(!De.options.isWholeLine)continue;const Oe='<div class="cdr '+De.options.className+'" style="left:0;width:100%;height:'+b+'px;"></div>',Ke=Math.max(De.range.startLineNumber,k),Lt=Math.min(De.range.endLineNumber,Z);for(let _t=Ke;_t<=Lt;_t++){const Ft=_t-k;l[Ft]+=Oe}}}_renderNormalDecorations(e,n,l){const b=String(this._lineHeight),k=e.visibleRange.startLineNumber;let Z=null,ne=!1,he=null;for(let De=0,Oe=n.length;De<Oe;De++){const Ke=n[De];if(Ke.options.isWholeLine)continue;const Lt=Ke.options.className,_t=!!Ke.options.showIfCollapsed;let Ft=Ke.range;if(_t&&Ft.endColumn===1&&Ft.endLineNumber!==Ft.startLineNumber&&(Ft=new Pe.e(Ft.startLineNumber,Ft.startColumn,Ft.endLineNumber-1,this._context.model.getLineMaxColumn(Ft.endLineNumber-1))),Z===Lt&&ne===_t&&Pe.e.areIntersectingOrTouching(he,Ft)){he=Pe.e.plusRange(he,Ft);continue}Z!==null&&this._renderNormalDecoration(e,he,Z,ne,b,k,l),Z=Lt,ne=_t,he=Ft}Z!==null&&this._renderNormalDecoration(e,he,Z,ne,b,k,l)}_renderNormalDecoration(e,n,l,b,k,Z,ne){const he=e.linesVisibleRangesForRange(n,l==="findMatch");if(he)for(let De=0,Oe=he.length;De<Oe;De++){const Ke=he[De];if(Ke.outsideRenderedLine)continue;const Lt=Ke.lineNumber-Z;if(b&&Ke.ranges.length===1){const _t=Ke.ranges[0];_t.width===0&&(Ke.ranges[0]=new m(_t.left,this._typicalHalfwidthCharacterWidth))}for(let _t=0,Ft=Ke.ranges.length;_t<Ft;_t++){const Zt=Ke.ranges[_t],Xt='<div class="cdr '+l+'" style="left:'+String(Zt.left)+"px;width:"+String(Zt.width)+"px;height:"+k+'px;"></div>';ne[Lt]+=Xt}}}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}var ho=c(13433),jn=c(73910);class lo extends le{constructor(e,n,l,b){super(e);const k=this._context.configuration.options,Z=k.get(91),ne=k.get(66),he=k.get(34),De=k.get(94),Oe={listenOnDomNode:l.domNode,className:"editor-scrollable "+(0,wt.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:Z.vertical,horizontal:Z.horizontal,verticalHasArrows:Z.verticalHasArrows,horizontalHasArrows:Z.horizontalHasArrows,verticalScrollbarSize:Z.verticalScrollbarSize,verticalSliderSize:Z.verticalSliderSize,horizontalScrollbarSize:Z.horizontalScrollbarSize,horizontalSliderSize:Z.horizontalSliderSize,handleMouseWheel:Z.handleMouseWheel,alwaysConsumeMouseWheel:Z.alwaysConsumeMouseWheel,arrowSize:Z.arrowSize,mouseWheelScrollSensitivity:ne,fastScrollSensitivity:he,scrollPredominantAxis:De,scrollByPage:Z.scrollByPage};this.scrollbar=this._register(new ho.$Z(n.domNode,Oe,this._context.viewLayout.getScrollable())),Y.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,C.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Ke=(Lt,_t,Ft)=>{const Zt={};if(_t){const Xt=Lt.scrollTop;Xt&&(Zt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Xt,Lt.scrollTop=0)}if(Ft){const Xt=Lt.scrollLeft;Xt&&(Zt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Xt,Lt.scrollLeft=0)}this._context.model.setScrollPosition(Zt,1)};this._register(R.nm(l.domNode,"scroll",Lt=>Ke(l.domNode,!0,!0))),this._register(R.nm(n.domNode,"scroll",Lt=>Ke(n.domNode,!0,!1))),this._register(R.nm(b.domNode,"scroll",Lt=>Ke(b.domNode,!0,!1))),this._register(R.nm(this.scrollbarDomNode.domNode,"scroll",Lt=>Ke(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,n=e.get(129);this.scrollbarDomNode.setLeft(n.contentLeft),e.get(64).side==="right"?this.scrollbarDomNode.setWidth(n.contentWidth+n.minimap.minimapWidth):this.scrollbarDomNode.setWidth(n.contentWidth),this.scrollbarDomNode.setHeight(n.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const n=this._context.configuration.options,l=n.get(91),b=n.get(66),k=n.get(34),Z=n.get(94),ne={vertical:l.vertical,horizontal:l.horizontal,verticalScrollbarSize:l.verticalScrollbarSize,horizontalScrollbarSize:l.horizontalScrollbarSize,scrollByPage:l.scrollByPage,handleMouseWheel:l.handleMouseWheel,mouseWheelScrollSensitivity:b,fastScrollSensitivity:k,scrollPredominantAxis:Z};this.scrollbar.updateOptions(ne)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,wt.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(jn._w);n&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${n} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${n} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${n} 6px 6px 6px -6px inset;
			}
		`);const l=Ct.getColor(jn.et);l&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${l};
			}
		`);const b=Ct.getColor(jn.AB);b&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${b};
			}
		`);const k=Ct.getColor(jn.yn);k&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${k};
			}
		`)});class ts{constructor(e,n,l){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+n,this.className=String(l)}}class Un extends Vi{_render(e,n,l){const b=[];for(let ne=e;ne<=n;ne++){const he=ne-e;b[he]=[]}if(l.length===0)return b;l.sort((ne,he)=>ne.className===he.className?ne.startLineNumber===he.startLineNumber?ne.endLineNumber-he.endLineNumber:ne.startLineNumber-he.startLineNumber:ne.className<he.className?-1:1);let k=null,Z=0;for(let ne=0,he=l.length;ne<he;ne++){const De=l[ne],Oe=De.className;let Ke=Math.max(De.startLineNumber,e)-e;const Lt=Math.min(De.endLineNumber,n)-e;k===Oe?(Ke=Math.max(Z+1,Ke),Z=Math.max(Z,Lt)):(k=Oe,Z=Lt);for(let _t=Ke;_t<=Z;_t++)b[_t].push(k)}return b}}class Zs extends Un{constructor(e){super(),this._context=e;const n=this._context.configuration.options,l=n.get(129);this._lineHeight=n.get(58),this._glyphMargin=n.get(49),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._lineHeight=n.get(58),this._glyphMargin=n.get(49),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let l=[],b=0;for(let k=0,Z=n.length;k<Z;k++){const ne=n[k],he=ne.options.glyphMarginClassName;he&&(l[b++]=new ts(ne.range.startLineNumber,ne.range.endLineNumber,he))}return l}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,b=this._render(n,l,this._getDecorations(e)),k=this._lineHeight.toString(),Z=this._glyphMarginLeft.toString(),ne=this._glyphMarginWidth.toString(),he='" style="left:'+Z+"px;width:"+ne+"px;height:"+k+'px;"></div>',De=[];for(let Oe=n;Oe<=l;Oe++){const Ke=Oe-n,Lt=b[Ke];Lt.length===0?De[Ke]="":De[Ke]='<div class="cgmr codicon '+Lt.join(" ")+he}this._renderResult=De}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}var Xn=c(84973),Ys=c(24979),xs=c(98401);class Xs extends Vi{constructor(e){super(),this._context=e,this._primaryPosition=null;const n=this._context.configuration.options,l=n.get(130),b=n.get(43);this._lineHeight=n.get(58),this._spaceWidth=b.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*b.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(130),b=n.get(43);return this._lineHeight=n.get(58),this._spaceWidth=b.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*b.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),!0}onCursorStateChanged(e){var n;const b=e.selections[0].getPosition();return!((n=this._primaryPosition)===null||n===void 0)&&n.equals(b)?!1:(this._primaryPosition=b,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var n,l,b,k;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Z=e.visibleRange.startLineNumber,ne=e.visibleRange.endLineNumber,he=e.scrollWidth,De=this._lineHeight,Oe=this._primaryPosition,Ke=this.getGuidesByLine(Z,ne,Oe),Lt=[];for(let _t=Z;_t<=ne;_t++){const Ft=_t-Z,Zt=Ke[Ft];let Xt="";const di=(l=(n=e.visibleRangeForPosition(new Ie.L(_t,1)))===null||n===void 0?void 0:n.left)!==null&&l!==void 0?l:0;for(const xi of Zt){const yi=di+(xi.visibleColumn-1)*this._spaceWidth;if(yi>he||this._maxIndentLeft>0&&yi>this._maxIndentLeft)break;const cn=xi.horizontalLine?xi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",an=xi.horizontalLine?((k=(b=e.visibleRangeForPosition(new Ie.L(_t,xi.horizontalLine.endColumn)))===null||b===void 0?void 0:b.left)!==null&&k!==void 0?k:yi+this._spaceWidth)-yi:this._spaceWidth;Xt+=`<div class="core-guide ${xi.className} ${cn}" style="left:${yi}px;height:${De}px;width:${an}px"></div>`}Lt[Ft]=Xt}this._renderResult=Lt}getGuidesByLine(e,n,l){const b=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,n,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Xn.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Xn.s6.EnabledForActive:Xn.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,k=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,n):null;let Z=0,ne=0,he=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&l){const Ke=this._context.model.getActiveIndentGuide(l.lineNumber,e,n);Z=Ke.startLineNumber,ne=Ke.endLineNumber,he=Ke.indent}const{indentSize:De}=this._context.model.getTextModelOptions(),Oe=[];for(let Ke=e;Ke<=n;Ke++){const Lt=new Array;Oe.push(Lt);const _t=b?b[Ke-e]:[],Ft=new Ss.H9(_t),Zt=k?k[Ke-e]:[];for(let Xt=1;Xt<=Zt;Xt++){const di=(Xt-1)*De+1,xi=_t.length===0&&Z<=Ke&&Ke<=ne&&Xt===he;Lt.push(...Ft.takeWhile(cn=>cn.visibleColumn<di)||[]);const yi=Ft.peek();(!yi||yi.visibleColumn!==di||yi.horizontalLine)&&Lt.push(new Xn.UO(di,xi?"core-guide-indent-active":"core-guide-indent",null))}Lt.push(...Ft.takeWhile(Xt=>!0)||[])}return Oe}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}function pi(Ct){if(!(Ct&&Ct.isTransparent()))return Ct}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Xi.tR);n&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${n} inset; }`);const l=Ct.getColor(Xi.Ym)||n;l&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const b=[{bracketColor:Xi.zJ,guideColor:Xi.oV,guideColorActive:Xi.Qb},{bracketColor:Xi.Vs,guideColor:Xi.m$,guideColorActive:Xi.m3},{bracketColor:Xi.CE,guideColor:Xi.DS,guideColorActive:Xi.To},{bracketColor:Xi.UP,guideColor:Xi.lS,guideColorActive:Xi.L7},{bracketColor:Xi.r0,guideColor:Xi.Jn,guideColorActive:Xi.HV},{bracketColor:Xi.m1,guideColor:Xi.YF,guideColorActive:Xi.f9}],k=new Ys.WE;let Z=b.map(ne=>{var he,De;const Oe=Ct.getColor(ne.bracketColor),Ke=Ct.getColor(ne.guideColor),Lt=Ct.getColor(ne.guideColorActive),_t=pi((he=pi(Ke))!==null&&he!==void 0?he:Oe==null?void 0:Oe.transparent(.3)),Ft=pi((De=pi(Lt))!==null&&De!==void 0?De:Oe);if(!(!_t||!Ft))return{guideColor:_t,guideColorActive:Ft}}).filter(xs.$K);if(Z.length>0){for(let ne=0;ne<30;ne++){const he=Z[ne%Z.length];e.addRule(`.monaco-editor .${k.getInlineClassNameOfLevel(ne).replace(/ /g,".")} { --guide-color: ${he.guideColor}; --guide-color-active: ${he.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${k.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${k.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${k.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class me{constructor(){this._currentVisibleRange=new Pe.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class ct{constructor(e,n,l,b,k,Z){this.lineNumber=e,this.startColumn=n,this.endColumn=l,this.startScrollTop=b,this.stopScrollTop=k,this.scrollType=Z,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class gt{constructor(e,n,l,b){this.selections=e,this.startScrollTop=n,this.stopScrollTop=l,this.scrollType=b,this.type="selections";let k=e[0].startLineNumber,Z=e[0].endLineNumber;for(let ne=1,he=e.length;ne<he;ne++){const De=e[ne];k=Math.min(k,De.startLineNumber),Z=Math.max(Z,De.endLineNumber)}this.minLineNumber=k,this.maxLineNumber=Z}}class Bt extends le{constructor(e,n){super(e),this._linesContent=n,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Qn(this),this.domNode=this._visibleLines.domNode;const l=this._context.configuration,b=this._context.configuration.options,k=b.get(43),Z=b.get(130);this._lineHeight=b.get(58),this._typicalHalfwidthCharacterWidth=k.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=b.get(88),this._cursorSurroundingLines=b.get(25),this._cursorSurroundingLinesStyle=b.get(26),this._canUseLayerHinting=!b.get(28),this._viewLineOptions=new it(l,this._context.theme.type),Y.write(this.domNode,7),this.domNode.setClassName(`view-lines ${nt.S}`),E.V.applyFontInfo(this.domNode,k),this._maxLineWidth=0,this._asyncUpdateLineWidths=new S.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new S.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new me,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Je(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const n=this._context.configuration.options,l=n.get(43),b=n.get(130);return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=b.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),E.V.applyFontInfo(this.domNode,l),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,n=new it(e,this._context.theme.type);if(!this._viewLineOptions.equals(n)){this._viewLineOptions=n;const l=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let k=l;k<=b;k++)this._visibleLines.getVisibleLine(k).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let b=!1;for(let k=n;k<=l;k++)b=this._visibleLines.getVisibleLine(k).onSelectionChanged()||b;return b}onDecorationsChanged(e){{const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let b=n;b<=l;b++)this._visibleLines.getVisibleLine(b).onDecorationsChanged()}return!0}onFlushed(e){const n=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,n}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const n=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(n===-1)return!1;let l=this._context.viewLayout.validateScrollPosition({scrollTop:n});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?l={scrollTop:l.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new ct(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new gt(e.selections,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const k=Math.abs(this._context.viewLayout.getCurrentScrollTop()-l.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(l,k),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const n=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),l=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<n||e.scrollTop>l)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,n){const l=this._getViewLineDomNode(e);if(l===null)return null;const b=this._getLineNumberFor(l);if(b===-1||b<1||b>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(b)===1)return new Ie.L(b,1);const k=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();if(b<k||b>Z)return null;let ne=this._visibleLines.getVisibleLine(b).getColumnOfNodeOffset(b,e,n);const he=this._context.model.getLineMinColumn(b);return ne<he&&(ne=he),new Ie.L(b,ne)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Je.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let b=n;b<=l;b++){const k=this._visibleLines.getVisibleLine(b);if(e===k.getDomNode())return b}return-1}getLineWidth(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();return e<n||e>l?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,n){if(this.shouldRender())return null;const l=e.endLineNumber,b=Pe.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!b)return null;let k=[],Z=0;const ne=new Mt(this.domNode.domNode,this._textRangeRestingSpot);let he=0;n&&(he=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ie.L(b.startLineNumber,1)).lineNumber);const De=this._visibleLines.getStartLineNumber(),Oe=this._visibleLines.getEndLineNumber();for(let Ke=b.startLineNumber;Ke<=b.endLineNumber;Ke++){if(Ke<De||Ke>Oe)continue;const Lt=Ke===b.startLineNumber?b.startColumn:1,_t=Ke===b.endLineNumber?b.endColumn:this._context.model.getLineMaxColumn(Ke),Ft=this._visibleLines.getVisibleLine(Ke).getVisibleRangesForRange(Ke,Lt,_t,ne);if(Ft){if(n&&Ke<l){const Zt=he;he=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ie.L(Ke+1,1)).lineNumber,Zt!==he&&(Ft.ranges[Ft.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}k[Z++]=new ee(Ft.outsideRenderedLine,Ke,m.from(Ft.ranges))}}return Z===0?null:k}_visibleRangesForLineRange(e,n,l){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,n,l,new Mt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const n=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return n?new F(n.outsideRenderedLine,n.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let b=1,k=!0;for(let Z=n;Z<=l;Z++){const ne=this._visibleLines.getVisibleLine(Z);if(e&&!ne.getWidthIsFast()){k=!1;continue}b=Math.max(b,ne.getWidth())}return k&&n===1&&l===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(b),k}_checkMonospaceFontAssumptions(){let e=-1,n=-1;const l=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let k=l;k<=b;k++){const Z=this._visibleLines.getVisibleLine(k);if(Z.needsMonospaceFontCheck()){const ne=Z.getWidth();ne>n&&(n=ne,e=k)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let k=l;k<=b;k++)this._visibleLines.getVisibleLine(k).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const l=this._horizontalRevealRequest;if(e.startLineNumber<=l.minLineNumber&&l.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const b=this._computeScrollLeftToReveal(l);b&&(this._isViewportWrapping||this._ensureMaxLineWidth(b.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:b.scrollLeft},l.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),x.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const l=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let k=l;k<=b;k++)if(this._visibleLines.getVisibleLine(k).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const n=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const n=Math.ceil(e);this._maxLineWidth<n&&(this._maxLineWidth=n,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,n,l,b,k){const Z=e.top,ne=e.height,he=Z+ne;let De,Oe,Ke;if(b&&b.length>0){let Ft=b[0].startLineNumber,Zt=b[0].endLineNumber;for(let Xt=1,di=b.length;Xt<di;Xt++){const xi=b[Xt];Ft=Math.min(Ft,xi.startLineNumber),Zt=Math.max(Zt,xi.endLineNumber)}De=!1,Oe=this._context.viewLayout.getVerticalOffsetForLineNumber(Ft),Ke=this._context.viewLayout.getVerticalOffsetForLineNumber(Zt)+this._lineHeight}else if(l)De=!0,Oe=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),Ke=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;if(!(n==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const Ft=Math.min(ne/this._lineHeight/2,this._cursorSurroundingLines);Oe-=Ft*this._lineHeight,Ke+=Math.max(0,Ft-1)*this._lineHeight}(k===0||k===4)&&(Ke+=this._lineHeight);let _t;if(Ke-Oe>ne){if(!De)return-1;_t=Oe}else if(k===5||k===6)if(k===6&&Z<=Oe&&Ke<=he)_t=Z;else{const Ft=Math.max(5*this._lineHeight,ne*.2),Zt=Oe-Ft,Xt=Ke-ne;_t=Math.max(Xt,Zt)}else if(k===1||k===2)if(k===2&&Z<=Oe&&Ke<=he)_t=Z;else{const Ft=(Oe+Ke)/2;_t=Math.max(0,Ft-ne/2)}else _t=this._computeMinimumScrolling(Z,he,Oe,Ke,k===3,k===4);return _t}_computeScrollLeftToReveal(e){const n=this._context.viewLayout.getCurrentViewport(),l=n.left,b=l+n.width;let k=1073741824,Z=0;if(e.type==="range"){const he=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!he)return null;for(const De of he.ranges)k=Math.min(k,Math.round(De.left)),Z=Math.max(Z,Math.round(De.left+De.width))}else for(const he of e.selections){if(he.startLineNumber!==he.endLineNumber)return null;const De=this._visibleRangesForLineRange(he.startLineNumber,he.startColumn,he.endColumn);if(!De)return null;for(const Oe of De.ranges)k=Math.min(k,Math.round(Oe.left)),Z=Math.max(Z,Math.round(Oe.left+Oe.width))}return k=Math.max(0,k-Bt.HORIZONTAL_EXTRA_PX),Z+=this._revealHorizontalRightPadding,e.type==="selections"&&Z-k>n.width?null:{scrollLeft:this._computeMinimumScrolling(l,b,k,Z),maxHorizontalOffset:Z}}_computeMinimumScrolling(e,n,l,b,k,Z){e=e|0,n=n|0,l=l|0,b=b|0,k=!!k,Z=!!Z;const ne=n-e;if(b-l<ne){if(k)return l;if(Z)return Math.max(0,b-ne);if(l<e)return l;if(b>n)return Math.max(0,b-ne)}else return l;return e}}Bt.HORIZONTAL_EXTRA_PX=30;class Gt extends Un{constructor(e){super(),this._context=e;const l=this._context.configuration.options.get(129);this._decorationsLeft=l.decorationsLeft,this._decorationsWidth=l.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const l=this._context.configuration.options.get(129);return this._decorationsLeft=l.decorationsLeft,this._decorationsWidth=l.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let l=[],b=0;for(let k=0,Z=n.length;k<Z;k++){const ne=n[k],he=ne.options.linesDecorationsClassName;he&&(l[b++]=new ts(ne.range.startLineNumber,ne.range.endLineNumber,he));const De=ne.options.firstLineDecorationClassName;De&&(l[b++]=new ts(ne.range.startLineNumber,ne.range.startLineNumber,De))}return l}prepareRender(e){const n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,b=this._render(n,l,this._getDecorations(e)),k=this._decorationsLeft.toString(),Z=this._decorationsWidth.toString(),ne='" style="left:'+k+"px;width:"+Z+'px;"></div>',he=[];for(let De=n;De<=l;De++){const Oe=De-n,Ke=b[Oe];let Lt="";for(let _t=0,Ft=Ke.length;_t<Ft;_t++)Lt+='<div class="cldr '+Ke[_t]+ne;he[Oe]=Lt}this._renderResult=he}render(e,n){return this._renderResult?this._renderResult[n-e]:""}}class bi extends Un{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let l=[],b=0;for(let k=0,Z=n.length;k<Z;k++){const ne=n[k],he=ne.options.marginClassName;he&&(l[b++]=new ts(ne.range.startLineNumber,ne.range.endLineNumber,he))}return l}prepareRender(e){const n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,b=this._render(n,l,this._getDecorations(e)),k=[];for(let Z=n;Z<=l;Z++){const ne=Z-n,he=b[ne];let De="";for(let Oe=0,Ke=he.length;Oe<Ke;Oe++)De+='<div class="cmdr '+he[Oe]+'" style=""></div>';k[ne]=De}this._renderResult=k}render(e,n){return this._renderResult?this._renderResult[n-e]:""}}class li{constructor(e,n,l,b){this._rgba8Brand=void 0,this.r=li._clamp(e),this.g=li._clamp(n),this.b=li._clamp(l),this.a=li._clamp(b)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}li.Empty=new li(0,0,0,0);var ei=c(10351);class ki extends T.JT{constructor(){super(),this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(ei.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,T.dk)(new ki)),this._INSTANCE}_updateColorMap(){const e=ei.RW.getColorMap();if(!e){this._colors=[li.Empty],this._backgroundIsLight=!0;return}this._colors=[li.Empty];for(let l=1;l<e.length;l++){const b=e[l].rgba;this._colors[l]=new li(b.r,b.g,b.b,Math.round(b.a*255))}let n=e[2].getRelativeLuminance();this._backgroundIsLight=n>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}ki._INSTANCE=null;var Di=c(13824);const Pn=(()=>{const Ct=[];for(let e=32;e<=126;e++)Ct.push(e);return Ct.push(65533),Ct})(),kt=(Ct,e)=>(Ct-=32,Ct<0||Ct>96?e<=2?(Ct+96)%96:96-1:Ct);var V=c(85427);class ae{constructor(e,n){this.scale=n,this._minimapCharRendererBrand=void 0,this.charDataNormal=ae.soften(e,12/15),this.charDataLight=ae.soften(e,50/60)}static soften(e,n){let l=new Uint8ClampedArray(e.length);for(let b=0,k=e.length;b<k;b++)l[b]=(0,V.K)(e[b]*n);return l}renderChar(e,n,l,b,k,Z,ne,he,De,Oe,Ke){const Lt=1*this.scale,_t=2*this.scale,Ft=Ke?1:_t;if(n+Lt>e.width||l+Ft>e.height){console.warn("bad render request outside image data");return}const Zt=Oe?this.charDataLight:this.charDataNormal,Xt=kt(b,De),di=e.width*4,xi=ne.r,yi=ne.g,cn=ne.b,an=k.r-xi,En=k.g-yi,Ln=k.b-cn,rn=Math.max(Z,he),vn=e.data;let bn=Xt*Lt*_t,Gn=l*di+n*4;for(let mo=0;mo<Ft;mo++){let vo=Gn;for(let co=0;co<Lt;co++){const Ps=Zt[bn++]/255*(Z/255);vn[vo++]=xi+an*Ps,vn[vo++]=yi+En*Ps,vn[vo++]=cn+Ln*Ps,vn[vo++]=rn}Gn+=di}}blockRenderChar(e,n,l,b,k,Z,ne,he){const De=1*this.scale,Oe=2*this.scale,Ke=he?1:Oe;if(n+De>e.width||l+Ke>e.height){console.warn("bad render request outside image data");return}const Lt=e.width*4,_t=.5*(k/255),Ft=Z.r,Zt=Z.g,Xt=Z.b,di=b.r-Ft,xi=b.g-Zt,yi=b.b-Xt,cn=Ft+di*_t,an=Zt+xi*_t,En=Xt+yi*_t,Ln=Math.max(k,ne),rn=e.data;let vn=l*Lt+n*4;for(let bn=0;bn<Ke;bn++){let Gn=vn;for(let mo=0;mo<De;mo++)rn[Gn++]=cn,rn[Gn++]=an,rn[Gn++]=En,rn[Gn++]=Ln;vn+=Lt}}}var Ne=c(88289);const qe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},bt=Ct=>{const e=new Uint8ClampedArray(Ct.length/2);for(let n=0;n<Ct.length;n+=2)e[n>>1]=qe[Ct[n]]<<4|qe[Ct[n+1]]&15;return e},$t={1:(0,Ne.I)(()=>bt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Ne.I)(()=>bt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class ni{static create(e,n){if(this.lastCreated&&e===this.lastCreated.scale&&n===this.lastFontFamily)return this.lastCreated;let l;return $t[e]?l=new ae($t[e](),e):l=ni.createFromSampleData(ni.createSampleData(n).data,e),this.lastFontFamily=n,this.lastCreated=l,l}static createSampleData(e){const n=document.createElement("canvas"),l=n.getContext("2d");n.style.height="16px",n.height=16,n.width=96*10,n.style.width=96*10+"px",l.fillStyle="#ffffff",l.font=`bold 16px ${e}`,l.textBaseline="middle";let b=0;for(const k of Pn)l.fillText(String.fromCharCode(k),b,16/2),b+=10;return l.getImageData(0,0,96*10,16)}static createFromSampleData(e,n){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let b=ni._downsample(e,n);return new ae(b,n)}static _downsampleChar(e,n,l,b,k){const Z=1*k,ne=2*k;let he=b,De=0;for(let Oe=0;Oe<ne;Oe++){const Ke=Oe/ne*16,Lt=(Oe+1)/ne*16;for(let _t=0;_t<Z;_t++){const Ft=_t/Z*10,Zt=(_t+1)/Z*10;let Xt=0,di=0;for(let yi=Ke;yi<Lt;yi++){const cn=n+Math.floor(yi)*3840,an=1-(yi-Math.floor(yi));for(let En=Ft;En<Zt;En++){const Ln=1-(En-Math.floor(En)),rn=cn+Math.floor(En)*4,vn=Ln*an;di+=vn,Xt+=e[rn]*e[rn+3]/255*vn}}const xi=Xt/di;De=Math.max(De,xi),l[he++]=(0,V.K)(xi)}}return De}static _downsample(e,n){const l=2*n*1*n,b=l*96,k=new Uint8ClampedArray(b);let Z=0,ne=0,he=0;for(let De=0;De<96;De++)he=Math.max(he,this._downsampleChar(e,ne,k,Z,n)),Z+=l,ne+=10*4;if(he>0){const De=255/he;for(let Oe=0;Oe<b;Oe++)k[Oe]*=De}return k}}const mi=140,Ai=2;class Ei{constructor(e,n,l){const b=e.options,k=b.get(127),Z=b.get(129),ne=Z.minimap,he=b.get(43),De=b.get(64);this.renderMinimap=ne.renderMinimap,this.size=De.size,this.minimapHeightIsEditorHeight=ne.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=b.get(93),this.showSlider=De.showSlider,this.pixelRatio=k,this.typicalHalfwidthCharacterWidth=he.typicalHalfwidthCharacterWidth,this.lineHeight=b.get(58),this.minimapLeft=ne.minimapLeft,this.minimapWidth=ne.minimapWidth,this.minimapHeight=Z.height,this.canvasInnerWidth=ne.minimapCanvasInnerWidth,this.canvasInnerHeight=ne.minimapCanvasInnerHeight,this.canvasOuterWidth=ne.minimapCanvasOuterWidth,this.canvasOuterHeight=ne.minimapCanvasOuterHeight,this.isSampling=ne.minimapIsSampling,this.editorHeight=Z.height,this.fontScale=ne.minimapScale,this.minimapLineHeight=ne.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Ne.I)(()=>ni.create(this.fontScale,he.fontFamily)),this.defaultBackgroundColor=l.getColor(2),this.backgroundColor=Ei._getMinimapBackground(n,this.defaultBackgroundColor),this.foregroundAlpha=Ei._getMinimapForegroundOpacity(n)}static _getMinimapBackground(e,n){const l=e.getColor(jn.kV);return l?new li(l.rgba.r,l.rgba.g,l.rgba.b,Math.round(255*l.rgba.a)):n}static _getMinimapForegroundOpacity(e){const n=e.getColor(jn.It);return n?li._clamp(Math.round(255*n.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Bi{constructor(e,n,l,b,k,Z,ne,he){this.scrollTop=e,this.scrollHeight=n,this.sliderNeeded=l,this._computedSliderRatio=b,this.sliderTop=k,this.sliderHeight=Z,this.startLineNumber=ne,this.endLineNumber=he}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,n,l,b,k,Z,ne,he,De,Oe,Ke){const Lt=e.pixelRatio,_t=e.minimapLineHeight,Ft=Math.floor(e.canvasInnerHeight/_t),Zt=e.lineHeight;if(e.minimapHeightIsEditorHeight){const an=he*e.lineHeight+(e.scrollBeyondLastLine?k-e.lineHeight:0),En=Math.max(1,Math.floor(k*k/an)),Ln=Math.max(0,e.minimapHeight-En),rn=Ln/(Oe-k),vn=De*rn,bn=Ln>0,Gn=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new Bi(De,Oe,bn,rn,vn,En,1,Math.min(ne,Gn))}let Xt;if(Z&&l!==ne){const an=l-n+1;Xt=Math.floor(an*_t/Lt)}else{const an=k/Zt;Xt=Math.floor(an*_t/Lt)}let di;e.scrollBeyondLastLine?di=(ne-1)*_t/Lt:di=Math.max(0,ne*_t/Lt-Xt),di=Math.min(e.minimapHeight-Xt,di);const xi=di/(Oe-k),yi=De*xi;let cn=0;if(e.scrollBeyondLastLine&&(cn=k/Zt-1),Ft>=ne+cn){const En=ne,Ln=di>0;return new Bi(De,Oe,Ln,xi,yi,Xt,1,En)}else{let an=Math.max(1,Math.floor(n-yi*Lt/_t));Ke&&Ke.scrollHeight===Oe&&(Ke.scrollTop>De&&(an=Math.min(an,Ke.startLineNumber)),Ke.scrollTop<De&&(an=Math.max(an,Ke.startLineNumber)));const En=Math.min(ne,an+Ft-1),Ln=(De-b)/Zt,rn=(n-an+Ln)*_t/Lt;return new Bi(De,Oe,!0,xi,rn,Xt,an,En)}}}class ln{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}ln.INVALID=new ln(-1);class Ti{constructor(e,n,l){this.renderedLayout=e,this._imageData=n,this._renderedLines=new wn(()=>ln.INVALID),this._renderedLines._set(e.startLineNumber,l)}linesEquals(e){if(!this.scrollEquals(e))return!1;const l=this._renderedLines._get().lines;for(let b=0,k=l.length;b<k;b++)if(l[b].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,n){return this._renderedLines.onLinesChanged(e,n)}onLinesDeleted(e,n){this._renderedLines.onLinesDeleted(e,n)}onLinesInserted(e,n){this._renderedLines.onLinesInserted(e,n)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class on{constructor(e,n,l,b){this._backgroundFillData=on._createBackgroundFillData(n,l,b),this._buffers=[e.createImageData(n,l),e.createImageData(n,l)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,n,l){const b=l.r,k=l.g,Z=l.b,ne=l.a,he=new Uint8ClampedArray(e*n*4);let De=0;for(let Oe=0;Oe<n;Oe++)for(let Ke=0;Ke<e;Ke++)he[De]=b,he[De+1]=k,he[De+2]=Z,he[De+3]=ne,De+=4;return he}}class en{constructor(e,n){this.samplingRatio=e,this.minimapLines=n}static compute(e,n,l){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const b=e.pixelRatio,k=e.lineHeight,Z=e.scrollBeyondLastLine,{minimapLineCount:ne}=rt.gk.computeContainedMinimapLineCount({viewLineCount:n,scrollBeyondLastLine:Z,height:e.editorHeight,lineHeight:k,pixelRatio:b}),he=n/ne,De=he/2;if(!l||l.minimapLines.length===0){let yi=[];if(yi[0]=1,ne>1){for(let cn=0,an=ne-1;cn<an;cn++)yi[cn]=Math.round(cn*he+De);yi[ne-1]=n}return[new en(he,yi),[]]}const Oe=l.minimapLines,Ke=Oe.length;let Lt=[],_t=0,Ft=0,Zt=1;const Xt=10;let di=[],xi=null;for(let yi=0;yi<ne;yi++){const cn=Math.max(Zt,Math.round(yi*he)),an=Math.max(cn,Math.round((yi+1)*he));for(;_t<Ke&&Oe[_t]<cn;){if(di.length<Xt){const Ln=_t+1+Ft;xi&&xi.type==="deleted"&&xi._oldIndex===_t-1?xi.deleteToLineNumber++:(xi={type:"deleted",_oldIndex:_t,deleteFromLineNumber:Ln,deleteToLineNumber:Ln},di.push(xi)),Ft--}_t++}let En;if(_t<Ke&&Oe[_t]<=an)En=Oe[_t],_t++;else if(yi===0?En=1:yi+1===ne?En=n:En=Math.round(yi*he+De),di.length<Xt){const Ln=_t+1+Ft;xi&&xi.type==="inserted"&&xi._i===yi-1?xi.insertToLineNumber++:(xi={type:"inserted",_i:yi,insertFromLineNumber:Ln,insertToLineNumber:Ln},di.push(xi)),Ft++}Lt[yi]=En,Zt=En}if(di.length<Xt)for(;_t<Ke;){const yi=_t+1+Ft;xi&&xi.type==="deleted"&&xi._oldIndex===_t-1?xi.deleteToLineNumber++:(xi={type:"deleted",_oldIndex:_t,deleteFromLineNumber:yi,deleteToLineNumber:yi},di.push(xi)),Ft--,_t++}else di=[{type:"flush"}];return[new en(he,Lt),di]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,n){let l=this.modelLineToMinimapLine(e)-1;for(;l>0&&this.minimapLines[l-1]>=e;)l--;let b=this.modelLineToMinimapLine(n)-1;for(;b+1<this.minimapLines.length&&this.minimapLines[b+1]<=n;)b++;if(l===b){const k=this.minimapLines[l];if(k<e||k>n)return null}return[l+1,b+1]}decorationLineRangeToMinimapLineRange(e,n){let l=this.modelLineToMinimapLine(e),b=this.modelLineToMinimapLine(n);return e!==n&&b===l&&(b===this.minimapLines.length?l>1&&l--:b++),[l,b]}onLinesDeleted(e){const n=e.toLineNumber-e.fromLineNumber+1;let l=this.minimapLines.length,b=0;for(let k=this.minimapLines.length-1;k>=0&&!(this.minimapLines[k]<e.fromLineNumber);k--)this.minimapLines[k]<=e.toLineNumber?(this.minimapLines[k]=Math.max(1,e.fromLineNumber-1),l=Math.min(l,k),b=Math.max(b,k)):this.minimapLines[k]-=n;return[l,b]}onLinesInserted(e){const n=e.toLineNumber-e.fromLineNumber+1;for(let l=this.minimapLines.length-1;l>=0&&!(this.minimapLines[l]<e.fromLineNumber);l--)this.minimapLines[l]+=n}}class pn extends le{constructor(e){super(e),this.tokensColorTracker=ki.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Ei(this._context.configuration,this._context.theme,this.tokensColorTracker);const[n]=en.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=n,this._shouldCheckSampling=!1,this._actual=new $n(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Ei(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const n=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return n?this._actual.onLinesChanged(n[0],n[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[n,l]=this._samplingState.onLinesDeleted(e);return n<=l&&this._actual.onLinesChanged(n+1,l+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let n=[];for(const l of e.ranges){const b=this._samplingState.modelLineRangeToMinimapLineRange(l.fromLineNumber,l.toLineNumber);b&&n.push({fromLineNumber:b[0],toLineNumber:b[1]})}return n.length?this._actual.onTokensChanged(n):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber;this._samplingState&&(n=this._samplingState.modelLineToMinimapLine(n),l=this._samplingState.modelLineToMinimapLine(l));const b={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:n,viewportEndLineNumber:l,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(n),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(b)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[n,l]=en.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=n,e&&this._samplingState)for(const b of l)switch(b.type){case"deleted":this._actual.onLinesDeleted(b.deleteFromLineNumber,b.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(b.insertFromLineNumber,b.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,n,l){if(this._samplingState){let b=[];for(let k=0,Z=n-e+1;k<Z;k++)l[k]?b[k]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+k-1]):b[k]=null;return b}return this._context.model.getMinimapLinesRenderingData(e,n,l).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[n,l]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new N.Y(n,e.startColumn,l,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,n){let l;if(this._samplingState){const k=this._samplingState.minimapLines[e-1],Z=this._samplingState.minimapLines[n-1];l=new Pe.e(k,1,Z,this._context.model.getLineMaxColumn(Z))}else l=new Pe.e(e,1,n,this._context.model.getLineMaxColumn(n));const b=this._context.model.getDecorationsInViewport(l);if(this._samplingState){let k=[];for(const Z of b){if(!Z.options.minimap)continue;const ne=Z.range,he=this._samplingState.modelLineToMinimapLine(ne.startLineNumber),De=this._samplingState.modelLineToMinimapLine(ne.endLineNumber);k.push(new Di.$l(new Pe.e(he,ne.startColumn,De,ne.endColumn),Z.options))}return k}return b}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Pe.e(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class $n extends T.JT{constructor(e,n){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=n,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(jn.ov),this._domNode=(0,C.X)(document.createElement("div")),Y.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,C.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,C.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,C.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,C.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,C.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=R.mu(this._domNode.domNode,"mousedown",l=>{if(l.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(l.leftButton&&this._lastRenderData){const De=R.i(this._slider.domNode),Oe=De.top+De.height/2;this._startSliderDragging(l.buttons,l.posx,Oe,l.posy,this._lastRenderData.renderedLayout)}return}const k=this._model.options.minimapLineHeight,Z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*l.browserEvent.offsetY;let he=Math.floor(Z/k)+this._lastRenderData.renderedLayout.startLineNumber;he=Math.min(he,this._model.getLineCount()),this._model.revealLineNumber(he)}),this._sliderMouseMoveMonitor=new h.Z,this._sliderMouseDownListener=R.mu(this._slider.domNode,"mousedown",l=>{l.preventDefault(),l.stopPropagation(),l.leftButton&&this._lastRenderData&&this._startSliderDragging(l.buttons,l.posx,l.posy,l.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=f.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=R.nm(this._domNode.domNode,f.t.Start,l=>{l.preventDefault(),l.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(l))},{passive:!1}),this._sliderTouchMoveListener=R.nm(this._domNode.domNode,f.t.Change,l=>{l.preventDefault(),l.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(l)},{passive:!1}),this._sliderTouchEndListener=R.mu(this._domNode.domNode,f.t.End,l=>{l.preventDefault(),l.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,n,l,b,k){this._slider.toggleClassName("active",!0);const Z=(ne,he)=>{const De=Math.abs(he-n);if(x.ED&&De>mi){this._model.setScrollTop(k.scrollTop);return}const Oe=ne-l;this._model.setScrollTop(k.getDesiredScrollTopFromDelta(Oe))};b!==l&&Z(b,n),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,h.e,ne=>Z(ne.posy,ne.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const n=this._domNode.domNode.getBoundingClientRect().top,l=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-n);this._model.setScrollTop(l)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new on(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,n){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,n):!1}onLinesDeleted(e,n){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,n),!0}onLinesInserted(e,n){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,n),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(jn.ov),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const l=Bi.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(l.sliderNeeded?"block":"none"),this._slider.setTop(l.sliderTop),this._slider.setHeight(l.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(l.sliderHeight),this.renderDecorations(l),this._lastRenderData=this.renderLines(l)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const n=this._model.getSelections();n.sort(Pe.e.compareRangesUsingStarts);const l=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);l.sort((Lt,_t)=>(Lt.options.zIndex||0)-(_t.options.zIndex||0));const{canvasInnerWidth:b,canvasInnerHeight:k}=this._model.options,Z=this._model.options.minimapLineHeight,ne=this._model.options.minimapCharWidth,he=this._model.getOptions().tabSize,De=this._decorationsCanvas.domNode.getContext("2d");De.clearRect(0,0,b,k);const Oe=new Ds(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(De,n,Oe,e,Z),this._renderDecorationsLineHighlights(De,l,Oe,e,Z);const Ke=new Ds(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(De,n,Ke,e,Z,he,ne,b),this._renderDecorationsHighlights(De,l,Ke,e,Z,he,ne,b)}}_renderSelectionLineHighlights(e,n,l,b,k){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let Z=0,ne=0;for(const he of n){const De=Math.max(b.startLineNumber,he.startLineNumber),Oe=Math.min(b.endLineNumber,he.endLineNumber);if(De>Oe)continue;for(let _t=De;_t<=Oe;_t++)l.set(_t,!0);const Ke=(De-b.startLineNumber)*k,Lt=(Oe-b.startLineNumber)*k+k;ne>=Ke||(ne>Z&&e.fillRect(rt.y0,Z,e.canvas.width,ne-Z),Z=Ke),ne=Lt}ne>Z&&e.fillRect(rt.y0,Z,e.canvas.width,ne-Z)}_renderDecorationsLineHighlights(e,n,l,b,k){const Z=new Map;for(let ne=n.length-1;ne>=0;ne--){const he=n[ne],De=he.options.minimap;if(!De||De.position!==Xn.F5.Inline)continue;const Oe=Math.max(b.startLineNumber,he.range.startLineNumber),Ke=Math.min(b.endLineNumber,he.range.endLineNumber);if(Oe>Ke)continue;const Lt=De.getColor(this._theme);if(!Lt||Lt.isTransparent())continue;let _t=Z.get(Lt.toString());_t||(_t=Lt.transparent(.5).toString(),Z.set(Lt.toString(),_t)),e.fillStyle=_t;for(let Ft=Oe;Ft<=Ke;Ft++){if(l.has(Ft))continue;l.set(Ft,!0);const Zt=(Oe-b.startLineNumber)*k;e.fillRect(rt.y0,Zt,e.canvas.width,k)}}}_renderSelectionsHighlights(e,n,l,b,k,Z,ne,he){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const De of n){const Oe=Math.max(b.startLineNumber,De.startLineNumber),Ke=Math.min(b.endLineNumber,De.endLineNumber);if(!(Oe>Ke))for(let Lt=Oe;Lt<=Ke;Lt++)this.renderDecorationOnLine(e,l,De,this._selectionColor,b,Lt,k,k,Z,ne,he)}}_renderDecorationsHighlights(e,n,l,b,k,Z,ne,he){for(const De of n){const Oe=De.options.minimap;if(!Oe)continue;const Ke=Math.max(b.startLineNumber,De.range.startLineNumber),Lt=Math.min(b.endLineNumber,De.range.endLineNumber);if(Ke>Lt)continue;const _t=Oe.getColor(this._theme);if(!(!_t||_t.isTransparent()))for(let Ft=Ke;Ft<=Lt;Ft++)switch(Oe.position){case Xn.F5.Inline:this.renderDecorationOnLine(e,l,De.range,_t,b,Ft,k,k,Z,ne,he);continue;case Xn.F5.Gutter:const Zt=(Ft-b.startLineNumber)*k,Xt=2;this.renderDecoration(e,_t,Xt,Zt,Ai,k);continue}}}renderDecorationOnLine(e,n,l,b,k,Z,ne,he,De,Oe,Ke){const Lt=(Z-k.startLineNumber)*he;if(Lt+ne<0||Lt>this._model.options.canvasInnerHeight)return;const{startLineNumber:_t,endLineNumber:Ft}=l,Zt=_t===Z?l.startColumn:1,Xt=Ft===Z?l.endColumn:this._model.getLineMaxColumn(Z),di=this.getXOffsetForPosition(n,Z,Zt,De,Oe,Ke),xi=this.getXOffsetForPosition(n,Z,Xt,De,Oe,Ke);this.renderDecoration(e,b,di,Lt,xi-di,ne)}getXOffsetForPosition(e,n,l,b,k,Z){if(l===1)return rt.y0;if((l-1)*k>=Z)return Z;let he=e.get(n);if(!he){const De=this._model.getLineContent(n);he=[rt.y0];let Oe=rt.y0;for(let Ke=1;Ke<De.length+1;Ke++){const Lt=De.charCodeAt(Ke-1),_t=Lt===9?b*k:$e.K7(Lt)?2*k:k,Ft=Oe+_t;if(Ft>=Z){he[Ke]=Z;break}he[Ke]=Ft,Oe=Ft}e.set(n,he)}return l-1<he.length?he[l-1]:Z}renderDecoration(e,n,l,b,k,Z){e.fillStyle=n&&n.toString()||"",e.fillRect(l,b,k,Z)}renderLines(e){const n=e.startLineNumber,l=e.endLineNumber,b=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Ps=this._lastRenderData._get();return new Ti(e,Ps.imageData,Ps.lines)}const k=this._getBuffer();if(!k)return null;let[Z,ne,he]=$n._renderUntouchedLines(k,n,l,b,this._lastRenderData);const De=this._model.getMinimapLinesRenderingData(n,l,he),Oe=this._model.getOptions().tabSize,Ke=this._model.options.defaultBackgroundColor,Lt=this._model.options.backgroundColor,_t=this._model.options.foregroundAlpha,Ft=this._model.tokensColorTracker,Zt=Ft.backgroundIsLight(),Xt=this._model.options.renderMinimap,di=this._model.options.charRenderer(),xi=this._model.options.fontScale,yi=this._model.options.minimapCharWidth,an=(Xt===1?2:2+1)*xi,En=b>an?Math.floor((b-an)/2):0,Ln=Lt.a/255,rn=new li(Math.round((Lt.r-Ke.r)*Ln+Ke.r),Math.round((Lt.g-Ke.g)*Ln+Ke.g),Math.round((Lt.b-Ke.b)*Ln+Ke.b),255);let vn=0;const bn=[];for(let Ps=0,ko=l-n+1;Ps<ko;Ps++)he[Ps]&&$n._renderLine(k,rn,Lt.a,Zt,Xt,yi,Ft,_t,di,vn,En,Oe,De[Ps],xi,b),bn[Ps]=new ln(vn),vn+=b;const Gn=Z===-1?0:Z,vo=(ne===-1?k.height:ne)-Gn;return this._canvas.domNode.getContext("2d").putImageData(k,0,0,0,Gn,k.width,vo),new Ti(e,k,bn)}static _renderUntouchedLines(e,n,l,b,k){const Z=[];if(!k){for(let rn=0,vn=l-n+1;rn<vn;rn++)Z[rn]=!0;return[-1,-1,Z]}const ne=k._get(),he=ne.imageData.data,De=ne.rendLineNumberStart,Oe=ne.lines,Ke=Oe.length,Lt=e.width,_t=e.data,Ft=(l-n+1)*b*Lt*4;let Zt=-1,Xt=-1,di=-1,xi=-1,yi=-1,cn=-1,an=0;for(let rn=n;rn<=l;rn++){const vn=rn-n,bn=rn-De,Gn=bn>=0&&bn<Ke?Oe[bn].dy:-1;if(Gn===-1){Z[vn]=!0,an+=b;continue}const mo=Gn*Lt*4,vo=(Gn+b)*Lt*4,co=an*Lt*4,Ps=(an+b)*Lt*4;xi===mo&&cn===co?(xi=vo,cn=Ps):(di!==-1&&(_t.set(he.subarray(di,xi),yi),Zt===-1&&di===0&&di===yi&&(Zt=xi),Xt===-1&&xi===Ft&&di===yi&&(Xt=di)),di=mo,xi=vo,yi=co,cn=Ps),Z[vn]=!1,an+=b}di!==-1&&(_t.set(he.subarray(di,xi),yi),Zt===-1&&di===0&&di===yi&&(Zt=xi),Xt===-1&&xi===Ft&&di===yi&&(Xt=di));const En=Zt===-1?-1:Zt/(Lt*4),Ln=Xt===-1?-1:Xt/(Lt*4);return[En,Ln,Z]}static _renderLine(e,n,l,b,k,Z,ne,he,De,Oe,Ke,Lt,_t,Ft,Zt){const Xt=_t.content,di=_t.tokens,xi=e.width-Z,yi=Zt===1;let cn=rt.y0,an=0,En=0;for(let Ln=0,rn=di.getCount();Ln<rn;Ln++){const vn=di.getEndOffset(Ln),bn=di.getForeground(Ln),Gn=ne.getColor(bn);for(;an<vn;an++){if(cn>xi)return;const mo=Xt.charCodeAt(an);if(mo===9){const vo=Lt-(an+En)%Lt;En+=vo-1,cn+=vo*Z}else if(mo===32)cn+=Z;else{const vo=$e.K7(mo)?2:1;for(let co=0;co<vo;co++)if(k===2?De.blockRenderChar(e,cn,Oe+Ke,Gn,he,n,l,yi):De.renderChar(e,cn,Oe+Ke,mo,Gn,he,n,l,Ft,b,yi),cn+=Z,cn>xi)return}}}}}class Ds{constructor(e,n,l){this._startLineNumber=e,this._endLineNumber=n,this._defaultValue=l,this._values=[];for(let b=0,k=this._endLineNumber-this._startLineNumber+1;b<k;b++)this._values[b]=l}has(e){return this.get(e)!==this._defaultValue}set(e,n){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=n)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(jn.CA);n&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const l=Ct.getColor(jn.Xy);l&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${l}; }`);const b=Ct.getColor(jn.br);b&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${b}; }`);const k=Ct.getColor(jn._w);k&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${k} -6px 0 6px -6px inset; }`)});class Cn extends le{constructor(e){super(e);const l=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,this._domNode=(0,C.X)(document.createElement("div")),Y.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const l=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,!0}addWidget(e){const n=(0,C.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:n},n.setPosition("absolute"),n.setAttribute("widgetId",e.getId()),this._domNode.appendChild(n),this.setShouldRender()}setWidgetPosition(e,n){const l=this._widgets[e.getId()];return l.preference===n?!1:(l.preference=n,this.setShouldRender(),!0)}removeWidget(e){const n=e.getId();if(this._widgets.hasOwnProperty(n)){const b=this._widgets[n].domNode.domNode;delete this._widgets[n],b.parentNode.removeChild(b),this.setShouldRender()}}_renderWidget(e){const n=e.domNode;if(e.preference===null){n.unsetTop();return}if(e.preference===0)n.setTop(0),n.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const l=n.domNode.clientHeight;n.setTop(this._editorHeight-l-2*this._horizontalScrollbarHeight),n.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(n.setTop(0),n.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const n=Object.keys(this._widgets);for(let l=0,b=n.length;l<b;l++){const k=n[l];this._renderWidget(this._widgets[k])}}}var Kt=c(41264);class ve{constructor(e,n){const l=e.options;this.lineHeight=l.get(58),this.pixelRatio=l.get(127),this.overviewRulerLanes=l.get(73),this.renderBorder=l.get(72);const b=n.getColor(Xi.zw);this.borderColor=b?b.toString():null,this.hideCursor=l.get(51);const k=n.getColor(Xi.n0);this.cursorColor=k?k.transparent(.7).toString():null,this.themeType=n.type;const Z=l.get(64),ne=Z.enabled,he=Z.side,De=ne?n.getColor(Xi.e_)||ei.RW.getDefaultBackground():null;De===null||he==="left"?this.backgroundColor=null:this.backgroundColor=Kt.Il.Format.CSS.formatHex(De);const Ke=l.get(129).overviewRuler;this.top=Ke.top,this.right=Ke.right,this.domWidth=Ke.width,this.domHeight=Ke.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Lt,_t]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Lt,this.w=_t}_initLanes(e,n,l){const b=n-e;if(l>=3){const k=Math.floor(b/3),Z=Math.floor(b/3),ne=b-k-Z,he=e,De=he+k,Oe=he+k+ne;return[[0,he,De,he,Oe,he,De,he],[0,k,ne,k+ne,Z,k+ne+Z,ne+Z,k+ne+Z]]}else if(l===2){const k=Math.floor(b/2),Z=b-k,ne=e,he=ne+k;return[[0,ne,ne,ne,he,ne,ne,ne],[0,k,k,k,Z,k+Z,k+Z,k+Z]]}else{const k=e,Z=b;return[[0,k,k,k,k,k,k,k],[0,Z,Z,Z,Z,Z,Z,Z]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class Me extends le{constructor(e){super(e),this._domNode=(0,C.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=ei.RW.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const n=new ve(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let n=0,l=e.selections.length;n<l;n++)this._cursorPositions[n]=e.selections[n].getPosition();return this._cursorPositions.sort(Ie.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const e=this._settings.canvasWidth,n=this._settings.canvasHeight,l=this._settings.lineHeight,b=this._context.viewLayout,k=this._context.viewLayout.getScrollHeight(),Z=n/k,ne=this._context.model.getAllOverviewRulerDecorations(this._context.theme),he=6*this._settings.pixelRatio|0,De=he/2|0,Oe=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?Oe.clearRect(0,0,e,n):(Oe.fillStyle=this._settings.backgroundColor,Oe.fillRect(0,0,e,n));const Ke=this._settings.x,Lt=this._settings.w;ne.sort(Di.SQ.cmp);for(const _t of ne){const Ft=_t.color,Zt=_t.data;Oe.fillStyle=Ft;let Xt=0,di=0,xi=0;for(let yi=0,cn=Zt.length/3;yi<cn;yi++){const an=Zt[3*yi],En=Zt[3*yi+1],Ln=Zt[3*yi+2];let rn=b.getVerticalOffsetForLineNumber(En)*Z|0,vn=(b.getVerticalOffsetForLineNumber(Ln)+l)*Z|0;if(vn-rn<he){let Gn=(rn+vn)/2|0;Gn<De?Gn=De:Gn+De>n&&(Gn=n-De),rn=Gn-De,vn=Gn+De}rn>xi+1||an!==Xt?(yi!==0&&Oe.fillRect(Ke[Xt],di,Lt[Xt],xi-di),Xt=an,di=rn,xi=vn):vn>xi&&(xi=vn)}Oe.fillRect(Ke[Xt],di,Lt[Xt],xi-di)}if(!this._settings.hideCursor&&this._settings.cursorColor){const _t=2*this._settings.pixelRatio|0,Ft=_t/2|0,Zt=this._settings.x[7],Xt=this._settings.w[7];Oe.fillStyle=this._settings.cursorColor;let di=-100,xi=-100;for(let yi=0,cn=this._cursorPositions.length;yi<cn;yi++){const an=this._cursorPositions[yi];let En=b.getVerticalOffsetForLineNumber(an.lineNumber)*Z|0;En<Ft?En=Ft:En+Ft>n&&(En=n-Ft);const Ln=En-Ft,rn=Ln+_t;Ln>xi+1?(yi!==0&&Oe.fillRect(Zt,di,Xt,xi-di),di=Ln,xi=rn):rn>xi&&(xi=rn)}Oe.fillRect(Zt,di,Xt,xi-di)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Oe.beginPath(),Oe.lineWidth=1,Oe.strokeStyle=this._settings.borderColor,Oe.moveTo(0,0),Oe.lineTo(0,n),Oe.stroke(),Oe.moveTo(0,0),Oe.lineTo(e,0),Oe.stroke())}}var Ue=c(92003);class vt extends Ee{constructor(e,n){super(),this._context=e;const l=this._context.configuration.options;this._domNode=(0,C.X)(document.createElement("canvas")),this._domNode.setClassName(n),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Ue.Tj(b=>this._context.viewLayout.getVerticalOffsetForLineNumber(b)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(l.get(58)),this._zoneManager.setPixelRatio(l.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(n.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(n.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let n=!1;n=this._zoneManager.setDOMWidth(e.width)||n,n=this._zoneManager.setDOMHeight(e.height)||n,n&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),n=this._zoneManager.getCanvasHeight(),l=this._zoneManager.resolveColorZones(),b=this._zoneManager.getId2Color(),k=this._domNode.domNode.getContext("2d");return k.clearRect(0,0,e,n),l.length>0&&this._renderOneLane(k,l,b,e),!0}_renderOneLane(e,n,l,b){let k=0,Z=0,ne=0;for(const he of n){const De=he.colorId,Oe=he.from,Ke=he.to;De!==k?(e.fillRect(0,Z,b,ne-Z),k=De,e.fillStyle=l[k],Z=Oe,ne=Ke):ne>=Oe?ne=Math.max(ne,Ke):(e.fillRect(0,Z,b,ne-Z),Z=Oe,ne=Ke)}e.fillRect(0,Z,b,ne-Z)}}class yt extends le{constructor(e){super(e),this.domNode=(0,C.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const n=this._context.configuration.options;this._rulers=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._rulers=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,n=this._rulers.length;if(e===n)return;if(e<n){const{tabSize:b}=this._context.model.getTextModelOptions(),k=b;let Z=n-e;for(;Z>0;){const ne=(0,C.X)(document.createElement("div"));ne.setClassName("view-ruler"),ne.setWidth(k),this.domNode.appendChild(ne),this._renderedRulers.push(ne),Z--}return}let l=e-n;for(;l>0;){const b=this._renderedRulers.pop();this.domNode.removeChild(b),l--}}render(e){this._ensureRulersCount();for(let n=0,l=this._rulers.length;n<l;n++){const b=this._renderedRulers[n],k=this._rulers[n];b.setBoxShadow(k.color?`1px 0 0 0 ${k.color} inset`:""),b.setHeight(Math.min(e.scrollHeight,1e6)),b.setLeft(k.column*this._typicalHalfwidthCharacterWidth)}}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Xi.zk);n&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${n} inset; }`)});class si extends le{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const l=this._context.configuration.options.get(91);this._useShadows=l.useShadows,this._domNode=(0,C.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const n=this._context.configuration.options.get(129);n.minimap.renderMinimap===0||n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?this._width=n.width:this._width=n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}onConfigurationChanged(e){const l=this._context.configuration.options.get(91);return this._useShadows=l.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(jn._w);n&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${n} 0 6px 6px -6px inset; }`)});class Jt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class un{constructor(e,n){this.lineNumber=e,this.ranges=n}}function xn(Ct){return new Jt(Ct)}function Pi(Ct){return new un(Ct.lineNumber,Ct.ranges.map(xn))}class Ji extends Vi{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let n=0,l=e.length;n<l;n++)if(e[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,n,l){const b=this._typicalHalfwidthCharacterWidth/4;let k=null,Z=null;if(l&&l.length>0&&n.length>0){const ne=n[0].lineNumber;if(ne===e.startLineNumber)for(let De=0;!k&&De<l.length;De++)l[De].lineNumber===ne&&(k=l[De].ranges[0]);const he=n[n.length-1].lineNumber;if(he===e.endLineNumber)for(let De=l.length-1;!Z&&De>=0;De--)l[De].lineNumber===he&&(Z=l[De].ranges[0]);k&&!k.startStyle&&(k=null),Z&&!Z.startStyle&&(Z=null)}for(let ne=0,he=n.length;ne<he;ne++){const De=n[ne].ranges[0],Oe=De.left,Ke=De.left+De.width,Lt={top:0,bottom:0},_t={top:0,bottom:0};if(ne>0){const Ft=n[ne-1].ranges[0].left,Zt=n[ne-1].ranges[0].left+n[ne-1].ranges[0].width;_n(Oe-Ft)<b?Lt.top=2:Oe>Ft&&(Lt.top=1),_n(Ke-Zt)<b?_t.top=2:Ft<Ke&&Ke<Zt&&(_t.top=1)}else k&&(Lt.top=k.startStyle.top,_t.top=k.endStyle.top);if(ne+1<he){const Ft=n[ne+1].ranges[0].left,Zt=n[ne+1].ranges[0].left+n[ne+1].ranges[0].width;_n(Oe-Ft)<b?Lt.bottom=2:Ft<Oe&&Oe<Zt&&(Lt.bottom=1),_n(Ke-Zt)<b?_t.bottom=2:Ke<Zt&&(_t.bottom=1)}else Z&&(Lt.bottom=Z.startStyle.bottom,_t.bottom=Z.endStyle.bottom);De.startStyle=Lt,De.endStyle=_t}}_getVisibleRangesWithStyle(e,n,l){const k=(n.linesVisibleRangesForRange(e,!0)||[]).map(Pi);return!this._visibleRangesHaveGaps(k)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,k,l),k}_createSelectionPiece(e,n,l,b,k){return'<div class="cslr '+l+'" style="top:'+e.toString()+"px;left:"+b.toString()+"px;width:"+k.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(e,n,l,b){if(b.length===0)return;const k=!!b[0].ranges[0].startStyle,Z=this._lineHeight.toString(),ne=(this._lineHeight-1).toString(),he=b[0].lineNumber,De=b[b.length-1].lineNumber;for(let Oe=0,Ke=b.length;Oe<Ke;Oe++){const Lt=b[Oe],_t=Lt.lineNumber,Ft=_t-n,Zt=l&&(_t===De||_t===he)?ne:Z,Xt=l&&_t===he?1:0;let di="",xi="";for(let yi=0,cn=Lt.ranges.length;yi<cn;yi++){const an=Lt.ranges[yi];if(k){const Ln=an.startStyle,rn=an.endStyle;if(Ln.top===1||Ln.bottom===1){di+=this._createSelectionPiece(Xt,Zt,Ji.SELECTION_CLASS_NAME,an.left-Ji.ROUNDED_PIECE_WIDTH,Ji.ROUNDED_PIECE_WIDTH);let vn=Ji.EDITOR_BACKGROUND_CLASS_NAME;Ln.top===1&&(vn+=" "+Ji.SELECTION_TOP_RIGHT),Ln.bottom===1&&(vn+=" "+Ji.SELECTION_BOTTOM_RIGHT),di+=this._createSelectionPiece(Xt,Zt,vn,an.left-Ji.ROUNDED_PIECE_WIDTH,Ji.ROUNDED_PIECE_WIDTH)}if(rn.top===1||rn.bottom===1){di+=this._createSelectionPiece(Xt,Zt,Ji.SELECTION_CLASS_NAME,an.left+an.width,Ji.ROUNDED_PIECE_WIDTH);let vn=Ji.EDITOR_BACKGROUND_CLASS_NAME;rn.top===1&&(vn+=" "+Ji.SELECTION_TOP_LEFT),rn.bottom===1&&(vn+=" "+Ji.SELECTION_BOTTOM_LEFT),di+=this._createSelectionPiece(Xt,Zt,vn,an.left+an.width,Ji.ROUNDED_PIECE_WIDTH)}}let En=Ji.SELECTION_CLASS_NAME;if(k){const Ln=an.startStyle,rn=an.endStyle;Ln.top===0&&(En+=" "+Ji.SELECTION_TOP_LEFT),Ln.bottom===0&&(En+=" "+Ji.SELECTION_BOTTOM_LEFT),rn.top===0&&(En+=" "+Ji.SELECTION_TOP_RIGHT),rn.bottom===0&&(En+=" "+Ji.SELECTION_BOTTOM_RIGHT)}xi+=this._createSelectionPiece(Xt,Zt,En,an.left,an.width)}e[Ft][0]+=di,e[Ft][1]+=xi}}prepareRender(e){const n=[],l=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber;for(let Z=l;Z<=b;Z++){const ne=Z-l;n[ne]=["",""]}const k=[];for(let Z=0,ne=this._selections.length;Z<ne;Z++){const he=this._selections[Z];if(he.isEmpty()){k[Z]=null;continue}const De=this._getVisibleRangesWithStyle(he,e,this._previousFrameVisibleRangesWithStyle[Z]);k[Z]=De,this._actualRenderOneSelection(n,l,this._selections.length>1,De)}this._previousFrameVisibleRangesWithStyle=k,this._renderResult=n.map(([Z,ne])=>Z+ne)}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}Ji.SELECTION_CLASS_NAME="selected-text",Ji.SELECTION_TOP_LEFT="top-left-radius",Ji.SELECTION_BOTTOM_LEFT="bottom-left-radius",Ji.SELECTION_TOP_RIGHT="top-right-radius",Ji.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Ji.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Ji.ROUNDED_PIECE_WIDTH=10,(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(jn.hE);n&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const l=Ct.getColor(jn.ES);l&&e.addRule(`.monaco-editor .selected-text { background-color: ${l}; }`);const b=Ct.getColor(jn.yb);b&&!b.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${b}; }`)});function _n(Ct){return Ct<0?-Ct:Ct}class Gi{constructor(e,n,l,b,k,Z){this.top=e,this.left=n,this.width=l,this.height=b,this.textContent=k,this.textContentClassName=Z}}class jt{constructor(e){this._context=e;const n=this._context.configuration.options,l=n.get(43);this._cursorStyle=n.get(24),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,C.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${nt.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),E.V.applyFontInfo(this._domNode,l),this._domNode.setDisplay("none"),this._position=new Ie.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(43);return this._cursorStyle=n.get(24),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(27),this._typicalHalfwidthCharacterWidth),E.V.applyFontInfo(this._domNode,l),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let n="";if(this._cursorStyle===rt.d2.Line||this._cursorStyle===rt.d2.LineThin){const Lt=e.visibleRangeForPosition(this._position);if(!Lt||Lt.outsideRenderedLine)return null;let _t;if(this._cursorStyle===rt.d2.Line){if(_t=R.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),_t>2){const Xt=this._context.model.getLineContent(this._position.lineNumber),di=$e.vH(Xt,this._position.column-1);n=Xt.substr(this._position.column-1,di)}}else _t=R.Uh(1);let Ft=Lt.left;_t>=2&&Ft>=1&&(Ft-=1);const Zt=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new Gi(Zt,Ft,_t,this._lineHeight,n,"")}const l=this._context.model.getLineContent(this._position.lineNumber),b=$e.vH(l,this._position.column-1),k=e.linesVisibleRangesForRange(new Pe.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+b),!1);if(!k||k.length===0)return null;const Z=k[0];if(Z.outsideRenderedLine||Z.ranges.length===0)return null;const ne=Z.ranges[0],he=ne.width<1?this._typicalHalfwidthCharacterWidth:ne.width;let De="";if(this._cursorStyle===rt.d2.Block){const Lt=this._context.model.getViewLineData(this._position.lineNumber);n=l.substr(this._position.column-1,b);const _t=Lt.tokens.findTokenIndexAtOffset(this._position.column-1);De=Lt.tokens.getClassName(_t)}let Oe=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,Ke=this._lineHeight;return(this._cursorStyle===rt.d2.Underline||this._cursorStyle===rt.d2.UnderlineThin)&&(Oe+=this._lineHeight-2,Ke=2),new Gi(Oe,ne.left,he,Ke,n,De)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${nt.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class wi extends le{constructor(e){super(e);const n=this._context.configuration.options;this._readOnly=n.get(80),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new jt(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,C.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new S._F,this._cursorFlatBlinkInterval=new S.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const n=this._context.configuration.options;this._readOnly=n.get(80),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let l=0,b=this._secondaryCursors.length;l<b;l++)this._secondaryCursors[l].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,n){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<n.length){const l=n.length-this._secondaryCursors.length;for(let b=0;b<l;b++){const k=new jt(this._context);this._domNode.domNode.insertBefore(k.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(k)}}else if(this._secondaryCursors.length>n.length){const l=this._secondaryCursors.length-n.length;for(let b=0;b<l;b++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<n.length;l++)this._secondaryCursors[l].onCursorPositionChanged(n[l])}onCursorStateChanged(e){const n=[];for(let b=0,k=e.selections.length;b<k;b++)n[b]=e.selections[b].getPosition();this._onCursorPositionChanged(n[0],n.slice(1));const l=e.selections[0].isEmpty();return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const n=l=>{for(let b=0,k=e.ranges.length;b<k;b++)if(e.ranges[b].fromLineNumber<=l.lineNumber&&l.lineNumber<=e.ranges[b].toLineNumber)return!0;return!1};if(n(this._primaryCursor.getPosition()))return!0;for(const l of this._secondaryCursors)if(n(l.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),n=e===0,l=e===5;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!n&&!l&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},wi.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},wi.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case rt.d2.Line:e+=" cursor-line-style";break;case rt.d2.Block:e+=" cursor-block-style";break;case rt.d2.Underline:e+=" cursor-underline-style";break;case rt.d2.LineThin:e+=" cursor-line-thin-style";break;case rt.d2.BlockOutline:e+=" cursor-block-outline-style";break;case rt.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,n=this._secondaryCursors.length;e<n;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,n=this._secondaryCursors.length;e<n;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let n=0,l=this._secondaryCursors.length;n<l;n++)this._secondaryCursors[n].prepareRender(e)}render(e){let n=[],l=0;const b=this._primaryCursor.render(e);b&&(n[l++]=b);for(let k=0,Z=this._secondaryCursors.length;k<Z;k++){const ne=this._secondaryCursors[k].render(e);ne&&(n[l++]=ne)}this._renderData=n}getLastRenderData(){return this._renderData}}wi.BLINK_INTERVAL=500,(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Xi.n0);if(n){let l=Ct.getColor(Xi.fY);l||(l=n.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${l}; }`),Ct.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${l}; border-right: 1px solid ${l}; }`)}});const Ki=()=>{throw new Error("Invalid change accessor")};class qn extends le{constructor(e){super(e);const n=this._context.configuration.options,l=n.get(129);this._lineHeight=n.get(58),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,this.domNode=(0,C.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,C.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),n=new Map;for(const b of e)n.set(b.id,b);let l=!1;return this._context.model.changeWhitespace(b=>{const k=Object.keys(this._zones);for(let Z=0,ne=k.length;Z<ne;Z++){const he=k[Z],De=this._zones[he],Oe=this._computeWhitespaceProps(De.delegate);De.isInHiddenArea=Oe.isInHiddenArea;const Ke=n.get(he);Ke&&(Ke.afterLineNumber!==Oe.afterViewLineNumber||Ke.height!==Oe.heightInPx)&&(b.changeOneWhitespace(he,Oe.afterViewLineNumber,Oe.heightInPx),this._safeCallOnComputedHeight(De.delegate,Oe.heightInPx),l=!0)}}),l}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._lineHeight=n.get(58),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let n;if(typeof e.afterColumn!="undefined")n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const Z=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;n=new Ie.L(Z,this._context.model.getModelLineMaxColumn(Z))}let l;n.column===this._context.model.getModelLineMaxColumn(n.lineNumber)?l=this._context.model.validateModelPosition({lineNumber:n.lineNumber+1,column:1}):l=this._context.model.validateModelPosition({lineNumber:n.lineNumber,column:n.column+1});const b=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n),k=this._context.model.coordinatesConverter.modelPositionIsVisible(l);return{isInHiddenArea:!k,afterViewLineNumber:b.lineNumber,heightInPx:k?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let n=!1;return this._context.model.changeWhitespace(l=>{const b={addZone:k=>(n=!0,this._addZone(l,k)),removeZone:k=>{k&&(n=this._removeZone(l,k)||n)},layoutZone:k=>{k&&(n=this._layoutZone(l,k)||n)}};ls(e,b),b.addZone=Ki,b.removeZone=Ki,b.layoutZone=Ki}),n}_addZone(e,n){const l=this._computeWhitespaceProps(n),k={whitespaceId:e.insertWhitespace(l.afterViewLineNumber,this._getZoneOrdinal(n),l.heightInPx,l.minWidthInPx),delegate:n,isInHiddenArea:l.isInHiddenArea,isVisible:!1,domNode:(0,C.X)(n.domNode),marginDomNode:n.marginDomNode?(0,C.X)(n.marginDomNode):null};return this._safeCallOnComputedHeight(k.delegate,l.heightInPx),k.domNode.setPosition("absolute"),k.domNode.domNode.style.width="100%",k.domNode.setDisplay("none"),k.domNode.setAttribute("monaco-view-zone",k.whitespaceId),this.domNode.appendChild(k.domNode),k.marginDomNode&&(k.marginDomNode.setPosition("absolute"),k.marginDomNode.domNode.style.width="100%",k.marginDomNode.setDisplay("none"),k.marginDomNode.setAttribute("monaco-view-zone",k.whitespaceId),this.marginDomNode.appendChild(k.marginDomNode)),this._zones[k.whitespaceId]=k,this.setShouldRender(),k.whitespaceId}_removeZone(e,n){if(this._zones.hasOwnProperty(n)){const l=this._zones[n];return delete this._zones[n],e.removeWhitespace(l.whitespaceId),l.domNode.removeAttribute("monaco-visible-view-zone"),l.domNode.removeAttribute("monaco-view-zone"),l.domNode.domNode.parentNode.removeChild(l.domNode.domNode),l.marginDomNode&&(l.marginDomNode.removeAttribute("monaco-visible-view-zone"),l.marginDomNode.removeAttribute("monaco-view-zone"),l.marginDomNode.domNode.parentNode.removeChild(l.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,n){if(this._zones.hasOwnProperty(n)){const l=this._zones[n],b=this._computeWhitespaceProps(l.delegate);return l.isInHiddenArea=b.isInHiddenArea,e.changeOneWhitespace(l.whitespaceId,b.afterViewLineNumber,b.heightInPx),this._safeCallOnComputedHeight(l.delegate,b.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,n){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(n)}catch(l){(0,W.dL)(l)}}_safeCallOnDomNodeTop(e,n){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(n)}catch(l){(0,W.dL)(l)}}prepareRender(e){}render(e){const n=e.viewportData.whitespaceViewportData,l={};let b=!1;for(const Z of n)this._zones[Z.id].isInHiddenArea||(l[Z.id]=Z,b=!0);const k=Object.keys(this._zones);for(let Z=0,ne=k.length;Z<ne;Z++){const he=k[Z],De=this._zones[he];let Oe=0,Ke=0,Lt="none";l.hasOwnProperty(he)?(Oe=l[he].verticalOffset-e.bigNumbersDelta,Ke=l[he].height,Lt="block",De.isVisible||(De.domNode.setAttribute("monaco-visible-view-zone","true"),De.isVisible=!0),this._safeCallOnDomNodeTop(De.delegate,e.getScrolledTopFromAbsoluteTop(l[he].verticalOffset))):(De.isVisible&&(De.domNode.removeAttribute("monaco-visible-view-zone"),De.isVisible=!1),this._safeCallOnDomNodeTop(De.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),De.domNode.setTop(Oe),De.domNode.setHeight(Ke),De.domNode.setDisplay(Lt),De.marginDomNode&&(De.marginDomNode.setTop(Oe),De.marginDomNode.setHeight(Ke),De.marginDomNode.setDisplay(Lt))}b&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function ls(Ct,e){try{return Ct(e)}catch(n){(0,W.dL)(n)}}class Cs{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Be{constructor(e,n,l){this.configuration=e,this.theme=new Cs(n),this.model=l,this.viewLayout=l.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class d{constructor(e,n,l,b){this.selections=e,this.startLineNumber=n.startLineNumber|0,this.endLineNumber=n.endLineNumber|0,this.relativeVerticalOffset=n.relativeVerticalOffset,this.bigNumbersDelta=n.bigNumbersDelta|0,this.whitespaceViewportData=l,this._model=b,this.visibleRange=new Pe.e(n.startLineNumber,this._model.getLineMinColumn(n.startLineNumber),n.endLineNumber,this._model.getLineMaxColumn(n.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class M extends Ee{constructor(e,n,l,b,k,Z){super(),this._selections=[new N.Y(1,1,1,1)],this._renderAnimationFrame=null;const ne=new dn(n,b,k,e);this._context=new Be(n,l.getColorTheme(),b),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(l.onDidColorThemeChange(Zt=>{this._context.theme.update(Zt),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new oi(this._context,ne,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,C.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,C.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,C.X)(document.createElement("div")),Y.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new lo(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Bt(this._context,this._linesContent),this._viewZones=new qn(this._context),this._viewParts.push(this._viewZones);const he=new Me(this._context);this._viewParts.push(he);const De=new si(this._context);this._viewParts.push(De);const Oe=new Co(this._context);this._viewParts.push(Oe),Oe.addDynamicOverlay(new io(this._context)),Oe.addDynamicOverlay(new Ji(this._context)),Oe.addDynamicOverlay(new Xs(this._context)),Oe.addDynamicOverlay(new zs(this._context));const Ke=new Vs(this._context);this._viewParts.push(Ke),Ke.addDynamicOverlay(new Ks(this._context)),Ke.addDynamicOverlay(new Zs(this._context)),Ke.addDynamicOverlay(new bi(this._context)),Ke.addDynamicOverlay(new Gt(this._context)),Ke.addDynamicOverlay(new ht(this._context));const Lt=new Et(this._context);Lt.getDomNode().appendChild(this._viewZones.marginDomNode),Lt.getDomNode().appendChild(Ke.getDomNode()),this._viewParts.push(Lt),this._contentWidgets=new oo(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new wi(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Cn(this._context),this._viewParts.push(this._overlayWidgets);const _t=new yt(this._context);this._viewParts.push(_t);const Ft=new pn(this._context);if(this._viewParts.push(Ft),he){const Zt=this._scrollbar.getOverviewRulerLayoutInfo();Zt.parent.insertBefore(he.getDomNode(),Zt.insertBefore)}this._linesContent.appendChild(Oe.getDomNode()),this._linesContent.appendChild(_t.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Lt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(De.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Ft.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),Z?Z.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Zn(this._context,ne,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],n=this._textAreaHandler.getLastRenderData();return new Ci(e,n)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,n)),visibleRangeForPosition:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ie.L(e,n))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ie.L(e,n)))}}_applyLayout(){const n=this._context.configuration.options.get(129);this.domNode.setWidth(n.width),this.domNode.setHeight(n.height),this._overflowGuardContainer.setWidth(n.width),this._overflowGuardContainer.setHeight(n.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+(0,wt.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=R.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){U(()=>this._actualRender())}_getViewPartsToRender(){let e=[],n=0;for(const l of this._viewParts)l.shouldRender()&&(e[n++]=l);return e}_actualRender(){if(!R.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const n=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(n.startLineNumber,n.endLineNumber,n.centeredLineNumber);const l=new d(this._selections,n,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(l),this._viewLines.shouldRender()&&(this._viewLines.renderText(l),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const b=new G(this._context.viewLayout,l,this._viewLines);for(const k of e)k.prepareRender(b);for(const k of e)k.render(b),k.onDidRender();Math.abs(r.mX()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,n){const l=this._context.model.validateModelPosition({lineNumber:e,column:n}),b=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(l);this._flushAccumulatedAndRenderNow();const k=this._viewLines.visibleRangeForPosition(new Ie.L(b.lineNumber,b.column));return k?k.left:-1}getTargetAtClientPoint(e,n){const l=this._pointerHandler.getTargetAtClientPoint(e,n);return l?gn.convertViewToModelMouseTarget(l,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new vt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,n){if(n){this._viewLines.forceShouldRender();for(const l of this._viewParts)l.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let n=e.position&&e.position.range||null;if(n===null){const b=e.position?e.position.position:null;b!==null&&(n=new Pe.e(b.lineNumber,b.column,b.lineNumber,b.column))}const l=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,n,l),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const n=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,n)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function U(Ct){try{return Ct()}catch(e){(0,W.dL)(e)}}class re{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new ye.rS(new Pe.e(1,1,1,1),0,new Ie.L(1,1),0),new ye.rS(new Pe.e(1,1,1,1),0,new Ie.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ye.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const n=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new N.Y(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new N.Y(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,n,l){this._setState(e,n,l)}static _validatePositionWithCache(e,n,l,b){return n.equals(l)?b:e.normalizePosition(n,2)}static _validateViewState(e,n){const l=n.position,b=n.selectionStart.getStartPosition(),k=n.selectionStart.getEndPosition(),Z=e.normalizePosition(l,2),ne=this._validatePositionWithCache(e,b,l,Z),he=this._validatePositionWithCache(e,k,b,ne);return l.equals(Z)&&b.equals(ne)&&k.equals(he)?n:new ye.rS(Pe.e.fromPositions(ne,he),n.selectionStartLeftoverVisibleColumns+b.column-ne.column,Z,n.leftoverVisibleColumns+l.column-Z.column)}_setState(e,n,l){if(l&&(l=re._validateViewState(e.viewModel,l)),n){const b=e.model.validateRange(n.selectionStart),k=n.selectionStart.equalsRange(b)?n.selectionStartLeftoverVisibleColumns:0,Z=e.model.validatePosition(n.position),ne=n.position.equals(Z)?n.leftoverVisibleColumns:0;n=new ye.rS(b,k,Z,ne)}else{if(!l)return;const b=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(l.selectionStart)),k=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(l.position));n=new ye.rS(b,l.selectionStartLeftoverVisibleColumns,k,l.leftoverVisibleColumns)}if(l){const b=e.coordinatesConverter.validateViewRange(l.selectionStart,n.selectionStart),k=e.coordinatesConverter.validateViewPosition(l.position,n.position);l=new ye.rS(b,n.selectionStartLeftoverVisibleColumns,k,n.leftoverVisibleColumns)}else{const b=e.coordinatesConverter.convertModelPositionToViewPosition(new Ie.L(n.selectionStart.startLineNumber,n.selectionStart.startColumn)),k=e.coordinatesConverter.convertModelPositionToViewPosition(new Ie.L(n.selectionStart.endLineNumber,n.selectionStart.endColumn)),Z=new Pe.e(b.lineNumber,b.column,k.lineNumber,k.column),ne=e.coordinatesConverter.convertModelPositionToViewPosition(n.position);l=new ye.rS(Z,n.selectionStartLeftoverVisibleColumns,ne,n.leftoverVisibleColumns)}this.modelState=n,this.viewState=l,this._updateTrackedRange(e)}}class fe{constructor(e){this.context=e,this.primaryCursor=new re(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let n=0,l=this.secondaryCursors.length;n<l;n++){const b=this.secondaryCursors[n].viewState.position;b.isBefore(e)&&(e=b)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let n=0,l=this.secondaryCursors.length;n<l;n++){const b=this.secondaryCursors[n].viewState.position;e.isBeforeOrEqual(b)&&(e=b)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].viewState.selection;return e}setSelections(e){this.setStates(ye.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const n=this.secondaryCursors.length,l=e.length;if(n<l){let b=l-n;for(let k=0;k<b;k++)this._addSecondaryCursor()}else if(n>l){let b=n-l;for(let k=0;k<b;k++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let b=0;b<l;b++)this.secondaryCursors[b].setState(this.context,e[b].modelState,e[b].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new re(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),n=[];for(let l=0,b=e.length;l<b;l++)n.push({index:l,selection:e[l].modelState.selection});n.sort((l,b)=>l.selection.startLineNumber===b.selection.startLineNumber?l.selection.startColumn-b.selection.startColumn:l.selection.startLineNumber-b.selection.startLineNumber);for(let l=0;l<n.length-1;l++){const b=n[l],k=n[l+1],Z=b.selection,ne=k.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let he;if(ne.isEmpty()||Z.isEmpty()?he=ne.getStartPosition().isBeforeOrEqual(Z.getEndPosition()):he=ne.getStartPosition().isBefore(Z.getEndPosition()),he){const De=b.index<k.index?l:l+1,Oe=b.index<k.index?l+1:l,Ke=n[Oe].index,Lt=n[De].index,_t=n[Oe].selection,Ft=n[De].selection;if(!_t.equalsSelection(Ft)){const Zt=_t.plusRange(Ft),Xt=_t.selectionStartLineNumber===_t.startLineNumber&&_t.selectionStartColumn===_t.startColumn,di=Ft.selectionStartLineNumber===Ft.startLineNumber&&Ft.selectionStartColumn===Ft.startColumn;let xi;Ke===this.lastAddedCursorIndex?(xi=Xt,this.lastAddedCursorIndex=Lt):xi=di;let yi;xi?yi=new N.Y(Zt.startLineNumber,Zt.startColumn,Zt.endLineNumber,Zt.endColumn):yi=new N.Y(Zt.endLineNumber,Zt.endColumn,Zt.startLineNumber,Zt.startColumn),n[De].selection=yi;const cn=ye.Vi.fromModelSelection(yi);e[Lt].setState(this.context,cn.modelState,cn.viewState)}for(const Zt of n)Zt.index>Ke&&Zt.index--;e.splice(Ke,1),n.splice(Oe,1),this._removeSecondaryCursor(Ke-1),l--}}}}var Le=c(31380),We=c(70966),ut=c(83256);class Ot{constructor(){this.type=0}}class X{constructor(){this.type=1}}class de{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Ve{constructor(e,n){this.type=3,this.selections=e,this.modelSelections=n}}class Ze{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ze{constructor(){this.type=5}}class St{constructor(e){this.type=6,this.isFocused=e}}class zt{constructor(){this.type=7}}class Wt{constructor(){this.type=8}}class hi{constructor(e,n){this.type=9,this.fromLineNumber=e,this.toLineNumber=n}}class gi{constructor(e,n){this.type=10,this.fromLineNumber=e,this.toLineNumber=n}}class ri{constructor(e,n){this.type=11,this.fromLineNumber=e,this.toLineNumber=n}}class Qt{constructor(e,n,l,b,k,Z){this.type=12,this.source=e,this.range=n,this.selections=l,this.verticalType=b,this.revealHorizontal=k,this.scrollType=Z}}class Zi{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Li{constructor(){this.type=14}}class Fi{constructor(e){this.type=15,this.ranges=e}}class tn{constructor(){this.type=16}}class Tn{constructor(){this.type=17}}class kn extends T.JT{constructor(){super(),this._onEvent=this._register(new s.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let n=0,l=this._outgoingEvents.length;n<l;n++)if(this._outgoingEvents[n].kind===e.kind){this._outgoingEvents[n]=this._outgoingEvents[n].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let n=0,l=this._eventHandlers.length;n<l;n++)this._eventHandlers[n]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let n=0;n<this._eventHandlers.length;n++)if(this._eventHandlers[n]===e){this._eventHandlers.splice(n,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Vn),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,n=this._collector.viewEvents;this._collector=null;for(const l of e)this._addOutgoingEvent(l);n.length>0&&this._emitMany(n)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const n=this._eventHandlers.slice(0);for(const l of n)l.handleEvents(e)}}}class Vn{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class ns{constructor(e,n,l,b){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=n,this.contentWidth=l,this.contentHeight=b,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new ns(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Ms{constructor(e,n){this.kind=1,this.oldHasFocus=e,this.hasFocus=n}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new Ms(this.oldHasFocus,e.hasFocus)}}class fs{constructor(e,n,l,b,k,Z,ne,he){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=n,this._oldScrollHeight=l,this._oldScrollTop=b,this.scrollWidth=k,this.scrollLeft=Z,this.scrollHeight=ne,this.scrollTop=he,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new fs(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Jn{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class Is{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class Es{constructor(e,n,l,b,k,Z,ne){this.kind=6,this.oldSelections=e,this.selections=n,this.oldModelVersionId=l,this.modelVersionId=b,this.source=k,this.reason=Z,this.reachedMaxCursorCount=ne}static _selectionsAreEqual(e,n){if(!e&&!n)return!0;if(!e||!n)return!1;const l=e.length,b=n.length;if(l!==b)return!1;for(let k=0;k<l;k++)if(!e[k].equalsSelection(n[k]))return!1;return!0}isNoOp(){return Es._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new Es(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class es{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class Ns{constructor(e,n){this.modelVersionId=e.getVersionId(),this.cursorState=n.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let n=0,l=this.cursorState.length;n<l;n++)if(!this.cursorState[n].equals(e.cursorState[n]))return!1;return!0}}class Qs{constructor(e,n,l){this._model=e,this._autoClosedCharactersDecorations=n,this._autoClosedEnclosingDecorations=l}static getAllAutoClosedCharacters(e){let n=[];for(const l of e)n=n.concat(l.getAutoClosedCharactersRanges());return n}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let n=0;n<this._autoClosedCharactersDecorations.length;n++){const l=this._model.getDecorationRange(this._autoClosedCharactersDecorations[n]);l&&e.push(l)}return e}isValid(e){let n=[];for(let l=0;l<this._autoClosedEnclosingDecorations.length;l++){const b=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[l]);if(b&&(n.push(b),b.startLineNumber!==b.endLineNumber))return!1}n.sort(Pe.e.compareRangesUsingStarts),e.sort(Pe.e.compareRangesUsingStarts);for(let l=0;l<e.length;l++)if(l>=n.length||!n[l].strictContainsRange(e[l]))return!1;return!0}}class ds extends T.JT{constructor(e,n,l,b){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=n,this._coordinatesConverter=l,this.context=new ye.zp(this._model,this._viewModel,this._coordinatesConverter,b),this._cursors=new fe(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,T.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new ye.zp(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let n=0;n<this._autoClosedActions.length;n++){const l=this._autoClosedActions[n];l.isValid(e)||(l.dispose(),this._autoClosedActions.splice(n,1),n--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,n,l,b){let k=!1;b!==null&&b.length>ds.MAX_CURSOR_COUNT&&(b=b.slice(0,ds.MAX_CURSOR_COUNT),k=!0);const Z=new Ns(this._model,this);return this._cursors.setStates(b),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,n,l,Z,k)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,n,l,b){const k=this._cursors.getViewPositions();if(k.length>1){this._emitCursorRevealRange(e,n,null,this._cursors.getViewSelections(),0,l,b);return}else{const Z=k[0],ne=new Pe.e(Z.lineNumber,Z.column,Z.lineNumber,Z.column);this._emitCursorRevealRange(e,n,ne,null,0,l,b)}}_revealPrimaryCursor(e,n,l,b,k){const Z=this._cursors.getViewPositions();if(Z.length>1)this._emitCursorRevealRange(e,n,null,this._cursors.getViewSelections(),l,b,k);else{const ne=Z[0],he=new Pe.e(ne.lineNumber,ne.column,ne.lineNumber,ne.column);this._emitCursorRevealRange(e,n,he,null,l,b,k)}}_emitCursorRevealRange(e,n,l,b,k,Z,ne){e.emitViewEvent(new Qt(n,l,b,k,Z,ne))}saveState(){let e=[];const n=this._cursors.getSelections();for(let l=0,b=n.length;l<b;l++){const k=n[l];e.push({inSelectionMode:!k.isEmpty(),selectionStart:{lineNumber:k.selectionStartLineNumber,column:k.selectionStartColumn},position:{lineNumber:k.positionLineNumber,column:k.positionColumn}})}return e}restoreState(e,n){let l=[];for(let b=0,k=n.length;b<k;b++){const Z=n[b];let ne=1,he=1;Z.position&&Z.position.lineNumber&&(ne=Z.position.lineNumber),Z.position&&Z.position.column&&(he=Z.position.column);let De=ne,Oe=he;Z.selectionStart&&Z.selectionStart.lineNumber&&(De=Z.selectionStart.lineNumber),Z.selectionStart&&Z.selectionStart.column&&(Oe=Z.selectionStart.column),l.push({selectionStartLineNumber:De,selectionStartColumn:Oe,positionLineNumber:ne,positionColumn:he})}this.setStates(e,"restoreState",0,ye.Vi.fromModelSelections(l)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,n){if(n instanceof ut.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=n.versionId,this._isHandling)return;const l=n.containsEvent(1);if(this._prevEditOperationType=0,l)this._cursors.dispose(),this._cursors=new fe(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){const b=ye.Vi.fromModelSelections(n.resultingSelection);this.setStates(e,"modelChange",n.isUndoing?5:n.isRedoing?6:2,b)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const b=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,ye.Vi.fromModelSelections(b))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),n=e.viewState.selectionStart.getStartPosition(),l=e.viewState.position;return{isReal:!1,fromViewLineNumber:n.lineNumber,fromViewVisualColumn:ye.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n),toViewLineNumber:l.lineNumber,toViewVisualColumn:ye.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,l)}}getSelections(){return this._cursors.getSelections()}setSelections(e,n,l,b){this.setStates(e,n,b,ye.Vi.fromModelSelections(l))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,n){let l=[],b=[];for(let ne=0,he=e.length;ne<he;ne++)l.push({range:e[ne],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),b.push({range:n[ne],options:{description:"auto-closed-enclosing",stickiness:1}});const k=this._model.deltaDecorations([],l),Z=this._model.deltaDecorations([],b);this._autoClosedActions.push(new Qs(this._model,k,Z))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const n=ks.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(n){this._interpretCommandResult(n);let l=[],b=[];for(let k=0;k<e.commands.length;k++){const Z=e.commands[k];Z instanceof We.g&&Z.enclosingRange&&Z.closeCharacterRange&&(l.push(Z.closeCharacterRange),b.push(Z.enclosingRange))}l.length>0&&this._pushAutoClosedAction(l,b),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,n,l,b,k){const Z=new Ns(this._model,this);if(Z.equals(b))return!1;const ne=this._cursors.getSelections(),he=this._cursors.getViewSelections();if(e.emitViewEvent(new Ve(he,ne)),!b||b.cursorState.length!==Z.cursorState.length||Z.cursorState.some((De,Oe)=>!De.modelState.equals(b.cursorState[Oe].modelState))){const De=b?b.cursorState.map(Ke=>Ke.modelState.selection):null,Oe=b?b.modelVersionId:0;e.emitOutgoingEvent(new Es(De,ne,Oe,Z.modelVersionId,n||"keyboard",l,k))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let n=[];for(let l=0,b=e.length;l<b;l++){const k=e[l];if(!k.text||k.text.indexOf(`
`)>=0)return null;const Z=k.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Z)return null;const ne=Z[1],he=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ne);if(!he||he.length!==1)return null;const De=he[0].open,Oe=k.text.length-Z[2].length-1,Ke=k.text.lastIndexOf(De,Oe-1);if(Ke===-1)return null;n.push([Ke,Oe])}return n}executeEdits(e,n,l,b){let k=null;n==="snippet"&&(k=this._findAutoClosingPairs(l)),k&&(l[0]._isTracked=!0);let Z=[],ne=[];const he=this._model.pushEditOperations(this.getSelections(),l,De=>{if(k)for(let Ke=0,Lt=k.length;Ke<Lt;Ke++){const[_t,Ft]=k[Ke],Zt=De[Ke],Xt=Zt.range.startLineNumber,di=Zt.range.startColumn-1+_t,xi=Zt.range.startColumn-1+Ft;Z.push(new Pe.e(Xt,xi+1,Xt,xi+2)),ne.push(new Pe.e(Xt,di+1,Xt,xi+2))}const Oe=b(De);return Oe&&(this._isHandling=!0),Oe});he&&(this._isHandling=!1,this.setSelections(e,n,he,0)),Z.length>0&&this._pushAutoClosedAction(Z,ne)}_executeEdit(e,n,l,b=0){if(this.context.cursorConfig.readOnly)return;const k=new Ns(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(Z){(0,W.dL)(Z)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,l,b,k,!1)&&this._revealPrimaryCursor(n,l,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return Qs.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,n){this._executeEdit(()=>{n==="keyboard"&&(this._executeEditOperation(We.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,n)}type(e,n,l){this._executeEdit(()=>{if(l==="keyboard"){const b=n.length;let k=0;for(;k<b;){const Z=$e.vH(n,k),ne=n.substr(k,Z);this._executeEditOperation(We.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ne)),k+=Z}}else this._executeEditOperation(We.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),n))},e,l)}compositionType(e,n,l,b,k,Z){if(n.length===0&&l===0&&b===0){if(k!==0){const ne=this.getSelections().map(he=>{const De=he.getPosition();return new N.Y(De.lineNumber,De.column+k,De.lineNumber,De.column+k)});this.setSelections(e,Z,ne,0)}return}this._executeEdit(()=>{this._executeEditOperation(We.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),n,l,b,k))},e,Z)}paste(e,n,l,b,k){this._executeEdit(()=>{this._executeEditOperation(We.u.paste(this.context.cursorConfig,this._model,this.getSelections(),n,l,b||[]))},e,k,4)}cut(e,n){this._executeEdit(()=>{this._executeEditOperation(Le.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,n)}executeCommand(e,n,l){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ye.Tp(0,[n],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,l)}executeCommands(e,n,l){this._executeEdit(()=>{this._executeEditOperation(new ye.Tp(0,n,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,l)}}ds.MAX_CURSOR_COUNT=1e4;class ks{static executeCommands(e,n,l){const b={model:e,selectionsBefore:n,trackedRanges:[],trackedRangesDirection:[]},k=this._innerExecuteCommands(b,l);for(let Z=0,ne=b.trackedRanges.length;Z<ne;Z++)b.model._setTrackedRange(b.trackedRanges[Z],null,0);return k}static _innerExecuteCommands(e,n){if(this._arrayIsEmpty(n))return null;const l=this._getEditOperations(e,n);if(l.operations.length===0)return null;const b=l.operations,k=this._getLoserCursorMap(b);if(k.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let Z=[];for(let De=0,Oe=b.length;De<Oe;De++)k.hasOwnProperty(b[De].identifier.major.toString())||Z.push(b[De]);l.hadTrackedEditOperation&&Z.length>0&&(Z[0]._isTracked=!0);let ne=e.model.pushEditOperations(e.selectionsBefore,Z,De=>{let Oe=[];for(let _t=0;_t<e.selectionsBefore.length;_t++)Oe[_t]=[];for(const _t of De)_t.identifier&&Oe[_t.identifier.major].push(_t);const Ke=(_t,Ft)=>_t.identifier.minor-Ft.identifier.minor;let Lt=[];for(let _t=0;_t<e.selectionsBefore.length;_t++)Oe[_t].length>0?(Oe[_t].sort(Ke),Lt[_t]=n[_t].computeCursorState(e.model,{getInverseEditOperations:()=>Oe[_t],getTrackedSelection:Ft=>{const Zt=parseInt(Ft,10),Xt=e.model._getTrackedRange(e.trackedRanges[Zt]);return e.trackedRangesDirection[Zt]===0?new N.Y(Xt.startLineNumber,Xt.startColumn,Xt.endLineNumber,Xt.endColumn):new N.Y(Xt.endLineNumber,Xt.endColumn,Xt.startLineNumber,Xt.startColumn)}})):Lt[_t]=e.selectionsBefore[_t];return Lt});ne||(ne=e.selectionsBefore);let he=[];for(let De in k)k.hasOwnProperty(De)&&he.push(parseInt(De,10));he.sort((De,Oe)=>Oe-De);for(const De of he)ne.splice(De,1);return ne}static _arrayIsEmpty(e){for(let n=0,l=e.length;n<l;n++)if(e[n])return!1;return!0}static _getEditOperations(e,n){let l=[],b=!1;for(let k=0,Z=n.length;k<Z;k++){const ne=n[k];if(ne){const he=this._getEditOperationsFromCommand(e,k,ne);l=l.concat(he.operations),b=b||he.hadTrackedEditOperation}}return{operations:l,hadTrackedEditOperation:b}}static _getEditOperationsFromCommand(e,n,l){let b=[],k=0;const Z=(Ke,Lt,_t=!1)=>{Pe.e.isEmpty(Ke)&&Lt===""||b.push({identifier:{major:n,minor:k++},range:Ke,text:Lt,forceMoveMarkers:_t,isAutoWhitespaceEdit:l.insertsAutoWhitespace})};let ne=!1;const Oe={addEditOperation:Z,addTrackedEditOperation:(Ke,Lt,_t)=>{ne=!0,Z(Ke,Lt,_t)},trackSelection:(Ke,Lt)=>{const _t=N.Y.liftSelection(Ke);let Ft;if(_t.isEmpty())if(typeof Lt=="boolean")Lt?Ft=2:Ft=3;else{const di=e.model.getLineMaxColumn(_t.startLineNumber);_t.startColumn===di?Ft=2:Ft=3}else Ft=1;const Zt=e.trackedRanges.length,Xt=e.model._setTrackedRange(null,_t,Ft);return e.trackedRanges[Zt]=Xt,e.trackedRangesDirection[Zt]=_t.getDirection(),Zt.toString()}};try{l.getEditOperations(e.model,Oe)}catch(Ke){return(0,W.dL)(Ke),{operations:[],hadTrackedEditOperation:!1}}return{operations:b,hadTrackedEditOperation:ne}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((l,b)=>-Pe.e.compareRangesUsingEnds(l.range,b.range));let n={};for(let l=1;l<e.length;l++){const b=e[l-1],k=e[l];if(Pe.e.getStartPosition(b.range).isBefore(Pe.e.getEndPosition(k.range))){let Z;b.identifier.major>k.identifier.major?Z=b.identifier.major:Z=k.identifier.major,n[Z.toString()]=!0;for(let ne=0;ne<e.length;ne++)e[ne].identifier.major===Z&&(e.splice(ne,1),ne<l&&l--,ne--);l>0&&l--}}return n}}var Fs=c(30653),js=c(96518),yn=c(29102),ys=c(55713),ps=c(76633);class Os{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const n=this._inserts,l=this._changes,b=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(n,l,b)}}class po{constructor(e,n,l,b,k){this.id=e,this.afterLineNumber=n,this.ordinal=l,this.height=b,this.minWidth=k,this.prefixSum=0}}class _o{constructor(e,n,l,b){this._instanceId=$e.PJ(++_o.INSTANCE_COUNT),this._pendingChanges=new Os,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=n,this._paddingTop=l,this._paddingBottom=b}static findInsertionIndex(e,n,l){let b=0,k=e.length;for(;b<k;){const Z=b+k>>>1;n===e[Z].afterLineNumber?l<e[Z].ordinal?k=Z:b=Z+1:n<e[Z].afterLineNumber?k=Z:b=Z+1}return b}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,n){this._paddingTop=e,this._paddingBottom=n}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let n=!1;try{e({insertWhitespace:(b,k,Z,ne)=>{n=!0,b=b|0,k=k|0,Z=Z|0,ne=ne|0;const he=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new po(he,b,k,Z,ne)),he},changeOneWhitespace:(b,k,Z)=>{n=!0,k=k|0,Z=Z|0,this._pendingChanges.change({id:b,newAfterLineNumber:k,newHeight:Z})},removeWhitespace:b=>{n=!0,this._pendingChanges.remove({id:b})}})}finally{this._pendingChanges.commit(this)}return n}_commitPendingChanges(e,n,l){if((e.length>0||l.length>0)&&(this._minWidth=-1),e.length+n.length+l.length<=1){for(const he of e)this._insertWhitespace(he);for(const he of n)this._changeOneWhitespace(he.id,he.newAfterLineNumber,he.newHeight);for(const he of l){const De=this._findWhitespaceIndex(he.id);De!==-1&&this._removeWhitespace(De)}return}const b=new Set;for(const he of l)b.add(he.id);const k=new Map;for(const he of n)k.set(he.id,he);const Z=he=>{let De=[];for(const Oe of he)if(!b.has(Oe.id)){if(k.has(Oe.id)){const Ke=k.get(Oe.id);Oe.afterLineNumber=Ke.newAfterLineNumber,Oe.height=Ke.newHeight}De.push(Oe)}return De},ne=Z(this._arr).concat(Z(e));ne.sort((he,De)=>he.afterLineNumber===De.afterLineNumber?he.ordinal-De.ordinal:he.afterLineNumber-De.afterLineNumber),this._arr=ne,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const n=_o.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(n,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)}_findWhitespaceIndex(e){const n=this._arr;for(let l=0,b=n.length;l<b;l++)if(n[l].id===e)return l;return-1}_changeOneWhitespace(e,n,l){const b=this._findWhitespaceIndex(e);if(b!==-1&&(this._arr[b].height!==l&&(this._arr[b].height=l,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)),this._arr[b].afterLineNumber!==n)){const k=this._arr[b];this._removeWhitespace(b),k.afterLineNumber=n,this._insertWhitespace(k)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,n){this._checkPendingChanges(),e=e|0,n=n|0,this._lineCount-=n-e+1;for(let l=0,b=this._arr.length;l<b;l++){const k=this._arr[l].afterLineNumber;e<=k&&k<=n?this._arr[l].afterLineNumber=e-1:k>n&&(this._arr[l].afterLineNumber-=n-e+1)}}onLinesInserted(e,n){this._checkPendingChanges(),e=e|0,n=n|0,this._lineCount+=n-e+1;for(let l=0,b=this._arr.length;l<b;l++){const k=this._arr[l].afterLineNumber;e<=k&&(this._arr[l].afterLineNumber+=n-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let n=Math.max(0,this._prefixSumValidIndex+1);n===0&&(this._arr[0].prefixSum=this._arr[0].height,n++);for(let l=n;l<=e;l++)this._arr[l].prefixSum=this._arr[l-1].prefixSum+this._arr[l].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,n=this.getWhitespacesTotalHeight();return e+n+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const n=this._findLastWhitespaceBeforeLineNumber(e);return n===-1?0:this.getWhitespacesAccumulatedHeight(n)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const n=this._arr;let l=0,b=n.length-1;for(;l<=b;){const Z=(b-l|0)/2|0,ne=l+Z|0;if(n[ne].afterLineNumber<e){if(ne+1>=n.length||n[ne+1].afterLineNumber>=e)return ne;l=ne+1|0}else b=ne-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const l=this._findLastWhitespaceBeforeLineNumber(e)+1;return l<this._arr.length?l:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let n;e>1?n=this._lineHeight*(e-1):n=0;const l=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return n+l+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let n=0,l=this._arr.length;n<l;n++)e=Math.max(e,this._arr[n].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const n=this.getLinesTotalHeight();return e>n}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const n=this.getLinesTotalHeight();return e>=n-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const n=this._lineCount|0,l=this._lineHeight;let b=1,k=n;for(;b<k;){const Z=(b+k)/2|0,ne=this.getVerticalOffsetForLineNumber(Z)|0;if(e>=ne+l)b=Z+1;else{if(e>=ne)return Z;k=Z}}return b>n?n:b}getLinesViewportData(e,n){this._checkPendingChanges(),e=e|0,n=n|0;const l=this._lineHeight,b=this.getLineNumberAtOrAfterVerticalOffset(e)|0,k=this.getVerticalOffsetForLineNumber(b)|0;let Z=this._lineCount|0,ne=this.getFirstWhitespaceIndexAfterLineNumber(b)|0;const he=this.getWhitespacesCount()|0;let De,Oe;ne===-1?(ne=he,Oe=Z+1,De=0):(Oe=this.getAfterLineNumberForWhitespaceIndex(ne)|0,De=this.getHeightForWhitespaceIndex(ne)|0);let Ke=k,Lt=Ke;const _t=5e5;let Ft=0;k>=_t&&(Ft=Math.floor(k/_t)*_t,Ft=Math.floor(Ft/l)*l,Lt-=Ft);const Zt=[],Xt=e+(n-e)/2;let di=-1;for(let an=b;an<=Z;an++){if(di===-1){const En=Ke,Ln=Ke+l;(En<=Xt&&Xt<Ln||En>Xt)&&(di=an)}for(Ke+=l,Zt[an-b]=Lt,Lt+=l;Oe===an;)Lt+=De,Ke+=De,ne++,ne>=he?Oe=Z+1:(Oe=this.getAfterLineNumberForWhitespaceIndex(ne)|0,De=this.getHeightForWhitespaceIndex(ne)|0);if(Ke>=n){Z=an;break}}di===-1&&(di=Z);const xi=this.getVerticalOffsetForLineNumber(Z)|0;let yi=b,cn=Z;return yi<cn&&k<e&&yi++,yi<cn&&xi+l>n&&cn--,{bigNumbersDelta:Ft,startLineNumber:b,endLineNumber:Z,relativeVerticalOffset:Zt,centeredLineNumber:di,completelyVisibleStartLineNumber:yi,completelyVisibleEndLineNumber:cn}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const n=this.getAfterLineNumberForWhitespaceIndex(e);let l;n>=1?l=this._lineHeight*n:l=0;let b;return e>0?b=this.getWhitespacesAccumulatedHeight(e-1):b=0,l+b+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let n=0,l=this.getWhitespacesCount()-1;if(l<0)return-1;const b=this.getVerticalOffsetForWhitespaceIndex(l),k=this.getHeightForWhitespaceIndex(l);if(e>=b+k)return-1;for(;n<l;){const Z=Math.floor((n+l)/2),ne=this.getVerticalOffsetForWhitespaceIndex(Z),he=this.getHeightForWhitespaceIndex(Z);if(e>=ne+he)n=Z+1;else{if(e>=ne)return Z;l=Z}}return n}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(n<0||n>=this.getWhitespacesCount())return null;const l=this.getVerticalOffsetForWhitespaceIndex(n);if(l>e)return null;const b=this.getHeightForWhitespaceIndex(n),k=this.getIdForWhitespaceIndex(n),Z=this.getAfterLineNumberForWhitespaceIndex(n);return{id:k,afterLineNumber:Z,verticalOffset:l,height:b}}getWhitespaceViewportData(e,n){this._checkPendingChanges(),e=e|0,n=n|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),b=this.getWhitespacesCount()-1;if(l<0)return[];let k=[];for(let Z=l;Z<=b;Z++){const ne=this.getVerticalOffsetForWhitespaceIndex(Z),he=this.getHeightForWhitespaceIndex(Z);if(ne>=n)break;k.push({id:this.getIdForWhitespaceIndex(Z),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Z),verticalOffset:ne,height:he})}return k}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}_o.INSTANCE_COUNT=0;const bo=125;class So{constructor(e,n,l,b){e=e|0,n=n|0,l=l|0,b=b|0,e<0&&(e=0),n<0&&(n=0),l<0&&(l=0),b<0&&(b=0),this.width=e,this.contentWidth=n,this.scrollWidth=Math.max(e,n),this.height=l,this.contentHeight=b,this.scrollHeight=Math.max(l,b)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class no extends T.JT{constructor(e,n){super(),this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new So(0,0,0,0),this._scrollable=this._register(new ps.Rm(e,n)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const n=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const l=n.contentWidth!==e.contentWidth,b=n.contentHeight!==e.contentHeight;(l||b)&&this._onDidContentSizeChange.fire(new ns(n.contentWidth,n.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class xo extends T.JT{constructor(e,n,l){super(),this._configuration=e;const b=this._configuration.options,k=b.get(129),Z=b.get(74);this._linesLayout=new _o(n,b.get(58),Z.top,Z.bottom),this._scrollable=this._register(new no(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new So(k.contentWidth,0,k.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?bo:0)}onConfigurationChanged(e){const n=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(n.get(58)),e.hasChanged(74)){const l=n.get(74);this._linesLayout.setPadding(l.top,l.bottom)}if(e.hasChanged(129)){const l=n.get(129),b=l.contentWidth,k=l.height,Z=this._scrollable.getScrollDimensions(),ne=Z.contentWidth;this._scrollable.setScrollDimensions(new So(b,Z.contentWidth,k,this._getContentHeight(b,k,ne)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,n){this._linesLayout.onLinesDeleted(e,n)}onLinesInserted(e,n){this._linesLayout.onLinesInserted(e,n)}_getHorizontalScrollbarHeight(e,n){const b=this._configuration.options.get(91);return b.horizontal===2||e>=n?0:b.horizontalScrollbarSize}_getContentHeight(e,n,l){const b=this._configuration.options;let k=this._linesLayout.getLinesTotalHeight();return b.get(93)?k+=Math.max(0,n-b.get(58)-b.get(74).bottom):k+=this._getHorizontalScrollbarHeight(e,l),k}_updateHeight(){const e=this._scrollable.getScrollDimensions(),n=e.width,l=e.height,b=e.contentWidth;this._scrollable.setScrollDimensions(new So(n,e.contentWidth,l,this._getContentHeight(n,l,b)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),n=this._scrollable.getCurrentScrollPosition();return new Di.l_(n.scrollTop,n.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),n=this._scrollable.getFutureScrollPosition();return new Di.l_(n.scrollTop,n.scrollLeft,e.width,e.height)}_computeContentWidth(e){const n=this._configuration.options,l=n.get(130),b=n.get(43);if(l.isViewportWrapping){const k=n.get(129),Z=n.get(64);return e>k.contentWidth+b.typicalHalfwidthCharacterWidth&&Z.enabled&&Z.side==="right"?e+k.verticalScrollbarWidth:e}else{const k=n.get(92)*b.typicalHalfwidthCharacterWidth,Z=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+k,Z)}}setMaxLineWidth(e){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new So(n.width,this._computeContentWidth(e),n.height,n.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let n=e.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n),b=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:n,scrollTopWithoutViewZones:n-b,scrollLeft:e.scrollLeft}}changeWhitespace(e){const n=this._linesLayout.changeWhitespace(e);return n&&this.onHeightMaybeChanged(),n}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const n=this._scrollable.getScrollDimensions();return e+n.height>n.scrollHeight&&(e=n.scrollHeight-n.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+n.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,n){n===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,n){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+e,scrollTop:l.scrollTop+n})}}var Vo=c(78411),bs=c(3544);class is{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,n){return this._lines.validateViewPosition(e.lineNumber,e.column,n)}validateViewRange(e,n){return this._lines.validateViewRange(e,n)}convertModelPositionToViewPosition(e,n){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,n)}convertModelRangeToViewRange(e,n){return this._lines.convertModelRangeToViewRange(e,n)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,n){return this._lines.getViewLineNumberOfModelPosition(e,n)}}class Ls{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,n=this._counts.length;e<n;e++){const l=this._counts[e],b=e>0?this._modelToView[e-1]:0;this._modelToView[e]=b+l;for(let k=0;k<l;k++)this._viewToModel[b+k]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,n){this._counts[e]!==n&&(this._counts[e]=n,this._invalidate(e))}removeValues(e,n){this._counts.splice(e,n),this._invalidate(e)}insertValues(e,n){this._counts=Ss.Zv(this._counts,e,n),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const n=this._viewToModel[e],l=n>0?this._modelToView[n-1]:0;return new bs.T(n,e-l)}}class ro{constructor(e,n,l,b,k,Z,ne,he,De){this._editorId=e,this.model=n,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=l,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=k,this.tabSize=Z,this.wrappingStrategy=ne,this.wrappingColumn=he,this.wrappingIndent=De,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new is(this)}_constructLines(e,n){this.lines=[],e&&(this.hiddenAreasIds=[]);const l=this.model.getLinesContent(),b=this.model.getInjectedTextDecorations(this._editorId),k=l.length,Z=this.createLineBreaksComputer(),ne=new Ss.H9(ut.gk.fromDecorations(b));for(let Zt=0;Zt<k;Zt++){const Xt=ne.takeWhile(di=>di.lineNumber===Zt+1);Z.addRequest(l[Zt],Xt,n?n[Zt]:null)}const he=Z.finalize();let De=[],Oe=this.hiddenAreasIds.map(Zt=>this.model.getDecorationRange(Zt)).sort(Pe.e.compareRangesUsingStarts),Ke=1,Lt=0,_t=-1,Ft=_t+1<Oe.length?Lt+1:k+2;for(let Zt=0;Zt<k;Zt++){let Xt=Zt+1;Xt===Ft&&(_t++,Ke=Oe[_t].startLineNumber,Lt=Oe[_t].endLineNumber,Ft=_t+1<Oe.length?Lt+1:k+2);let di=Xt>=Ke&&Xt<=Lt,xi=_s(he[Zt],!di);De[Zt]=xi.getViewLineCount(),this.lines[Zt]=xi}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Ls(De)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(e.length===0)return[];let n=e.map(Z=>this.model.validateRange(Z)).sort(Pe.e.compareRangesUsingStarts),l=[],b=n[0].startLineNumber,k=n[0].endLineNumber;for(let Z=1,ne=n.length;Z<ne;Z++){let he=n[Z];he.startLineNumber>k+1?(l.push(new Pe.e(b,1,k,1)),b=he.startLineNumber,k=he.endLineNumber):he.endLineNumber>k&&(k=he.endLineNumber)}return l.push(new Pe.e(b,1,k,1)),l}setHiddenAreas(e){let n=this._reduceRanges(e),l=this.hiddenAreasIds.map(Ke=>this.model.getDecorationRange(Ke)).sort(Pe.e.compareRangesUsingStarts);if(n.length===l.length){let Ke=!1;for(let Lt=0;Lt<n.length;Lt++)if(!n[Lt].equalsRange(l[Lt])){Ke=!0;break}if(!Ke)return!1}let b=[];for(const Ke of n)b.push({range:Ke,options:Ys.qx.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,b);let k=n,Z=1,ne=0,he=-1,De=he+1<k.length?ne+1:this.lines.length+2,Oe=!1;for(let Ke=0;Ke<this.lines.length;Ke++){let Lt=Ke+1;Lt===De&&(he++,Z=k[he].startLineNumber,ne=k[he].endLineNumber,De=he+1<k.length?ne+1:this.lines.length+2);let _t=!1;if(Lt>=Z&&Lt<=ne?this.lines[Ke].isVisible()&&(this.lines[Ke]=this.lines[Ke].setVisible(!1),_t=!0):(Oe=!0,this.lines[Ke].isVisible()||(this.lines[Ke]=this.lines[Ke].setVisible(!0),_t=!0)),_t){let Ft=this.lines[Ke].getViewLineCount();this.prefixSumComputer.changeValue(Ke,Ft)}}return Oe||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,n){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,n,l,b){const k=this.fontInfo.equals(e),Z=this.wrappingStrategy===n,ne=this.wrappingColumn===l,he=this.wrappingIndent===b;if(k&&Z&&ne&&he)return!1;const De=k&&Z&&!ne&&he;this.fontInfo=e,this.wrappingStrategy=n,this.wrappingColumn=l,this.wrappingIndent=b;let Oe=null;if(De){Oe=[];for(let Ke=0,Lt=this.lines.length;Ke<Lt;Ke++)Oe[Ke]=this.lines[Ke].getLineBreakData()}return this._constructLines(!1,Oe),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,n,l){if(!e||e<=this._validModelVersionId)return null;let b=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,k=this.prefixSumComputer.getAccumulatedValue(l-1);return this.lines.splice(n-1,l-n+1),this.prefixSumComputer.removeValues(n-1,l-n+1),new gi(b,k)}onModelLinesInserted(e,n,l,b){if(!e||e<=this._validModelVersionId)return null;const k=n>2&&!this.lines[n-2].isVisible();let Z=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,ne=0,he=[],De=[];for(let Oe=0,Ke=b.length;Oe<Ke;Oe++){let Lt=_s(b[Oe],!k);he.push(Lt);let _t=Lt.getViewLineCount();ne+=_t,De[Oe]=_t}return this.lines=this.lines.slice(0,n-1).concat(he).concat(this.lines.slice(n-1)),this.prefixSumComputer.insertValues(n-1,De),new ri(Z,Z+ne-1)}onModelLineChanged(e,n,l){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let b=n-1,k=this.lines[b].getViewLineCount(),Z=this.lines[b].isVisible(),ne=_s(l,Z);this.lines[b]=ne;let he=this.lines[b].getViewLineCount(),De=!1,Oe=0,Ke=-1,Lt=0,_t=-1,Ft=0,Zt=-1;k>he?(Oe=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ke=Oe+he-1,Ft=Ke+1,Zt=Ft+(k-he)-1,De=!0):k<he?(Oe=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ke=Oe+k-1,Lt=Ke+1,_t=Lt+(he-k)-1,De=!0):(Oe=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ke=Oe+he-1),this.prefixSumComputer.changeValue(b,he);const Xt=Oe<=Ke?new hi(Oe,Ke):null,di=Lt<=_t?new ri(Lt,_t):null,xi=Ft<=Zt?new gi(Ft,Zt):null;return[De,Xt,di,xi]}acceptVersionId(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const n=this.getViewLineCount();return e>n?n:e|0}getActiveIndentGuide(e,n,l){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n),l=this._toValidViewLineNumber(l);const b=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),k=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),Z=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),ne=this.model.getActiveIndentGuide(b.lineNumber,k.lineNumber,Z.lineNumber),he=this.convertModelPositionToViewPosition(ne.startLineNumber,1),De=this.convertModelPositionToViewPosition(ne.endLineNumber,this.model.getLineMaxColumn(ne.endLineNumber));return{startLineNumber:he.lineNumber,endLineNumber:De.lineNumber,indent:ne.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,b=n.remainder;return new Us(l+1,b)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const n=this.lines[e.modelLineNumber-1],l=n.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),b=n.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,l);return new Ie.L(e.modelLineNumber,b)}getModelEndPositionOfViewLine(e){const n=this.lines[e.modelLineNumber-1],l=n.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),b=n.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,l);return new Ie.L(e.modelLineNumber,b)}getViewLineInfosGroupedByModelRanges(e,n){const l=this.getViewLineInfo(e),b=this.getViewLineInfo(n),k=new Array;let Z=this.getModelStartPositionOfViewLine(l),ne=new Array;for(let he=l.modelLineNumber;he<=b.modelLineNumber;he++){const De=this.lines[he-1];if(De.isVisible()){let Oe=he===l.modelLineNumber?l.modelLineWrappedLineIdx:0,Ke=he===b.modelLineNumber?b.modelLineWrappedLineIdx+1:De.getViewLineCount();for(let Lt=Oe;Lt<Ke;Lt++)ne.push(new Us(he,Lt))}if(!De.isVisible()&&Z){const Oe=new Ie.L(he-1,this.model.getLineMaxColumn(he-1)+1),Ke=Pe.e.fromPositions(Z,Oe);k.push(new Bs(Ke,ne)),ne=[],Z=null}else De.isVisible()&&!Z&&(Z=new Ie.L(he,1))}if(Z){const he=Pe.e.fromPositions(Z,this.getModelEndPositionOfViewLine(b));k.push(new Bs(he,ne))}return k}getViewLinesBracketGuides(e,n,l,b){const k=l?this.convertViewPositionToModelPosition(l.lineNumber,l.column):null,Z=[];for(const ne of this.getViewLineInfosGroupedByModelRanges(e,n)){const he=ne.modelRange.startLineNumber,De=this.model.getLinesBracketGuides(he,ne.modelRange.endLineNumber,k,b);for(const Oe of ne.viewLines)if(Oe.isWrappedLineContinuation&&this.getMinColumnOfViewLine(Oe)===1)Z.push([]);else{let Ke=De[Oe.modelLineNumber-he];Ke=Ke.map(Lt=>Lt.horizontalLine?new Xn.UO(Lt.visibleColumn,Lt.className,new Xn.vW(Lt.horizontalLine.top,this.convertModelPositionToViewPosition(Oe.modelLineNumber,Lt.horizontalLine.endColumn).column)):Lt),Z.push(Ke)}}return Z}getViewLinesIndentGuides(e,n){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n);const l=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),b=this.convertViewPositionToModelPosition(n,this.getViewLineMaxColumn(n));let k=[],Z=[],ne=[];const he=l.lineNumber-1,De=b.lineNumber-1;let Oe=null;for(let Ft=he;Ft<=De;Ft++){const Zt=this.lines[Ft];if(Zt.isVisible()){let Xt=Zt.getViewLineNumberOfModelPosition(0,Ft===he?l.column:1),di=Zt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Ft+1)),xi=di-Xt+1,yi=0;xi>1&&Zt.getViewLineMinColumn(this.model,Ft+1,di)===1&&(yi=Xt===0?1:2),Z.push(xi),ne.push(yi),Oe===null&&(Oe=new Ie.L(Ft+1,0))}else Oe!==null&&(k=k.concat(this.model.getLinesIndentGuides(Oe.lineNumber,Ft)),Oe=null)}Oe!==null&&(k=k.concat(this.model.getLinesIndentGuides(Oe.lineNumber,b.lineNumber)),Oe=null);const Ke=n-e+1;let Lt=new Array(Ke),_t=0;for(let Ft=0,Zt=k.length;Ft<Zt;Ft++){let Xt=k[Ft],di=Math.min(Ke-_t,Z[Ft]),xi=ne[Ft],yi;xi===2?yi=0:xi===1?yi=1:yi=di;for(let cn=0;cn<di;cn++)cn===yi&&(Xt=0),Lt[_t++]=Xt}return Lt}getViewLineContent(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,b=n.remainder;return this.lines[l].getViewLineContent(this.model,l+1,b)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,b=n.remainder;return this.lines[l].getViewLineLength(this.model,l+1,b)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,b=n.remainder;return this.lines[l].getViewLineMinColumn(this.model,l+1,b)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,b=n.remainder;return this.lines[l].getViewLineMaxColumn(this.model,l+1,b)}getViewLineData(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,b=n.remainder;return this.lines[l].getViewLineData(this.model,l+1,b)}getViewLinesData(e,n,l){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n);let b=this.prefixSumComputer.getIndexOf(e-1),k=e,Z=b.index,ne=b.remainder,he=[];for(let De=Z,Oe=this.model.getLineCount();De<Oe;De++){let Ke=this.lines[De];if(!Ke.isVisible())continue;let Lt=De===Z?ne:0,_t=Ke.getViewLineCount()-Lt,Ft=!1;k+_t>n&&(Ft=!0,_t=n-k+1);let Zt=Lt+_t;if(Ke.getViewLinesData(this.model,De+1,Lt,Zt,k-e,l,he),k+=_t,Ft)break}return he}validateViewPosition(e,n,l){e=this._toValidViewLineNumber(e);let b=this.prefixSumComputer.getIndexOf(e-1),k=b.index,Z=b.remainder,ne=this.lines[k],he=ne.getViewLineMinColumn(this.model,k+1,Z),De=ne.getViewLineMaxColumn(this.model,k+1,Z);n<he&&(n=he),n>De&&(n=De);let Oe=ne.getModelColumnOfViewPosition(Z,n);return this.model.validatePosition(new Ie.L(k+1,Oe)).equals(l)?new Ie.L(e,n):this.convertModelPositionToViewPosition(l.lineNumber,l.column)}validateViewRange(e,n){const l=this.validateViewPosition(e.startLineNumber,e.startColumn,n.getStartPosition()),b=this.validateViewPosition(e.endLineNumber,e.endColumn,n.getEndPosition());return new Pe.e(l.lineNumber,l.column,b.lineNumber,b.column)}convertViewPositionToModelPosition(e,n){e=this._toValidViewLineNumber(e);let l=this.prefixSumComputer.getIndexOf(e-1),b=l.index,k=l.remainder,Z=this.lines[b].getModelColumnOfViewPosition(k,n);return this.model.validatePosition(new Ie.L(b+1,Z))}convertViewRangeToModelRange(e){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),l=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Pe.e(n.lineNumber,n.column,l.lineNumber,l.column)}convertModelPositionToViewPosition(e,n,l=2){const b=this.model.validatePosition(new Ie.L(e,n)),k=b.lineNumber,Z=b.column;let ne=k-1,he=!1;for(;ne>0&&!this.lines[ne].isVisible();)ne--,he=!0;if(ne===0&&!this.lines[ne].isVisible())return new Ie.L(1,1);const De=1+(ne===0?0:this.prefixSumComputer.getAccumulatedValue(ne-1));let Oe;return he?Oe=this.lines[ne].getViewPositionOfModelPosition(De,this.model.getLineMaxColumn(ne+1),l):Oe=this.lines[k-1].getViewPositionOfModelPosition(De,Z,l),Oe}convertModelRangeToViewRange(e,n=0){if(e.isEmpty()){const l=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,n);return Pe.e.fromPositions(l)}else{const l=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),b=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Pe.e(l.lineNumber,l.column,b.lineNumber,b.column)}}getViewLineNumberOfModelPosition(e,n){let l=e-1;if(this.lines[l].isVisible()){const k=1+(l===0?0:this.prefixSumComputer.getAccumulatedValue(l-1));return this.lines[l].getViewLineNumberOfModelPosition(k,n)}for(;l>0&&!this.lines[l].isVisible();)l--;if(l===0&&!this.lines[l].isVisible())return 1;const b=1+(l===0?0:this.prefixSumComputer.getAccumulatedValue(l-1));return this.lines[l].getViewLineNumberOfModelPosition(b,this.model.getLineMaxColumn(l+1))}getDecorationsInRange(e,n,l){const b=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),k=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(k.lineNumber-b.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Pe.e(b.lineNumber,1,k.lineNumber,k.column),n,l);let Z=[];const ne=b.lineNumber-1,he=k.lineNumber-1;let De=null;for(let _t=ne;_t<=he;_t++)if(this.lines[_t].isVisible())De===null&&(De=new Ie.L(_t+1,_t===ne?b.column:1));else if(De!==null){const Zt=this.model.getLineMaxColumn(_t);Z=Z.concat(this.model.getDecorationsInRange(new Pe.e(De.lineNumber,De.column,_t,Zt),n,l)),De=null}De!==null&&(Z=Z.concat(this.model.getDecorationsInRange(new Pe.e(De.lineNumber,De.column,k.lineNumber,k.column),n,l)),De=null),Z.sort((_t,Ft)=>{const Zt=Pe.e.compareRangesUsingStarts(_t.range,Ft.range);return Zt===0?_t.id<Ft.id?-1:_t.id>Ft.id?1:0:Zt});let Oe=[],Ke=0,Lt=null;for(const _t of Z){const Ft=_t.id;Lt!==Ft&&(Lt=Ft,Oe[Ke++]=_t)}return Oe}getInjectedTextAt(e){const n=this._toValidViewLineNumber(e.lineNumber),l=this.prefixSumComputer.getIndexOf(n-1),b=l.index,k=l.remainder;return this.lines[b].getInjectedTextAt(k,e.column)}normalizePosition(e,n){const l=this._toValidViewLineNumber(e.lineNumber),b=this.prefixSumComputer.getIndexOf(l-1),k=b.index,Z=b.remainder;return this.lines[k].normalizePosition(this.model,k+1,Z,e,n)}getLineIndentColumn(e){const n=this._toValidViewLineNumber(e),l=this.prefixSumComputer.getIndexOf(n-1),b=l.index;return l.remainder===0?this.model.getLineIndentColumn(b+1):0}}class Us{constructor(e,n){this.modelLineNumber=e,this.modelLineWrappedLineIdx=n}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Bs{constructor(e,n){this.modelRange=e,this.viewLines=n}}class gs{constructor(){}isVisible(){return!0}setVisible(e){return e?this:rs.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,n,l){return e.getLineContent(n)}getViewLineLength(e,n,l){return e.getLineLength(n)}getViewLineMinColumn(e,n,l){return e.getLineMinColumn(n)}getViewLineMaxColumn(e,n,l){return e.getLineMaxColumn(n)}getViewLineData(e,n,l){let b=e.getLineTokens(n),k=b.getLineContent();return new Di.IP(k,!1,1,k.length+1,0,b.inflate(),null)}getViewLinesData(e,n,l,b,k,Z,ne){if(!Z[k]){ne[k]=null;return}ne[k]=this.getViewLineData(e,n,0)}getModelColumnOfViewPosition(e,n){return n}getViewPositionOfModelPosition(e,n){return new Ie.L(e,n)}getViewLineNumberOfModelPosition(e,n){return e}normalizePosition(e,n,l,b,k){return b}getInjectedTextAt(e,n){return null}}gs.INSTANCE=new gs;class rs{constructor(){}isVisible(){return!1}setVisible(e){return e?gs.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,n,l){throw new Error("Not supported")}getViewLineLength(e,n,l){throw new Error("Not supported")}getViewLineMinColumn(e,n,l){throw new Error("Not supported")}getViewLineMaxColumn(e,n,l){throw new Error("Not supported")}getViewLineData(e,n,l){throw new Error("Not supported")}getViewLinesData(e,n,l,b,k,Z,ne){throw new Error("Not supported")}getModelColumnOfViewPosition(e,n){throw new Error("Not supported")}getViewPositionOfModelPosition(e,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,n){throw new Error("Not supported")}normalizePosition(e,n,l,b,k){throw new Error("Not supported")}getInjectedTextAt(e,n){throw new Error("Not supported")}}rs.INSTANCE=new rs;class $s{constructor(e,n){this._lineBreakData=e,this._isVisible=n}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,n,l){return l+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(n)-1:this._lineBreakData.getInputOffsetOfOutputPosition(l+1,0)}getViewLineContent(e,n,l){if(!this._isVisible)throw new Error("Not supported");const b=l>0?this._lineBreakData.breakOffsets[l-1]:0,k=l<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[l]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let Z;if(this._lineBreakData.injectionOffsets!==null){const ne=this._lineBreakData.injectionOffsets.map((he,De)=>new ut.gk(0,0,he+1,this._lineBreakData.injectionOptions[De],0));Z=ut.gk.applyInjectedText(e.getLineContent(n),ne).substring(b,k)}else Z=e.getValueInRange({startLineNumber:n,startColumn:b+1,endLineNumber:n,endColumn:k+1});return l>0&&(Z=uo(this._lineBreakData.wrappedTextIndentLength)+Z),Z}getViewLineLength(e,n,l){if(!this._isVisible)throw new Error("Not supported");const b=l>0?this._lineBreakData.breakOffsets[l-1]:0;let Z=(l<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[l]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-b;return l>0&&(Z=this._lineBreakData.wrappedTextIndentLength+Z),Z}getViewLineMinColumn(e,n,l){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(l)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,n,l){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,n,l)+1}getViewLineData(e,n,l){if(!this._isVisible)throw new Error("Not supported");const b=this._lineBreakData,k=l>0?b.wrappedTextIndentLength:0,Z=b.injectionOffsets,ne=b.injectionOptions;let he,De,Oe;if(Z){const Zt=e.getLineTokens(n).withInserted(Z.map((yi,cn)=>({offset:yi,text:ne[cn].content,tokenMetadata:Vo.A.defaultTokenMetadata}))),Xt=l>0?b.breakOffsets[l-1]:0,di=b.breakOffsets[l];he=Zt.getLineContent().substring(Xt,di),De=Zt.sliceAndInflate(Xt,di,k),Oe=new Array;let xi=0;for(let yi=0;yi<Z.length;yi++){const cn=ne[yi].content.length,an=Z[yi]+xi,En=Z[yi]+xi+cn;if(an>di)break;if(Xt<En){const Ln=ne[yi];if(Ln.inlineClassName){const rn=l>0?b.wrappedTextIndentLength:0,vn=rn+Math.max(an-Xt,0),bn=rn+Math.min(En-Xt,di);vn!==bn&&Oe.push(new Di.Wx(vn,bn,Ln.inlineClassName,Ln.inlineClassNameAffectsLetterSpacing))}}xi+=cn}}else{const Zt=this.getInputStartOffsetOfOutputLineIndex(l),Xt=this.getInputEndOffsetOfOutputLineIndex(e,n,l),di=e.getLineTokens(n);he=e.getValueInRange({startLineNumber:n,startColumn:Zt+1,endLineNumber:n,endColumn:Xt+1}),De=di.sliceAndInflate(Zt,Xt,k),Oe=null}l>0&&(he=uo(b.wrappedTextIndentLength)+he);const Ke=l>0?b.wrappedTextIndentLength+1:1,Lt=he.length+1,_t=l+1<this.getViewLineCount(),Ft=l===0?0:b.breakOffsetsVisibleColumn[l-1];return new Di.IP(he,_t,Ke,Lt,Ft,De,Oe)}getViewLinesData(e,n,l,b,k,Z,ne){if(!this._isVisible)throw new Error("Not supported");for(let he=l;he<b;he++){let De=k+he-l;if(!Z[De]){ne[De]=null;continue}ne[De]=this.getViewLineData(e,n,he)}}getModelColumnOfViewPosition(e,n){if(!this._isVisible)throw new Error("Not supported");let l=n-1;return e>0&&(l<this._lineBreakData.wrappedTextIndentLength?l=0:l-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,l)+1}getViewPositionOfModelPosition(e,n,l=2){if(!this._isVisible)throw new Error("Not supported");let b=this._lineBreakData.getOutputPositionOfInputOffset(n-1,l),k=b.outputLineIndex,Z=b.outputOffset+1;return k>0&&(Z+=this._lineBreakData.wrappedTextIndentLength),new Ie.L(e+k,Z)}getViewLineNumberOfModelPosition(e,n){if(!this._isVisible)throw new Error("Not supported");const l=this._lineBreakData.getOutputPositionOfInputOffset(n-1);return e+l.outputLineIndex}normalizePosition(e,n,l,b,k){if(this._lineBreakData.injectionOffsets!==null){const Z=b.lineNumber-l,ne=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(l,b.column-1),he=this._lineBreakData.normalizeOffsetAroundInjections(ne,k);if(he!==ne)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(he,k).toPosition(Z,this._lineBreakData.wrappedTextIndentLength)}if(k===0){if(l>0&&b.column===this._getViewLineMinColumn(l))return new Ie.L(b.lineNumber-1,this.getViewLineMaxColumn(e,n,l-1))}else if(k===1){const Z=this.getViewLineCount()-1;if(l<Z&&b.column===this.getViewLineMaxColumn(e,n,l))return new Ie.L(b.lineNumber+1,this._getViewLineMinColumn(l+1))}return b}getInjectedTextAt(e,n){return this._lineBreakData.getInjectedText(e,n-1)}}let fo=[""];function uo(Ct){if(Ct>=fo.length)for(let e=1;e<=Ct;e++)fo[e]=fn(e);return fo[Ct]}function fn(Ct){return new Array(Ct+1).join(" ")}function _s(Ct,e){return Ct===null?e?gs.INSTANCE:rs.INSTANCE:new $s(Ct,e)}class so{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,n){return this._validPosition(n)}validateViewRange(e,n){return this._validRange(n)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const n=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>n)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,n){return e}}class Js{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new so(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,n,l,b){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(n,l,b)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,n,l){return new gi(n,l)}onModelLinesInserted(e,n,l,b){return new ri(n,l)}onModelLineChanged(e,n,l){return[!1,new hi(n,n),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,n,l){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,n,l){return new Array(n-e+1).fill([])}getViewLinesIndentGuides(e,n){const l=n-e+1;let b=new Array(l);for(let k=0;k<l;k++)b[k]=0;return b}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let n=this.model.getLineTokens(e),l=n.getLineContent();return new Di.IP(l,!1,1,l.length+1,0,n.inflate(),null)}getViewLinesData(e,n,l){const b=this.model.getLineCount();e=Math.min(Math.max(1,e),b),n=Math.min(Math.max(1,n),b);let k=[];for(let Z=e;Z<=n;Z++){let ne=Z-e;l[ne]||(k[ne]=null),k[ne]=this.getViewLineData(Z)}return k}getDecorationsInRange(e,n,l){return this.model.getDecorationsInRange(e,n,l)}normalizePosition(e,n){return this.model.normalizePosition(e,n)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class nr{constructor(e,n,l,b,k){this.editorId=e,this.model=n,this.configuration=l,this._linesCollection=b,this._coordinatesConverter=k,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const n=e.id;let l=this._decorationsCache[n];if(!l){const b=e.range,k=e.options;let Z;if(k.isWholeLine){const ne=this._coordinatesConverter.convertModelPositionToViewPosition(new Ie.L(b.startLineNumber,1),0),he=this._coordinatesConverter.convertModelPositionToViewPosition(new Ie.L(b.endLineNumber,this.model.getLineMaxColumn(b.endLineNumber)),1);Z=new Pe.e(ne.lineNumber,ne.column,he.lineNumber,he.column)}else Z=this._coordinatesConverter.convertModelRangeToViewRange(b,1);l=new Di.$l(Z,k),this._decorationsCache[n]=l}return l}getDecorationsViewportData(e){let n=this._cachedModelDecorationsResolver!==null;return n=n&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const n=this._linesCollection.getDecorationsInRange(e,this.editorId,(0,rt.$J)(this.configuration.options)),l=e.startLineNumber,b=e.endLineNumber;let k=[],Z=0,ne=[];for(let he=l;he<=b;he++)ne[he-l]=[];for(let he=0,De=n.length;he<De;he++){let Oe=n[he],Ke=Oe.options,Lt=this._getOrCreateViewModelDecoration(Oe),_t=Lt.range;if(k[Z++]=Lt,Ke.inlineClassName){let Ft=new Di.$t(_t,Ke.inlineClassName,Ke.inlineClassNameAffectsLetterSpacing?3:0),Zt=Math.max(l,_t.startLineNumber),Xt=Math.min(b,_t.endLineNumber);for(let di=Zt;di<=Xt;di++)ne[di-l].push(Ft)}if(Ke.beforeContentClassName&&l<=_t.startLineNumber&&_t.startLineNumber<=b){let Ft=new Di.$t(new Pe.e(_t.startLineNumber,_t.startColumn,_t.startLineNumber,_t.startColumn),Ke.beforeContentClassName,1);ne[_t.startLineNumber-l].push(Ft)}if(Ke.afterContentClassName&&l<=_t.endLineNumber&&_t.endLineNumber<=b){let Ft=new Di.$t(new Pe.e(_t.endLineNumber,_t.endColumn,_t.endLineNumber,_t.endColumn),Ke.afterContentClassName,2);ne[_t.endLineNumber-l].push(Ft)}}return{decorations:k,inlineDecorations:ne}}}var vr=c(71144);const lr=!0;class Ro extends T.JT{constructor(e,n,l,b,k,Z){if(super(),this._editorId=e,this._configuration=n,this.model=l,this._eventDispatcher=new kn,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new S.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new S.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,lr&&this.model.isTooLargeForTokenization())this._lines=new Js(this.model);else{const ne=this._configuration.options,he=ne.get(43),De=ne.get(123),Oe=ne.get(130),Ke=ne.get(122);this._lines=new ro(this._editorId,this.model,b,k,he,this.model.getOptions().tabSize,De,Oe.wrappingColumn,Ke)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ds(l,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new xo(this._configuration,this.getLineCount(),Z)),this._register(this.viewLayout.onDidScroll(ne=>{ne.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Zi(ne)),this._eventDispatcher.emitOutgoingEvent(new fs(ne.oldScrollWidth,ne.oldScrollLeft,ne.oldScrollHeight,ne.oldScrollTop,ne.scrollWidth,ne.scrollLeft,ne.scrollHeight,ne.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(ne=>{this._eventDispatcher.emitOutgoingEvent(ne)})),this._decorations=new nr(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(ne=>{try{const he=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(he,ne)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(ki.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new tn)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),n=new Pe.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),l=this._toModelVisibleRanges(n);for(const b of l)this.model.tokenizeViewport(b.startLineNumber,b.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new St(e)),this._eventDispatcher.emitOutgoingEvent(new Ms(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ot)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new X)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Li)}_onConfigurationChanged(e,n){let l=null;if(this._viewportStartLine!==-1){let Oe=new Ie.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));l=this.coordinatesConverter.convertViewPositionToModelPosition(Oe)}let b=!1;const k=this._configuration.options,Z=k.get(43),ne=k.get(123),he=k.get(130),De=k.get(122);if(this._lines.setWrappingSettings(Z,ne,he.wrappingColumn,De)&&(e.emitViewEvent(new ze),e.emitViewEvent(new Wt),e.emitViewEvent(new Ze(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(b=!0),this._updateConfigurationViewLineCount.schedule()),n.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new Ze(null))),e.emitViewEvent(new de(n)),this.viewLayout.onConfigurationChanged(n),b&&l){const Oe=this.coordinatesConverter.convertModelPositionToViewPosition(l),Ke=this.viewLayout.getVerticalOffsetForLineNumber(Oe.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Ke+this._viewportStartLineDelta},1)}ye.LM.shouldRecreate(n)&&(this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const n=this._eventDispatcher.beginEmitViewEvents();let l=!1,b=!1;const k=e.changes,Z=e instanceof ut.dQ?e.versionId:null,ne=this._lines.createLineBreaksComputer();for(const Oe of k)switch(Oe.changeType){case 4:{for(let Ke=0;Ke<Oe.detail.length;Ke++){const Lt=Oe.detail[Ke];let _t=Oe.injectedTexts[Ke];_t&&(_t=_t.filter(Ft=>!Ft.ownerId||Ft.ownerId===this._editorId)),ne.addRequest(Lt,_t,null)}break}case 2:{let Ke=null;Oe.injectedText&&(Ke=Oe.injectedText.filter(Lt=>!Lt.ownerId||Lt.ownerId===this._editorId)),ne.addRequest(Oe.detail,Ke,null);break}}const he=ne.finalize();let De=0;for(const Oe of k)switch(Oe.changeType){case 1:{this._lines.onModelFlushed(),n.emitViewEvent(new ze),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),l=!0;break}case 3:{const Ke=this._lines.onModelLinesDeleted(Z,Oe.fromLineNumber,Oe.toLineNumber);Ke!==null&&(n.emitViewEvent(Ke),this.viewLayout.onLinesDeleted(Ke.fromLineNumber,Ke.toLineNumber)),l=!0;break}case 4:{const Ke=he.slice(De,De+Oe.detail.length);De+=Oe.detail.length;const Lt=this._lines.onModelLinesInserted(Z,Oe.fromLineNumber,Oe.toLineNumber,Ke);Lt!==null&&(n.emitViewEvent(Lt),this.viewLayout.onLinesInserted(Lt.fromLineNumber,Lt.toLineNumber)),l=!0;break}case 2:{const Ke=he[De];De++;const[Lt,_t,Ft,Zt]=this._lines.onModelLineChanged(Z,Oe.lineNumber,Ke);b=Lt,_t&&n.emitViewEvent(_t),Ft&&(n.emitViewEvent(Ft),this.viewLayout.onLinesInserted(Ft.fromLineNumber,Ft.toLineNumber)),Zt&&(n.emitViewEvent(Zt),this.viewLayout.onLinesDeleted(Zt.fromLineNumber,Zt.toLineNumber));break}case 5:break}Z!==null&&this._lines.acceptVersionId(Z),this.viewLayout.onHeightMaybeChanged(),!l&&b&&(n.emitViewEvent(new Wt),n.emitViewEvent(new Ze(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const n=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(n){const l=this.coordinatesConverter.convertModelPositionToViewPosition(n.getStartPosition()),b=this.viewLayout.getVerticalOffsetForLineNumber(l.lineNumber);this.viewLayout.setScrollPosition({scrollTop:b+this._viewportStartLineDelta},1)}}try{const n=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(n,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let n=[];for(let l=0,b=e.ranges.length;l<b;l++){const k=e.ranges[l],Z=this.coordinatesConverter.convertModelPositionToViewPosition(new Ie.L(k.fromLineNumber,1)).lineNumber,ne=this.coordinatesConverter.convertModelPositionToViewPosition(new Ie.L(k.toLineNumber,this.model.getLineMaxColumn(k.toLineNumber))).lineNumber;n[l]={fromLineNumber:Z,toLineNumber:ne}}this._eventDispatcher.emitSingleViewEvent(new Fi(n)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new zt),this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const n=this._eventDispatcher.beginEmitViewEvents();n.emitViewEvent(new ze),n.emitViewEvent(new Wt),n.emitViewEvent(new Ze(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Ze(e))}))}setHiddenAreas(e){let n=!1;try{const l=this._eventDispatcher.beginEmitViewEvents();n=this._lines.setHiddenAreas(e),n&&(l.emitViewEvent(new ze),l.emitViewEvent(new Wt),l.emitViewEvent(new Ze(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),n&&this._eventDispatcher.emitOutgoingEvent(new Jn)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),n=this._configuration.options.get(58),l=Math.max(20,Math.round(e.height/n)),b=this.viewLayout.getLinesViewportData(),k=Math.max(1,b.completelyVisibleStartLineNumber-l),Z=Math.min(this.getLineCount(),b.completelyVisibleEndLineNumber+l);return this._toModelVisibleRanges(new Pe.e(k,this.getLineMinColumn(k),Z,this.getLineMaxColumn(Z)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const n=this.coordinatesConverter.convertViewRangeToModelRange(e),l=this._lines.getHiddenAreas();if(l.length===0)return[n];let b=[],k=0,Z=n.startLineNumber,ne=n.startColumn,he=n.endLineNumber,De=n.endColumn;for(let Oe=0,Ke=l.length;Oe<Ke;Oe++){const Lt=l[Oe].startLineNumber,_t=l[Oe].endLineNumber;_t<Z||Lt>he||(Z<Lt&&(b[k++]=new Pe.e(Z,ne,Lt-1,this.model.getLineMaxColumn(Lt-1))),Z=_t+1,ne=1)}return(Z<he||Z===he&&ne<De)&&(b[k++]=new Pe.e(Z,ne,he,De)),b}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),n=e.completelyVisibleStartLineNumber,l=e.completelyVisibleEndLineNumber;return new Pe.e(n,this.getLineMinColumn(n),l,this.getLineMaxColumn(l))}getCompletelyVisibleViewRangeAtScrollTop(e){const n=this.viewLayout.getLinesViewportDataAtScrollTop(e),l=n.completelyVisibleStartLineNumber,b=n.completelyVisibleEndLineNumber;return new Pe.e(l,this.getLineMinColumn(l),b,this.getLineMaxColumn(b))}saveState(){const e=this.viewLayout.saveState(),n=e.scrollTop,l=this.viewLayout.getLineNumberAtVerticalOffset(n),b=this.coordinatesConverter.convertViewPositionToModelPosition(new Ie.L(l,this.getLineMinColumn(l))),k=this.viewLayout.getVerticalOffsetForLineNumber(l)-n;return{scrollLeft:e.scrollLeft,firstPosition:b,firstPositionDeltaTop:k}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const n=this.model.validatePosition(e.firstPosition),l=this.coordinatesConverter.convertModelPositionToViewPosition(n),b=this.viewLayout.getVerticalOffsetForLineNumber(l.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:b}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,n,l){this._viewportStartLine=e;let b=this.coordinatesConverter.convertViewPositionToModelPosition(new Ie.L(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Pe.e(b.lineNumber,b.column,b.lineNumber,b.column),1);const k=this.viewLayout.getVerticalOffsetForLineNumber(e),Z=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=Z-k}getActiveIndentGuide(e,n,l){return this._lines.getActiveIndentGuide(e,n,l)}getLinesIndentGuides(e,n){return this._lines.getViewLinesIndentGuides(e,n)}getBracketGuidesInRangeByLine(e,n,l,b){return this._lines.getViewLinesBracketGuides(e,n,l,b)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const n=$e.LC(this.getLineContent(e));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(e){const n=$e.ow(this.getLineContent(e));return n===-1?0:n+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,n){let l=this.model.mightContainRTL(),b=this.model.mightContainNonBasicASCII(),k=this.getTabSize(),Z=this._lines.getViewLineData(n),he=this._decorations.getDecorationsViewportData(e).inlineDecorations[n-e.startLineNumber];return Z.inlineDecorations&&(he=[...he,...Z.inlineDecorations.map(De=>De.toInlineDecoration(n))]),new Di.wA(Z.minColumn,Z.maxColumn,Z.content,Z.continuesWithWrappedLine,l,b,Z.tokens,he,k,Z.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,n,l){let b=this._lines.getViewLinesData(e,n,l);return new Di.ud(this.getTabSize(),b)}getAllOverviewRulerDecorations(e){const n=this.model.getOverviewRulerDecorations(this._editorId,(0,rt.$J)(this._configuration.options)),l=new Io;for(const b of n){const k=b.options,Z=k.overviewRuler;if(!Z)continue;const ne=Z.position;if(ne===0)continue;const he=Z.getColor(e),De=this.coordinatesConverter.getViewLineNumberOfModelPosition(b.range.startLineNumber,b.range.startColumn),Oe=this.coordinatesConverter.getViewLineNumberOfModelPosition(b.range.endLineNumber,b.range.endColumn);l.accept(he,k.zIndex,De,Oe,ne)}return l.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const n of e){const l=n.options.overviewRuler;l&&l.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const n of e){const l=n.options.minimap;l&&l.invalidateCachedColor()}}getValueInRange(e,n){const l=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(l,n)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,n,l){const b=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(n<0?n-=l:n+=l);const Z=this.model.getOffsetAt(b)+n;return this.model.getPositionAt(Z)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,n,l){const b=l?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Pe.e.compareRangesUsingStarts);let k=!1,Z=!1;for(const he of e)he.isEmpty()?k=!0:Z=!0;if(!Z){if(!n)return"";const he=e.map(Oe=>Oe.startLineNumber);let De="";for(let Oe=0;Oe<he.length;Oe++)Oe>0&&he[Oe-1]===he[Oe]||(De+=this.model.getLineContent(he[Oe])+b);return De}if(k&&n){let he=[],De=0;for(const Oe of e){const Ke=Oe.startLineNumber;Oe.isEmpty()?Ke!==De&&he.push(this.model.getLineContent(Ke)):he.push(this.model.getValueInRange(Oe,l?2:0)),De=Ke}return he.length===1?he[0]:he}let ne=[];for(const he of e)he.isEmpty()||ne.push(this.model.getValueInRange(he,l?2:0));return ne.length===1?ne[0]:ne}getRichTextToCopy(e,n){const l=this.model.getLanguageId();if(l===vr.XT||e.length!==1)return null;let b=e[0];if(b.isEmpty()){if(!n)return null;const Oe=b.startLineNumber;b=new Pe.e(Oe,this.model.getLineMinColumn(Oe),Oe,this.model.getLineMaxColumn(Oe))}const k=this._configuration.options.get(43),Z=this._getColorMap(),he=/[:;\\\/<>]/.test(k.fontFamily)||k.fontFamily===rt.hL.fontFamily;let De;return he?De=rt.hL.fontFamily:(De=k.fontFamily,De=De.replace(/"/g,"'"),/[,']/.test(De)||/[+ ]/.test(De)&&(De=`'${De}'`),De=`${De}, ${rt.hL.fontFamily}`),{mode:l,html:`<div style="color: ${Z[1]};background-color: ${Z[2]};font-family: ${De};font-weight: ${k.fontWeight};font-size: ${k.fontSize}px;line-height: ${k.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(b,Z)+"</div>"}}_getHTMLToCopy(e,n){const l=e.startLineNumber,b=e.startColumn,k=e.endLineNumber,Z=e.endColumn,ne=this.getTabSize();let he="";for(let De=l;De<=k;De++){const Oe=this.model.getLineTokens(De),Ke=Oe.getLineContent(),Lt=De===l?b-1:0,_t=De===k?Z-1:Ke.length;Ke===""?he+="<br>":he+=(0,ys.F)(Ke,Oe.inflate(),n,Lt,_t,ne,x.ED)}return he}_getColorMap(){let e=ei.RW.getColorMap(),n=["#000000"];if(e)for(let l=1,b=e.length;l<b;l++)n[l]=Kt.Il.Format.CSS.formatHex(e[l]);return n}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,n,l){this._withViewEventsCollector(b=>this._cursor.setStates(b,e,n,l))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,n,l=0){this._withViewEventsCollector(b=>this._cursor.setSelections(b,e,n,l))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(n=>this._cursor.restoreState(n,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new es);return}this._withViewEventsCollector(e)}executeEdits(e,n,l){this._executeCursorEdit(b=>this._cursor.executeEdits(b,e,n,l))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(n=>this._cursor.endComposition(n,e))}type(e,n){this._executeCursorEdit(l=>this._cursor.type(l,e,n))}compositionType(e,n,l,b,k){this._executeCursorEdit(Z=>this._cursor.compositionType(Z,e,n,l,b,k))}paste(e,n,l,b){this._executeCursorEdit(k=>this._cursor.paste(k,e,n,l,b))}cut(e){this._executeCursorEdit(n=>this._cursor.cut(n,e))}executeCommand(e,n){this._executeCursorEdit(l=>this._cursor.executeCommand(l,e,n))}executeCommands(e,n){this._executeCursorEdit(l=>this._cursor.executeCommands(l,e,n))}revealPrimaryCursor(e,n){this._withViewEventsCollector(l=>this._cursor.revealPrimary(l,e,n,0))}revealTopMostCursor(e){const n=this._cursor.getTopMostViewPosition(),l=new Pe.e(n.lineNumber,n.column,n.lineNumber,n.column);this._withViewEventsCollector(b=>b.emitViewEvent(new Qt(e,l,null,0,!0,0)))}revealBottomMostCursor(e){const n=this._cursor.getBottomMostViewPosition(),l=new Pe.e(n.lineNumber,n.column,n.lineNumber,n.column);this._withViewEventsCollector(b=>b.emitViewEvent(new Qt(e,l,null,0,!0,0)))}revealRange(e,n,l,b,k){this._withViewEventsCollector(Z=>Z.emitViewEvent(new Qt(e,l,null,b,n,k)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,n){this.viewLayout.setScrollPosition({scrollTop:e},n)}setScrollPosition(e,n){this.viewLayout.setScrollPosition(e,n)}deltaScrollNow(e,n){this.viewLayout.deltaScrollNow(e,n)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Tn),this._eventDispatcher.emitOutgoingEvent(new Jn))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const n=this._eventDispatcher.beginEmitViewEvents();e(n)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,n){return this._lines.normalizePosition(e,n)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Io{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,n,l,b,k){const Z=this._asMap[e];if(Z){const ne=Z.data,he=ne[ne.length-3],De=ne[ne.length-1];if(he===k&&De+1>=l){b>De&&(ne[ne.length-1]=b);return}ne.push(k,l,b)}else{const ne=new Di.SQ(e,n,[k,l,b]);this._asMap[e]=ne,this.asArray.push(ne)}}}var yo=c(94565),Ho=c(38819),Ko=c(72065),jo=c(60972),qo=c(48894),Go=c(31106),dr=c(44906);class Fr extends dr.N{constructor(e,n){super(0);for(let l=0;l<e.length;l++)this.set(e.charCodeAt(l),1);for(let l=0;l<n.length;l++)this.set(n.charCodeAt(l),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let ur=[],Br=[];class No{constructor(e,n){this.classifier=new Fr(e,n)}static create(e){return new No(e.get(118),e.get(117))}createLineBreaksComputer(e,n,l,b){n=n|0,l=+l;const k=[],Z=[],ne=[];return{addRequest:(he,De,Oe)=>{k.push(he),Z.push(De),ne.push(Oe)},finalize:()=>{const he=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let De=[];for(let Oe=0,Ke=k.length;Oe<Ke;Oe++){const Lt=Z[Oe],_t=ne[Oe];_t&&!_t.injectionOptions&&!Lt?De[Oe]=xr(this.classifier,_t,k[Oe],n,l,he,b):De[Oe]=Zo(this.classifier,k[Oe],Lt,n,l,he,b)}return ur.length=0,Br.length=0,De}}}}function xr(Ct,e,n,l,b,k,Z){if(b===-1)return null;const ne=n.length;if(ne<=1)return null;const he=e.breakOffsets,De=e.breakOffsetsVisibleColumn,Oe=Ir(n,l,b,k,Z),Ke=b-Oe;let Lt=ur,_t=Br,Ft=0,Zt=0,Xt=0,di=b;const xi=he.length;let yi=0;if(yi>=0){let cn=Math.abs(De[yi]-di);for(;yi+1<xi;){const an=Math.abs(De[yi+1]-di);if(an>=cn)break;cn=an,yi++}}for(;yi<xi;){let cn=yi<0?0:he[yi],an=yi<0?0:De[yi];Zt>cn&&(cn=Zt,an=Xt);let En=0,Ln=0,rn=0,vn=0;if(an<=di){let Gn=an,mo=cn===0?0:n.charCodeAt(cn-1),vo=cn===0?0:Ct.get(mo),co=!0;for(let Ps=cn;Ps<ne;Ps++){const ko=Ps,Eo=n.charCodeAt(Ps);let To,zo;if($e.ZG(Eo)?(Ps++,To=0,zo=2):(To=Ct.get(Eo),zo=sr(Eo,Gn,l,k)),ko>Zt&&er(mo,vo,Eo,To)&&(En=ko,Ln=Gn),Gn+=zo,Gn>di){ko>Zt?(rn=ko,vn=Gn-zo):(rn=Ps+1,vn=Gn),Gn-Ln>Ke&&(En=0),co=!1;break}mo=Eo,vo=To}if(co){Ft>0&&(Lt[Ft]=he[he.length-1],_t[Ft]=De[he.length-1],Ft++);break}}if(En===0){let Gn=an,mo=n.charCodeAt(cn),vo=Ct.get(mo),co=!1;for(let Ps=cn-1;Ps>=Zt;Ps--){const ko=Ps+1,Eo=n.charCodeAt(Ps);if(Eo===9){co=!0;break}let To,zo;if($e.YK(Eo)?(Ps--,To=0,zo=2):(To=Ct.get(Eo),zo=$e.K7(Eo)?k:1),Gn<=di){if(rn===0&&(rn=ko,vn=Gn),Gn<=di-Ke)break;if(er(Eo,To,mo,vo)){En=ko,Ln=Gn;break}}Gn-=zo,mo=Eo,vo=To}if(En!==0){const Ps=Ke-(vn-Ln);if(Ps<=l){const ko=n.charCodeAt(rn);let Eo;$e.ZG(ko)?Eo=2:Eo=sr(ko,vn,l,k),Ps-Eo<0&&(En=0)}}if(co){yi--;continue}}if(En===0&&(En=rn,Ln=vn),En<=Zt){const Gn=n.charCodeAt(Zt);$e.ZG(Gn)?(En=Zt+2,Ln=Xt+2):(En=Zt+1,Ln=Xt+sr(Gn,Xt,l,k))}for(Zt=En,Lt[Ft]=En,Xt=Ln,_t[Ft]=Ln,Ft++,di=Ln+Ke;yi<0||yi<xi&&De[yi]<Ln;)yi++;let bn=Math.abs(De[yi]-di);for(;yi+1<xi;){const Gn=Math.abs(De[yi+1]-di);if(Gn>=bn)break;bn=Gn,yi++}}return Ft===0?null:(Lt.length=Ft,_t.length=Ft,ur=e.breakOffsets,Br=e.breakOffsetsVisibleColumn,e.breakOffsets=Lt,e.breakOffsetsVisibleColumn=_t,e.wrappedTextIndentLength=Oe,e)}function Zo(Ct,e,n,l,b,k,Z){const ne=ut.gk.applyInjectedText(e,n);let he,De;if(n&&n.length>0?(he=n.map(Ln=>Ln.options),De=n.map(Ln=>Ln.column-1)):(he=null,De=null),b===-1)return he?new Di.le([ne.length],[],0,De,he):null;const Oe=ne.length;if(Oe<=1)return he?new Di.le([ne.length],[],0,De,he):null;const Ke=Ir(ne,l,b,k,Z),Lt=b-Ke;let _t=[],Ft=[],Zt=0,Xt=0,di=0,xi=b,yi=ne.charCodeAt(0),cn=Ct.get(yi),an=sr(yi,0,l,k),En=1;$e.ZG(yi)&&(an+=1,yi=ne.charCodeAt(1),cn=Ct.get(yi),En++);for(let Ln=En;Ln<Oe;Ln++){const rn=Ln,vn=ne.charCodeAt(Ln);let bn,Gn;$e.ZG(vn)?(Ln++,bn=0,Gn=2):(bn=Ct.get(vn),Gn=sr(vn,an,l,k)),er(yi,cn,vn,bn)&&(Xt=rn,di=an),an+=Gn,an>xi&&((Xt===0||an-di>Lt)&&(Xt=rn,di=an-Gn),_t[Zt]=Xt,Ft[Zt]=di,Zt++,xi=di+Lt,Xt=0),yi=vn,cn=bn}return Zt===0&&(!n||n.length===0)?null:(_t[Zt]=Oe,Ft[Zt]=an,new Di.le(_t,Ft,Ke,De,he))}function sr(Ct,e,n,l){return Ct===9?n-e%n:$e.K7(Ct)||Ct<32?l:1}function Uo(Ct,e){return e-Ct%e}function er(Ct,e,n,l){return n!==32&&(e===2||e===3&&l!==2||l===1||l===3&&e!==1)}function Ir(Ct,e,n,l,b){let k=0;if(b!==0){const Z=$e.LC(Ct);if(Z!==-1){for(let he=0;he<Z;he++){const De=Ct.charCodeAt(he)===9?Uo(k,e):1;k+=De}const ne=b===3?2:b===2?1:0;for(let he=0;he<ne;he++){const De=Uo(k,e);k+=De}k+l>n&&(k=0)}}return k}var cr;const mr=(cr=window.trustedTypes)===null||cr===void 0?void 0:cr.createPolicy("domLineBreaksComputer",{createHTML:Ct=>Ct});class Cr{static create(){return new Cr}constructor(){}createLineBreaksComputer(e,n,l,b){n=n|0,l=+l;let k=[],Z=[];return{addRequest:(ne,he,De)=>{k.push(ne),Z.push(he)},finalize:()=>Rr(k,e,n,l,b,Z)}}}function Rr(Ct,e,n,l,b,k){var Z;function ne(rn){const vn=k[rn];if(vn){const bn=ut.gk.applyInjectedText(Ct[rn],vn),Gn=vn.map(vo=>vo.options),mo=vn.map(vo=>vo.column-1);return new Di.le([bn.length],[],0,mo,Gn)}else return null}if(l===-1){const rn=[];for(let vn=0,bn=Ct.length;vn<bn;vn++)rn[vn]=ne(vn);return rn}const he=Math.round(l*e.typicalHalfwidthCharacterWidth),Oe=Math.round(n*(b===3?2:b===2?1:0)),Ke=Math.ceil(e.spaceWidth*Oe),Lt=document.createElement("div");E.V.applyFontInfoSlow(Lt,e);const _t=(0,_i.l$)(1e4),Ft=[],Zt=[],Xt=[],di=[],xi=[];for(let rn=0;rn<Ct.length;rn++){const vn=ut.gk.applyInjectedText(Ct[rn],k[rn]);let bn=0,Gn=0,mo=he;if(b!==0)if(bn=$e.LC(vn),bn===-1)bn=0;else{for(let ko=0;ko<bn;ko++){const Eo=vn.charCodeAt(ko)===9?n-Gn%n:1;Gn+=Eo}const Ps=Math.ceil(e.spaceWidth*Gn);Ps+e.typicalFullwidthCharacterWidth>he?(bn=0,Gn=0):mo=he-Ps}const vo=vn.substr(bn),co=ms(vo,Gn,n,mo,_t,Ke);Ft[rn]=bn,Zt[rn]=Gn,Xt[rn]=vo,di[rn]=co[0],xi[rn]=co[1]}const yi=_t.build(),cn=(Z=mr==null?void 0:mr.createHTML(yi))!==null&&Z!==void 0?Z:yi;Lt.innerHTML=cn,Lt.style.position="absolute",Lt.style.top="10000",Lt.style.wordWrap="break-word",document.body.appendChild(Lt);let an=document.createRange();const En=Array.prototype.slice.call(Lt.children,0);let Ln=[];for(let rn=0;rn<Ct.length;rn++){const vn=En[rn],bn=Wn(an,vn,Xt[rn],di[rn]);if(bn===null){Ln[rn]=ne(rn);continue}const Gn=Ft[rn],mo=Zt[rn]+Oe,vo=xi[rn],co=[];for(let To=0,zo=bn.length;To<zo;To++)co[To]=vo[bn[To]];if(Gn!==0)for(let To=0,zo=bn.length;To<zo;To++)bn[To]+=Gn;let Ps,ko;const Eo=k[rn];Eo?(Ps=Eo.map(To=>To.options),ko=Eo.map(To=>To.column-1)):(Ps=null,ko=null),Ln[rn]=new Di.le(bn,co,mo,ko,Ps)}return document.body.removeChild(Lt),Ln}function ms(Ct,e,n,l,b,k){if(k!==0){let Lt=String(k);b.appendASCIIString('<div style="text-indent: -'),b.appendASCIIString(Lt),b.appendASCIIString("px; padding-left: "),b.appendASCIIString(Lt),b.appendASCIIString("px; box-sizing: border-box; width:")}else b.appendASCIIString('<div style="width:');b.appendASCIIString(String(l)),b.appendASCIIString('px;">');const Z=Ct.length;let ne=e,he=0,De=[],Oe=[],Ke=0<Z?Ct.charCodeAt(0):0;b.appendASCIIString("<span>");for(let Lt=0;Lt<Z;Lt++){Lt!==0&&Lt%16384===0&&b.appendASCIIString("</span><span>"),De[Lt]=he,Oe[Lt]=ne;const _t=Ke;Ke=Lt+1<Z?Ct.charCodeAt(Lt+1):0;let Ft=1,Zt=1;switch(_t){case 9:Ft=n-ne%n,Zt=Ft;for(let Xt=1;Xt<=Ft;Xt++)Xt<Ft?b.write1(160):b.appendASCII(32);break;case 32:Ke===32?b.write1(160):b.appendASCII(32);break;case 60:b.appendASCIIString("&lt;");break;case 62:b.appendASCIIString("&gt;");break;case 38:b.appendASCIIString("&amp;");break;case 0:b.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:b.write1(65533);break;default:$e.K7(_t)&&Zt++,_t<32?b.write1(9216+_t):b.write1(_t)}he+=Ft,ne+=Zt}return b.appendASCIIString("</span>"),De[Ct.length]=he,Oe[Ct.length]=ne,b.appendASCIIString("</div>"),[De,Oe]}function Wn(Ct,e,n,l){if(n.length<=1)return null;const b=Array.prototype.slice.call(e.children,0),k=[];try{hs(Ct,b,l,0,null,n.length-1,null,k)}catch(Z){return console.log(Z),null}return k.length===0?null:(k.push(n.length),k)}function hs(Ct,e,n,l,b,k,Z,ne){if(l===k||(b=b||vs(Ct,e,n[l],n[l+1]),Z=Z||vs(Ct,e,n[k],n[k+1]),Math.abs(b[0].top-Z[0].top)<=.1))return;if(l+1===k){ne.push(k);return}const he=l+(k-l)/2|0,De=vs(Ct,e,n[he],n[he+1]);hs(Ct,e,n,l,b,he,De,ne),hs(Ct,e,n,he,De,k,Z,ne)}function vs(Ct,e,n,l){return Ct.setStart(e[n/16384|0].firstChild,n%16384),Ct.setEnd(e[l/16384|0].firstChild,l%16384),Ct.getClientRects()}var qs=c(5795),go=function(Ct,e,n,l){var b=arguments.length,k=b<3?e:l===null?l=Object.getOwnPropertyDescriptor(e,n):l,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Ct,e,n,l);else for(var ne=Ct.length-1;ne>=0;ne--)(Z=Ct[ne])&&(k=(b<3?Z(k):b>3?Z(e,n,k):Z(e,n))||k);return b>3&&k&&Object.defineProperty(e,n,k),k},Po=function(Ct,e){return function(n,l){e(n,l,Ct)}};let tr=0;class $o{constructor(e,n,l,b,k){this.model=e,this.viewModel=n,this.view=l,this.hasRealView=b,this.listenersToRemove=k}dispose(){(0,T.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Do=class xl extends T.JT{constructor(e,n,l,b,k,Z,ne,he,De,Oe){super(),this._onDidDispose=this._register(new s.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new s.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new s.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new s.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new s.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new s.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new s.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new s.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new s.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new s.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new s.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new s.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new hr),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new hr),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new s.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new s.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new s.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new s.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new s.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new s.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new s.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new s.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new s.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new s.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new s.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new s.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new s.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new s.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new s.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new s.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new s.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const Ke=Object.assign({},n);this._domElement=e,this._overflowWidgetsDomNode=Ke.overflowWidgetsDomNode,delete Ke.overflowWidgetsDomNode,this._id=++tr,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=l.isSimpleWidget||!1,this._telemetryData=l.telemetryData,this._configuration=this._register(this._createConfiguration(Ke,Oe)),this._register(this._configuration.onDidChange(_t=>{this._onDidChangeConfiguration.fire(_t);const Ft=this._configuration.options;if(_t.hasChanged(129)){const Zt=Ft.get(129);this._onDidLayoutChange.fire(Zt)}})),this._contextKeyService=this._register(ne.createScoped(this._domElement)),this._notificationService=De,this._codeEditorService=k,this._commandService=Z,this._themeService=he,this._register(new ir(this,this._contextKeyService)),this._register(new or(this,this._contextKeyService)),this._instantiationService=b.createChild(new jo.y([Ho.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Fo(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Lt;Array.isArray(l.contributions)?Lt=l.contributions:Lt=O.Uc.getEditorContributions();for(const _t of Lt){if(this._contributions[_t.id]){(0,W.dL)(new Error(`Cannot have two contributions with the same id ${_t.id}`));continue}try{const Ft=this._instantiationService.createInstance(_t.ctor,this);this._contributions[_t.id]=Ft}catch(Ft){(0,W.dL)(Ft)}}O.Uc.getEditorActions().forEach(_t=>{if(this._actions[_t.id]){(0,W.dL)(new Error(`Cannot have two actions with the same id ${_t.id}`));return}const Ft=new Fs.p(_t.id,_t.label,_t.alias,(0,xs.f6)(_t.precondition),()=>this._instantiationService.invokeFunction(Zt=>Promise.resolve(_t.runEditorCommand(Zt,this,null))),this._contextKeyService);this._actions[Ft.id]=Ft}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,n){return new E.V(this.isSimpleWidget,e,this._domElement,n)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return js.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let n=0,l=e.length;n<l;n++){const b=e[n];this._contributions[b].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?qs.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const n=!!(e&&e.preserveBOM);let l=0;return e&&e.lineEnding&&e.lineEnding===`
`?l=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(l=2),this._modelData.model.getValue(l,n)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const n=e;if(this._modelData===null&&n===null||this._modelData&&this._modelData.model===n)return;const l=this.hasTextFocus(),b=this._detachModel();this._attachModel(n),l&&this.hasModel()&&this.focus();const k={oldModelUrl:b?b.uri:null,newModelUrl:n?n.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(k),this._postDetachModelCleanup(b)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const n=this._decorationTypeSubtypes[e];for(let l in n)this._removeDecorationType(e+"-"+l)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,n,l){const b=e.model.validatePosition({lineNumber:n,column:l}),k=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(b);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber)}getTopForLineNumber(e){return this._modelData?xl._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,n){return this._modelData?xl._getVerticalOffsetForPosition(this._modelData,e,n):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(n=>Pe.e.lift(n)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const n=this._modelData.model.validatePosition(e),l=this._modelData.model.getOptions().tabSize;return ye.io.visibleColumnFromColumn(this._modelData.model.getLineContent(n.lineNumber),n.column,l)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Ie.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,n,l,b){if(!this._modelData)return;if(!Pe.e.isIRange(e))throw new Error("Invalid arguments");const k=this._modelData.model.validateRange(e),Z=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(k);this._modelData.viewModel.revealRange("api",l,Z,n,b)}revealLine(e,n=0){this._revealLine(e,0,n)}revealLineInCenter(e,n=0){this._revealLine(e,1,n)}revealLineInCenterIfOutsideViewport(e,n=0){this._revealLine(e,2,n)}revealLineNearTop(e,n=0){this._revealLine(e,5,n)}_revealLine(e,n,l){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e,1,e,1),n,!1,l)}revealPosition(e,n=0){this._revealPosition(e,0,!0,n)}revealPositionInCenter(e,n=0){this._revealPosition(e,1,!0,n)}revealPositionInCenterIfOutsideViewport(e,n=0){this._revealPosition(e,2,!0,n)}revealPositionNearTop(e,n=0){this._revealPosition(e,5,!0,n)}_revealPosition(e,n,l,b){if(!Ie.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e.lineNumber,e.column,e.lineNumber,e.column),n,l,b)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const n=N.Y.isISelection(e),l=Pe.e.isIRange(e);if(!n&&!l)throw new Error("Invalid arguments");if(n)this._setSelectionImpl(e);else if(l){const b={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(b)}}_setSelectionImpl(e){if(!this._modelData)return;const n=new N.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[n])}revealLines(e,n,l=0){this._revealLines(e,n,0,l)}revealLinesInCenter(e,n,l=0){this._revealLines(e,n,1,l)}revealLinesInCenterIfOutsideViewport(e,n,l=0){this._revealLines(e,n,2,l)}revealLinesNearTop(e,n,l=0){this._revealLines(e,n,5,l)}_revealLines(e,n,l,b){if(typeof e!="number"||typeof n!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e,1,n,1),l,!1,b)}revealRange(e,n=0,l=!1,b=!0){this._revealRange(e,l?1:0,b,n)}revealRangeInCenter(e,n=0){this._revealRange(e,1,!0,n)}revealRangeInCenterIfOutsideViewport(e,n=0){this._revealRange(e,2,!0,n)}revealRangeNearTop(e,n=0){this._revealRange(e,5,!0,n)}revealRangeNearTopIfOutsideViewport(e,n=0){this._revealRange(e,6,!0,n)}revealRangeAtTop(e,n=0){this._revealRange(e,3,!0,n)}_revealRange(e,n,l,b){if(!Pe.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Pe.e.lift(e),n,l,b)}setSelections(e,n="api",l=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let b=0,k=e.length;b<k;b++)if(!N.Y.isISelection(e[b]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(n,e,l)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,n=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},n)}}setScrollTop(e,n=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},n)}}setScrollPosition(e,n=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,n)}saveViewState(){if(!this._modelData)return null;const e={},n=Object.keys(this._contributions);for(const k of n){const Z=this._contributions[k];typeof Z.saveViewState=="function"&&(e[k]=Z.saveViewState())}const l=this._modelData.viewModel.saveCursorState(),b=this._modelData.viewModel.saveState();return{cursorState:l,viewState:b,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const n=e;if(n&&n.cursorState&&n.viewState){const l=n.cursorState;Array.isArray(l)?this._modelData.viewModel.restoreCursorState(l):this._modelData.viewModel.restoreCursorState([l]);const b=n.contributionsState||{},k=Object.keys(this._contributions);for(let ne=0,he=k.length;ne<he;ne++){const De=k[ne],Oe=this._contributions[De];typeof Oe.restoreViewState=="function"&&Oe.restoreViewState(b[De])}const Z=this._modelData.viewModel.reduceRestoreState(n.viewState);this._modelData.view.restoreState(Z)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],n=Object.keys(this._actions);for(let l=0,b=n.length;l<b;l++){const k=n[l];e.push(this._actions[k])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(n=>n.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,n,l){switch(l=l||{},n){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const k=l;this._type(e,k.text||"");return}case"replacePreviousChar":{const k=l;this._compositionType(e,k.text||"",k.replaceCharCnt||0,0,0);return}case"compositionType":{const k=l;this._compositionType(e,k.text||"",k.replacePrevCharCnt||0,k.replaceNextCharCnt||0,k.positionDelta||0);return}case"paste":{const k=l;this._paste(e,k.text||"",k.pasteOnNewLine||!1,k.multicursorText||null,k.mode||null);return}case"cut":this._cut(e);return}const b=this.getAction(n);if(b){Promise.resolve(b.run()).then(void 0,W.dL);return}this._modelData&&(this._triggerEditorCommand(e,n,l)||this._triggerCommand(n,l))}_triggerCommand(e,n){this._commandService.executeCommand(e,n)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,n){!this._modelData||n.length===0||(e==="keyboard"&&this._onWillType.fire(n),this._modelData.viewModel.type(n,e),e==="keyboard"&&this._onDidType.fire(n))}_compositionType(e,n,l,b,k){this._modelData&&this._modelData.viewModel.compositionType(n,l,b,k,e)}_paste(e,n,l,b,k){if(!this._modelData||n.length===0)return;const Z=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(n,l,b,e);const ne=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Pe.e(Z.lineNumber,Z.column,ne.lineNumber,ne.column),languageId:k})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,n,l){const b=O.Uc.getEditorCommand(n);return b?(l=l||{},l.source=e,this._instantiationService.invokeFunction(k=>{Promise.resolve(b.runEditorCommand(k,this,l)).then(void 0,W.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,n,l){if(!this._modelData||this._configuration.options.get(80))return!1;let b;return l?Array.isArray(l)?b=()=>l:b=l:b=()=>null,this._modelData.viewModel.executeEdits(e,n,b),!0}executeCommand(e,n){this._modelData&&this._modelData.viewModel.executeCommand(n,e)}executeCommands(e,n){this._modelData&&this._modelData.viewModel.executeCommands(n,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,rt.$J)(this._configuration.options)):null}deltaDecorations(e,n){return this._modelData?e.length===0&&n.length===0?e:this._modelData.model.deltaDecorations(e,n,this._id):[]}removeDecorations(e){const n=this._decorationTypeKeysToIds[e];n&&this.deltaDecorations(n,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const n={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=n,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(n)}layoutContentWidget(e){const n=e.getId();if(this._contentWidgets.hasOwnProperty(n)){const l=this._contentWidgets[n];l.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(l)}}removeContentWidget(e){const n=e.getId();if(this._contentWidgets.hasOwnProperty(n)){const l=this._contentWidgets[n];delete this._contentWidgets[n],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(l)}}addOverlayWidget(e){const n={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=n,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(n)}layoutOverlayWidget(e){const n=e.getId();if(this._overlayWidgets.hasOwnProperty(n)){const l=this._overlayWidgets[n];l.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(l)}}removeOverlayWidget(e){const n=e.getId();if(this._overlayWidgets.hasOwnProperty(n)){const l=this._overlayWidgets[n];delete this._overlayWidgets[n],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(l)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,n){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,n)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const n=this._modelData.model.validatePosition(e),l=this._configuration.options,b=l.get(129),k=xl._getVerticalOffsetForPosition(this._modelData,n.lineNumber,n.column)-this.getScrollTop(),Z=this._modelData.view.getOffsetForColumn(n.lineNumber,n.column)+b.glyphMarginWidth+b.lineNumbersWidth+b.decorationsWidth-this.getScrollLeft();return{top:k,left:Z,height:l.get(58)}}getOffsetForColumn(e,n){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,n)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){E.V.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e){this._modelData=null;return}const n=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const l=new Ro(this._id,this._configuration,e,Cr.create(),No.create(this._configuration.options),Z=>R.jL(Z));n.push(e.onDidChangeDecorations(Z=>this._onDidChangeModelDecorations.fire(Z))),n.push(e.onDidChangeLanguage(Z=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(Z)})),n.push(e.onDidChangeLanguageConfiguration(Z=>this._onDidChangeModelLanguageConfiguration.fire(Z))),n.push(e.onDidChangeContent(Z=>this._onDidChangeModelContent.fire(Z))),n.push(e.onDidChangeOptions(Z=>this._onDidChangeModelOptions.fire(Z))),n.push(e.onWillDispose(()=>this.setModel(null))),n.push(l.onEvent(Z=>{switch(Z.kind){case 0:this._onDidContentSizeChange.fire(Z);break;case 1:this._editorTextFocus.setValue(Z.hasFocus);break;case 2:this._onDidScrollChange.fire(Z);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{Z.reachedMaxCursorCount&&this._notificationService.warn(J.N("cursors.maximum","The number of cursors has been limited to {0}.",ds.MAX_CURSOR_COUNT));const ne=[];for(let Oe=0,Ke=Z.selections.length;Oe<Ke;Oe++)ne[Oe]=Z.selections[Oe].getPosition();const he={position:ne[0],secondaryPositions:ne.slice(1),reason:Z.reason,source:Z.source};this._onDidChangeCursorPosition.fire(he);const De={selection:Z.selections[0],secondarySelections:Z.selections.slice(1),modelVersionId:Z.modelVersionId,oldSelections:Z.oldSelections,oldModelVersionId:Z.oldModelVersionId,source:Z.source,reason:Z.reason};this._onDidChangeCursorSelection.fire(De);break}}}));const[b,k]=this._createView(l);if(k){this._domElement.appendChild(b.domNode.domNode);let Z=Object.keys(this._contentWidgets);for(let ne=0,he=Z.length;ne<he;ne++){const De=Z[ne];b.addContentWidget(this._contentWidgets[De])}Z=Object.keys(this._overlayWidgets);for(let ne=0,he=Z.length;ne<he;ne++){const De=Z[ne];b.addOverlayWidget(this._overlayWidgets[De])}b.render(!1,!0),b.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new $o(e,l,b,k,n)}_createView(e){let n;this.isSimpleWidget?n={paste:(k,Z,ne,he)=>{this._paste("keyboard",k,Z,ne,he)},type:k=>{this._type("keyboard",k)},compositionType:(k,Z,ne,he)=>{this._compositionType("keyboard",k,Z,ne,he)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:n={paste:(k,Z,ne,he)=>{const De={text:k,pasteOnNewLine:Z,multicursorText:ne,mode:he};this._commandService.executeCommand("paste",De)},type:k=>{const Z={text:k};this._commandService.executeCommand("type",Z)},compositionType:(k,Z,ne,he)=>{if(ne||he){const De={text:k,replacePrevCharCnt:Z,replaceNextCharCnt:ne,positionDelta:he};this._commandService.executeCommand("compositionType",De)}else{const De={text:k,replaceCharCnt:Z};this._commandService.executeCommand("replacePreviousChar",De)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const l=new gn(e.coordinatesConverter);return l.onKeyDown=k=>this._onKeyDown.fire(k),l.onKeyUp=k=>this._onKeyUp.fire(k),l.onContextMenu=k=>this._onContextMenu.fire(k),l.onMouseMove=k=>this._onMouseMove.fire(k),l.onMouseLeave=k=>this._onMouseLeave.fire(k),l.onMouseDown=k=>this._onMouseDown.fire(k),l.onMouseUp=k=>this._onMouseUp.fire(k),l.onMouseDrag=k=>this._onMouseDrag.fire(k),l.onMouseDrop=k=>this._onMouseDrop.fire(k),l.onMouseDropCanceled=k=>this._onMouseDropCanceled.fire(k),l.onMouseWheel=k=>this._onMouseWheel.fire(k),[new M(n,this._configuration,this._themeService,e,l,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,n=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),n&&this._domElement.contains(n)&&this._domElement.removeChild(n),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};Do=go([Po(3,Ko.TG),Po(4,H.$),Po(5,yo.H),Po(6,Ho.i6),Po(7,wt.XE),Po(8,qo.lT),Po(9,Go.F)],Do);class hr extends T.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new s.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new s.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const n=e?2:1;this._value!==n&&(this._value=n,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class ir extends T.JT{constructor(e,n){super(),this._editor=e,n.createKey("editorId",e.getId()),this._editorSimpleInput=yn.u.editorSimpleInput.bindTo(n),this._editorFocus=yn.u.focus.bindTo(n),this._textInputFocus=yn.u.textInputFocus.bindTo(n),this._editorTextFocus=yn.u.editorTextFocus.bindTo(n),this._editorTabMovesFocus=yn.u.tabMovesFocus.bindTo(n),this._editorReadonly=yn.u.readOnly.bindTo(n),this._inDiffEditor=yn.u.inDiffEditor.bindTo(n),this._editorColumnSelection=yn.u.columnSelection.bindTo(n),this._hasMultipleSelections=yn.u.hasMultipleSelections.bindTo(n),this._hasNonEmptySelection=yn.u.hasNonEmptySelection.bindTo(n),this._canUndo=yn.u.canUndo.bindTo(n),this._canRedo=yn.u.canRedo.bindTo(n),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(n=>!n.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class or extends T.JT{constructor(e,n){super(),this._editor=e,this._contextKeyService=n,this._langId=yn.u.languageId.bindTo(n),this._hasCompletionItemProvider=yn.u.hasCompletionItemProvider.bindTo(n),this._hasCodeActionsProvider=yn.u.hasCodeActionsProvider.bindTo(n),this._hasCodeLensProvider=yn.u.hasCodeLensProvider.bindTo(n),this._hasDefinitionProvider=yn.u.hasDefinitionProvider.bindTo(n),this._hasDeclarationProvider=yn.u.hasDeclarationProvider.bindTo(n),this._hasImplementationProvider=yn.u.hasImplementationProvider.bindTo(n),this._hasTypeDefinitionProvider=yn.u.hasTypeDefinitionProvider.bindTo(n),this._hasHoverProvider=yn.u.hasHoverProvider.bindTo(n),this._hasDocumentHighlightProvider=yn.u.hasDocumentHighlightProvider.bindTo(n),this._hasDocumentSymbolProvider=yn.u.hasDocumentSymbolProvider.bindTo(n),this._hasReferenceProvider=yn.u.hasReferenceProvider.bindTo(n),this._hasRenameProvider=yn.u.hasRenameProvider.bindTo(n),this._hasSignatureHelpProvider=yn.u.hasSignatureHelpProvider.bindTo(n),this._hasInlayHintsProvider=yn.u.hasInlayHintsProvider.bindTo(n),this._hasDocumentFormattingProvider=yn.u.hasDocumentFormattingProvider.bindTo(n),this._hasDocumentSelectionFormattingProvider=yn.u.hasDocumentSelectionFormattingProvider.bindTo(n),this._hasMultipleDocumentFormattingProvider=yn.u.hasMultipleDocumentFormattingProvider.bindTo(n),this._hasMultipleDocumentSelectionFormattingProvider=yn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(n),this._isInWalkThrough=yn.u.isInWalkThroughSnippet.bindTo(n);const l=()=>this._update();this._register(e.onDidChangeModel(l)),this._register(e.onDidChangeModelLanguage(l)),this._register(ei.KZ.onDidChange(l)),this._register(ei.H9.onDidChange(l)),this._register(ei.He.onDidChange(l)),this._register(ei.Ct.onDidChange(l)),this._register(ei.RN.onDidChange(l)),this._register(ei.vI.onDidChange(l)),this._register(ei.tA.onDidChange(l)),this._register(ei.xp.onDidChange(l)),this._register(ei.vH.onDidChange(l)),this._register(ei.vJ.onDidChange(l)),this._register(ei.FL.onDidChange(l)),this._register(ei.G0.onDidChange(l)),this._register(ei.Az.onDidChange(l)),this._register(ei.vN.onDidChange(l)),this._register(ei.nD.onDidChange(l)),this._register(ei.mX.onDidChange(l)),l()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(ei.KZ.has(e)),this._hasCodeActionsProvider.set(ei.H9.has(e)),this._hasCodeLensProvider.set(ei.He.has(e)),this._hasDefinitionProvider.set(ei.Ct.has(e)),this._hasDeclarationProvider.set(ei.RN.has(e)),this._hasImplementationProvider.set(ei.vI.has(e)),this._hasTypeDefinitionProvider.set(ei.tA.has(e)),this._hasHoverProvider.set(ei.xp.has(e)),this._hasDocumentHighlightProvider.set(ei.vH.has(e)),this._hasDocumentSymbolProvider.set(ei.vJ.has(e)),this._hasReferenceProvider.set(ei.FL.has(e)),this._hasRenameProvider.set(ei.G0.has(e)),this._hasSignatureHelpProvider.set(ei.nD.has(e)),this._hasInlayHintsProvider.set(ei.mX.has(e)),this._hasDocumentFormattingProvider.set(ei.Az.has(e)||ei.vN.has(e)),this._hasDocumentSelectionFormattingProvider.set(ei.vN.has(e)),this._hasMultipleDocumentFormattingProvider.set(ei.Az.all(e).length+ei.vN.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(ei.vN.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===g.lg.walkThroughSnippet)})}}class Fo extends T.JT{constructor(e){super(),this._onChange=this._register(new s.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(R.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Yo=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),rr=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Wr(Ct){return Yo+encodeURIComponent(Ct.toString())+rr}const Vr=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),yr=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Qo(Ct){return Vr+encodeURIComponent(Ct.toString())+yr}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(jn.b6);n&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${n}; }`);const l=Ct.getColor(jn.lX);l&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Wr(l)}") repeat-x bottom left; }`);const b=Ct.getColor(jn.A2);b&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${b}; }`);const k=Ct.getColor(jn.pW);k&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${k}; }`);const Z=Ct.getColor(jn.uo);Z&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Wr(Z)}") repeat-x bottom left; }`);const ne=Ct.getColor(jn.gp);ne&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ne}; }`);const he=Ct.getColor(jn.T8);he&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${he}; }`);const De=Ct.getColor(jn.c6);De&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Wr(De)}") repeat-x bottom left; }`);const Oe=Ct.getColor(jn.fe);Oe&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Oe}; }`);const Ke=Ct.getColor(jn.fE);Ke&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Ke}; }`);const Lt=Ct.getColor(jn.Du);Lt&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Qo(Lt)}") no-repeat bottom left; }`);const _t=Ct.getColor(Xi.zu);_t&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${_t.rgba.a}; }`);const Ft=Ct.getColor(Xi.kp);Ft&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Ft}; }`);const Zt=Ct.getColor(jn.NO)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Zt}}`)})},84527:function(ti,Ge,c){"use strict";c.d(Ge,{H:function(){return E}});var D=c(36248),O=c(11640),Q=c(53418),P=c(94565),L=c(38819),J=c(72065),R=c(48894),W=c(97781),s=c(31106),T=function(H,r,N,C){var x=arguments.length,f=x<3?r:C===null?C=Object.getOwnPropertyDescriptor(r,N):C,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(H,r,N,C);else for(var S=H.length-1;S>=0;S--)(_=H[S])&&(f=(x<3?_(f):x>3?_(r,N,f):_(r,N))||f);return x>3&&f&&Object.defineProperty(r,N,f),f},g=function(H,r){return function(N,C){r(N,C,H)}};let E=class extends Q.Gm{constructor(r,N,C,x,f,_,S,h,y,v){super(r,Object.assign(Object.assign({},C.getRawOptions()),{overflowWidgetsDomNode:C.getOverflowWidgetsDomNode()}),{},x,f,_,S,h,y,v),this._parentEditor=C,this._overwriteOptions=N,super.updateOptions(this._overwriteOptions),this._register(C.onDidChangeConfiguration(B=>this._onParentConfigurationChanged(B)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){D.jB(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};E=T([g(3,J.TG),g(4,O.$),g(5,P.H),g(6,L.i6),g(7,W.XE),g(8,R.lT),g(9,s.F)],E)},61329:function(ti,Ge,c){"use strict";c.d(Ge,{Sj:function(){return P},T4:function(){return O},Uo:function(){return L},hP:function(){return J}});var D=c(3860);class O{constructor(W,s,T=!1){this._range=W,this._text=s,this.insertsAutoWhitespace=T}getEditOperations(W,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(W,s){let g=s.getInverseEditOperations()[0].range;return new D.Y(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn)}}class Q{constructor(W,s){this._range=W,this._text=s}getEditOperations(W,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(W,s){const g=s.getInverseEditOperations()[0].range;return new Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn)}}class P{constructor(W,s,T=!1){this._range=W,this._text=s,this.insertsAutoWhitespace=T}getEditOperations(W,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(W,s){let g=s.getInverseEditOperations()[0].range;return new D.Y(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn)}}class L{constructor(W,s,T,g,E=!1){this._range=W,this._text=s,this._columnDeltaOffset=g,this._lineNumberDeltaOffset=T,this.insertsAutoWhitespace=E}getEditOperations(W,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(W,s){let g=s.getInverseEditOperations()[0].range;return new D.Y(g.endLineNumber+this._lineNumberDeltaOffset,g.endColumn+this._columnDeltaOffset,g.endLineNumber+this._lineNumberDeltaOffset,g.endColumn+this._columnDeltaOffset)}}class J{constructor(W,s,T,g=!1){this._range=W,this._text=s,this._initialSelection=T,this._forceMoveMarkers=g,this._selectionId=null}getEditOperations(W,s){s.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=s.trackSelection(this._initialSelection)}computeCursorState(W,s){return s.getTrackedSelection(this._selectionId)}}},56345:function(ti,Ge,c){"use strict";c.d(Ge,{Pe:function(){return ce},ei:function(){return te},fv:function(){return _}});var D=c(63580),O=c(4669),Q=c(5976),P=c(36248),L=c(9488),J=c(64141),R=c(82334),W=c(27374),s=c(23193),T=c(89872),g=c(6626);const E=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new O.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(_e){this._tabFocus!==_e&&(this._tabFocus=_e,this._onDidChangeTabFocus.fire(this._tabFocus))}},H=Object.hasOwnProperty;class r{constructor(){this._values=[]}_read(Ce){return this._values[Ce]}get(Ce){return this._values[Ce]}_write(Ce,Ee){this._values[Ce]=Ee}}class N{constructor(){this._values=[]}_read(Ce){return this._values[Ce]}_write(Ce,Ee){this._values[Ce]=Ee}}class C{static readOptions(Ce){const Ee=Ce,le=new N;for(const Y of J.Bc){const $=Y.name==="_never_"?void 0:Ee[Y.name];le._write(Y.id,$)}return le}static validateOptions(Ce){const Ee=new J.hu;for(const le of J.Bc)Ee._write(le.id,le.validate(Ce._read(le.id)));return Ee}static computeOptions(Ce,Ee){const le=new r;for(const Y of J.Bc)le._write(Y.id,Y.compute(Ee,le,Ce._read(Y.id)));return le}static _deepEquals(Ce,Ee){if(typeof Ce!="object"||typeof Ee!="object")return Ce===Ee;if(Array.isArray(Ce)||Array.isArray(Ee))return Array.isArray(Ce)&&Array.isArray(Ee)?L.fS(Ce,Ee):!1;for(let le in Ce)if(!C._deepEquals(Ce[le],Ee[le]))return!1;return!0}static checkEquals(Ce,Ee){const le=[];let Y=!1;for(const $ of J.Bc){const G=!C._deepEquals(Ce._read($.id),Ee._read($.id));le[$.id]=G,G&&(Y=!0)}return Y?new J.Bb(le):null}}function x(_e){const Ce=_e.wordWrap;Ce===!0?_e.wordWrap="on":Ce===!1&&(_e.wordWrap="off");const Ee=_e.lineNumbers;Ee===!0?_e.lineNumbers="on":Ee===!1&&(_e.lineNumbers="off"),_e.autoClosingBrackets===!1&&(_e.autoClosingBrackets="never",_e.autoClosingQuotes="never",_e.autoSurround="never"),_e.cursorBlinking==="visible"&&(_e.cursorBlinking="solid");const $=_e.renderWhitespace;$===!0?_e.renderWhitespace="boundary":$===!1&&(_e.renderWhitespace="none");const G=_e.renderLineHighlight;G===!0?_e.renderLineHighlight="line":G===!1&&(_e.renderLineHighlight="none");const ee=_e.acceptSuggestionOnEnter;ee===!0?_e.acceptSuggestionOnEnter="on":ee===!1&&(_e.acceptSuggestionOnEnter="off");const m=_e.tabCompletion;m===!1?_e.tabCompletion="off":m===!0&&(_e.tabCompletion="onlySnippets");const w=_e.suggest;if(w&&typeof w.filteredTypes=="object"&&w.filteredTypes){const rt={};rt.method="showMethods",rt.function="showFunctions",rt.constructor="showConstructors",rt.deprecated="showDeprecated",rt.field="showFields",rt.variable="showVariables",rt.class="showClasses",rt.struct="showStructs",rt.interface="showInterfaces",rt.module="showModules",rt.property="showProperties",rt.event="showEvents",rt.operator="showOperators",rt.unit="showUnits",rt.value="showValues",rt.constant="showConstants",rt.enum="showEnums",rt.enumMember="showEnumMembers",rt.keyword="showKeywords",rt.text="showWords",rt.color="showColors",rt.file="showFiles",rt.reference="showReferences",rt.folder="showFolders",rt.typeParameter="showTypeParameters",rt.snippet="showSnippets",(0,g.E)(rt,Rt=>{const mt=w.filteredTypes[Rt.key];mt===!1&&(w[Rt.value]=mt)})}const F=_e.hover;F===!0?_e.hover={enabled:!0}:F===!1&&(_e.hover={enabled:!1});const ie=_e.parameterHints;ie===!0?_e.parameterHints={enabled:!0}:ie===!1&&(_e.parameterHints={enabled:!1});const pe=_e.autoIndent;pe===!0?_e.autoIndent="full":pe===!1&&(_e.autoIndent="advanced");const ue=_e.matchBrackets;ue===!0?_e.matchBrackets="always":ue===!1&&(_e.matchBrackets="never");const{renderIndentGuides:ke,highlightActiveIndentGuide:Te}=_e;_e.guides||(_e.guides={}),ke!==void 0&&(_e.guides.indentation=!!ke),Te!==void 0&&(_e.guides.highlightActiveIndentation=!!Te)}function f(_e){const Ce=P.I8(_e);return x(Ce),Ce}class _ extends Q.JT{constructor(Ce,Ee){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new O.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=Ce,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new J.LJ,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=f(Ee),this._readOptions=C.readOptions(this._rawOptions),this._validatedOptions=C.validateOptions(this._readOptions),this._register(R.C.onDidChangeZoomLevel(le=>this._recomputeOptions())),this._register(E.onDidChangeTabFocus(le=>this._recomputeOptions()))}observeReferenceElement(Ce){}updatePixelRatio(){}_recomputeOptions(){const Ce=this.options,Ee=this._computeInternalOptions();if(!Ce)this.options=Ee;else{const le=C.checkEquals(Ce,Ee);if(le===null)return;this.options=Ee,this._onDidChangeFast.fire(le),this._onDidChange.fire(le)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const Ce=this._getEnvConfiguration(),Ee=W.E4.createFromValidatedSettings(this._validatedOptions,Ce.zoomLevel,Ce.pixelRatio,this.isSimpleWidget),le={memory:this._computeOptionsMemory,outerWidth:Ce.outerWidth,outerHeight:Ce.outerHeight,fontInfo:this.readConfiguration(Ee),extraEditorClassName:Ce.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:Ce.emptySelectionClipboard,pixelRatio:Ce.pixelRatio,tabFocusMode:E.getTabFocusMode(),accessibilitySupport:Ce.accessibilitySupport};return C.computeOptions(this._validatedOptions,le)}static _subsetEquals(Ce,Ee){for(const le in Ee)if(H.call(Ee,le)){const Y=Ee[le],$=Ce[le];if($===Y)continue;if(Array.isArray($)&&Array.isArray(Y)){if(!L.fS($,Y))return!1;continue}if($&&typeof $=="object"&&Y&&typeof Y=="object"){if(!this._subsetEquals($,Y))return!1;continue}return!1}return!0}updateOptions(Ce){if(typeof Ce=="undefined")return;const Ee=f(Ce);_._subsetEquals(this._rawOptions,Ee)||(this._rawOptions=P.jB(this._rawOptions,Ee||{}),this._readOptions=C.readOptions(this._rawOptions),this._validatedOptions=C.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(Ce){this._isDominatedByLongLines=Ce,this._recomputeOptions()}setMaxLineNumber(Ce){const Ee=_._digitCount(Ce);this._lineNumbersDigitCount!==Ee&&(this._lineNumbersDigitCount=Ee,this._recomputeOptions())}setViewLineCount(Ce){this._viewLineCount!==Ce&&(this._viewLineCount=Ce,this._recomputeOptions())}static _digitCount(Ce){let Ee=0;for(;Ce;)Ce=Math.floor(Ce/10),Ee++;return Ee||1}}const S=Object.freeze({id:"editor",order:5,type:"object",title:D.N("editorConfigurationTitle","Editor"),scope:5}),h=T.B.as(s.IP.Configuration),y=Object.assign(Object.assign({},S),{properties:{"editor.tabSize":{type:"number",default:J.DB.tabSize,minimum:1,markdownDescription:D.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:J.DB.insertSpaces,markdownDescription:D.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:J.DB.detectIndentation,markdownDescription:D.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:J.DB.trimAutoWhitespace,description:D.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:J.DB.largeFileOptimizations,description:D.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:D.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),D.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),D.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:D.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),D.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),D.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:D.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:D.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:D.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:D.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:D.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:D.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:D.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:D.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:D.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:D.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:D.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:D.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:D.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[D.N("wordWrap.off","Lines will never wrap."),D.N("wordWrap.on","Lines will wrap at the viewport width."),D.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function v(_e){return typeof _e.type!="undefined"||typeof _e.anyOf!="undefined"}for(const _e of J.Bc){const Ce=_e.schema;if(typeof Ce!="undefined")if(v(Ce))y.properties[`editor.${_e.name}`]=Ce;else for(let Ee in Ce)H.call(Ce,Ee)&&(y.properties[Ee]=Ce[Ee])}let B=null;function j(){return B===null&&(B=Object.create(null),Object.keys(y.properties).forEach(_e=>{B[_e]=!0})),B}function te(_e){return j()[`editor.${_e}`]||!1}function ce(_e){return j()[`diffEditor.${_e}`]||!1}h.registerConfiguration(y)},64141:function(ti,Ge,c){"use strict";c.d(Ge,{$J:function(){return mt},BH:function(){return Qi},Bb:function(){return L},Bc:function(){return ii},DB:function(){return Ci},LJ:function(){return R},NY:function(){return x},O7:function(){return g},Zc:function(){return H},d2:function(){return B},gk:function(){return ee},hL:function(){return qt},hu:function(){return J},n0:function(){return Ce},y0:function(){return P}});var D=c(63580),O=c(1432),Q=c(97461);const P=8;class L{constructor(je){this._values=je}hasChanged(je){return this._values[je]}}class J{constructor(){this._values=[]}_read(je){return this._values[je]}get(je){return this._values[je]}_write(je,at){this._values[je]=at}}class R{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class W{constructor(je,at,Ni,fi){this.id=je,this.name=at,this.defaultValue=Ni,this.schema=fi}compute(je,at,Ni){return Ni}}class s{constructor(je,at=null){this.schema=void 0,this.id=je,this.name="_never_",this.defaultValue=void 0,this.deps=at}validate(je){return this.defaultValue}}class T{constructor(je,at,Ni,fi){this.id=je,this.name=at,this.defaultValue=Ni,this.schema=fi}validate(je){return typeof je=="undefined"?this.defaultValue:je}compute(je,at,Ni){return Ni}}function g(ci,je){return typeof ci=="undefined"?je:ci==="false"?!1:!!ci}class E extends T{constructor(je,at,Ni,fi=void 0){typeof fi!="undefined"&&(fi.type="boolean",fi.default=Ni),super(je,at,Ni,fi)}validate(je){return g(je,this.defaultValue)}}function H(ci,je,at,Ni){if(typeof ci=="undefined")return je;let fi=parseInt(ci,10);return isNaN(fi)?je:(fi=Math.max(at,fi),fi=Math.min(Ni,fi),fi|0)}class r extends T{constructor(je,at,Ni,fi,Wi,Rn=void 0){typeof Rn!="undefined"&&(Rn.type="integer",Rn.default=Ni,Rn.minimum=fi,Rn.maximum=Wi),super(je,at,Ni,Rn),this.minimum=fi,this.maximum=Wi}static clampedInt(je,at,Ni,fi){return H(je,at,Ni,fi)}validate(je){return r.clampedInt(je,this.defaultValue,this.minimum,this.maximum)}}class N extends T{constructor(je,at,Ni,fi,Wi){typeof Wi!="undefined"&&(Wi.type="number",Wi.default=Ni),super(je,at,Ni,Wi),this.validationFn=fi}static clamp(je,at,Ni){return je<at?at:je>Ni?Ni:je}static float(je,at){if(typeof je=="number")return je;if(typeof je=="undefined")return at;const Ni=parseFloat(je);return isNaN(Ni)?at:Ni}validate(je){return this.validationFn(N.float(je,this.defaultValue))}}class C extends T{static string(je,at){return typeof je!="string"?at:je}constructor(je,at,Ni,fi=void 0){typeof fi!="undefined"&&(fi.type="string",fi.default=Ni),super(je,at,Ni,fi)}validate(je){return C.string(je,this.defaultValue)}}function x(ci,je,at){return typeof ci!="string"||at.indexOf(ci)===-1?je:ci}class f extends T{constructor(je,at,Ni,fi,Wi=void 0){typeof Wi!="undefined"&&(Wi.type="string",Wi.enum=fi,Wi.default=Ni),super(je,at,Ni,Wi),this._allowedValues=fi}validate(je){return x(je,this.defaultValue,this._allowedValues)}}class _ extends W{constructor(je,at,Ni,fi,Wi,Rn,zi=void 0){typeof zi!="undefined"&&(zi.type="string",zi.enum=Wi,zi.default=fi),super(je,at,Ni,zi),this._allowedValues=Wi,this._convert=Rn}validate(je){return typeof je!="string"?this.defaultValue:this._allowedValues.indexOf(je)===-1?this.defaultValue:this._convert(je)}}function S(ci){switch(ci){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class h extends W{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[D.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),D.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),D.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:D.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(je){switch(je){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(je,at,Ni){return Ni===0?je.accessibilitySupport:Ni}}class y extends W{constructor(){const je={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",je,{"editor.comments.insertSpace":{type:"boolean",default:je.insertSpace,description:D.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:je.ignoreEmptyLines,description:D.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{insertSpace:g(at.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(at.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function v(ci){switch(ci){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var B;(function(ci){ci[ci.Line=1]="Line",ci[ci.Block=2]="Block",ci[ci.Underline=3]="Underline",ci[ci.LineThin=4]="LineThin",ci[ci.BlockOutline=5]="BlockOutline",ci[ci.UnderlineThin=6]="UnderlineThin"})(B||(B={}));function j(ci){switch(ci){case"line":return B.Line;case"block":return B.Block;case"underline":return B.Underline;case"line-thin":return B.LineThin;case"block-outline":return B.BlockOutline;case"underline-thin":return B.UnderlineThin}}class te extends s{constructor(){super(126,[65,33])}compute(je,at,Ni){const fi=["monaco-editor"];return at.get(33)&&fi.push(at.get(33)),je.extraEditorClassName&&fi.push(je.extraEditorClassName),at.get(65)==="default"?fi.push("mouse-default"):at.get(65)==="copy"&&fi.push("mouse-copy"),at.get(99)&&fi.push("showUnused"),at.get(124)&&fi.push("showDeprecated"),fi.join(" ")}}class ce extends E{constructor(){super(32,"emptySelectionClipboard",!0,{description:D.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(je,at,Ni){return Ni&&je.emptySelectionClipboard}}class _e extends W{constructor(){const je={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",je,{"editor.find.cursorMoveOnType":{type:"boolean",default:je.cursorMoveOnType,description:D.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:je.seedSearchStringFromSelection,enumDescriptions:[D.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),D.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),D.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:D.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:je.autoFindInSelection,enumDescriptions:[D.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),D.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),D.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:D.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:je.globalFindClipboard,description:D.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:O.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:je.addExtraSpaceOnTop,description:D.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:je.loop,description:D.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{cursorMoveOnType:g(at.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof je.seedSearchStringFromSelection=="boolean"?je.seedSearchStringFromSelection?"always":"never":x(at.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof je.autoFindInSelection=="boolean"?je.autoFindInSelection?"always":"never":x(at.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:g(at.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(at.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(at.loop,this.defaultValue.loop)}}}class Ce extends W{constructor(){super(44,"fontLigatures",Ce.OFF,{anyOf:[{type:"boolean",description:D.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:D.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:D.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(je){return typeof je=="undefined"?this.defaultValue:typeof je=="string"?je==="false"?Ce.OFF:je==="true"?Ce.ON:je:je?Ce.ON:Ce.OFF}}Ce.OFF='"liga" off, "calt" off',Ce.ON='"liga" on, "calt" on';class Ee extends s{constructor(){super(43)}compute(je,at,Ni){return je.fontInfo}}class le extends T{constructor(){super(45,"fontSize",qt.fontSize,{type:"number",minimum:6,maximum:100,default:qt.fontSize,description:D.N("fontSize","Controls the font size in pixels.")})}validate(je){let at=N.float(je,this.defaultValue);return at===0?qt.fontSize:N.clamp(at,6,100)}compute(je,at,Ni){return je.fontInfo.fontSize}}class Y extends W{constructor(){super(46,"fontWeight",qt.fontWeight,{anyOf:[{type:"number",minimum:Y.MINIMUM_VALUE,maximum:Y.MAXIMUM_VALUE,errorMessage:D.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Y.SUGGESTION_VALUES}],default:qt.fontWeight,description:D.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(je){return je==="normal"||je==="bold"?je:String(r.clampedInt(je,qt.fontWeight,Y.MINIMUM_VALUE,Y.MAXIMUM_VALUE))}}Y.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Y.MINIMUM_VALUE=1,Y.MAXIMUM_VALUE=1e3;class $ extends W{constructor(){const je={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},at={type:"string",enum:["peek","gotoAndPeek","goto"],default:je.multiple,enumDescriptions:[D.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),D.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),D.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},Ni=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",je,{"editor.gotoLocation.multiple":{deprecationMessage:D.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:D.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},at),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:D.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},at),"editor.gotoLocation.multipleDeclarations":Object.assign({description:D.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},at),"editor.gotoLocation.multipleImplementations":Object.assign({description:D.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},at),"editor.gotoLocation.multipleReferences":Object.assign({description:D.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},at),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:je.alternativeDefinitionCommand,enum:Ni,description:D.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:je.alternativeTypeDefinitionCommand,enum:Ni,description:D.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:je.alternativeDeclarationCommand,enum:Ni,description:D.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:je.alternativeImplementationCommand,enum:Ni,description:D.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:je.alternativeReferenceCommand,enum:Ni,description:D.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(je){var at,Ni,fi,Wi,Rn;if(!je||typeof je!="object")return this.defaultValue;const zi=je;return{multiple:x(zi.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(at=zi.multipleDefinitions)!==null&&at!==void 0?at:x(zi.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ni=zi.multipleTypeDefinitions)!==null&&Ni!==void 0?Ni:x(zi.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(fi=zi.multipleDeclarations)!==null&&fi!==void 0?fi:x(zi.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Wi=zi.multipleImplementations)!==null&&Wi!==void 0?Wi:x(zi.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Rn=zi.multipleReferences)!==null&&Rn!==void 0?Rn:x(zi.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:C.string(zi.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:C.string(zi.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:C.string(zi.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:C.string(zi.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:C.string(zi.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class G extends W{constructor(){const je={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",je,{"editor.hover.enabled":{type:"boolean",default:je.enabled,description:D.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:je.delay,description:D.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:je.sticky,description:D.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:je.above,description:D.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{enabled:g(at.enabled,this.defaultValue.enabled),delay:r.clampedInt(at.delay,this.defaultValue.delay,0,1e4),sticky:g(at.sticky,this.defaultValue.sticky),above:g(at.above,this.defaultValue.above)}}}class ee extends s{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(je,at,Ni){return ee.computeLayout(at,{memory:je.memory,outerWidth:je.outerWidth,outerHeight:je.outerHeight,isDominatedByLongLines:je.isDominatedByLongLines,lineHeight:je.fontInfo.lineHeight,viewLineCount:je.viewLineCount,lineNumbersDigitCount:je.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:je.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:je.fontInfo.maxDigitWidth,pixelRatio:je.pixelRatio})}static computeContainedMinimapLineCount(je){const at=je.height/je.lineHeight,Ni=je.scrollBeyondLastLine?at-1:0,fi=(je.viewLineCount+Ni)/(je.pixelRatio*je.height),Wi=Math.floor(je.viewLineCount/fi);return{typicalViewportLineCount:at,extraLinesBeyondLastLine:Ni,desiredRatio:fi,minimapLineCount:Wi}}static _computeMinimapLayout(je,at){const Ni=je.outerWidth,fi=je.outerHeight,Wi=je.pixelRatio;if(!je.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Wi*fi),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:fi};const Rn=at.stableMinimapLayoutInput,zi=Rn&&je.outerHeight===Rn.outerHeight&&je.lineHeight===Rn.lineHeight&&je.typicalHalfwidthCharacterWidth===Rn.typicalHalfwidthCharacterWidth&&je.pixelRatio===Rn.pixelRatio&&je.scrollBeyondLastLine===Rn.scrollBeyondLastLine&&je.minimap.enabled===Rn.minimap.enabled&&je.minimap.side===Rn.minimap.side&&je.minimap.size===Rn.minimap.size&&je.minimap.showSlider===Rn.minimap.showSlider&&je.minimap.renderCharacters===Rn.minimap.renderCharacters&&je.minimap.maxColumn===Rn.minimap.maxColumn&&je.minimap.scale===Rn.minimap.scale&&je.verticalScrollbarWidth===Rn.verticalScrollbarWidth&&je.isViewportWrapping===Rn.isViewportWrapping,as=je.lineHeight,Fn=je.typicalHalfwidthCharacterWidth,An=je.scrollBeyondLastLine,$i=je.minimap.renderCharacters;let Nn=Wi>=2?Math.round(je.minimap.scale*2):je.minimap.scale;const sn=je.minimap.maxColumn,$e=je.minimap.size,It=je.minimap.side,xt=je.verticalScrollbarWidth,Qe=je.viewLineCount,tt=je.remainingWidth,Nt=je.isViewportWrapping,Tt=$i?2:3;let Yt=Math.floor(Wi*fi);const ai=Yt/Wi;let Si=!1,qi=!1,ji=Tt*Nn,Zn=Nn/Wi,Vi=1;if($e==="fill"||$e==="fit"){const{typicalViewportLineCount:pt,extraLinesBeyondLastLine:ft,desiredRatio:oi,minimapLineCount:Hi}=ee.computeContainedMinimapLineCount({viewLineCount:Qe,scrollBeyondLastLine:An,height:fi,lineHeight:as,pixelRatio:Wi});if(Qe/Hi>1)Si=!0,qi=!0,Nn=1,ji=1,Zn=Nn/Wi;else{let Ii=!1,Ui=Nn+1;if($e==="fit"){const dn=Math.ceil((Qe+ft)*ji);Nt&&zi&&tt<=at.stableFitRemainingWidth?(Ii=!0,Ui=at.stableFitMaxMinimapScale):Ii=dn>Yt}if($e==="fill"||Ii){Si=!0;const dn=Nn;ji=Math.min(as*Wi,Math.max(1,Math.floor(1/oi))),Nt&&zi&&tt<=at.stableFitRemainingWidth&&(Ui=at.stableFitMaxMinimapScale),Nn=Math.min(Ui,Math.max(1,Math.floor(ji/Tt))),Nn>dn&&(Vi=Math.min(2,Nn/dn)),Zn=Nn/Wi/Vi,Yt=Math.ceil(Math.max(pt,Qe+ft)*ji),Nt?(at.stableMinimapLayoutInput=je,at.stableFitRemainingWidth=tt,at.stableFitMaxMinimapScale=Nn):(at.stableMinimapLayoutInput=null,at.stableFitRemainingWidth=0)}}}const Xi=Math.floor(sn*Zn),wt=Math.min(Xi,Math.max(0,Math.floor((tt-xt-2)*Zn/(Fn+Zn)))+P);let ht=Math.floor(Wi*wt);const Et=ht/Wi;ht=Math.floor(ht*Vi);const He=$i?1:2,nt=It==="left"?0:Ni-wt-xt;return{renderMinimap:He,minimapLeft:nt,minimapWidth:wt,minimapHeightIsEditorHeight:Si,minimapIsSampling:qi,minimapScale:Nn,minimapLineHeight:ji,minimapCanvasInnerWidth:ht,minimapCanvasInnerHeight:Yt,minimapCanvasOuterWidth:Et,minimapCanvasOuterHeight:ai}}static computeLayout(je,at){const Ni=at.outerWidth|0,fi=at.outerHeight|0,Wi=at.lineHeight|0,Rn=at.lineNumbersDigitCount|0,zi=at.typicalHalfwidthCharacterWidth,as=at.maxDigitWidth,Fn=at.pixelRatio,An=at.viewLineCount,$i=je.get(121),Nn=$i==="inherit"?je.get(120):$i,sn=Nn==="inherit"?je.get(116):Nn,$e=je.get(119),It=je.get(2),xt=at.isDominatedByLongLines,Qe=je.get(49),tt=je.get(59).renderType!==0,Nt=je.get(60),Tt=je.get(93),Yt=je.get(64),ai=je.get(91),Si=ai.verticalScrollbarSize,qi=ai.verticalHasArrows,ji=ai.arrowSize,Zn=ai.horizontalScrollbarSize,Vi=je.get(57),Xi=je.get(37);let wt;if(typeof Vi=="string"&&/^\d+(\.\d+)?ch$/.test(Vi)){const _i=parseFloat(Vi.substr(0,Vi.length-2));wt=r.clampedInt(_i*zi,0,0,1e3)}else wt=r.clampedInt(Vi,0,0,1e3);Xi&&(wt+=16);let ht=0;if(tt){const _i=Math.max(Rn,Nt);ht=Math.round(_i*as)}let Et=0;Qe&&(Et=Wi);let He=0,nt=He+Et,pt=nt+ht,ft=pt+wt;const oi=Ni-Et-ht-wt;let Hi=!1,vi=!1,Ii=-1;It!==2&&(Nn==="inherit"&&xt?(Hi=!0,vi=!0):sn==="on"||sn==="bounded"?vi=!0:sn==="wordWrapColumn"&&(Ii=$e));const Ui=ee._computeMinimapLayout({outerWidth:Ni,outerHeight:fi,lineHeight:Wi,typicalHalfwidthCharacterWidth:zi,pixelRatio:Fn,scrollBeyondLastLine:Tt,minimap:Yt,verticalScrollbarWidth:Si,viewLineCount:An,remainingWidth:oi,isViewportWrapping:vi},at.memory||new R);Ui.renderMinimap!==0&&Ui.minimapLeft===0&&(He+=Ui.minimapWidth,nt+=Ui.minimapWidth,pt+=Ui.minimapWidth,ft+=Ui.minimapWidth);const dn=oi-Ui.minimapWidth,gn=Math.max(1,Math.floor((dn-Si-2)/zi)),Ri=qi?ji:0;return vi&&(Ii=Math.max(1,gn),sn==="bounded"&&(Ii=Math.min(Ii,$e))),{width:Ni,height:fi,glyphMarginLeft:He,glyphMarginWidth:Et,lineNumbersLeft:nt,lineNumbersWidth:ht,decorationsLeft:pt,decorationsWidth:wt,contentLeft:ft,contentWidth:dn,minimap:Ui,viewportColumn:gn,isWordWrapMinified:Hi,isViewportWrapping:vi,wrappingColumn:Ii,verticalScrollbarWidth:Si,horizontalScrollbarHeight:Zn,overviewRuler:{top:Ri,width:Si,height:fi-2*Ri,right:0}}}}class m extends W{constructor(){const je={enabled:!0};super(56,"lightbulb",je,{"editor.lightbulb.enabled":{type:"boolean",default:je.enabled,description:D.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(je){return!je||typeof je!="object"?this.defaultValue:{enabled:g(je.enabled,this.defaultValue.enabled)}}}class w extends W{constructor(){const je={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",je,{"editor.inlayHints.enabled":{type:"boolean",default:je.enabled,description:D.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:je.fontSize,markdownDescription:D.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:je.fontFamily,markdownDescription:D.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{enabled:g(at.enabled,this.defaultValue.enabled),fontSize:r.clampedInt(at.fontSize,this.defaultValue.fontSize,0,100),fontFamily:C.string(at.fontFamily,this.defaultValue.fontFamily)}}}class F extends N{constructor(){super(58,"lineHeight",qt.lineHeight,je=>N.clamp(je,0,150),{markdownDescription:D.N("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(je,at,Ni){return je.fontInfo.lineHeight}}class ie extends W{constructor(){const je={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",je,{"editor.minimap.enabled":{type:"boolean",default:je.enabled,description:D.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[D.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),D.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),D.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:je.size,description:D.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:je.side,description:D.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:je.showSlider,description:D.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:je.scale,minimum:1,maximum:3,enum:[1,2,3],description:D.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:je.renderCharacters,description:D.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:je.maxColumn,description:D.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{enabled:g(at.enabled,this.defaultValue.enabled),size:x(at.size,this.defaultValue.size,["proportional","fill","fit"]),side:x(at.side,this.defaultValue.side,["right","left"]),showSlider:x(at.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:g(at.renderCharacters,this.defaultValue.renderCharacters),scale:r.clampedInt(at.scale,1,1,3),maxColumn:r.clampedInt(at.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function pe(ci){return ci==="ctrlCmd"?O.dz?"metaKey":"ctrlKey":"altKey"}class ue extends W{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:D.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:D.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{top:r.clampedInt(at.top,0,0,1e3),bottom:r.clampedInt(at.bottom,0,0,1e3)}}}class ke extends W{constructor(){const je={enabled:!0,cycle:!1};super(75,"parameterHints",je,{"editor.parameterHints.enabled":{type:"boolean",default:je.enabled,description:D.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:je.cycle,description:D.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{enabled:g(at.enabled,this.defaultValue.enabled),cycle:g(at.cycle,this.defaultValue.cycle)}}}class Te extends s{constructor(){super(127)}compute(je,at,Ni){return je.pixelRatio}}class rt extends W{constructor(){const je={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",je,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:je.strings,description:D.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:je.comments,description:D.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:je.other,description:D.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:je,description:D.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=je}validate(je){if(typeof je=="boolean")return je;if(je&&typeof je=="object"){const at=je,Ni={other:g(at.other,this.defaultValue.other),comments:g(at.comments,this.defaultValue.comments),strings:g(at.strings,this.defaultValue.strings)};return Ni.other&&Ni.comments&&Ni.strings?!0:!Ni.other&&!Ni.comments&&!Ni.strings?!1:Ni}return this.defaultValue}}class Rt extends W{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[D.N("lineNumbers.off","Line numbers are not rendered."),D.N("lineNumbers.on","Line numbers are rendered as absolute number."),D.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),D.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:D.N("lineNumbers","Controls the display of line numbers.")})}validate(je){let at=this.defaultValue.renderType,Ni=this.defaultValue.renderFn;return typeof je!="undefined"&&(typeof je=="function"?(at=4,Ni=je):je==="interval"?at=3:je==="relative"?at=2:je==="on"?at=1:at=0),{renderType:at,renderFn:Ni}}}function mt(ci){const je=ci.get(86);return je==="editable"?ci.get(80):je!=="on"}class Mt extends W{constructor(){const je=[],at={type:"number",description:D.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",je,{type:"array",items:{anyOf:[at,{type:["object"],properties:{column:at,color:{type:"string",description:D.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:je,description:D.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(je){if(Array.isArray(je)){let at=[];for(let Ni of je)if(typeof Ni=="number")at.push({column:r.clampedInt(Ni,0,0,1e4),color:null});else if(Ni&&typeof Ni=="object"){const fi=Ni;at.push({column:r.clampedInt(fi.column,0,0,1e4),color:fi.color})}return at.sort((Ni,fi)=>Ni.column-fi.column),at}return this.defaultValue}}function it(ci,je){if(typeof ci!="string")return je;switch(ci){case"hidden":return 2;case"visible":return 3;default:return 1}}class Je extends W{constructor(){const je={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",je,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[D.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),D.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),D.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:D.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[D.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),D.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),D.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:D.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:je.verticalScrollbarSize,description:D.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:je.horizontalScrollbarSize,description:D.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:je.scrollByPage,description:D.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je,Ni=r.clampedInt(at.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),fi=r.clampedInt(at.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:r.clampedInt(at.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:it(at.vertical,this.defaultValue.vertical),horizontal:it(at.horizontal,this.defaultValue.horizontal),useShadows:g(at.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(at.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(at.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(at.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(at.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ni,horizontalSliderSize:r.clampedInt(at.horizontalSliderSize,Ni,0,1e3),verticalScrollbarSize:fi,verticalSliderSize:r.clampedInt(at.verticalSliderSize,fi,0,1e3),scrollByPage:g(at.scrollByPage,this.defaultValue.scrollByPage)}}}class Ae extends W{constructor(){const je={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",je,{"editor.inlineSuggest.enabled":{type:"boolean",default:je.enabled,description:D.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{enabled:g(at.enabled,this.defaultValue.enabled),mode:x(at.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class ge extends W{constructor(){const je={enabled:Ci.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",je,{"editor.bracketPairColorization.enabled":{type:"boolean",default:je.enabled,description:D.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(je){return!je||typeof je!="object"?this.defaultValue:{enabled:g(je.enabled,this.defaultValue.enabled)}}}class Re extends W{constructor(){const je={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",je,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[D.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),D.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),D.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:je.bracketPairs,description:D.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[D.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),D.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),D.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:je.bracketPairsHorizontal,description:D.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:je.highlightActiveBracketPair,description:D.N("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:je.indentation,description:D.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:je.highlightActiveIndentation,description:D.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{bracketPairs:ot(at.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ot(at.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:g(at.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:g(at.indentation,this.defaultValue.indentation),highlightActiveIndentation:g(at.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function ot(ci,je,at){const Ni=at.indexOf(ci);return Ni===-1?je:at[Ni]}class dt extends W{constructor(){const je={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",je,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[D.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),D.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:je.insertMode,description:D.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:je.filterGraceful,description:D.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:je.localityBonus,description:D.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:je.shareSuggestSelections,markdownDescription:D.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:je.snippetsPreventQuickSuggestions,description:D.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:je.showIcons,description:D.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:je.showStatusBar,description:D.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:je.preview,description:D.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:je.showInlineDetails,description:D.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:D.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:D.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(je){if(!je||typeof je!="object")return this.defaultValue;const at=je;return{insertMode:x(at.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:g(at.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(at.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(at.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(at.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(at.showIcons,this.defaultValue.showIcons),showStatusBar:g(at.showStatusBar,this.defaultValue.showStatusBar),preview:g(at.preview,this.defaultValue.preview),previewMode:x(at.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:g(at.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(at.showMethods,this.defaultValue.showMethods),showFunctions:g(at.showFunctions,this.defaultValue.showFunctions),showConstructors:g(at.showConstructors,this.defaultValue.showConstructors),showDeprecated:g(at.showDeprecated,this.defaultValue.showDeprecated),showFields:g(at.showFields,this.defaultValue.showFields),showVariables:g(at.showVariables,this.defaultValue.showVariables),showClasses:g(at.showClasses,this.defaultValue.showClasses),showStructs:g(at.showStructs,this.defaultValue.showStructs),showInterfaces:g(at.showInterfaces,this.defaultValue.showInterfaces),showModules:g(at.showModules,this.defaultValue.showModules),showProperties:g(at.showProperties,this.defaultValue.showProperties),showEvents:g(at.showEvents,this.defaultValue.showEvents),showOperators:g(at.showOperators,this.defaultValue.showOperators),showUnits:g(at.showUnits,this.defaultValue.showUnits),showValues:g(at.showValues,this.defaultValue.showValues),showConstants:g(at.showConstants,this.defaultValue.showConstants),showEnums:g(at.showEnums,this.defaultValue.showEnums),showEnumMembers:g(at.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(at.showKeywords,this.defaultValue.showKeywords),showWords:g(at.showWords,this.defaultValue.showWords),showColors:g(at.showColors,this.defaultValue.showColors),showFiles:g(at.showFiles,this.defaultValue.showFiles),showReferences:g(at.showReferences,this.defaultValue.showReferences),showFolders:g(at.showFolders,this.defaultValue.showFolders),showTypeParameters:g(at.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(at.showSnippets,this.defaultValue.showSnippets),showUsers:g(at.showUsers,this.defaultValue.showUsers),showIssues:g(at.showIssues,this.defaultValue.showIssues)}}}class lt extends W{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:D.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(je){return!je||typeof je!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:g(je.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ie extends s{constructor(){super(128,[80])}compute(je,at,Ni){return at.get(80)?!0:je.tabFocusMode}}function Pe(ci){switch(ci){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class ye extends s{constructor(){super(130,[129])}compute(je,at,Ni){const fi=at.get(129);return{isDominatedByLongLines:je.isDominatedByLongLines,isWordWrapMinified:fi.isWordWrapMinified,isViewportWrapping:fi.isViewportWrapping,wrappingColumn:fi.wrappingColumn}}}const Xe="Consolas, 'Courier New', monospace",st="Menlo, Monaco, 'Courier New', monospace",Pt="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",qt={fontFamily:O.dz?st:O.IJ?Pt:Xe,fontWeight:"normal",fontSize:O.dz?12:14,lineHeight:0,letterSpacing:0},Ci={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},ii=[];function At(ci){return ii[ci.id]=ci,ci}const Qi={acceptSuggestionOnCommitCharacter:At(new E(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:D.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:At(new f(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",D.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:D.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:At(new h),accessibilityPageSize:At(new r(3,"accessibilityPageSize",10,1,1073741824,{description:D.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:At(new C(4,"ariaLabel",D.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:At(new f(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",D.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),D.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:D.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:At(new f(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",D.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:D.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:At(new f(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",D.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:D.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:At(new f(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",D.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),D.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:D.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:At(new _(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],S,{enumDescriptions:[D.N("editor.autoIndent.none","The editor will not insert indentation automatically."),D.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),D.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),D.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),D.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:D.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:At(new E(10,"automaticLayout",!1)),autoSurround:At(new f(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[D.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),D.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),D.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:D.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:At(new ge),bracketPairGuides:At(new Re),stickyTabStops:At(new E(103,"stickyTabStops",!1,{description:D.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:At(new E(14,"codeLens",!0,{description:D.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:At(new C(15,"codeLensFontFamily","",{description:D.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:At(new r(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:D.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:At(new E(17,"colorDecorators",!0,{description:D.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:At(new E(18,"columnSelection",!1,{description:D.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:At(new y),contextmenu:At(new E(20,"contextmenu",!0)),copyWithSyntaxHighlighting:At(new E(21,"copyWithSyntaxHighlighting",!0,{description:D.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:At(new _(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],v,{description:D.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:At(new E(23,"cursorSmoothCaretAnimation",!1,{description:D.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:At(new _(24,"cursorStyle",B.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],j,{description:D.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:At(new r(25,"cursorSurroundingLines",0,0,1073741824,{description:D.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:At(new f(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[D.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),D.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:D.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:At(new r(27,"cursorWidth",0,0,1073741824,{markdownDescription:D.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:At(new E(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:At(new E(29,"disableMonospaceOptimizations",!1)),domReadOnly:At(new E(30,"domReadOnly",!1)),dragAndDrop:At(new E(31,"dragAndDrop",!0,{description:D.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:At(new ce),extraEditorClassName:At(new C(33,"extraEditorClassName","")),fastScrollSensitivity:At(new N(34,"fastScrollSensitivity",5,ci=>ci<=0?5:ci,{markdownDescription:D.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:At(new _e),fixedOverflowWidgets:At(new E(36,"fixedOverflowWidgets",!1)),folding:At(new E(37,"folding",!0,{description:D.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:At(new f(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[D.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),D.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:D.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:At(new E(39,"foldingHighlight",!0,{description:D.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:At(new E(40,"foldingImportsByDefault",!1,{description:D.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:At(new E(41,"unfoldOnClickAfterEndOfLine",!1,{description:D.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:At(new C(42,"fontFamily",qt.fontFamily,{description:D.N("fontFamily","Controls the font family.")})),fontInfo:At(new Ee),fontLigatures2:At(new Ce),fontSize:At(new le),fontWeight:At(new Y),formatOnPaste:At(new E(47,"formatOnPaste",!1,{description:D.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:At(new E(48,"formatOnType",!1,{description:D.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:At(new E(49,"glyphMargin",!0,{description:D.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:At(new $),hideCursorInOverviewRuler:At(new E(51,"hideCursorInOverviewRuler",!1,{description:D.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:At(new G),inDiffEditor:At(new E(53,"inDiffEditor",!1)),letterSpacing:At(new N(55,"letterSpacing",qt.letterSpacing,ci=>N.clamp(ci,-5,20),{description:D.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:At(new m),lineDecorationsWidth:At(new T(57,"lineDecorationsWidth",10)),lineHeight:At(new F),lineNumbers:At(new Rt),lineNumbersMinChars:At(new r(60,"lineNumbersMinChars",5,1,300)),linkedEditing:At(new E(61,"linkedEditing",!1,{description:D.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:At(new E(62,"links",!0,{description:D.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:At(new f(63,"matchBrackets","always",["always","near","never"],{description:D.N("matchBrackets","Highlight matching brackets.")})),minimap:At(new ie),mouseStyle:At(new f(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:At(new N(66,"mouseWheelScrollSensitivity",1,ci=>ci===0?1:ci,{markdownDescription:D.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:At(new E(67,"mouseWheelZoom",!1,{markdownDescription:D.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:At(new E(68,"multiCursorMergeOverlapping",!0,{description:D.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:At(new _(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],pe,{markdownEnumDescriptions:[D.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),D.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:D.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:At(new f(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[D.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),D.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:D.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:At(new E(71,"occurrencesHighlight",!0,{description:D.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:At(new E(72,"overviewRulerBorder",!0,{description:D.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:At(new r(73,"overviewRulerLanes",3,0,3)),padding:At(new ue),parameterHints:At(new ke),peekWidgetDefaultFocus:At(new f(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[D.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),D.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:D.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:At(new E(77,"definitionLinkOpensInPeek",!1,{description:D.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:At(new rt),quickSuggestionsDelay:At(new r(79,"quickSuggestionsDelay",10,0,1073741824,{description:D.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:At(new E(80,"readOnly",!1)),renameOnType:At(new E(81,"renameOnType",!1,{description:D.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:D.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:At(new E(82,"renderControlCharacters",!0,{description:D.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:At(new E(83,"renderFinalNewline",!0,{description:D.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:At(new f(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",D.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:D.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:At(new E(85,"renderLineHighlightOnlyWhenFocus",!1,{description:D.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:At(new f(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:At(new f(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",D.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),D.N("renderWhitespace.selection","Render whitespace characters only on selected text."),D.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:D.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:At(new r(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:At(new E(89,"roundedSelection",!0,{description:D.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:At(new Mt),scrollbar:At(new Je),scrollBeyondLastColumn:At(new r(92,"scrollBeyondLastColumn",5,0,1073741824,{description:D.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:At(new E(93,"scrollBeyondLastLine",!0,{description:D.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:At(new E(94,"scrollPredominantAxis",!0,{description:D.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:At(new E(95,"selectionClipboard",!0,{description:D.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:O.IJ})),selectionHighlight:At(new E(96,"selectionHighlight",!0,{description:D.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:At(new E(97,"selectOnLineNumbers",!0)),showFoldingControls:At(new f(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[D.N("showFoldingControls.always","Always show the folding controls."),D.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:D.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:At(new E(99,"showUnused",!0,{description:D.N("showUnused","Controls fading out of unused code.")})),showDeprecated:At(new E(124,"showDeprecated",!0,{description:D.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:At(new w),snippetSuggestions:At(new f(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[D.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),D.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),D.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),D.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:D.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:At(new lt),smoothScrolling:At(new E(102,"smoothScrolling",!1,{description:D.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:At(new r(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:At(new dt),inlineSuggest:At(new Ae),suggestFontSize:At(new r(106,"suggestFontSize",0,0,1e3,{markdownDescription:D.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:At(new r(107,"suggestLineHeight",0,0,1e3,{markdownDescription:D.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:At(new E(108,"suggestOnTriggerCharacters",!0,{description:D.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:At(new f(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[D.N("suggestSelection.first","Always select the first suggestion."),D.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),D.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:D.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:At(new f(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[D.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),D.N("tabCompletion.off","Disable tab completions."),D.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:D.N("tabCompletion","Enables tab completions.")})),tabIndex:At(new r(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:At(new f(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[D.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),D.N("unusualLineTerminators.off","Unusual line terminators are ignored."),D.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:D.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:At(new E(113,"useShadowDOM",!0)),useTabStops:At(new E(114,"useTabStops",!0,{description:D.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:At(new C(115,"wordSeparators",Q.vu,{description:D.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:At(new f(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[D.N("wordWrap.off","Lines will never wrap."),D.N("wordWrap.on","Lines will wrap at the viewport width."),D.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),D.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:D.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:At(new C(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:At(new C(118,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:At(new r(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:D.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:At(new f(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:At(new f(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:At(new _(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Pe,{enumDescriptions:[D.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),D.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),D.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),D.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:D.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:At(new f(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[D.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),D.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:D.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:At(new te),pixelRatio:At(new Te),tabFocusMode:At(new Ie),layoutInfo:At(new ee),wrappingInfo:At(new ye)}},82334:function(ti,Ge,c){"use strict";c.d(Ge,{C:function(){return O}});var D=c(4669);const O=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new D.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Q){Q=Math.min(Math.max(-5,Q),20),this._zoomLevel!==Q&&(this._zoomLevel=Q,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(ti,Ge,c){"use strict";c.d(Ge,{E4:function(){return L},pR:function(){return R}});var D=c(1432),O=c(82334);const Q=D.dz?1.5:1.35,P=8;class L{constructor(s){this._bareFontInfoBrand=void 0,this.zoomLevel=s.zoomLevel,this.pixelRatio=s.pixelRatio,this.fontFamily=String(s.fontFamily),this.fontWeight=String(s.fontWeight),this.fontSize=s.fontSize,this.fontFeatureSettings=s.fontFeatureSettings,this.lineHeight=s.lineHeight|0,this.letterSpacing=s.letterSpacing}static createFromValidatedSettings(s,T,g,E){const H=s.get(42),r=s.get(46),N=s.get(45),C=s.get(44),x=s.get(58),f=s.get(55);return L._create(H,r,N,C,x,f,T,g,E)}static _create(s,T,g,E,H,r,N,C,x){H===0?H=Q*g:H<P&&(H=H*g),H=Math.round(H),H<P&&(H=P);const f=1+(x?0:O.C.getZoomLevel()*.1);return g*=f,H*=f,new L({zoomLevel:N,pixelRatio:C,fontFamily:s,fontWeight:T,fontSize:g,fontFeatureSettings:E,lineHeight:H,letterSpacing:r})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(s){const T=L._wrapInQuotes(this.fontFamily);return s&&this.fontFamily!==s?`${T}, ${s}`:T}static _wrapInQuotes(s){return/[,"']/.test(s)?s:/[+ ]/.test(s)?`"${s}"`:s}}const J=1;class R extends L{constructor(s,T){super(s),this._editorStylingBrand=void 0,this.version=J,this.isTrusted=T,this.isMonospace=s.isMonospace,this.typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=s.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.maxDigitWidth=s.maxDigitWidth}equals(s){return this.fontFamily===s.fontFamily&&this.fontWeight===s.fontWeight&&this.fontSize===s.fontSize&&this.fontFeatureSettings===s.fontFeatureSettings&&this.lineHeight===s.lineHeight&&this.letterSpacing===s.letterSpacing&&this.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===s.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===s.canUseHalfwidthRightwardsArrow&&this.spaceWidth===s.spaceWidth&&this.middotWidth===s.middotWidth&&this.wsmiddotWidth===s.wsmiddotWidth&&this.maxDigitWidth===s.maxDigitWidth}}},3675:function(ti,Ge,c){"use strict";c.d(Ge,{l:function(){return O}});var D=c(33181);class O{static whitespaceVisibleColumn(P,L,J){const R=P.length;let W=0,s=-1,T=-1;for(let g=0;g<R;g++){if(g===L)return[s,T,W];switch(W%J===0&&(s=g,T=W),P.charCodeAt(g)){case 32:W+=1;break;case 9:W=D.io.nextRenderTabStop(W,J);break;default:return[-1,-1,-1]}}return L===R?[s,T,W]:[-1,-1,-1]}static atomicPosition(P,L,J,R){const W=P.length,[s,T,g]=O.whitespaceVisibleColumn(P,L,J);if(g===-1)return-1;let E;switch(R){case 0:E=!0;break;case 1:E=!1;break;case 2:if(g%J===0)return L;E=g%J<=J/2;break}if(E){if(s===-1)return-1;let N=T;for(let C=s;C<W;++C){if(N===T+J)return s;switch(P.charCodeAt(C)){case 32:N+=1;break;case 9:N=D.io.nextRenderTabStop(N,J);break;default:return-1}}return N===T+J?s:-1}const H=D.io.nextRenderTabStop(g,J);let r=g;for(let N=L;N<W;N++){if(r===H)return N;switch(P.charCodeAt(N)){case 32:r+=1;break;case 9:r=D.io.nextRenderTabStop(r,J);break;default:return-1}}return r===H?W:-1}}},47707:function(ti,Ge,c){"use strict";c.d(Ge,{i:function(){return O}});var D=c(97295);class O{static visibleColumnFromColumn(P,L,J){const R=P.length,W=L-1<R?L-1:R;let s=0,T=0;for(;T<W;){const g=D.ZH(P,W,T);if(T+=g>=65536?2:1,g===9)s=O.nextRenderTabStop(s,J);else{let E=D.S6(g);for(;T<W;){const H=D.ZH(P,W,T),r=D.S6(H);if(D.fi(E,r))break;T+=H>=65536?2:1,E=r}D.K7(g)||D.C8(g)?s=s+2:s=s+1}}return s}static visibleColumnsByColumns(P,L){const J=P.length;let R=new Array;R.push(-1);let W=0,s=0;for(;s<J;){const T=D.ZH(P,J,s);if(s+=T>=65536?2:1,R.push(W),T>=65536&&R.push(W),T===9)W=O.nextRenderTabStop(W,L);else{let g=D.S6(T);for(;s<J;){const E=D.ZH(P,J,s),H=D.S6(E);if(D.fi(g,H))break;s+=E>=65536?2:1,R.push(W),T>=65536&&R.push(W),g=H}D.K7(T)||D.C8(T)?W=W+2:W=W+1}}return R.push(W),R}static visibleColumnFromColumn2(P,L,J){return this.visibleColumnFromColumn(L.getLineContent(J.lineNumber),J.column,P.tabSize)}static columnFromVisibleColumn(P,L,J){if(L<=0)return 1;const R=P.length;let W=0,s=1,T=0;for(;T<R;){const g=D.ZH(P,R,T);T+=g>=65536?2:1;let E;if(g===9)E=O.nextRenderTabStop(W,J);else{let r=D.S6(g);for(;T<R;){const N=D.ZH(P,R,T),C=D.S6(N);if(D.fi(r,C))break;T+=N>=65536?2:1,r=C}D.K7(g)||D.C8(g)?E=W+2:E=W+1}const H=T+1;if(E>=L){const r=L-W;return E-L<r?H:s}W=E,s=H}return R+1}static columnFromVisibleColumn2(P,L,J,R){let W=this.columnFromVisibleColumn(L.getLineContent(J),R,P.tabSize),s=L.getLineMinColumn(J);if(W<s)return s;let T=L.getLineMaxColumn(J);return W>T?T:W}static nextRenderTabStop(P,L){return P+L-P%L}static nextIndentTabStop(P,L){return P+L-P%L}static prevRenderTabStop(P,L){return Math.max(0,P-1-(P-1)%L)}static prevIndentTabStop(P,L){return Math.max(0,P-1-(P-1)%L)}}},33181:function(ti,Ge,c){"use strict";c.d(Ge,{LM:function(){return g},LN:function(){return f},Tp:function(){return x},Vi:function(){return C},io:function(){return R.i},rS:function(){return E},zp:function(){return H}});var D=c(17301),O=c(50187),Q=c(24314),P=c(3860),L=c(24979),J=c(94660),R=c(47707);const W=()=>!0,s=()=>!1,T=_=>_===" "||_==="	";class g{constructor(S,h,y){this._cursorMoveConfigurationBrand=void 0,this._languageId=S;const v=y.options,B=v.get(129);this.readOnly=v.get(80),this.tabSize=h.tabSize,this.indentSize=h.indentSize,this.insertSpaces=h.insertSpaces,this.stickyTabStops=v.get(103),this.lineHeight=v.get(58),this.pageSize=Math.max(1,Math.floor(B.height/this.lineHeight)-2),this.useTabStops=v.get(114),this.wordSeparators=v.get(115),this.emptySelectionClipboard=v.get(32),this.copyWithSyntaxHighlighting=v.get(21),this.multiCursorMergeOverlapping=v.get(68),this.multiCursorPaste=v.get(70),this.autoClosingBrackets=v.get(5),this.autoClosingQuotes=v.get(8),this.autoClosingDelete=v.get(6),this.autoClosingOvertype=v.get(7),this.autoSurround=v.get(11),this.autoIndent=v.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:g._getShouldAutoClose(S,this.autoClosingQuotes),bracket:g._getShouldAutoClose(S,this.autoClosingBrackets)},this.autoClosingPairs=J.zu.getAutoClosingPairs(S);let j=g._getSurroundingPairs(S);if(j)for(const te of j)this.surroundingPairs[te.open]=te.close}static shouldRecreate(S){return S.hasChanged(129)||S.hasChanged(115)||S.hasChanged(32)||S.hasChanged(68)||S.hasChanged(70)||S.hasChanged(5)||S.hasChanged(8)||S.hasChanged(6)||S.hasChanged(7)||S.hasChanged(11)||S.hasChanged(114)||S.hasChanged(58)||S.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let S=g._getElectricCharacters(this._languageId);if(S)for(const h of S)this._electricChars[h]=!0}return this._electricChars}normalizeIndentation(S){return L.yO.normalizeIndentation(S,this.indentSize,this.insertSpaces)}static _getElectricCharacters(S){try{return J.zu.getElectricCharacters(S)}catch(h){return(0,D.dL)(h),null}}static _getShouldAutoClose(S,h){switch(h){case"beforeWhitespace":return T;case"languageDefined":return g._getLanguageDefinedShouldAutoClose(S);case"always":return W;case"never":return s}}static _getLanguageDefinedShouldAutoClose(S){try{const h=J.zu.getAutoCloseBeforeSet(S);return y=>h.indexOf(y)!==-1}catch(h){return(0,D.dL)(h),s}}static _getSurroundingPairs(S){try{return J.zu.getSurroundingPairs(S)}catch(h){return(0,D.dL)(h),null}}}class E{constructor(S,h,y,v){this._singleCursorStateBrand=void 0,this.selectionStart=S,this.selectionStartLeftoverVisibleColumns=h,this.position=y,this.leftoverVisibleColumns=v,this.selection=E._computeSelection(this.selectionStart,this.position)}equals(S){return this.selectionStartLeftoverVisibleColumns===S.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===S.leftoverVisibleColumns&&this.position.equals(S.position)&&this.selectionStart.equalsRange(S.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(S,h,y,v){return S?new E(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new O.L(h,y),v):new E(new Q.e(h,y,h,y),v,new O.L(h,y),v)}static _computeSelection(S,h){let y,v,B,j;return S.isEmpty()?(y=S.startLineNumber,v=S.startColumn,B=h.lineNumber,j=h.column):h.isBeforeOrEqual(S.getStartPosition())?(y=S.endLineNumber,v=S.endColumn,B=h.lineNumber,j=h.column):(y=S.startLineNumber,v=S.startColumn,B=h.lineNumber,j=h.column),new P.Y(y,v,B,j)}}class H{constructor(S,h,y,v){this._cursorContextBrand=void 0,this.model=S,this.viewModel=h,this.coordinatesConverter=y,this.cursorConfig=v}}class r{constructor(S){this.modelState=S,this.viewState=null}}class N{constructor(S){this.modelState=null,this.viewState=S}}class C{constructor(S,h){this._cursorStateBrand=void 0,this.modelState=S,this.viewState=h}static fromModelState(S){return new r(S)}static fromViewState(S){return new N(S)}static fromModelSelection(S){const h=S.selectionStartLineNumber,y=S.selectionStartColumn,v=S.positionLineNumber,B=S.positionColumn,j=new E(new Q.e(h,y,h,y),0,new O.L(v,B),0);return C.fromModelState(j)}static fromModelSelections(S){let h=[];for(let y=0,v=S.length;y<v;y++)h[y]=this.fromModelSelection(S[y]);return h}equals(S){return this.viewState.equals(S.viewState)&&this.modelState.equals(S.modelState)}}class x{constructor(S,h,y){this._editOperationResultBrand=void 0,this.type=S,this.commands=h,this.shouldPushStackElementBefore=y.shouldPushStackElementBefore,this.shouldPushStackElementAfter=y.shouldPushStackElementAfter}}function f(_){return _==="'"||_==='"'||_==="`"}},31380:function(ti,Ge,c){"use strict";c.d(Ge,{A:function(){return R}});var D=c(97295),O=c(61329),Q=c(33181),P=c(88784),L=c(24314),J=c(50187);class R{static deleteRight(s,T,g,E){let H=[],r=s!==3;for(let N=0,C=E.length;N<C;N++){const x=E[N];let f=x;if(f.isEmpty()){let _=x.getPosition(),S=P.o.right(T,g,_);f=new L.e(S.lineNumber,S.column,_.lineNumber,_.column)}if(f.isEmpty()){H[N]=null;continue}f.startLineNumber!==f.endLineNumber&&(r=!0),H[N]=new O.T4(f,"")}return[r,H]}static isAutoClosingPairDelete(s,T,g,E,H,r,N){if(T==="never"&&g==="never"||s==="never")return!1;for(let C=0,x=r.length;C<x;C++){const f=r[C],_=f.getPosition();if(!f.isEmpty())return!1;const S=H.getLineContent(_.lineNumber);if(_.column<2||_.column>=S.length+1)return!1;const h=S.charAt(_.column-2),y=E.get(h);if(!y)return!1;if((0,Q.LN)(h)){if(g==="never")return!1}else if(T==="never")return!1;const v=S.charAt(_.column-1);let B=!1;for(const j of y)j.open===h&&j.close===v&&(B=!0);if(!B)return!1;if(s==="auto"){let j=!1;for(let te=0,ce=N.length;te<ce;te++){const _e=N[te];if(_.lineNumber===_e.startLineNumber&&_.column===_e.startColumn){j=!0;break}}if(!j)return!1}}return!0}static _runAutoClosingPairDelete(s,T,g){let E=[];for(let H=0,r=g.length;H<r;H++){const N=g[H].getPosition(),C=new L.e(N.lineNumber,N.column-1,N.lineNumber,N.column+1);E[H]=new O.T4(C,"")}return[!0,E]}static deleteLeft(s,T,g,E,H){if(this.isAutoClosingPairDelete(T.autoClosingDelete,T.autoClosingBrackets,T.autoClosingQuotes,T.autoClosingPairs.autoClosingPairsOpenByEnd,g,E,H))return this._runAutoClosingPairDelete(T,g,E);const r=[];let N=s!==2;for(let C=0,x=E.length;C<x;C++){let f=R.getDeleteRange(E[C],g,T);if(f.isEmpty()){r[C]=null;continue}f.startLineNumber!==f.endLineNumber&&(N=!0),r[C]=new O.T4(f,"")}return[N,r]}static getDeleteRange(s,T,g){if(!s.isEmpty())return s;const E=s.getPosition();if(g.useTabStops&&E.column>1){const H=T.getLineContent(E.lineNumber),r=D.LC(H),N=r===-1?H.length+1:r+1;if(E.column<=N){const C=Q.io.visibleColumnFromColumn2(g,T,E),x=Q.io.prevIndentTabStop(C,g.indentSize),f=Q.io.columnFromVisibleColumn2(g,T,E.lineNumber,x);return new L.e(E.lineNumber,f,E.lineNumber,E.column)}}return L.e.fromPositions(R.getPositionAfterDeleteLeft(E,T),E)}static getPositionAfterDeleteLeft(s,T){if(s.column>1){const g=D.oH(s.column-1,T.getLineContent(s.lineNumber));return s.with(void 0,g+1)}else if(s.lineNumber>1){const g=s.lineNumber-1;return new J.L(g,T.getLineMaxColumn(g))}else return s}static cut(s,T,g){let E=[],H=null;g.sort((r,N)=>J.L.compare(r.getStartPosition(),N.getEndPosition()));for(let r=0,N=g.length;r<N;r++){const C=g[r];if(C.isEmpty())if(s.emptySelectionClipboard){let x=C.getPosition(),f,_,S,h;x.lineNumber<T.getLineCount()?(f=x.lineNumber,_=1,S=x.lineNumber+1,h=1):x.lineNumber>1&&(H==null?void 0:H.endLineNumber)!==x.lineNumber?(f=x.lineNumber-1,_=T.getLineMaxColumn(x.lineNumber-1),S=x.lineNumber,h=T.getLineMaxColumn(x.lineNumber)):(f=x.lineNumber,_=1,S=x.lineNumber,h=T.getLineMaxColumn(x.lineNumber));let y=new L.e(f,_,S,h);H=y,y.isEmpty()?E[r]=null:E[r]=new O.T4(y,"")}else E[r]=null;else E[r]=new O.T4(C,"")}return new Q.Tp(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},88784:function(ti,Ge,c){"use strict";c.d(Ge,{o:function(){return R}});var D=c(33181),O=c(50187),Q=c(24314),P=c(97295),L=c(3675);class J{constructor(s,T,g){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=T,this.leftoverVisibleColumns=g}}class R{static leftPosition(s,T){if(T.column>s.getLineMinColumn(T.lineNumber))return T.delta(void 0,-P.HO(s.getLineContent(T.lineNumber),T.column-1));if(T.lineNumber>1){const g=T.lineNumber-1;return new O.L(g,s.getLineMaxColumn(g))}else return T}static leftPositionAtomicSoftTabs(s,T,g){if(T.column<=s.getLineIndentColumn(T.lineNumber)){const E=s.getLineMinColumn(T.lineNumber),H=s.getLineContent(T.lineNumber),r=L.l.atomicPosition(H,T.column-1,g,0);if(r!==-1&&r+1>=E)return new O.L(T.lineNumber,r+1)}return this.leftPosition(s,T)}static left(s,T,g){const E=s.stickyTabStops?R.leftPositionAtomicSoftTabs(T,g,s.tabSize):R.leftPosition(T,g);return new J(E.lineNumber,E.column,0)}static moveLeft(s,T,g,E,H){let r,N;if(g.hasSelection()&&!E)r=g.selection.startLineNumber,N=g.selection.startColumn;else{const C=g.position.delta(void 0,-(H-1)),x=T.normalizePosition(R.clipPositionColumn(C,T),0),f=R.left(s,T,x);r=f.lineNumber,N=f.column}return g.move(E,r,N,0)}static clipPositionColumn(s,T){return new O.L(s.lineNumber,R.clipRange(s.column,T.getLineMinColumn(s.lineNumber),T.getLineMaxColumn(s.lineNumber)))}static clipRange(s,T,g){return s<T?T:s>g?g:s}static rightPosition(s,T,g){return g<s.getLineMaxColumn(T)?g=g+P.vH(s.getLineContent(T),g-1):T<s.getLineCount()&&(T=T+1,g=s.getLineMinColumn(T)),new O.L(T,g)}static rightPositionAtomicSoftTabs(s,T,g,E,H){if(g<s.getLineIndentColumn(T)){const r=s.getLineContent(T),N=L.l.atomicPosition(r,g-1,E,1);if(N!==-1)return new O.L(T,N+1)}return this.rightPosition(s,T,g)}static right(s,T,g){const E=s.stickyTabStops?R.rightPositionAtomicSoftTabs(T,g.lineNumber,g.column,s.tabSize,s.indentSize):R.rightPosition(T,g.lineNumber,g.column);return new J(E.lineNumber,E.column,0)}static moveRight(s,T,g,E,H){let r,N;if(g.hasSelection()&&!E)r=g.selection.endLineNumber,N=g.selection.endColumn;else{const C=g.position.delta(void 0,H-1),x=T.normalizePosition(R.clipPositionColumn(C,T),1),f=R.right(s,T,x);r=f.lineNumber,N=f.column}return g.move(E,r,N,0)}static vertical(s,T,g,E,H,r,N){const C=D.io.visibleColumnFromColumn(T.getLineContent(g),E,s.tabSize)+H,x=T.getLineCount(),f=g===1&&E===1,_=g===x&&E===T.getLineMaxColumn(g),S=r<g?f:_;return g=r,g<1?(g=1,N?E=T.getLineMinColumn(g):E=Math.min(T.getLineMaxColumn(g),E)):g>x?(g=x,N?E=T.getLineMaxColumn(g):E=Math.min(T.getLineMaxColumn(g),E)):E=D.io.columnFromVisibleColumn2(s,T,g,C),S?H=0:H=C-D.io.visibleColumnFromColumn(T.getLineContent(g),E,s.tabSize),new J(g,E,H)}static down(s,T,g,E,H,r,N){return this.vertical(s,T,g,E,H,g+r,N)}static moveDown(s,T,g,E,H){let r,N;g.hasSelection()&&!E?(r=g.selection.endLineNumber,N=g.selection.endColumn):(r=g.position.lineNumber,N=g.position.column);let C=R.down(s,T,r,N,g.leftoverVisibleColumns,H,!0);return g.move(E,C.lineNumber,C.column,C.leftoverVisibleColumns)}static translateDown(s,T,g){let E=g.selection,H=R.down(s,T,E.selectionStartLineNumber,E.selectionStartColumn,g.selectionStartLeftoverVisibleColumns,1,!1),r=R.down(s,T,E.positionLineNumber,E.positionColumn,g.leftoverVisibleColumns,1,!1);return new D.rS(new Q.e(H.lineNumber,H.column,H.lineNumber,H.column),H.leftoverVisibleColumns,new O.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(s,T,g,E,H,r,N){return this.vertical(s,T,g,E,H,g-r,N)}static moveUp(s,T,g,E,H){let r,N;g.hasSelection()&&!E?(r=g.selection.startLineNumber,N=g.selection.startColumn):(r=g.position.lineNumber,N=g.position.column);let C=R.up(s,T,r,N,g.leftoverVisibleColumns,H,!0);return g.move(E,C.lineNumber,C.column,C.leftoverVisibleColumns)}static translateUp(s,T,g){let E=g.selection,H=R.up(s,T,E.selectionStartLineNumber,E.selectionStartColumn,g.selectionStartLeftoverVisibleColumns,1,!1),r=R.up(s,T,E.positionLineNumber,E.positionColumn,g.leftoverVisibleColumns,1,!1);return new D.rS(new Q.e(H.lineNumber,H.column,H.lineNumber,H.column),H.leftoverVisibleColumns,new O.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(s,T){return s.getLineFirstNonWhitespaceColumn(T)===0}static moveToPrevBlankLine(s,T,g,E){let H=g.position.lineNumber;for(;H>1&&this._isBlankLine(T,H);)H--;for(;H>1&&!this._isBlankLine(T,H);)H--;return g.move(E,H,T.getLineMinColumn(H),0)}static moveToNextBlankLine(s,T,g,E){const H=T.getLineCount();let r=g.position.lineNumber;for(;r<H&&this._isBlankLine(T,r);)r++;for(;r<H&&!this._isBlankLine(T,r);)r++;return g.move(E,r,T.getLineMinColumn(r),0)}static moveToBeginningOfLine(s,T,g,E){let H=g.position.lineNumber,r=T.getLineMinColumn(H),N=T.getLineFirstNonWhitespaceColumn(H)||r,C;return g.position.column===N?C=r:C=N,g.move(E,H,C,0)}static moveToEndOfLine(s,T,g,E,H){let r=g.position.lineNumber,N=T.getLineMaxColumn(r);return g.move(E,r,N,H?1073741824-N:0)}static moveToBeginningOfBuffer(s,T,g,E){return g.move(E,1,1,0)}static moveToEndOfBuffer(s,T,g,E){let H=T.getLineCount(),r=T.getLineMaxColumn(H);return g.move(E,H,r,0)}}},70966:function(ti,Ge,c){"use strict";c.d(Ge,{u:function(){return r},g:function(){return N}});var D=c(17301),O=c(97295),Q=c(61329),P=c(33181),L=c(24314),J=c(3860),R=c(94660);const W=Object.create(null);function s(S,h){if(h<=0)return"";W[S]||(W[S]=["",S]);const y=W[S];for(let v=y.length;v<=h;v++)y[v]=y[v-1]+S;return y[h]}class T{constructor(h,y){this._opts=y,this._selection=h,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(h,y,v,B,j){const te=P.io.visibleColumnFromColumn(h,y,v);if(j){const ce=s(" ",B),Ce=P.io.prevIndentTabStop(te,B)/B;return s(ce,Ce)}else{const ce="	",Ce=P.io.prevRenderTabStop(te,v)/v;return s(ce,Ce)}}static shiftIndent(h,y,v,B,j){const te=P.io.visibleColumnFromColumn(h,y,v);if(j){const ce=s(" ",B),Ce=P.io.nextIndentTabStop(te,B)/B;return s(ce,Ce)}else{const ce="	",Ce=P.io.nextRenderTabStop(te,v)/v;return s(ce,Ce)}}_addEditOperation(h,y,v){this._useLastEditRangeForCursorEndPosition?h.addTrackedEditOperation(y,v):h.addEditOperation(y,v)}getEditOperations(h,y){const v=this._selection.startLineNumber;let B=this._selection.endLineNumber;this._selection.endColumn===1&&v!==B&&(B=B-1);const{tabSize:j,indentSize:te,insertSpaces:ce}=this._opts,_e=v===B;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(h.getLineContent(v))&&(this._useLastEditRangeForCursorEndPosition=!0);let Ce=0,Ee=0;for(let le=v;le<=B;le++,Ce=Ee){Ee=0;let Y=h.getLineContent(le),$=O.LC(Y);if(this._opts.isUnshift&&(Y.length===0||$===0)||!_e&&!this._opts.isUnshift&&Y.length===0)continue;if($===-1&&($=Y.length),le>1&&P.io.visibleColumnFromColumn(Y,$+1,j)%te!==0&&h.isCheapToTokenize(le-1)){let m=R.zu.getEnterAction(this._opts.autoIndent,h,new L.e(le-1,h.getLineMaxColumn(le-1),le-1,h.getLineMaxColumn(le-1)));if(m){if(Ee=Ce,m.appendText)for(let w=0,F=m.appendText.length;w<F&&Ee<te&&m.appendText.charCodeAt(w)===32;w++)Ee++;m.removeText&&(Ee=Math.max(0,Ee-m.removeText));for(let w=0;w<Ee&&!($===0||Y.charCodeAt($-1)!==32);w++)$--}}if(this._opts.isUnshift&&$===0)continue;let G;this._opts.isUnshift?G=T.unshiftIndent(Y,$+1,j,te,ce):G=T.shiftIndent(Y,$+1,j,te,ce),this._addEditOperation(y,new L.e(le,1,le,$+1),G),le===v&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&h.getLineLength(v)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const Ce=ce?s(" ",te):"	";for(let Ee=v;Ee<=B;Ee++){const le=h.getLineContent(Ee);let Y=O.LC(le);if(!(this._opts.isUnshift&&(le.length===0||Y===0))&&!(!_e&&!this._opts.isUnshift&&le.length===0)&&(Y===-1&&(Y=le.length),!(this._opts.isUnshift&&Y===0)))if(this._opts.isUnshift){Y=Math.min(Y,te);for(let $=0;$<Y;$++)if(le.charCodeAt($)===9){Y=$+1;break}this._addEditOperation(y,new L.e(Ee,1,Ee,Y+1),"")}else this._addEditOperation(y,new L.e(Ee,1,Ee,1),Ce),Ee===v&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=y.trackSelection(this._selection)}computeCursorState(h,y){if(this._useLastEditRangeForCursorEndPosition){let B=y.getInverseEditOperations()[0];return new J.Y(B.range.endLineNumber,B.range.endColumn,B.range.endLineNumber,B.range.endColumn)}const v=y.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let B=this._selection.startColumn;return v.startColumn<=B?v:v.getDirection()===0?new J.Y(v.startLineNumber,B,v.endLineNumber,v.endColumn):new J.Y(v.endLineNumber,v.endColumn,v.startLineNumber,B)}return v}}class g{constructor(h,y,v){this._range=h,this._charBeforeSelection=y,this._charAfterSelection=v}getEditOperations(h,y){y.addTrackedEditOperation(new L.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),y.addTrackedEditOperation(new L.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(h,y){let v=y.getInverseEditOperations(),B=v[0].range,j=v[1].range;return new J.Y(B.endLineNumber,B.endColumn,j.endLineNumber,j.endColumn-this._charAfterSelection.length)}}var E=c(59410),H=c(97354);class r{static indent(h,y,v){if(y===null||v===null)return[];let B=[];for(let j=0,te=v.length;j<te;j++)B[j]=new T(v[j],{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent});return B}static outdent(h,y,v){let B=[];for(let j=0,te=v.length;j<te;j++)B[j]=new T(v[j],{isUnshift:!0,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent});return B}static shiftIndent(h,y,v){return v=v||1,T.shiftIndent(y,y.length+v,h.tabSize,h.indentSize,h.insertSpaces)}static unshiftIndent(h,y,v){return v=v||1,T.unshiftIndent(y,y.length+v,h.tabSize,h.indentSize,h.insertSpaces)}static _distributedPaste(h,y,v,B){let j=[];for(let te=0,ce=v.length;te<ce;te++)j[te]=new Q.T4(v[te],B[te]);return new P.Tp(0,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(h,y,v,B,j){let te=[];for(let ce=0,_e=v.length;ce<_e;ce++){const Ce=v[ce];let Ee=Ce.getPosition();if(j&&!Ce.isEmpty()&&(j=!1),j&&B.indexOf(`
`)!==B.length-1&&(j=!1),j){let le=new L.e(Ee.lineNumber,1,Ee.lineNumber,1);te[ce]=new Q.hP(le,B,Ce,!0)}else te[ce]=new Q.T4(Ce,B)}return new P.Tp(0,te,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(h,y,v,B,j){if(B||y.length===1)return null;if(j&&j.length===y.length)return j;if(h.multiCursorPaste==="spread"){v.charCodeAt(v.length-1)===10&&(v=v.substr(0,v.length-1)),v.charCodeAt(v.length-1)===13&&(v=v.substr(0,v.length-1));let te=O.uq(v);if(te.length===y.length)return te}return null}static paste(h,y,v,B,j,te){const ce=this._distributePasteToCursors(h,v,B,j,te);return ce?(v=v.sort(L.e.compareRangesUsingStarts),this._distributedPaste(h,y,v,ce)):this._simplePaste(h,y,v,B,j)}static _goodIndentForLine(h,y,v){let B=null,j="";const te=R.zu.getInheritIndentForLine(h.autoIndent,y,v,!1);if(te)B=te.action,j=te.indentation;else if(v>1){let ce;for(ce=v-1;ce>=1;ce--){const Ee=y.getLineContent(ce);if(O.ow(Ee)>=0)break}if(ce<1)return null;const _e=y.getLineMaxColumn(ce),Ce=R.zu.getEnterAction(h.autoIndent,y,new L.e(ce,_e,ce,_e));Ce&&(j=Ce.indentation+Ce.appendText)}return B&&(B===H.wU.Indent&&(j=r.shiftIndent(h,j)),B===H.wU.Outdent&&(j=r.unshiftIndent(h,j)),j=h.normalizeIndentation(j)),j||null}static _replaceJumpToNextIndent(h,y,v,B){let j="",te=v.getStartPosition();if(h.insertSpaces){let ce=P.io.visibleColumnFromColumn2(h,y,te),_e=h.indentSize,Ce=_e-ce%_e;for(let Ee=0;Ee<Ce;Ee++)j+=" "}else j="	";return new Q.T4(v,j,B)}static tab(h,y,v){let B=[];for(let j=0,te=v.length;j<te;j++){const ce=v[j];if(ce.isEmpty()){let _e=y.getLineContent(ce.startLineNumber);if(/^\s*$/.test(_e)&&y.isCheapToTokenize(ce.startLineNumber)){let Ce=this._goodIndentForLine(h,y,ce.startLineNumber);Ce=Ce||"	";let Ee=h.normalizeIndentation(Ce);if(!_e.startsWith(Ee)){B[j]=new Q.T4(new L.e(ce.startLineNumber,1,ce.startLineNumber,_e.length+1),Ee,!0);continue}}B[j]=this._replaceJumpToNextIndent(h,y,ce,!0)}else{if(ce.startLineNumber===ce.endLineNumber){let _e=y.getLineMaxColumn(ce.startLineNumber);if(ce.startColumn!==1||ce.endColumn!==_e){B[j]=this._replaceJumpToNextIndent(h,y,ce,!1);continue}}B[j]=new T(ce,{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent})}}return B}static compositionType(h,y,v,B,j,te,ce,_e){const Ce=B.map(Ee=>this._compositionType(v,Ee,j,te,ce,_e));return new P.Tp(4,Ce,{shouldPushStackElementBefore:x(h,4),shouldPushStackElementAfter:!1})}static _compositionType(h,y,v,B,j,te){if(!y.isEmpty())return null;const ce=y.getPosition(),_e=Math.max(1,ce.column-B),Ce=Math.min(h.getLineMaxColumn(ce.lineNumber),ce.column+j),Ee=new L.e(ce.lineNumber,_e,ce.lineNumber,Ce);return h.getValueInRange(Ee)===v&&te===0?null:new Q.Uo(Ee,v,0,te)}static _typeCommand(h,y,v){return v?new Q.Sj(h,y,!0):new Q.T4(h,y,!0)}static _enter(h,y,v,B){if(h.autoIndent===0)return r._typeCommand(B,`
`,v);if(!y.isCheapToTokenize(B.getStartPosition().lineNumber)||h.autoIndent===1){let _e=y.getLineContent(B.startLineNumber),Ce=O.V8(_e).substring(0,B.startColumn-1);return r._typeCommand(B,`
`+h.normalizeIndentation(Ce),v)}const j=R.zu.getEnterAction(h.autoIndent,y,B);if(j){if(j.indentAction===H.wU.None)return r._typeCommand(B,`
`+h.normalizeIndentation(j.indentation+j.appendText),v);if(j.indentAction===H.wU.Indent)return r._typeCommand(B,`
`+h.normalizeIndentation(j.indentation+j.appendText),v);if(j.indentAction===H.wU.IndentOutdent){const _e=h.normalizeIndentation(j.indentation),Ce=h.normalizeIndentation(j.indentation+j.appendText),Ee=`
`+Ce+`
`+_e;return v?new Q.Sj(B,Ee,!0):new Q.Uo(B,Ee,-1,Ce.length-_e.length,!0)}else if(j.indentAction===H.wU.Outdent){const _e=r.unshiftIndent(h,j.indentation);return r._typeCommand(B,`
`+h.normalizeIndentation(_e+j.appendText),v)}}const te=y.getLineContent(B.startLineNumber),ce=O.V8(te).substring(0,B.startColumn-1);if(h.autoIndent>=4){const _e=R.zu.getIndentForEnter(h.autoIndent,y,B,{unshiftIndent:Ce=>r.unshiftIndent(h,Ce),shiftIndent:Ce=>r.shiftIndent(h,Ce),normalizeIndentation:Ce=>h.normalizeIndentation(Ce)});if(_e){let Ce=P.io.visibleColumnFromColumn2(h,y,B.getEndPosition());const Ee=B.endColumn,le=y.getLineContent(B.endLineNumber),Y=O.LC(le);if(Y>=0?B=B.setEndPosition(B.endLineNumber,Math.max(B.endColumn,Y+1)):B=B.setEndPosition(B.endLineNumber,y.getLineMaxColumn(B.endLineNumber)),v)return new Q.Sj(B,`
`+h.normalizeIndentation(_e.afterEnter),!0);{let $=0;return Ee<=Y+1&&(h.insertSpaces||(Ce=Math.ceil(Ce/h.indentSize)),$=Math.min(Ce+1-h.normalizeIndentation(_e.afterEnter).length-1,0)),new Q.Uo(B,`
`+h.normalizeIndentation(_e.afterEnter),0,$,!0)}}}return r._typeCommand(B,`
`+h.normalizeIndentation(ce),v)}static _isAutoIndentType(h,y,v){if(h.autoIndent<4)return!1;for(let B=0,j=v.length;B<j;B++)if(!y.isCheapToTokenize(v[B].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(h,y,v,B){const j=R.zu.getIndentationAtPosition(y,v.startLineNumber,v.startColumn),te=R.zu.getIndentActionForType(h.autoIndent,y,v,B,{shiftIndent:ce=>r.shiftIndent(h,ce),unshiftIndent:ce=>r.unshiftIndent(h,ce)});if(te===null)return null;if(te!==h.normalizeIndentation(j)){const ce=y.getLineFirstNonWhitespaceColumn(v.startLineNumber);return ce===0?r._typeCommand(new L.e(v.startLineNumber,1,v.endLineNumber,v.endColumn),h.normalizeIndentation(te)+B,!1):r._typeCommand(new L.e(v.startLineNumber,1,v.endLineNumber,v.endColumn),h.normalizeIndentation(te)+y.getLineContent(v.startLineNumber).substring(ce-1,v.startColumn-1)+B,!1)}return null}static _isAutoClosingOvertype(h,y,v,B,j){if(h.autoClosingOvertype==="never"||!h.autoClosingPairs.autoClosingPairsCloseSingleChar.has(j))return!1;for(let te=0,ce=v.length;te<ce;te++){const _e=v[te];if(!_e.isEmpty())return!1;const Ce=_e.getPosition(),Ee=y.getLineContent(Ce.lineNumber);if(Ee.charAt(Ce.column-1)!==j)return!1;const Y=(0,P.LN)(j);if((Ce.column>2?Ee.charCodeAt(Ce.column-2):0)===92&&Y)return!1;if(h.autoClosingOvertype==="auto"){let G=!1;for(let ee=0,m=B.length;ee<m;ee++){const w=B[ee];if(Ce.lineNumber===w.startLineNumber&&Ce.column===w.startColumn){G=!0;break}}if(!G)return!1}}return!0}static _runAutoClosingOvertype(h,y,v,B,j){let te=[];for(let ce=0,_e=B.length;ce<_e;ce++){const Ee=B[ce].getPosition(),le=new L.e(Ee.lineNumber,Ee.column,Ee.lineNumber,Ee.column+1);te[ce]=new Q.T4(le,j)}return new P.Tp(4,te,{shouldPushStackElementBefore:x(h,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(h,y){const v=y.charAt(0),B=h.autoClosingPairs.autoClosingPairsOpenByStart.get(v)||[],j=h.autoClosingPairs.autoClosingPairsCloseByStart.get(v)||[],te=B.some(_e=>y.startsWith(_e.open)),ce=j.some(_e=>y.startsWith(_e.close));return!te&&ce}static _findAutoClosingPairOpen(h,y,v,B){const j=h.autoClosingPairs.autoClosingPairsOpenByEnd.get(B);if(!j)return null;let te=null;for(const ce of j)if(te===null||ce.open.length>te.open.length){let _e=!0;for(const Ce of v)if(y.getValueInRange(new L.e(Ce.lineNumber,Ce.column-ce.open.length+1,Ce.lineNumber,Ce.column))+B!==ce.open){_e=!1;break}_e&&(te=ce)}return te}static _findSubAutoClosingPairClose(h,y){if(y.open.length<=1)return"";const v=y.close.charAt(y.close.length-1),B=h.autoClosingPairs.autoClosingPairsCloseByEnd.get(v)||[];let j=null;for(const te of B)te.open!==y.open&&y.open.includes(te.open)&&y.close.endsWith(te.close)&&(!j||te.open.length>j.open.length)&&(j=te);return j?j.close:""}static _getAutoClosingPairClose(h,y,v,B,j){const te=(0,P.LN)(B),ce=te?h.autoClosingQuotes:h.autoClosingBrackets;if(ce==="never")return null;const _e=this._findAutoClosingPairOpen(h,y,v.map(Y=>Y.getPosition()),B);if(!_e)return null;const Ce=this._findSubAutoClosingPairClose(h,_e);let Ee=!0;const le=te?h.shouldAutoCloseBefore.quote:h.shouldAutoCloseBefore.bracket;for(let Y=0,$=v.length;Y<$;Y++){const G=v[Y];if(!G.isEmpty())return null;const ee=G.getPosition(),m=y.getLineContent(ee.lineNumber),w=m.substring(ee.column-1);if(w.startsWith(Ce)||(Ee=!1),m.length>ee.column-1){const pe=m.charAt(ee.column-1);if(!r._isBeforeClosingBrace(h,w)&&!le(pe))return null}if(!y.isCheapToTokenize(ee.lineNumber))return null;if(_e.open.length===1&&(B==="'"||B==='"')&&ce!=="always"){const pe=(0,E.u)(h.wordSeparators);if(j&&ee.column>1&&pe.get(m.charCodeAt(ee.column-2))===0||!j&&ee.column>2&&pe.get(m.charCodeAt(ee.column-3))===0)return null}y.forceTokenization(ee.lineNumber);const F=y.getLineTokens(ee.lineNumber);let ie=!1;try{ie=R.zu.shouldAutoClosePair(_e,F,j?ee.column:ee.column-1)}catch(pe){(0,D.dL)(pe)}if(!ie)return null}return Ee?_e.close.substring(0,_e.close.length-Ce.length):_e.close}static _runAutoClosingOpenCharType(h,y,v,B,j,te,ce){let _e=[];for(let Ce=0,Ee=B.length;Ce<Ee;Ce++){const le=B[Ce];_e[Ce]=new N(le,j,te,ce)}return new P.Tp(4,_e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(h,y){return(0,P.LN)(y)?h.autoSurround==="quotes"||h.autoSurround==="languageDefined":h.autoSurround==="brackets"||h.autoSurround==="languageDefined"}static _isSurroundSelectionType(h,y,v,B){if(!r._shouldSurroundChar(h,B)||!h.surroundingPairs.hasOwnProperty(B))return!1;const j=(0,P.LN)(B);for(let te=0,ce=v.length;te<ce;te++){const _e=v[te];if(_e.isEmpty())return!1;let Ce=!0;for(let Ee=_e.startLineNumber;Ee<=_e.endLineNumber;Ee++){const le=y.getLineContent(Ee),Y=Ee===_e.startLineNumber?_e.startColumn-1:0,$=Ee===_e.endLineNumber?_e.endColumn-1:le.length,G=le.substring(Y,$);if(/[^ \t]/.test(G)){Ce=!1;break}}if(Ce)return!1;if(j&&_e.startLineNumber===_e.endLineNumber&&_e.startColumn+1===_e.endColumn){const Ee=y.getValueInRange(_e);if((0,P.LN)(Ee))return!1}}return!0}static _runSurroundSelectionType(h,y,v,B,j){let te=[];for(let ce=0,_e=B.length;ce<_e;ce++){const Ce=B[ce],Ee=y.surroundingPairs[j];te[ce]=new g(Ce,j,Ee)}return new P.Tp(0,te,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(h,y,v){return!!(v.length===1&&y.isCheapToTokenize(v[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(h,y,v,B,j){if(!y.electricChars.hasOwnProperty(j)||!B.isEmpty())return null;let te=B.getPosition();v.forceTokenization(te.lineNumber);let ce=v.getLineTokens(te.lineNumber),_e;try{_e=R.zu.onElectricCharacter(j,ce,te.column)}catch(Ce){return(0,D.dL)(Ce),null}if(!_e)return null;if(_e.matchOpenBracket){let Ce=(ce.getLineContent()+j).lastIndexOf(_e.matchOpenBracket)+1,Ee=v.findMatchingBracketUp(_e.matchOpenBracket,{lineNumber:te.lineNumber,column:Ce});if(Ee){if(Ee.startLineNumber===te.lineNumber)return null;let le=v.getLineContent(Ee.startLineNumber),Y=O.V8(le),$=y.normalizeIndentation(Y),G=v.getLineContent(te.lineNumber),ee=v.getLineFirstNonWhitespaceColumn(te.lineNumber)||te.column,m=G.substring(ee-1,te.column-1),w=$+m+j,F=new L.e(te.lineNumber,1,te.lineNumber,te.column);const ie=new Q.T4(F,w);return new P.Tp(C(w,h),[ie],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(h,y,v,B,j,te){if(!B||J.Y.selectionsArrEqual(B,j))return null;let ce=null;for(const Ce of j){if(!Ce.isEmpty())return null;const Ee=Ce.getPosition(),le=v.getValueInRange(new L.e(Ee.lineNumber,Ee.column-1,Ee.lineNumber,Ee.column));if(ce===null)ce=le;else if(ce!==le)return null}if(!ce)return null;if(this._isAutoClosingOvertype(y,v,j,te,ce)){const Ce=j.map(Ee=>new Q.T4(new L.e(Ee.positionLineNumber,Ee.positionColumn,Ee.positionLineNumber,Ee.positionColumn+1),"",!1));return new P.Tp(4,Ce,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const _e=this._getAutoClosingPairClose(y,v,j,ce,!1);return _e!==null?this._runAutoClosingOpenCharType(h,y,v,j,ce,!1,_e):null}static typeWithInterceptors(h,y,v,B,j,te,ce){if(!h&&ce===`
`){let Ee=[];for(let le=0,Y=j.length;le<Y;le++)Ee[le]=r._enter(v,B,!1,j[le]);return new P.Tp(4,Ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoIndentType(v,B,j)){let Ee=[],le=!1;for(let Y=0,$=j.length;Y<$;Y++)if(Ee[Y]=this._runAutoIndentType(v,B,j[Y],ce),!Ee[Y]){le=!0;break}if(!le)return new P.Tp(4,Ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoClosingOvertype(v,B,j,te,ce))return this._runAutoClosingOvertype(y,v,B,j,ce);if(!h){const Ee=this._getAutoClosingPairClose(v,B,j,ce,!0);if(Ee)return this._runAutoClosingOpenCharType(y,v,B,j,ce,!0,Ee)}if(this._isSurroundSelectionType(v,B,j,ce))return this._runSurroundSelectionType(y,v,B,j,ce);if(!h&&this._isTypeInterceptorElectricChar(v,B,j)){const Ee=this._typeInterceptorElectricChar(y,v,B,j[0],ce);if(Ee)return Ee}let _e=[];for(let Ee=0,le=j.length;Ee<le;Ee++)_e[Ee]=new Q.T4(j[Ee],ce);const Ce=C(ce,y);return new P.Tp(Ce,_e,{shouldPushStackElementBefore:x(y,Ce),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(h,y,v,B,j){let te=[];for(let _e=0,Ce=B.length;_e<Ce;_e++)te[_e]=new Q.T4(B[_e],j);const ce=C(j,h);return new P.Tp(ce,te,{shouldPushStackElementBefore:x(h,ce),shouldPushStackElementAfter:!1})}static lineInsertBefore(h,y,v){if(y===null||v===null)return[];let B=[];for(let j=0,te=v.length;j<te;j++){let ce=v[j].positionLineNumber;if(ce===1)B[j]=new Q.Sj(new L.e(1,1,1,1),`
`);else{ce--;let _e=y.getLineMaxColumn(ce);B[j]=this._enter(h,y,!1,new L.e(ce,_e,ce,_e))}}return B}static lineInsertAfter(h,y,v){if(y===null||v===null)return[];let B=[];for(let j=0,te=v.length;j<te;j++){const ce=v[j].positionLineNumber;let _e=y.getLineMaxColumn(ce);B[j]=this._enter(h,y,!1,new L.e(ce,_e,ce,_e))}return B}static lineBreakInsert(h,y,v){let B=[];for(let j=0,te=v.length;j<te;j++)B[j]=this._enter(h,y,!0,v[j]);return B}}class N extends Q.Uo{constructor(h,y,v,B){super(h,(v?y:"")+B,0,-B.length),this._openCharacter=y,this._closeCharacter=B,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(h,y){let B=y.getInverseEditOperations()[0].range;return this.closeCharacterRange=new L.e(B.startLineNumber,B.endColumn-this._closeCharacter.length,B.endLineNumber,B.endColumn),this.enclosingRange=new L.e(B.startLineNumber,B.endColumn-this._openCharacter.length-this._closeCharacter.length,B.endLineNumber,B.endColumn),super.computeCursorState(h,y)}}function C(S,h){return S===" "?h===5||h===6?6:5:4}function x(S,h){return _(S)&&!_(h)?!0:S===5?!1:f(S)!==f(h)}function f(S){return S===6||S===5?"space":S}function _(S){return S===4||S===5||S===6}},5795:function(ti,Ge,c){"use strict";c.d(Ge,{w:function(){return R}});var D=c(97295),O=c(33181),Q=c(31380),P=c(59410),L=c(50187),J=c(24314);class R{static _createWord(g,E,H,r,N){return{start:r,end:N,wordType:E,nextCharClass:H}}static _findPreviousWordOnLine(g,E,H){let r=E.getLineContent(H.lineNumber);return this._doFindPreviousWordOnLine(r,g,H)}static _doFindPreviousWordOnLine(g,E,H){let r=0;for(let N=H.column-2;N>=0;N--){let C=g.charCodeAt(N),x=E.get(C);if(x===0){if(r===2)return this._createWord(g,r,x,N+1,this._findEndOfWord(g,E,r,N+1));r=1}else if(x===2){if(r===1)return this._createWord(g,r,x,N+1,this._findEndOfWord(g,E,r,N+1));r=2}else if(x===1&&r!==0)return this._createWord(g,r,x,N+1,this._findEndOfWord(g,E,r,N+1))}return r!==0?this._createWord(g,r,1,0,this._findEndOfWord(g,E,r,0)):null}static _findEndOfWord(g,E,H,r){let N=g.length;for(let C=r;C<N;C++){let x=g.charCodeAt(C),f=E.get(x);if(f===1||H===1&&f===2||H===2&&f===0)return C}return N}static _findNextWordOnLine(g,E,H){let r=E.getLineContent(H.lineNumber);return this._doFindNextWordOnLine(r,g,H)}static _doFindNextWordOnLine(g,E,H){let r=0,N=g.length;for(let C=H.column-1;C<N;C++){let x=g.charCodeAt(C),f=E.get(x);if(f===0){if(r===2)return this._createWord(g,r,f,this._findStartOfWord(g,E,r,C-1),C);r=1}else if(f===2){if(r===1)return this._createWord(g,r,f,this._findStartOfWord(g,E,r,C-1),C);r=2}else if(f===1&&r!==0)return this._createWord(g,r,f,this._findStartOfWord(g,E,r,C-1),C)}return r!==0?this._createWord(g,r,1,this._findStartOfWord(g,E,r,N-1),N):null}static _findStartOfWord(g,E,H,r){for(let N=r;N>=0;N--){let C=g.charCodeAt(N),x=E.get(C);if(x===1||H===1&&x===2||H===2&&x===0)return N+1}return 0}static moveWordLeft(g,E,H,r){let N=H.lineNumber,C=H.column;C===1&&N>1&&(N=N-1,C=E.getLineMaxColumn(N));let x=R._findPreviousWordOnLine(g,E,new L.L(N,C));if(r===0)return new L.L(N,x?x.start+1:1);if(r===1)return x&&x.wordType===2&&x.end-x.start===1&&x.nextCharClass===0&&(x=R._findPreviousWordOnLine(g,E,new L.L(N,x.start+1))),new L.L(N,x?x.start+1:1);if(r===3){for(;x&&x.wordType===2;)x=R._findPreviousWordOnLine(g,E,new L.L(N,x.start+1));return new L.L(N,x?x.start+1:1)}return x&&C<=x.end+1&&(x=R._findPreviousWordOnLine(g,E,new L.L(N,x.start+1))),new L.L(N,x?x.end+1:1)}static _moveWordPartLeft(g,E){const H=E.lineNumber,r=g.getLineMaxColumn(H);if(E.column===1)return H>1?new L.L(H-1,g.getLineMaxColumn(H-1)):E;const N=g.getLineContent(H);for(let C=E.column-1;C>1;C--){const x=N.charCodeAt(C-2),f=N.charCodeAt(C-1);if(x===95&&f!==95)return new L.L(H,C);if(D.mK(x)&&D.df(f))return new L.L(H,C);if(D.df(x)&&D.df(f)&&C+1<r){const _=N.charCodeAt(C);if(D.mK(_))return new L.L(H,C)}}return new L.L(H,1)}static moveWordRight(g,E,H,r){let N=H.lineNumber,C=H.column,x=!1;C===E.getLineMaxColumn(N)&&N<E.getLineCount()&&(x=!0,N=N+1,C=1);let f=R._findNextWordOnLine(g,E,new L.L(N,C));if(r===2)f&&f.wordType===2&&f.end-f.start===1&&f.nextCharClass===0&&(f=R._findNextWordOnLine(g,E,new L.L(N,f.end+1))),f?C=f.end+1:C=E.getLineMaxColumn(N);else if(r===3){for(x&&(C=0);f&&(f.wordType===2||f.start+1<=C);)f=R._findNextWordOnLine(g,E,new L.L(N,f.end+1));f?C=f.start+1:C=E.getLineMaxColumn(N)}else f&&!x&&C>=f.start+1&&(f=R._findNextWordOnLine(g,E,new L.L(N,f.end+1))),f?C=f.start+1:C=E.getLineMaxColumn(N);return new L.L(N,C)}static _moveWordPartRight(g,E){const H=E.lineNumber,r=g.getLineMaxColumn(H);if(E.column===r)return H<g.getLineCount()?new L.L(H+1,1):E;const N=g.getLineContent(H);for(let C=E.column+1;C<r;C++){const x=N.charCodeAt(C-2),f=N.charCodeAt(C-1);if(x!==95&&f===95)return new L.L(H,C);if(D.mK(x)&&D.df(f))return new L.L(H,C);if(D.df(x)&&D.df(f)&&C+1<r){const _=N.charCodeAt(C);if(D.mK(_))return new L.L(H,C)}}return new L.L(H,r)}static _deleteWordLeftWhitespace(g,E){const H=g.getLineContent(E.lineNumber),r=E.column-2,N=D.ow(H,r);return N+1<r?new J.e(E.lineNumber,N+2,E.lineNumber,E.column):null}static deleteWordLeft(g,E){const H=g.wordSeparators,r=g.model,N=g.selection,C=g.whitespaceHeuristics;if(!N.isEmpty())return N;if(Q.A.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,g.model,[g.selection],g.autoClosedCharacters)){const h=g.selection.getPosition();return new J.e(h.lineNumber,h.column-1,h.lineNumber,h.column+1)}const x=new L.L(N.positionLineNumber,N.positionColumn);let f=x.lineNumber,_=x.column;if(f===1&&_===1)return null;if(C){let h=this._deleteWordLeftWhitespace(r,x);if(h)return h}let S=R._findPreviousWordOnLine(H,r,x);return E===0?S?_=S.start+1:_>1?_=1:(f--,_=r.getLineMaxColumn(f)):(S&&_<=S.end+1&&(S=R._findPreviousWordOnLine(H,r,new L.L(f,S.start+1))),S?_=S.end+1:_>1?_=1:(f--,_=r.getLineMaxColumn(f))),new J.e(f,_,x.lineNumber,x.column)}static deleteInsideWord(g,E,H){if(!H.isEmpty())return H;const r=new L.L(H.positionLineNumber,H.positionColumn);let N=this._deleteInsideWordWhitespace(E,r);return N||this._deleteInsideWordDetermineDeleteRange(g,E,r)}static _charAtIsWhitespace(g,E){const H=g.charCodeAt(E);return H===32||H===9}static _deleteInsideWordWhitespace(g,E){const H=g.getLineContent(E.lineNumber),r=H.length;if(r===0)return null;let N=Math.max(E.column-2,0);if(!this._charAtIsWhitespace(H,N))return null;let C=Math.min(E.column-1,r-1);if(!this._charAtIsWhitespace(H,C))return null;for(;N>0&&this._charAtIsWhitespace(H,N-1);)N--;for(;C+1<r&&this._charAtIsWhitespace(H,C+1);)C++;return new J.e(E.lineNumber,N+1,E.lineNumber,C+2)}static _deleteInsideWordDetermineDeleteRange(g,E,H){const r=E.getLineContent(H.lineNumber),N=r.length;if(N===0)return H.lineNumber>1?new J.e(H.lineNumber-1,E.getLineMaxColumn(H.lineNumber-1),H.lineNumber,1):H.lineNumber<E.getLineCount()?new J.e(H.lineNumber,1,H.lineNumber+1,1):new J.e(H.lineNumber,1,H.lineNumber,1);const C=h=>h.start+1<=H.column&&H.column<=h.end+1,x=(h,y)=>(h=Math.min(h,H.column),y=Math.max(y,H.column),new J.e(H.lineNumber,h,H.lineNumber,y)),f=h=>{let y=h.start+1,v=h.end+1,B=!1;for(;v-1<N&&this._charAtIsWhitespace(r,v-1);)B=!0,v++;if(!B)for(;y>1&&this._charAtIsWhitespace(r,y-2);)y--;return x(y,v)},_=R._findPreviousWordOnLine(g,E,H);if(_&&C(_))return f(_);const S=R._findNextWordOnLine(g,E,H);return S&&C(S)?f(S):_&&S?x(_.end+1,S.start+1):_?x(_.start+1,_.end+1):S?x(S.start+1,S.end+1):x(1,N+1)}static _deleteWordPartLeft(g,E){if(!E.isEmpty())return E;const H=E.getPosition(),r=R._moveWordPartLeft(g,H);return new J.e(H.lineNumber,H.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(g,E){let H=g.length;for(let r=E;r<H;r++){let N=g.charAt(r);if(N!==" "&&N!=="	")return r}return H}static _deleteWordRightWhitespace(g,E){const H=g.getLineContent(E.lineNumber),r=E.column-1,N=this._findFirstNonWhitespaceChar(H,r);return r+1<N?new J.e(E.lineNumber,E.column,E.lineNumber,N+1):null}static deleteWordRight(g,E){const H=g.wordSeparators,r=g.model,N=g.selection,C=g.whitespaceHeuristics;if(!N.isEmpty())return N;const x=new L.L(N.positionLineNumber,N.positionColumn);let f=x.lineNumber,_=x.column;const S=r.getLineCount(),h=r.getLineMaxColumn(f);if(f===S&&_===h)return null;if(C){let v=this._deleteWordRightWhitespace(r,x);if(v)return v}let y=R._findNextWordOnLine(H,r,x);return E===2?y?_=y.end+1:_<h||f===S?_=h:(f++,y=R._findNextWordOnLine(H,r,new L.L(f,1)),y?_=y.start+1:_=r.getLineMaxColumn(f)):(y&&_>=y.start+1&&(y=R._findNextWordOnLine(H,r,new L.L(f,y.end+1))),y?_=y.start+1:_<h||f===S?_=h:(f++,y=R._findNextWordOnLine(H,r,new L.L(f,1)),y?_=y.start+1:_=r.getLineMaxColumn(f))),new J.e(f,_,x.lineNumber,x.column)}static _deleteWordPartRight(g,E){if(!E.isEmpty())return E;const H=E.getPosition(),r=R._moveWordPartRight(g,H);return new J.e(H.lineNumber,H.column,r.lineNumber,r.column)}static _createWordAtPosition(g,E,H){const r=new J.e(E,H.start+1,E,H.end+1);return{word:g.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(g,E,H){const r=(0,P.u)(E),N=R._findPreviousWordOnLine(r,g,H);if(N&&N.wordType===1&&N.start<=H.column-1&&H.column-1<=N.end)return R._createWordAtPosition(g,H.lineNumber,N);const C=R._findNextWordOnLine(r,g,H);return C&&C.wordType===1&&C.start<=H.column-1&&H.column-1<=C.end?R._createWordAtPosition(g,H.lineNumber,C):null}static word(g,E,H,r,N){const C=(0,P.u)(g.wordSeparators);let x=R._findPreviousWordOnLine(C,E,N),f=R._findNextWordOnLine(C,E,N);if(!r){let v,B;return x&&x.wordType===1&&x.start<=N.column-1&&N.column-1<=x.end?(v=x.start+1,B=x.end+1):f&&f.wordType===1&&f.start<=N.column-1&&N.column-1<=f.end?(v=f.start+1,B=f.end+1):(x?v=x.end+1:v=1,f?B=f.start+1:B=E.getLineMaxColumn(N.lineNumber)),new O.rS(new J.e(N.lineNumber,v,N.lineNumber,B),0,new L.L(N.lineNumber,B),0)}let _,S;x&&x.wordType===1&&x.start<N.column-1&&N.column-1<x.end?(_=x.start+1,S=x.end+1):f&&f.wordType===1&&f.start<N.column-1&&N.column-1<f.end?(_=f.start+1,S=f.end+1):(_=N.column,S=N.column);let h=N.lineNumber,y;if(H.selectionStart.containsPosition(N))y=H.selectionStart.endColumn;else if(N.isBeforeOrEqual(H.selectionStart.getStartPosition())){y=_;let v=new L.L(h,y);H.selectionStart.containsPosition(v)&&(y=H.selectionStart.endColumn)}else{y=S;let v=new L.L(h,y);H.selectionStart.containsPosition(v)&&(y=H.selectionStart.startColumn)}return H.move(!0,h,y,0)}}class W extends null{static deleteWordPartLeft(g){const E=s([R.deleteWordLeft(g,0),R.deleteWordLeft(g,2),R._deleteWordPartLeft(g.model,g.selection)]);return E.sort(Range.compareRangesUsingEnds),E[2]}static deleteWordPartRight(g){const E=s([R.deleteWordRight(g,0),R.deleteWordRight(g,2),R._deleteWordPartRight(g.model,g.selection)]);return E.sort(Range.compareRangesUsingStarts),E[0]}static moveWordPartLeft(g,E,H){const r=s([R.moveWordLeft(g,E,H,0),R.moveWordLeft(g,E,H,2),R._moveWordPartLeft(E,H)]);return r.sort(Position.compare),r[2]}static moveWordPartRight(g,E,H){const r=s([R.moveWordRight(g,E,H,0),R.moveWordRight(g,E,H,2),R._moveWordPartRight(E,H)]);return r.sort(Position.compare),r[0]}}function s(T){return T.filter(g=>!!g)}},59410:function(ti,Ge,c){"use strict";c.d(Ge,{u:function(){return P}});var D=c(44906);class O extends D.N{constructor(J){super(0);for(let R=0,W=J.length;R<W;R++)this.set(J.charCodeAt(R),2);this.set(32,1),this.set(9,1)}}function Q(L){let J={};return R=>(J.hasOwnProperty(R)||(J[R]=L(R)),J[R])}const P=Q(L=>new O(L))},44906:function(ti,Ge,c){"use strict";c.d(Ge,{N:function(){return O},q:function(){return Q}});var D=c(85427);class O{constructor(L){let J=(0,D.K)(L);this._defaultValue=J,this._asciiMap=O._createAsciiMap(J),this._map=new Map}static _createAsciiMap(L){let J=new Uint8Array(256);for(let R=0;R<256;R++)J[R]=L;return J}set(L,J){let R=(0,D.K)(J);L>=0&&L<256?this._asciiMap[L]=R:this._map.set(L,R)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}class Q{constructor(){this._actual=new O(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}},69386:function(ti,Ge,c){"use strict";c.d(Ge,{h:function(){return O}});var D=c(24314);class O{static insert(P,L){return{range:new D.e(P.lineNumber,P.column,P.lineNumber,P.column),text:L,forceMoveMarkers:!0}}static delete(P){return{range:P,text:null}}static replace(P,L){return{range:P,text:L}}static replaceMove(P,L){return{range:P,text:L,forceMoveMarkers:!0}}}},78411:function(ti,Ge,c){"use strict";c.d(Ge,{A:function(){return O}});var D=c(10351);class O{constructor(L,J,R){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=J,this._languageIdCodec=R}static createEmpty(L,J){const R=O.defaultTokenMetadata,W=new Uint32Array(2);return W[0]=L.length,W[1]=R,new O(W,L,J)}equals(L){return L instanceof O?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,J,R){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const W=J<<1,s=W+(R<<1);for(let T=W;T<s;T++)if(this._tokens[T]!==L._tokens[T])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const J=this._tokens[(L<<1)+1],R=D.NX.getLanguageId(J);return this._languageIdCodec.decodeLanguageId(R)}getStandardTokenType(L){const J=this._tokens[(L<<1)+1];return D.NX.getTokenType(J)}getForeground(L){const J=this._tokens[(L<<1)+1];return D.NX.getForeground(J)}getClassName(L){const J=this._tokens[(L<<1)+1];return D.NX.getClassNameFromMetadata(J)}getInlineStyle(L,J){const R=this._tokens[(L<<1)+1];return D.NX.getInlineStyleFromMetadata(R,J)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return O.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,J,R){return new Q(this,L,J,R)}static convertToEndOffset(L,J){const W=(L.length>>>1)-1;for(let s=0;s<W;s++)L[s<<1]=L[s+1<<1];L[W<<1]=J}static findIndexInTokensArray(L,J){if(L.length<=2)return 0;let R=0,W=(L.length>>>1)-1;for(;R<W;){const s=R+Math.floor((W-R)/2),T=L[s<<1];if(T===J)return s+1;T<J?R=s+1:T>J&&(W=s)}return R}withInserted(L){if(L.length===0)return this;let J=0,R=0,W="";const s=new Array;let T=0;for(;;){let g=J<this._tokensCount?this._tokens[J<<1]:-1,E=R<L.length?L[R]:null;if(g!==-1&&(E===null||g<=E.offset)){W+=this._text.substring(T,g);const H=this._tokens[(J<<1)+1];s.push(W.length,H),J++,T=g}else if(E){if(E.offset>T){W+=this._text.substring(T,E.offset);const H=this._tokens[(J<<1)+1];s.push(W.length,H),T=E.offset}W+=E.text,s.push(W.length,E.tokenMetadata),R++}else break}return new O(new Uint32Array(s),W,this._languageIdCodec)}}O.defaultTokenMetadata=(16384|2<<23)>>>0;class Q{constructor(L,J,R,W){this._source=L,this._startOffset=J,this._endOffset=R,this._deltaOffset=W,this._firstTokenIndex=L.findTokenIndexAtOffset(J),this._tokensCount=0;for(let s=this._firstTokenIndex,T=L.getCount();s<T&&!(L.getStartOffset(s)>=R);s++)this._tokensCount++}equals(L){return L instanceof Q?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const J=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,J)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,J){return this._source.getInlineStyle(this._firstTokenIndex+L,J)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},50187:function(ti,Ge,c){"use strict";c.d(Ge,{L:function(){return D}});class D{constructor(Q,P){this.lineNumber=Q,this.column=P}with(Q=this.lineNumber,P=this.column){return Q===this.lineNumber&&P===this.column?this:new D(Q,P)}delta(Q=0,P=0){return this.with(this.lineNumber+Q,this.column+P)}equals(Q){return D.equals(this,Q)}static equals(Q,P){return!Q&&!P?!0:!!Q&&!!P&&Q.lineNumber===P.lineNumber&&Q.column===P.column}isBefore(Q){return D.isBefore(this,Q)}static isBefore(Q,P){return Q.lineNumber<P.lineNumber?!0:P.lineNumber<Q.lineNumber?!1:Q.column<P.column}isBeforeOrEqual(Q){return D.isBeforeOrEqual(this,Q)}static isBeforeOrEqual(Q,P){return Q.lineNumber<P.lineNumber?!0:P.lineNumber<Q.lineNumber?!1:Q.column<=P.column}static compare(Q,P){let L=Q.lineNumber|0,J=P.lineNumber|0;if(L===J){let R=Q.column|0,W=P.column|0;return R-W}return L-J}clone(){return new D(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Q){return new D(Q.lineNumber,Q.column)}static isIPosition(Q){return Q&&typeof Q.lineNumber=="number"&&typeof Q.column=="number"}}},24314:function(ti,Ge,c){"use strict";c.d(Ge,{e:function(){return O}});var D=c(50187);class O{constructor(P,L,J,R){P>J||P===J&&L>R?(this.startLineNumber=J,this.startColumn=R,this.endLineNumber=P,this.endColumn=L):(this.startLineNumber=P,this.startColumn=L,this.endLineNumber=J,this.endColumn=R)}isEmpty(){return O.isEmpty(this)}static isEmpty(P){return P.startLineNumber===P.endLineNumber&&P.startColumn===P.endColumn}containsPosition(P){return O.containsPosition(this,P)}static containsPosition(P,L){return!(L.lineNumber<P.startLineNumber||L.lineNumber>P.endLineNumber||L.lineNumber===P.startLineNumber&&L.column<P.startColumn||L.lineNumber===P.endLineNumber&&L.column>P.endColumn)}containsRange(P){return O.containsRange(this,P)}static containsRange(P,L){return!(L.startLineNumber<P.startLineNumber||L.endLineNumber<P.startLineNumber||L.startLineNumber>P.endLineNumber||L.endLineNumber>P.endLineNumber||L.startLineNumber===P.startLineNumber&&L.startColumn<P.startColumn||L.endLineNumber===P.endLineNumber&&L.endColumn>P.endColumn)}strictContainsRange(P){return O.strictContainsRange(this,P)}static strictContainsRange(P,L){return!(L.startLineNumber<P.startLineNumber||L.endLineNumber<P.startLineNumber||L.startLineNumber>P.endLineNumber||L.endLineNumber>P.endLineNumber||L.startLineNumber===P.startLineNumber&&L.startColumn<=P.startColumn||L.endLineNumber===P.endLineNumber&&L.endColumn>=P.endColumn)}plusRange(P){return O.plusRange(this,P)}static plusRange(P,L){let J,R,W,s;return L.startLineNumber<P.startLineNumber?(J=L.startLineNumber,R=L.startColumn):L.startLineNumber===P.startLineNumber?(J=L.startLineNumber,R=Math.min(L.startColumn,P.startColumn)):(J=P.startLineNumber,R=P.startColumn),L.endLineNumber>P.endLineNumber?(W=L.endLineNumber,s=L.endColumn):L.endLineNumber===P.endLineNumber?(W=L.endLineNumber,s=Math.max(L.endColumn,P.endColumn)):(W=P.endLineNumber,s=P.endColumn),new O(J,R,W,s)}intersectRanges(P){return O.intersectRanges(this,P)}static intersectRanges(P,L){let J=P.startLineNumber,R=P.startColumn,W=P.endLineNumber,s=P.endColumn,T=L.startLineNumber,g=L.startColumn,E=L.endLineNumber,H=L.endColumn;return J<T?(J=T,R=g):J===T&&(R=Math.max(R,g)),W>E?(W=E,s=H):W===E&&(s=Math.min(s,H)),J>W||J===W&&R>s?null:new O(J,R,W,s)}equalsRange(P){return O.equalsRange(this,P)}static equalsRange(P,L){return!!P&&!!L&&P.startLineNumber===L.startLineNumber&&P.startColumn===L.startColumn&&P.endLineNumber===L.endLineNumber&&P.endColumn===L.endColumn}getEndPosition(){return O.getEndPosition(this)}static getEndPosition(P){return new D.L(P.endLineNumber,P.endColumn)}getStartPosition(){return O.getStartPosition(this)}static getStartPosition(P){return new D.L(P.startLineNumber,P.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(P,L){return new O(this.startLineNumber,this.startColumn,P,L)}setStartPosition(P,L){return new O(P,L,this.endLineNumber,this.endColumn)}collapseToStart(){return O.collapseToStart(this)}static collapseToStart(P){return new O(P.startLineNumber,P.startColumn,P.startLineNumber,P.startColumn)}static fromPositions(P,L=P){return new O(P.lineNumber,P.column,L.lineNumber,L.column)}static lift(P){return P?new O(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn):null}static isIRange(P){return P&&typeof P.startLineNumber=="number"&&typeof P.startColumn=="number"&&typeof P.endLineNumber=="number"&&typeof P.endColumn=="number"}static areIntersectingOrTouching(P,L){return!(P.endLineNumber<L.startLineNumber||P.endLineNumber===L.startLineNumber&&P.endColumn<L.startColumn||L.endLineNumber<P.startLineNumber||L.endLineNumber===P.startLineNumber&&L.endColumn<P.startColumn)}static areIntersecting(P,L){return!(P.endLineNumber<L.startLineNumber||P.endLineNumber===L.startLineNumber&&P.endColumn<=L.startColumn||L.endLineNumber<P.startLineNumber||L.endLineNumber===P.startLineNumber&&L.endColumn<=P.startColumn)}static compareRangesUsingStarts(P,L){if(P&&L){const W=P.startLineNumber|0,s=L.startLineNumber|0;if(W===s){const T=P.startColumn|0,g=L.startColumn|0;if(T===g){const E=P.endLineNumber|0,H=L.endLineNumber|0;if(E===H){const r=P.endColumn|0,N=L.endColumn|0;return r-N}return E-H}return T-g}return W-s}return(P?1:0)-(L?1:0)}static compareRangesUsingEnds(P,L){return P.endLineNumber===L.endLineNumber?P.endColumn===L.endColumn?P.startLineNumber===L.startLineNumber?P.startColumn-L.startColumn:P.startLineNumber-L.startLineNumber:P.endColumn-L.endColumn:P.endLineNumber-L.endLineNumber}static spansMultipleLines(P){return P.endLineNumber>P.startLineNumber}}},3860:function(ti,Ge,c){"use strict";c.d(Ge,{Y:function(){return Q}});var D=c(50187),O=c(24314);class Q extends O.e{constructor(L,J,R,W){super(L,J,R,W),this.selectionStartLineNumber=L,this.selectionStartColumn=J,this.positionLineNumber=R,this.positionColumn=W}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return Q.selectionsEqual(this,L)}static selectionsEqual(L,J){return L.selectionStartLineNumber===J.selectionStartLineNumber&&L.selectionStartColumn===J.selectionStartColumn&&L.positionLineNumber===J.positionLineNumber&&L.positionColumn===J.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,J){return this.getDirection()===0?new Q(this.startLineNumber,this.startColumn,L,J):new Q(L,J,this.startLineNumber,this.startColumn)}getPosition(){return new D.L(this.positionLineNumber,this.positionColumn)}setStartPosition(L,J){return this.getDirection()===0?new Q(L,J,this.endLineNumber,this.endColumn):new Q(this.endLineNumber,this.endColumn,L,J)}static fromPositions(L,J=L){return new Q(L.lineNumber,L.column,J.lineNumber,J.column)}static liftSelection(L){return new Q(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,J){if(L&&!J||!L&&J)return!1;if(!L&&!J)return!0;if(L.length!==J.length)return!1;for(let R=0,W=L.length;R<W;R++)if(!this.selectionsEqual(L[R],J[R]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,J,R,W,s){return s===0?new Q(L,J,R,W):new Q(R,W,L,J)}}},50072:function(ti,Ge,c){"use strict";c.d(Ge,{kH:function(){return E},l$:function(){return g},lZ:function(){return T},oe:function(){return s}});var D=c(97295),O=c(1432),Q=c(53060);let P;function L(){return P||(P=new TextDecoder("UTF-16LE")),P}let J;function R(){return J||(J=new TextDecoder("UTF-16BE")),J}let W;function s(){return W||(W=O.r()?L():R()),W}const T=typeof TextDecoder!="undefined";let g,E;T?(g=x=>new N(x),E=H):(g=x=>new C,E=r);function H(x,f,_){const S=new Uint16Array(x.buffer,f,_);return _>0&&(S[0]===65279||S[0]===65534)?r(x,f,_):L().decode(S)}function r(x,f,_){let S=[],h=0;for(let y=0;y<_;y++){const v=Q.mP(x,f);f+=2,S[h++]=String.fromCharCode(v)}return S.join("")}class N{constructor(f){this._capacity=f|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const f=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return s().decode(f)}_flushBuffer(){const f=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[f]:this._completedStrings[this._completedStrings.length]=f}write1(f){const _=this._capacity-this._bufferLength;_<=1&&(_===0||D.ZG(f))&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCII(f){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCIIString(f){const _=f.length;if(this._bufferLength+_>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=f;return}for(let S=0;S<_;S++)this._buffer[this._bufferLength++]=f.charCodeAt(S)}}class C{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(f){this._pieces[this._piecesLen++]=String.fromCharCode(f)}appendASCII(f){this._pieces[this._piecesLen++]=String.fromCharCode(f)}appendASCIIString(f){this._pieces[this._piecesLen++]=f}}},85600:function(ti,Ge,c){"use strict";c.d(Ge,{Hi:function(){return Q},WU:function(){return D},hG:function(){return O}});class D{constructor(L,J,R){this._tokenBrand=void 0,this.offset=L|0,this.type=J,this.language=R}toString(){return"("+this.offset+", "+this.type+")"}}class O{constructor(L,J){this._tokenizationResultBrand=void 0,this.tokens=L,this.endState=J}}class Q{constructor(L,J){this._tokenizationResult2Brand=void 0,this.tokens=L,this.endState=J}}},30653:function(ti,Ge,c){"use strict";c.d(Ge,{p:function(){return D}});class D{constructor(Q,P,L,J,R,W){this.id=Q,this.label=P,this.alias=L,this._precondition=J,this._run=R,this._contextKeyService=W}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},96518:function(ti,Ge,c){"use strict";c.d(Ge,{I:function(){return D},g:function(){return O}});function D(Q){return Q&&typeof Q.id=="string"}const O={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(ti,Ge,c){"use strict";c.d(Ge,{u:function(){return Q}});var D=c(63580),O=c(38819),Q;(function(P){P.editorSimpleInput=new O.uy("editorSimpleInput",!1,!0),P.editorTextFocus=new O.uy("editorTextFocus",!1,D.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),P.focus=new O.uy("editorFocus",!1,D.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),P.textInputFocus=new O.uy("textInputFocus",!1,D.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),P.readOnly=new O.uy("editorReadonly",!1,D.N("editorReadonly","Whether the editor is read only")),P.inDiffEditor=new O.uy("inDiffEditor",!1,D.N("inDiffEditor","Whether the context is a diff editor")),P.columnSelection=new O.uy("editorColumnSelection",!1,D.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),P.writable=P.readOnly.toNegated(),P.hasNonEmptySelection=new O.uy("editorHasSelection",!1,D.N("editorHasSelection","Whether the editor has text selected")),P.hasOnlyEmptySelection=P.hasNonEmptySelection.toNegated(),P.hasMultipleSelections=new O.uy("editorHasMultipleSelections",!1,D.N("editorHasMultipleSelections","Whether the editor has multiple selections")),P.hasSingleSelection=P.hasMultipleSelections.toNegated(),P.tabMovesFocus=new O.uy("editorTabMovesFocus",!1,D.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),P.tabDoesNotMoveFocus=P.tabMovesFocus.toNegated(),P.isInWalkThroughSnippet=new O.uy("isInEmbeddedEditor",!1,!0),P.canUndo=new O.uy("canUndo",!1,!0),P.canRedo=new O.uy("canRedo",!1,!0),P.hoverVisible=new O.uy("editorHoverVisible",!1,D.N("editorHoverVisible","Whether the editor hover is visible")),P.inCompositeEditor=new O.uy("inCompositeEditor",void 0,D.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),P.notInCompositeEditor=P.inCompositeEditor.toNegated(),P.languageId=new O.uy("editorLangId","",D.N("editorLangId","The language identifier of the editor")),P.hasCompletionItemProvider=new O.uy("editorHasCompletionItemProvider",!1,D.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),P.hasCodeActionsProvider=new O.uy("editorHasCodeActionsProvider",!1,D.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),P.hasCodeLensProvider=new O.uy("editorHasCodeLensProvider",!1,D.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),P.hasDefinitionProvider=new O.uy("editorHasDefinitionProvider",!1,D.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),P.hasDeclarationProvider=new O.uy("editorHasDeclarationProvider",!1,D.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),P.hasImplementationProvider=new O.uy("editorHasImplementationProvider",!1,D.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),P.hasTypeDefinitionProvider=new O.uy("editorHasTypeDefinitionProvider",!1,D.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),P.hasHoverProvider=new O.uy("editorHasHoverProvider",!1,D.N("editorHasHoverProvider","Whether the editor has a hover provider")),P.hasDocumentHighlightProvider=new O.uy("editorHasDocumentHighlightProvider",!1,D.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),P.hasDocumentSymbolProvider=new O.uy("editorHasDocumentSymbolProvider",!1,D.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),P.hasReferenceProvider=new O.uy("editorHasReferenceProvider",!1,D.N("editorHasReferenceProvider","Whether the editor has a reference provider")),P.hasRenameProvider=new O.uy("editorHasRenameProvider",!1,D.N("editorHasRenameProvider","Whether the editor has a rename provider")),P.hasSignatureHelpProvider=new O.uy("editorHasSignatureHelpProvider",!1,D.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),P.hasInlayHintsProvider=new O.uy("editorHasInlayHintsProvider",!1,D.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),P.hasDocumentFormattingProvider=new O.uy("editorHasDocumentFormattingProvider",!1,D.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),P.hasDocumentSelectionFormattingProvider=new O.uy("editorHasDocumentSelectionFormattingProvider",!1,D.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),P.hasMultipleDocumentFormattingProvider=new O.uy("editorHasMultipleDocumentFormattingProvider",!1,D.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),P.hasMultipleDocumentSelectionFormattingProvider=new O.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,D.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(Q||(Q={}))},84973:function(ti,Ge,c){"use strict";c.d(Ge,{F5:function(){return Q},Qi:function(){return s},UO:function(){return R},dJ:function(){return P},je:function(){return T},s6:function(){return J},sh:function(){return O},tk:function(){return L},vW:function(){return W}});var D=c(36248),O;(function(g){g[g.Left=1]="Left",g[g.Center=2]="Center",g[g.Right=4]="Right",g[g.Full=7]="Full"})(O||(O={}));var Q;(function(g){g[g.Inline=1]="Inline",g[g.Gutter=2]="Gutter"})(Q||(Q={}));class P{constructor(E){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,E.tabSize|0),this.indentSize=E.tabSize|0,this.insertSpaces=!!E.insertSpaces,this.defaultEOL=E.defaultEOL|0,this.trimAutoWhitespace=!!E.trimAutoWhitespace,this.bracketPairColorizationOptions=E.bracketPairColorizationOptions}equals(E){return this.tabSize===E.tabSize&&this.indentSize===E.indentSize&&this.insertSpaces===E.insertSpaces&&this.defaultEOL===E.defaultEOL&&this.trimAutoWhitespace===E.trimAutoWhitespace&&(0,D.fS)(this.bracketPairColorizationOptions,E.bracketPairColorizationOptions)}createChangeEvent(E){return{tabSize:this.tabSize!==E.tabSize,indentSize:this.indentSize!==E.indentSize,insertSpaces:this.insertSpaces!==E.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==E.trimAutoWhitespace}}}class L{constructor(E,H){this._findMatchBrand=void 0,this.range=E,this.matches=H}}var J;(function(g){g[g.Disabled=0]="Disabled",g[g.EnabledForActive=1]="EnabledForActive",g[g.Enabled=2]="Enabled"})(J||(J={}));class R{constructor(E,H,r){this.visibleColumn=E,this.className=H,this.horizontalLine=r}}class W{constructor(E,H){this.top=E,this.endColumn=H}}class s{constructor(E,H,r,N,C,x){this.identifier=E,this.range=H,this.text=r,this.forceMoveMarkers=N,this.isAutoWhitespaceEdit=C,this._isTracked=x}}class T{constructor(E,H,r){this.reverseEdits=E,this.changes=H,this.trimAutoWhitespaceLineNumbers=r}}},95215:function(ti,Ge,c){"use strict";c.d(Ge,{NL:function(){return r},e9:function(){return H}});var D=c(63580),O=c(17301),Q=c(3860),P=c(70666),L=c(60962),J=c(53060),R=c(95935);function W(N){return N.toString()}class s{constructor(C,x,f,_,S,h,y){this.beforeVersionId=C,this.afterVersionId=x,this.beforeEOL=f,this.afterEOL=_,this.beforeCursorState=S,this.afterCursorState=h,this.changes=y}static create(C,x){const f=C.getAlternativeVersionId(),_=E(C);return new s(f,f,_,_,x,x,[])}append(C,x,f,_,S){x.length>0&&(this.changes=(0,L.b)(this.changes,x)),this.afterEOL=f,this.afterVersionId=_,this.afterCursorState=S}static _writeSelectionsSize(C){return 4+4*4*(C?C.length:0)}static _writeSelections(C,x,f){if(J.T4(C,x?x.length:0,f),f+=4,x)for(const _ of x)J.T4(C,_.selectionStartLineNumber,f),f+=4,J.T4(C,_.selectionStartColumn,f),f+=4,J.T4(C,_.positionLineNumber,f),f+=4,J.T4(C,_.positionColumn,f),f+=4;return f}static _readSelections(C,x,f){const _=J.Ag(C,x);x+=4;for(let S=0;S<_;S++){const h=J.Ag(C,x);x+=4;const y=J.Ag(C,x);x+=4;const v=J.Ag(C,x);x+=4;const B=J.Ag(C,x);x+=4,f.push(new Q.Y(h,y,v,B))}return x}serialize(){let C=10+s._writeSelectionsSize(this.beforeCursorState)+s._writeSelectionsSize(this.afterCursorState)+4;for(const _ of this.changes)C+=_.writeSize();const x=new Uint8Array(C);let f=0;J.T4(x,this.beforeVersionId,f),f+=4,J.T4(x,this.afterVersionId,f),f+=4,J.Cg(x,this.beforeEOL,f),f+=1,J.Cg(x,this.afterEOL,f),f+=1,f=s._writeSelections(x,this.beforeCursorState,f),f=s._writeSelections(x,this.afterCursorState,f),J.T4(x,this.changes.length,f),f+=4;for(const _ of this.changes)f=_.write(x,f);return x.buffer}static deserialize(C){const x=new Uint8Array(C);let f=0;const _=J.Ag(x,f);f+=4;const S=J.Ag(x,f);f+=4;const h=J.Q$(x,f);f+=1;const y=J.Q$(x,f);f+=1;const v=[];f=s._readSelections(x,f,v);const B=[];f=s._readSelections(x,f,B);const j=J.Ag(x,f);f+=4;const te=[];for(let ce=0;ce<j;ce++)f=L.q.read(x,f,te);return new s(_,S,h,y,v,B,te)}}class T{constructor(C,x){this.model=C,this._data=s.create(C,x)}get type(){return 0}get resource(){return P.o.isUri(this.model)?this.model:this.model.uri}get label(){return D.N("edit","Typing")}toString(){return(this._data instanceof s?this._data:s.deserialize(this._data)).changes.map(x=>x.toString()).join(", ")}matchesResource(C){return(P.o.isUri(this.model)?this.model:this.model.uri).toString()===C.toString()}setModel(C){this.model=C}canAppend(C){return this.model===C&&this._data instanceof s}append(C,x,f,_,S){this._data instanceof s&&this._data.append(C,x,f,_,S)}close(){this._data instanceof s&&(this._data=this._data.serialize())}open(){this._data instanceof s||(this._data=s.deserialize(this._data))}undo(){if(P.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const C=s.deserialize(this._data);this.model._applyUndo(C.changes,C.beforeEOL,C.beforeVersionId,C.beforeCursorState)}redo(){if(P.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const C=s.deserialize(this._data);this.model._applyRedo(C.changes,C.afterEOL,C.afterVersionId,C.afterCursorState)}heapSize(){return this._data instanceof s&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{constructor(C,x){this.type=1,this.label=C,this._isOpen=!0,this._editStackElementsArr=x.slice(0),this._editStackElementsMap=new Map;for(const f of this._editStackElementsArr){const _=W(f.resource);this._editStackElementsMap.set(_,f)}this._delegate=null}get resources(){return this._editStackElementsArr.map(C=>C.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(C){const x=W(C);return this._editStackElementsMap.has(x)}setModel(C){const x=W(P.o.isUri(C)?C:C.uri);this._editStackElementsMap.has(x)&&this._editStackElementsMap.get(x).setModel(C)}canAppend(C){if(!this._isOpen)return!1;const x=W(C.uri);return this._editStackElementsMap.has(x)?this._editStackElementsMap.get(x).canAppend(C):!1}append(C,x,f,_,S){const h=W(C.uri);this._editStackElementsMap.get(h).append(C,x,f,_,S)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const C of this._editStackElementsArr)C.undo()}redo(){for(const C of this._editStackElementsArr)C.redo()}heapSize(C){const x=W(C);return this._editStackElementsMap.has(x)?this._editStackElementsMap.get(x).heapSize():0}split(){return this._editStackElementsArr}toString(){let C=[];for(const x of this._editStackElementsArr)C.push(`${(0,R.EZ)(x.resource)}: ${x}`);return`{${C.join(", ")}}`}}function E(N){return N.getEOL()===`
`?0:1}function H(N){return N?N instanceof T||N instanceof g:!1}class r{constructor(C,x){this._model=C,this._undoRedoService=x}pushStackElement(){const C=this._undoRedoService.getLastElement(this._model.uri);H(C)&&C.close()}popStackElement(){const C=this._undoRedoService.getLastElement(this._model.uri);H(C)&&C.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(C){const x=this._undoRedoService.getLastElement(this._model.uri);if(H(x)&&x.canAppend(this._model))return x;const f=new T(this._model,C);return this._undoRedoService.pushElement(f),f}pushEOL(C){const x=this._getOrCreateEditStackElement(null);this._model.setEOL(C),x.append(this._model,[],E(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(C,x,f){const _=this._getOrCreateEditStackElement(C),S=this._model.applyEdits(x,!0),h=r._computeCursorState(f,S),y=S.map((v,B)=>({index:B,textChange:v.textChange}));return y.sort((v,B)=>v.textChange.oldPosition===B.textChange.oldPosition?v.index-B.index:v.textChange.oldPosition-B.textChange.oldPosition),_.append(this._model,y.map(v=>v.textChange),E(this._model),this._model.getAlternativeVersionId(),h),h}static _computeCursorState(C,x){try{return C?C(x):null}catch(f){return(0,O.dL)(f),null}}}},60962:function(ti,Ge,c){"use strict";c.d(Ge,{b:function(){return L},q:function(){return P}});var D=c(53060),O=c(50072);function Q(R){return R.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class P{constructor(W,s,T,g){this.oldPosition=W,this.oldText=s,this.newPosition=T,this.newText=g}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Q(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Q(this.oldText)}")`:`(replace@${this.oldPosition} "${Q(this.oldText)}" with "${Q(this.newText)}")`}static _writeStringSize(W){return 4+2*W.length}static _writeString(W,s,T){const g=s.length;D.T4(W,g,T),T+=4;for(let E=0;E<g;E++)D.oq(W,s.charCodeAt(E),T),T+=2;return T}static _readString(W,s){const T=D.Ag(W,s);return s+=4,(0,O.kH)(W,s,T)}writeSize(){return 4+4+P._writeStringSize(this.oldText)+P._writeStringSize(this.newText)}write(W,s){return D.T4(W,this.oldPosition,s),s+=4,D.T4(W,this.newPosition,s),s+=4,s=P._writeString(W,this.oldText,s),s=P._writeString(W,this.newText,s),s}static read(W,s,T){const g=D.Ag(W,s);s+=4;const E=D.Ag(W,s);s+=4;const H=P._readString(W,s);s+=P._writeStringSize(H);const r=P._readString(W,s);return s+=P._writeStringSize(r),T.push(new P(g,H,E,r)),s}}function L(R,W){return R===null||R.length===0?W:new J(R,W).compress()}class J{constructor(W,s){this._prevEdits=W,this._currEdits=s,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let W=0,s=0,T=this._getPrev(W),g=this._getCurr(s);for(;W<this._prevLen||s<this._currLen;){if(T===null){this._acceptCurr(g),g=this._getCurr(++s);continue}if(g===null){this._acceptPrev(T),T=this._getPrev(++W);continue}if(g.oldEnd<=T.newPosition){this._acceptCurr(g),g=this._getCurr(++s);continue}if(T.newEnd<=g.oldPosition){this._acceptPrev(T),T=this._getPrev(++W);continue}if(g.oldPosition<T.newPosition){const[C,x]=J._splitCurr(g,T.newPosition-g.oldPosition);this._acceptCurr(C),g=x;continue}if(T.newPosition<g.oldPosition){const[C,x]=J._splitPrev(T,g.oldPosition-T.newPosition);this._acceptPrev(C),T=x;continue}let r,N;if(g.oldEnd===T.newEnd)r=T,N=g,T=this._getPrev(++W),g=this._getCurr(++s);else if(g.oldEnd<T.newEnd){const[C,x]=J._splitPrev(T,g.oldLength);r=C,N=g,T=x,g=this._getCurr(++s)}else{const[C,x]=J._splitCurr(g,T.newLength);r=T,N=C,T=this._getPrev(++W),g=x}this._result[this._resultLen++]=new P(r.oldPosition,r.oldText,N.newPosition,N.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=N.newLength-N.oldLength}const E=J._merge(this._result);return J._removeNoOps(E)}_acceptCurr(W){this._result[this._resultLen++]=J._rebaseCurr(this._prevDeltaOffset,W),this._currDeltaOffset+=W.newLength-W.oldLength}_getCurr(W){return W<this._currLen?this._currEdits[W]:null}_acceptPrev(W){this._result[this._resultLen++]=J._rebasePrev(this._currDeltaOffset,W),this._prevDeltaOffset+=W.newLength-W.oldLength}_getPrev(W){return W<this._prevLen?this._prevEdits[W]:null}static _rebaseCurr(W,s){return new P(s.oldPosition-W,s.oldText,s.newPosition,s.newText)}static _rebasePrev(W,s){return new P(s.oldPosition,s.oldText,s.newPosition+W,s.newText)}static _splitPrev(W,s){const T=W.newText.substr(0,s),g=W.newText.substr(s);return[new P(W.oldPosition,W.oldText,W.newPosition,T),new P(W.oldEnd,"",W.newPosition+s,g)]}static _splitCurr(W,s){const T=W.oldText.substr(0,s),g=W.oldText.substr(s);return[new P(W.oldPosition,T,W.newPosition,W.newText),new P(W.oldPosition+s,g,W.newEnd,"")]}static _merge(W){if(W.length===0)return W;let s=[],T=0,g=W[0];for(let E=1;E<W.length;E++){const H=W[E];g.oldEnd===H.oldPosition?g=new P(g.oldPosition,g.oldText+H.oldText,g.newPosition,g.newText+H.newText):(s[T++]=g,g=H)}return s[T++]=g,s}static _removeNoOps(W){if(W.length===0)return W;let s=[],T=0;for(let g=0;g<W.length;g++){const E=W[g];E.oldText!==E.newText&&(s[T++]=E)}return s}}},24979:function(ti,Ge,c){"use strict";c.d(Ge,{WE:function(){return si},qx:function(){return wi},yO:function(){return vt}});var D=c(17301),O=c(4669),Q=c(5976),P=c(97295),L=c(70666),J=c(64141),R=c(50187),W=c(24314),s=c(3860),T=c(84973),g=c(95215);class E{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function H(Be,d,M,U,re){re.spacesDiff=0,re.looksLikeAlignment=!1;let fe;for(fe=0;fe<d&&fe<U;fe++){let Ve=Be.charCodeAt(fe),Ze=M.charCodeAt(fe);if(Ve!==Ze)break}let Le=0,We=0;for(let Ve=fe;Ve<d;Ve++)Be.charCodeAt(Ve)===32?Le++:We++;let ut=0,Ot=0;for(let Ve=fe;Ve<U;Ve++)M.charCodeAt(Ve)===32?ut++:Ot++;if(Le>0&&We>0||ut>0&&Ot>0)return;let X=Math.abs(We-Ot),de=Math.abs(Le-ut);if(X===0){re.spacesDiff=de,de>0&&0<=ut-1&&ut-1<Be.length&&ut<M.length&&M.charCodeAt(ut)!==32&&Be.charCodeAt(ut-1)===32&&Be.charCodeAt(Be.length-1)===44&&(re.looksLikeAlignment=!0);return}if(de%X===0){re.spacesDiff=de/X;return}}function r(Be,d,M){const U=Math.min(Be.getLineCount(),1e4);let re=0,fe=0,Le="",We=0;const ut=[2,4,6,8,3,5,7],Ot=8;let X=[0,0,0,0,0,0,0,0,0],de=new E;for(let ze=1;ze<=U;ze++){let St=Be.getLineLength(ze),zt=Be.getLineContent(ze);const Wt=St<=65536;let hi=!1,gi=0,ri=0,Qt=0;for(let Li=0,Fi=St;Li<Fi;Li++){let tn=Wt?zt.charCodeAt(Li):Be.getLineCharCode(ze,Li);if(tn===9)Qt++;else if(tn===32)ri++;else{hi=!0,gi=Li;break}}if(!hi||(Qt>0?re++:ri>1&&fe++,H(Le,We,zt,gi,de),de.looksLikeAlignment&&!(M&&d===de.spacesDiff)))continue;let Zi=de.spacesDiff;Zi<=Ot&&X[Zi]++,Le=zt,We=gi}let Ve=M;re!==fe&&(Ve=re<fe);let Ze=d;if(Ve){let ze=Ve?0:.1*U;ut.forEach(St=>{let zt=X[St];zt>ze&&(ze=zt,Ze=St)}),Ze===4&&X[4]>0&&X[2]>0&&X[2]>=X[4]/2&&(Ze=2)}return{insertSpaces:Ve,tabSize:Ze}}function N(Be){return(Be.metadata&1)>>>0}function C(Be,d){Be.metadata=Be.metadata&254|d<<0}function x(Be){return(Be.metadata&2)>>>1===1}function f(Be,d){Be.metadata=Be.metadata&253|(d?1:0)<<1}function _(Be){return(Be.metadata&4)>>>2===1}function S(Be,d){Be.metadata=Be.metadata&251|(d?1:0)<<2}function h(Be){return(Be.metadata&24)>>>3}function y(Be,d){Be.metadata=Be.metadata&231|d<<3}function v(Be){return(Be.metadata&32)>>>5===1}function B(Be,d){Be.metadata=Be.metadata&223|(d?1:0)<<5}class j{constructor(d,M,U){this.metadata=0,this.parent=this,this.left=this,this.right=this,C(this,1),this.start=M,this.end=U,this.delta=0,this.maxEnd=U,this.id=d,this.ownerId=0,this.options=null,S(this,!1),y(this,1),B(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=U,this.range=null,f(this,!1)}reset(d,M,U,re){this.start=M,this.end=U,this.maxEnd=U,this.cachedVersionId=d,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=U,this.range=re}setOptions(d){this.options=d;let M=this.options.className;S(this,M==="squiggly-error"||M==="squiggly-warning"||M==="squiggly-info"),y(this,this.options.stickiness),B(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(d,M,U){this.cachedVersionId!==U&&(this.range=null),this.cachedVersionId=U,this.cachedAbsoluteStart=d,this.cachedAbsoluteEnd=M}detach(){this.parent=null,this.left=null,this.right=null}}const te=new j(null,0,0);te.parent=te,te.left=te,te.right=te,C(te,0);class ce{constructor(){this.root=te,this.requestNormalizeDelta=!1}intervalSearch(d,M,U,re,fe){return this.root===te?[]:m(this,d,M,U,re,fe)}search(d,M,U){return this.root===te?[]:ee(this,d,M,U)}collectNodesFromOwner(d){return $(this,d)}collectNodesPostOrder(){return G(this)}insert(d){w(this,d),this._normalizeDeltaIfNecessary()}delete(d){ie(this,d),this._normalizeDeltaIfNecessary()}resolveNode(d,M){const U=d;let re=0;for(;d!==this.root;)d===d.parent.right&&(re+=d.parent.delta),d=d.parent;const fe=U.start+re,Le=U.end+re;U.setCachedOffsets(fe,Le,M)}acceptReplace(d,M,U,re){const fe=le(this,d,d+M);for(let Le=0,We=fe.length;Le<We;Le++){const ut=fe[Le];ie(this,ut)}this._normalizeDeltaIfNecessary(),Y(this,d,d+M,U),this._normalizeDeltaIfNecessary();for(let Le=0,We=fe.length;Le<We;Le++){const ut=fe[Le];ut.start=ut.cachedAbsoluteStart,ut.end=ut.cachedAbsoluteEnd,Ee(ut,d,d+M,U,re),ut.maxEnd=ut.end,w(this,ut)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,_e(this))}}function _e(Be){let d=Be.root,M=0;for(;d!==te;){if(d.left!==te&&!x(d.left)){d=d.left;continue}if(d.right!==te&&!x(d.right)){M+=d.delta,d=d.right;continue}d.start=M+d.start,d.end=M+d.end,d.delta=0,Rt(d),f(d,!0),f(d.left,!1),f(d.right,!1),d===d.parent.right&&(M-=d.parent.delta),d=d.parent}f(Be.root,!1)}function Ce(Be,d,M,U){return Be<M?!0:Be>M||U===1?!1:U===2?!0:d}function Ee(Be,d,M,U,re){const fe=h(Be),Le=fe===0||fe===2,We=fe===1||fe===2,ut=M-d,Ot=U,X=Math.min(ut,Ot),de=Be.start;let Ve=!1;const Ze=Be.end;let ze=!1;d<=de&&Ze<=M&&v(Be)&&(Be.start=d,Ve=!0,Be.end=d,ze=!0);{const zt=re?1:ut>0?2:0;!Ve&&Ce(de,Le,d,zt)&&(Ve=!0),!ze&&Ce(Ze,We,d,zt)&&(ze=!0)}if(X>0&&!re){const zt=ut>Ot?2:0;!Ve&&Ce(de,Le,d+X,zt)&&(Ve=!0),!ze&&Ce(Ze,We,d+X,zt)&&(ze=!0)}{const zt=re?1:0;!Ve&&Ce(de,Le,M,zt)&&(Be.start=d+Ot,Ve=!0),!ze&&Ce(Ze,We,M,zt)&&(Be.end=d+Ot,ze=!0)}const St=Ot-ut;Ve||(Be.start=Math.max(0,de+St)),ze||(Be.end=Math.max(0,Ze+St)),Be.start>Be.end&&(Be.end=Be.start)}function le(Be,d,M){let U=Be.root,re=0,fe=0,Le=0,We=0,ut=[],Ot=0;for(;U!==te;){if(x(U)){f(U.left,!1),f(U.right,!1),U===U.parent.right&&(re-=U.parent.delta),U=U.parent;continue}if(!x(U.left)){if(fe=re+U.maxEnd,fe<d){f(U,!0);continue}if(U.left!==te){U=U.left;continue}}if(Le=re+U.start,Le>M){f(U,!0);continue}if(We=re+U.end,We>=d&&(U.setCachedOffsets(Le,We,0),ut[Ot++]=U),f(U,!0),U.right!==te&&!x(U.right)){re+=U.delta,U=U.right;continue}}return f(Be.root,!1),ut}function Y(Be,d,M,U){let re=Be.root,fe=0,Le=0,We=0;const ut=U-(M-d);for(;re!==te;){if(x(re)){f(re.left,!1),f(re.right,!1),re===re.parent.right&&(fe-=re.parent.delta),Rt(re),re=re.parent;continue}if(!x(re.left)){if(Le=fe+re.maxEnd,Le<d){f(re,!0);continue}if(re.left!==te){re=re.left;continue}}if(We=fe+re.start,We>M){re.start+=ut,re.end+=ut,re.delta+=ut,(re.delta<-1073741824||re.delta>1073741824)&&(Be.requestNormalizeDelta=!0),f(re,!0);continue}if(f(re,!0),re.right!==te&&!x(re.right)){fe+=re.delta,re=re.right;continue}}f(Be.root,!1)}function $(Be,d){let M=Be.root,U=[],re=0;for(;M!==te;){if(x(M)){f(M.left,!1),f(M.right,!1),M=M.parent;continue}if(M.left!==te&&!x(M.left)){M=M.left;continue}if(M.ownerId===d&&(U[re++]=M),f(M,!0),M.right!==te&&!x(M.right)){M=M.right;continue}}return f(Be.root,!1),U}function G(Be){let d=Be.root,M=[],U=0;for(;d!==te;){if(x(d)){f(d.left,!1),f(d.right,!1),d=d.parent;continue}if(d.left!==te&&!x(d.left)){d=d.left;continue}if(d.right!==te&&!x(d.right)){d=d.right;continue}M[U++]=d,f(d,!0)}return f(Be.root,!1),M}function ee(Be,d,M,U){let re=Be.root,fe=0,Le=0,We=0,ut=[],Ot=0;for(;re!==te;){if(x(re)){f(re.left,!1),f(re.right,!1),re===re.parent.right&&(fe-=re.parent.delta),re=re.parent;continue}if(re.left!==te&&!x(re.left)){re=re.left;continue}Le=fe+re.start,We=fe+re.end,re.setCachedOffsets(Le,We,U);let X=!0;if(d&&re.ownerId&&re.ownerId!==d&&(X=!1),M&&_(re)&&(X=!1),X&&(ut[Ot++]=re),f(re,!0),re.right!==te&&!x(re.right)){fe+=re.delta,re=re.right;continue}}return f(Be.root,!1),ut}function m(Be,d,M,U,re,fe){let Le=Be.root,We=0,ut=0,Ot=0,X=0,de=[],Ve=0;for(;Le!==te;){if(x(Le)){f(Le.left,!1),f(Le.right,!1),Le===Le.parent.right&&(We-=Le.parent.delta),Le=Le.parent;continue}if(!x(Le.left)){if(ut=We+Le.maxEnd,ut<d){f(Le,!0);continue}if(Le.left!==te){Le=Le.left;continue}}if(Ot=We+Le.start,Ot>M){f(Le,!0);continue}if(X=We+Le.end,X>=d){Le.setCachedOffsets(Ot,X,fe);let Ze=!0;U&&Le.ownerId&&Le.ownerId!==U&&(Ze=!1),re&&_(Le)&&(Ze=!1),Ze&&(de[Ve++]=Le)}if(f(Le,!0),Le.right!==te&&!x(Le.right)){We+=Le.delta,Le=Le.right;continue}}return f(Be.root,!1),de}function w(Be,d){if(Be.root===te)return d.parent=te,d.left=te,d.right=te,C(d,0),Be.root=d,Be.root;F(Be,d),mt(d.parent);let M=d;for(;M!==Be.root&&N(M.parent)===1;)if(M.parent===M.parent.parent.left){const U=M.parent.parent.right;N(U)===1?(C(M.parent,0),C(U,0),C(M.parent.parent,1),M=M.parent.parent):(M===M.parent.right&&(M=M.parent,ke(Be,M)),C(M.parent,0),C(M.parent.parent,1),Te(Be,M.parent.parent))}else{const U=M.parent.parent.left;N(U)===1?(C(M.parent,0),C(U,0),C(M.parent.parent,1),M=M.parent.parent):(M===M.parent.left&&(M=M.parent,Te(Be,M)),C(M.parent,0),C(M.parent.parent,1),ke(Be,M.parent.parent))}return C(Be.root,0),d}function F(Be,d){let M=0,U=Be.root;const re=d.start,fe=d.end;for(;;)if(Mt(re,fe,U.start+M,U.end+M)<0)if(U.left===te){d.start-=M,d.end-=M,d.maxEnd-=M,U.left=d;break}else U=U.left;else if(U.right===te){d.start-=M+U.delta,d.end-=M+U.delta,d.maxEnd-=M+U.delta,U.right=d;break}else M+=U.delta,U=U.right;d.parent=U,d.left=te,d.right=te,C(d,1)}function ie(Be,d){let M,U;if(d.left===te?(M=d.right,U=d,M.delta+=d.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Be.requestNormalizeDelta=!0),M.start+=d.delta,M.end+=d.delta):d.right===te?(M=d.left,U=d):(U=pe(d.right),M=U.right,M.start+=U.delta,M.end+=U.delta,M.delta+=U.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Be.requestNormalizeDelta=!0),U.start+=d.delta,U.end+=d.delta,U.delta=d.delta,(U.delta<-1073741824||U.delta>1073741824)&&(Be.requestNormalizeDelta=!0)),U===Be.root){Be.root=M,C(M,0),d.detach(),ue(),Rt(M),Be.root.parent=te;return}let re=N(U)===1;if(U===U.parent.left?U.parent.left=M:U.parent.right=M,U===d?M.parent=U.parent:(U.parent===d?M.parent=U:M.parent=U.parent,U.left=d.left,U.right=d.right,U.parent=d.parent,C(U,N(d)),d===Be.root?Be.root=U:d===d.parent.left?d.parent.left=U:d.parent.right=U,U.left!==te&&(U.left.parent=U),U.right!==te&&(U.right.parent=U)),d.detach(),re){mt(M.parent),U!==d&&(mt(U),mt(U.parent)),ue();return}mt(M),mt(M.parent),U!==d&&(mt(U),mt(U.parent));let fe;for(;M!==Be.root&&N(M)===0;)M===M.parent.left?(fe=M.parent.right,N(fe)===1&&(C(fe,0),C(M.parent,1),ke(Be,M.parent),fe=M.parent.right),N(fe.left)===0&&N(fe.right)===0?(C(fe,1),M=M.parent):(N(fe.right)===0&&(C(fe.left,0),C(fe,1),Te(Be,fe),fe=M.parent.right),C(fe,N(M.parent)),C(M.parent,0),C(fe.right,0),ke(Be,M.parent),M=Be.root)):(fe=M.parent.left,N(fe)===1&&(C(fe,0),C(M.parent,1),Te(Be,M.parent),fe=M.parent.left),N(fe.left)===0&&N(fe.right)===0?(C(fe,1),M=M.parent):(N(fe.left)===0&&(C(fe.right,0),C(fe,1),ke(Be,fe),fe=M.parent.left),C(fe,N(M.parent)),C(M.parent,0),C(fe.left,0),Te(Be,M.parent),M=Be.root));C(M,0),ue()}function pe(Be){for(;Be.left!==te;)Be=Be.left;return Be}function ue(){te.parent=te,te.delta=0,te.start=0,te.end=0}function ke(Be,d){const M=d.right;M.delta+=d.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Be.requestNormalizeDelta=!0),M.start+=d.delta,M.end+=d.delta,d.right=M.left,M.left!==te&&(M.left.parent=d),M.parent=d.parent,d.parent===te?Be.root=M:d===d.parent.left?d.parent.left=M:d.parent.right=M,M.left=d,d.parent=M,Rt(d),Rt(M)}function Te(Be,d){const M=d.left;d.delta-=M.delta,(d.delta<-1073741824||d.delta>1073741824)&&(Be.requestNormalizeDelta=!0),d.start-=M.delta,d.end-=M.delta,d.left=M.right,M.right!==te&&(M.right.parent=d),M.parent=d.parent,d.parent===te?Be.root=M:d===d.parent.right?d.parent.right=M:d.parent.left=M,M.right=d,d.parent=M,Rt(d),Rt(M)}function rt(Be){let d=Be.end;if(Be.left!==te){const M=Be.left.maxEnd;M>d&&(d=M)}if(Be.right!==te){const M=Be.right.maxEnd+Be.delta;M>d&&(d=M)}return d}function Rt(Be){Be.maxEnd=rt(Be)}function mt(Be){for(;Be!==te;){const d=rt(Be);if(Be.maxEnd===d)return;Be.maxEnd=d,Be=Be.parent}}function Mt(Be,d,M,U){return Be===M?d-U:Be-M}class it{constructor(d,M){this.piece=d,this.color=M,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Je)return Ae(this.right);let d=this;for(;d.parent!==Je&&d.parent.left!==d;)d=d.parent;return d.parent===Je?Je:d.parent}prev(){if(this.left!==Je)return ge(this.left);let d=this;for(;d.parent!==Je&&d.parent.right!==d;)d=d.parent;return d.parent===Je?Je:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Je=new it(null,0);Je.parent=Je,Je.left=Je,Je.right=Je,Je.color=0;function Ae(Be){for(;Be.left!==Je;)Be=Be.left;return Be}function ge(Be){for(;Be.right!==Je;)Be=Be.right;return Be}function Re(Be){return Be===Je?0:Be.size_left+Be.piece.length+Re(Be.right)}function ot(Be){return Be===Je?0:Be.lf_left+Be.piece.lineFeedCnt+ot(Be.right)}function dt(){Je.parent=Je}function lt(Be,d){let M=d.right;M.size_left+=d.size_left+(d.piece?d.piece.length:0),M.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=M.left,M.left!==Je&&(M.left.parent=d),M.parent=d.parent,d.parent===Je?Be.root=M:d.parent.left===d?d.parent.left=M:d.parent.right=M,M.left=d,d.parent=M}function Ie(Be,d){let M=d.left;d.left=M.right,M.right!==Je&&(M.right.parent=d),M.parent=d.parent,d.size_left-=M.size_left+(M.piece?M.piece.length:0),d.lf_left-=M.lf_left+(M.piece?M.piece.lineFeedCnt:0),d.parent===Je?Be.root=M:d===d.parent.right?d.parent.right=M:d.parent.left=M,M.right=d,d.parent=M}function Pe(Be,d){let M,U;if(d.left===Je?(U=d,M=U.right):d.right===Je?(U=d,M=U.left):(U=Ae(d.right),M=U.right),U===Be.root){Be.root=M,M.color=0,d.detach(),dt(),Be.root.parent=Je;return}let re=U.color===1;if(U===U.parent.left?U.parent.left=M:U.parent.right=M,U===d?(M.parent=U.parent,st(Be,M)):(U.parent===d?M.parent=U:M.parent=U.parent,st(Be,M),U.left=d.left,U.right=d.right,U.parent=d.parent,U.color=d.color,d===Be.root?Be.root=U:d===d.parent.left?d.parent.left=U:d.parent.right=U,U.left!==Je&&(U.left.parent=U),U.right!==Je&&(U.right.parent=U),U.size_left=d.size_left,U.lf_left=d.lf_left,st(Be,U)),d.detach(),M.parent.left===M){let Le=Re(M),We=ot(M);if(Le!==M.parent.size_left||We!==M.parent.lf_left){let ut=Le-M.parent.size_left,Ot=We-M.parent.lf_left;M.parent.size_left=Le,M.parent.lf_left=We,Xe(Be,M.parent,ut,Ot)}}if(st(Be,M.parent),re){dt();return}let fe;for(;M!==Be.root&&M.color===0;)M===M.parent.left?(fe=M.parent.right,fe.color===1&&(fe.color=0,M.parent.color=1,lt(Be,M.parent),fe=M.parent.right),fe.left.color===0&&fe.right.color===0?(fe.color=1,M=M.parent):(fe.right.color===0&&(fe.left.color=0,fe.color=1,Ie(Be,fe),fe=M.parent.right),fe.color=M.parent.color,M.parent.color=0,fe.right.color=0,lt(Be,M.parent),M=Be.root)):(fe=M.parent.left,fe.color===1&&(fe.color=0,M.parent.color=1,Ie(Be,M.parent),fe=M.parent.left),fe.left.color===0&&fe.right.color===0?(fe.color=1,M=M.parent):(fe.left.color===0&&(fe.right.color=0,fe.color=1,lt(Be,fe),fe=M.parent.left),fe.color=M.parent.color,M.parent.color=0,fe.left.color=0,Ie(Be,M.parent),M=Be.root));M.color=0,dt()}function ye(Be,d){for(st(Be,d);d!==Be.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const M=d.parent.parent.right;M.color===1?(d.parent.color=0,M.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,lt(Be,d)),d.parent.color=0,d.parent.parent.color=1,Ie(Be,d.parent.parent))}else{const M=d.parent.parent.left;M.color===1?(d.parent.color=0,M.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,Ie(Be,d)),d.parent.color=0,d.parent.parent.color=1,lt(Be,d.parent.parent))}Be.root.color=0}function Xe(Be,d,M,U){for(;d!==Be.root&&d!==Je;)d.parent.left===d&&(d.parent.size_left+=M,d.parent.lf_left+=U),d=d.parent}function st(Be,d){let M=0,U=0;if(d!==Be.root){for(;d!==Be.root&&d===d.parent.right;)d=d.parent;if(d!==Be.root)for(d=d.parent,M=Re(d.left)-d.size_left,U=ot(d.left)-d.lf_left,d.size_left+=M,d.lf_left+=U;d!==Be.root&&(M!==0||U!==0);)d.parent.left===d&&(d.parent.size_left+=M,d.parent.lf_left+=U),d=d.parent}}var Pt=c(77277);const qt=65535;function Ci(Be){let d;return Be[Be.length-1]<65536?d=new Uint16Array(Be.length):d=new Uint32Array(Be.length),d.set(Be,0),d}class ii{constructor(d,M,U,re,fe){this.lineStarts=d,this.cr=M,this.lf=U,this.crlf=re,this.isBasicASCII=fe}}function At(Be,d=!0){let M=[0],U=1;for(let re=0,fe=Be.length;re<fe;re++){const Le=Be.charCodeAt(re);Le===13?re+1<fe&&Be.charCodeAt(re+1)===10?(M[U++]=re+2,re++):M[U++]=re+1:Le===10&&(M[U++]=re+1)}return d?Ci(M):M}function Qi(Be,d){Be.length=0,Be[0]=0;let M=1,U=0,re=0,fe=0,Le=!0;for(let ut=0,Ot=d.length;ut<Ot;ut++){const X=d.charCodeAt(ut);X===13?ut+1<Ot&&d.charCodeAt(ut+1)===10?(fe++,Be[M++]=ut+2,ut++):(U++,Be[M++]=ut+1):X===10?(re++,Be[M++]=ut+1):Le&&X!==9&&(X<32||X>126)&&(Le=!1)}const We=new ii(Ci(Be),U,re,fe,Le);return Be.length=0,We}class ci{constructor(d,M,U,re,fe){this.bufferIndex=d,this.start=M,this.end=U,this.lineFeedCnt=re,this.length=fe}}class je{constructor(d,M){this.buffer=d,this.lineStarts=M}}class at{constructor(d,M){this._pieces=[],this._tree=d,this._BOM=M,this._index=0,d.root!==Je&&d.iterate(d.root,U=>(U!==Je&&this._pieces.push(U.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Ni{constructor(d){this._limit=d,this._cache=[]}get(d){for(let M=this._cache.length-1;M>=0;M--){let U=this._cache[M];if(U.nodeStartOffset<=d&&U.nodeStartOffset+U.node.piece.length>=d)return U}return null}get2(d){for(let M=this._cache.length-1;M>=0;M--){let U=this._cache[M];if(U.nodeStartLineNumber&&U.nodeStartLineNumber<d&&U.nodeStartLineNumber+U.node.piece.lineFeedCnt>=d)return U}return null}set(d){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(d)}validate(d){let M=!1,U=this._cache;for(let re=0;re<U.length;re++){let fe=U[re];if(fe.node.parent===null||fe.nodeStartOffset>=d){U[re]=null,M=!0;continue}}if(M){let re=[];for(const fe of U)fe!==null&&re.push(fe);this._cache=re}}}class fi{constructor(d,M,U){this.create(d,M,U)}create(d,M,U){this._buffers=[new je("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Je,this._lineCnt=1,this._length=0,this._EOL=M,this._EOLLength=M.length,this._EOLNormalized=U;let re=null;for(let fe=0,Le=d.length;fe<Le;fe++)if(d[fe].buffer.length>0){d[fe].lineStarts||(d[fe].lineStarts=At(d[fe].buffer));let We=new ci(fe+1,{line:0,column:0},{line:d[fe].lineStarts.length-1,column:d[fe].buffer.length-d[fe].lineStarts[d[fe].lineStarts.length-1]},d[fe].lineStarts.length-1,d[fe].buffer.length);this._buffers.push(d[fe]),re=this.rbInsertRight(re,We)}this._searchCache=new Ni(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(d){let M=qt,U=M-Math.floor(M/3),re=U*2,fe="",Le=0,We=[];if(this.iterate(this.root,ut=>{let Ot=this.getNodeContent(ut),X=Ot.length;if(Le<=U||Le+X<re)return fe+=Ot,Le+=X,!0;let de=fe.replace(/\r\n|\r|\n/g,d);return We.push(new je(de,At(de))),fe=Ot,Le=X,!0}),Le>0){let ut=fe.replace(/\r\n|\r|\n/g,d);We.push(new je(ut,At(ut)))}this.create(We,d,!0)}getEOL(){return this._EOL}setEOL(d){this._EOL=d,this._EOLLength=this._EOL.length,this.normalizeEOL(d)}createSnapshot(d){return new at(this,d)}getOffsetAt(d,M){let U=0,re=this.root;for(;re!==Je;)if(re.left!==Je&&re.lf_left+1>=d)re=re.left;else if(re.lf_left+re.piece.lineFeedCnt+1>=d){U+=re.size_left;let fe=this.getAccumulatedValue(re,d-re.lf_left-2);return U+=fe+M-1}else d-=re.lf_left+re.piece.lineFeedCnt,U+=re.size_left+re.piece.length,re=re.right;return U}getPositionAt(d){d=Math.floor(d),d=Math.max(0,d);let M=this.root,U=0,re=d;for(;M!==Je;)if(M.size_left!==0&&M.size_left>=d)M=M.left;else if(M.size_left+M.piece.length>=d){let fe=this.getIndexOf(M,d-M.size_left);if(U+=M.lf_left+fe.index,fe.index===0){let Le=this.getOffsetAt(U+1,1),We=re-Le;return new R.L(U+1,We+1)}return new R.L(U+1,fe.remainder+1)}else if(d-=M.size_left+M.piece.length,U+=M.lf_left+M.piece.lineFeedCnt,M.right===Je){let fe=this.getOffsetAt(U+1,1),Le=re-d-fe;return new R.L(U+1,Le+1)}else M=M.right;return new R.L(1,1)}getValueInRange(d,M){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return"";let U=this.nodeAt2(d.startLineNumber,d.startColumn),re=this.nodeAt2(d.endLineNumber,d.endColumn),fe=this.getValueInRange2(U,re);return M?M!==this._EOL||!this._EOLNormalized?fe.replace(/\r\n|\r|\n/g,M):M===this.getEOL()&&this._EOLNormalized?fe:fe.replace(/\r\n|\r|\n/g,M):fe}getValueInRange2(d,M){if(d.node===M.node){let We=d.node,ut=this._buffers[We.piece.bufferIndex].buffer,Ot=this.offsetInBuffer(We.piece.bufferIndex,We.piece.start);return ut.substring(Ot+d.remainder,Ot+M.remainder)}let U=d.node,re=this._buffers[U.piece.bufferIndex].buffer,fe=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start),Le=re.substring(fe+d.remainder,fe+U.piece.length);for(U=U.next();U!==Je;){let We=this._buffers[U.piece.bufferIndex].buffer,ut=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);if(U===M.node){Le+=We.substring(ut,ut+M.remainder);break}else Le+=We.substr(ut,U.piece.length);U=U.next()}return Le}getLinesContent(){let d=[],M=0,U="",re=!1;return this.iterate(this.root,fe=>{if(fe===Je)return!0;const Le=fe.piece;let We=Le.length;if(We===0)return!0;const ut=this._buffers[Le.bufferIndex].buffer,Ot=this._buffers[Le.bufferIndex].lineStarts,X=Le.start.line,de=Le.end.line;let Ve=Ot[X]+Le.start.column;if(re&&(ut.charCodeAt(Ve)===10&&(Ve++,We--),d[M++]=U,U="",re=!1,We===0))return!0;if(X===de)return!this._EOLNormalized&&ut.charCodeAt(Ve+We-1)===13?(re=!0,U+=ut.substr(Ve,We-1)):U+=ut.substr(Ve,We),!0;U+=this._EOLNormalized?ut.substring(Ve,Math.max(Ve,Ot[X+1]-this._EOLLength)):ut.substring(Ve,Ot[X+1]).replace(/(\r\n|\r|\n)$/,""),d[M++]=U;for(let Ze=X+1;Ze<de;Ze++)U=this._EOLNormalized?ut.substring(Ot[Ze],Ot[Ze+1]-this._EOLLength):ut.substring(Ot[Ze],Ot[Ze+1]).replace(/(\r\n|\r|\n)$/,""),d[M++]=U;return!this._EOLNormalized&&ut.charCodeAt(Ot[de]+Le.end.column-1)===13?(re=!0,Le.end.column===0?M--:U=ut.substr(Ot[de],Le.end.column-1)):U=ut.substr(Ot[de],Le.end.column),!0}),re&&(d[M++]=U,U=""),d[M++]=U,d}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(d){return this._lastVisitedLine.lineNumber===d?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=d,d===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(d):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(d,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(d).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(d){if(d.remainder===d.node.piece.length){let M=d.node.next();if(!M)return 0;let U=this._buffers[M.piece.bufferIndex],re=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);return U.buffer.charCodeAt(re)}else{let M=this._buffers[d.node.piece.bufferIndex],re=this.offsetInBuffer(d.node.piece.bufferIndex,d.node.piece.start)+d.remainder;return M.buffer.charCodeAt(re)}}getLineCharCode(d,M){let U=this.nodeAt2(d,M+1);return this._getCharCode(U)}getLineLength(d){if(d===this.getLineCount()){let M=this.getOffsetAt(d,1);return this.getLength()-M}return this.getOffsetAt(d+1,1)-this.getOffsetAt(d,1)-this._EOLLength}findMatchesInNode(d,M,U,re,fe,Le,We,ut,Ot,X,de){let Ve=this._buffers[d.piece.bufferIndex],Ze=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),ze=this.offsetInBuffer(d.piece.bufferIndex,fe),St=this.offsetInBuffer(d.piece.bufferIndex,Le),zt,Wt={line:0,column:0},hi,gi;M._wordSeparators?(hi=Ve.buffer.substring(ze,St),gi=ri=>ri+ze,M.reset(0)):(hi=Ve.buffer,gi=ri=>ri,M.reset(ze));do if(zt=M.next(hi),zt){if(gi(zt.index)>=St)return X;this.positionInBuffer(d,gi(zt.index)-Ze,Wt);let ri=this.getLineFeedCnt(d.piece.bufferIndex,fe,Wt),Qt=Wt.line===fe.line?Wt.column-fe.column+re:Wt.column+1,Zi=Qt+zt[0].length;if(de[X++]=(0,Pt.iE)(new W.e(U+ri,Qt,U+ri,Zi),zt,ut),gi(zt.index)+zt[0].length>=St||X>=Ot)return X}while(zt);return X}findMatchesLineByLine(d,M,U,re){const fe=[];let Le=0;const We=new Pt.sz(M.wordSeparators,M.regex);let ut=this.nodeAt2(d.startLineNumber,d.startColumn);if(ut===null)return[];let Ot=this.nodeAt2(d.endLineNumber,d.endColumn);if(Ot===null)return[];let X=this.positionInBuffer(ut.node,ut.remainder),de=this.positionInBuffer(Ot.node,Ot.remainder);if(ut.node===Ot.node)return this.findMatchesInNode(ut.node,We,d.startLineNumber,d.startColumn,X,de,M,U,re,Le,fe),fe;let Ve=d.startLineNumber,Ze=ut.node;for(;Ze!==Ot.node;){let St=this.getLineFeedCnt(Ze.piece.bufferIndex,X,Ze.piece.end);if(St>=1){let Wt=this._buffers[Ze.piece.bufferIndex].lineStarts,hi=this.offsetInBuffer(Ze.piece.bufferIndex,Ze.piece.start),gi=Wt[X.line+St],ri=Ve===d.startLineNumber?d.startColumn:1;if(Le=this.findMatchesInNode(Ze,We,Ve,ri,X,this.positionInBuffer(Ze,gi-hi),M,U,re,Le,fe),Le>=re)return fe;Ve+=St}let zt=Ve===d.startLineNumber?d.startColumn-1:0;if(Ve===d.endLineNumber){const Wt=this.getLineContent(Ve).substring(zt,d.endColumn-1);return Le=this._findMatchesInLine(M,We,Wt,d.endLineNumber,zt,Le,fe,U,re),fe}if(Le=this._findMatchesInLine(M,We,this.getLineContent(Ve).substr(zt),Ve,zt,Le,fe,U,re),Le>=re)return fe;Ve++,ut=this.nodeAt2(Ve,1),Ze=ut.node,X=this.positionInBuffer(ut.node,ut.remainder)}if(Ve===d.endLineNumber){let St=Ve===d.startLineNumber?d.startColumn-1:0;const zt=this.getLineContent(Ve).substring(St,d.endColumn-1);return Le=this._findMatchesInLine(M,We,zt,d.endLineNumber,St,Le,fe,U,re),fe}let ze=Ve===d.startLineNumber?d.startColumn:1;return Le=this.findMatchesInNode(Ot.node,We,Ve,ze,X,de,M,U,re,Le,fe),fe}_findMatchesInLine(d,M,U,re,fe,Le,We,ut,Ot){const X=d.wordSeparators;if(!ut&&d.simpleSearch){const Ve=d.simpleSearch,Ze=Ve.length,ze=U.length;let St=-Ze;for(;(St=U.indexOf(Ve,St+Ze))!==-1;)if((!X||(0,Pt.cM)(X,U,ze,St,Ze))&&(We[Le++]=new T.tk(new W.e(re,St+1+fe,re,St+1+Ze+fe),null),Le>=Ot))return Le;return Le}let de;M.reset(0);do if(de=M.next(U),de&&(We[Le++]=(0,Pt.iE)(new W.e(re,de.index+1+fe,re,de.index+1+de[0].length+fe),de,ut),Le>=Ot))return Le;while(de);return Le}insert(d,M,U=!1){if(this._EOLNormalized=this._EOLNormalized&&U,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Je){let{node:re,remainder:fe,nodeStartOffset:Le}=this.nodeAt(d),We=re.piece,ut=We.bufferIndex,Ot=this.positionInBuffer(re,fe);if(re.piece.bufferIndex===0&&We.end.line===this._lastChangeBufferPos.line&&We.end.column===this._lastChangeBufferPos.column&&Le+We.length===d&&M.length<qt){this.appendToNode(re,M),this.computeBufferMetadata();return}if(Le===d)this.insertContentToNodeLeft(M,re),this._searchCache.validate(d);else if(Le+re.piece.length>d){let X=[],de=new ci(We.bufferIndex,Ot,We.end,this.getLineFeedCnt(We.bufferIndex,Ot,We.end),this.offsetInBuffer(ut,We.end)-this.offsetInBuffer(ut,Ot));if(this.shouldCheckCRLF()&&this.endWithCR(M)&&this.nodeCharCodeAt(re,fe)===10){let St={line:de.start.line+1,column:0};de=new ci(de.bufferIndex,St,de.end,this.getLineFeedCnt(de.bufferIndex,St,de.end),de.length-1),M+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(M))if(this.nodeCharCodeAt(re,fe-1)===13){let St=this.positionInBuffer(re,fe-1);this.deleteNodeTail(re,St),M="\r"+M,re.piece.length===0&&X.push(re)}else this.deleteNodeTail(re,Ot);else this.deleteNodeTail(re,Ot);let Ve=this.createNewPieces(M);de.length>0&&this.rbInsertRight(re,de);let Ze=re;for(let ze=0;ze<Ve.length;ze++)Ze=this.rbInsertRight(Ze,Ve[ze]);this.deleteNodes(X)}else this.insertContentToNodeRight(M,re)}else{let re=this.createNewPieces(M),fe=this.rbInsertLeft(null,re[0]);for(let Le=1;Le<re.length;Le++)fe=this.rbInsertRight(fe,re[Le])}this.computeBufferMetadata()}delete(d,M){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",M<=0||this.root===Je)return;let U=this.nodeAt(d),re=this.nodeAt(d+M),fe=U.node,Le=re.node;if(fe===Le){let Ve=this.positionInBuffer(fe,U.remainder),Ze=this.positionInBuffer(fe,re.remainder);if(U.nodeStartOffset===d){if(M===fe.piece.length){let ze=fe.next();Pe(this,fe),this.validateCRLFWithPrevNode(ze),this.computeBufferMetadata();return}this.deleteNodeHead(fe,Ze),this._searchCache.validate(d),this.validateCRLFWithPrevNode(fe),this.computeBufferMetadata();return}if(U.nodeStartOffset+fe.piece.length===d+M){this.deleteNodeTail(fe,Ve),this.validateCRLFWithNextNode(fe),this.computeBufferMetadata();return}this.shrinkNode(fe,Ve,Ze),this.computeBufferMetadata();return}let We=[],ut=this.positionInBuffer(fe,U.remainder);this.deleteNodeTail(fe,ut),this._searchCache.validate(d),fe.piece.length===0&&We.push(fe);let Ot=this.positionInBuffer(Le,re.remainder);this.deleteNodeHead(Le,Ot),Le.piece.length===0&&We.push(Le);let X=fe.next();for(let Ve=X;Ve!==Je&&Ve!==Le;Ve=Ve.next())We.push(Ve);let de=fe.piece.length===0?fe.prev():fe;this.deleteNodes(We),this.validateCRLFWithNextNode(de),this.computeBufferMetadata()}insertContentToNodeLeft(d,M){let U=[];if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.startWithLF(M)){let Le=M.piece,We={line:Le.start.line+1,column:0},ut=new ci(Le.bufferIndex,We,Le.end,this.getLineFeedCnt(Le.bufferIndex,We,Le.end),Le.length-1);M.piece=ut,d+=`
`,Xe(this,M,-1,-1),M.piece.length===0&&U.push(M)}let re=this.createNewPieces(d),fe=this.rbInsertLeft(M,re[re.length-1]);for(let Le=re.length-2;Le>=0;Le--)fe=this.rbInsertLeft(fe,re[Le]);this.validateCRLFWithPrevNode(fe),this.deleteNodes(U)}insertContentToNodeRight(d,M){this.adjustCarriageReturnFromNext(d,M)&&(d+=`
`);let U=this.createNewPieces(d),re=this.rbInsertRight(M,U[0]),fe=re;for(let Le=1;Le<U.length;Le++)fe=this.rbInsertRight(fe,U[Le]);this.validateCRLFWithPrevNode(re)}positionInBuffer(d,M,U){let re=d.piece,fe=d.piece.bufferIndex,Le=this._buffers[fe].lineStarts,ut=Le[re.start.line]+re.start.column+M,Ot=re.start.line,X=re.end.line,de=0,Ve=0,Ze=0;for(;Ot<=X&&(de=Ot+(X-Ot)/2|0,Ze=Le[de],de!==X);)if(Ve=Le[de+1],ut<Ze)X=de-1;else if(ut>=Ve)Ot=de+1;else break;return U?(U.line=de,U.column=ut-Ze,null):{line:de,column:ut-Ze}}getLineFeedCnt(d,M,U){if(U.column===0)return U.line-M.line;let re=this._buffers[d].lineStarts;if(U.line===re.length-1)return U.line-M.line;let fe=re[U.line+1],Le=re[U.line]+U.column;if(fe>Le+1)return U.line-M.line;let We=Le-1;return this._buffers[d].buffer.charCodeAt(We)===13?U.line-M.line+1:U.line-M.line}offsetInBuffer(d,M){return this._buffers[d].lineStarts[M.line]+M.column}deleteNodes(d){for(let M=0;M<d.length;M++)Pe(this,d[M])}createNewPieces(d){if(d.length>qt){let X=[];for(;d.length>qt;){const Ve=d.charCodeAt(qt-1);let Ze;Ve===13||Ve>=55296&&Ve<=56319?(Ze=d.substring(0,qt-1),d=d.substring(qt-1)):(Ze=d.substring(0,qt),d=d.substring(qt));let ze=At(Ze);X.push(new ci(this._buffers.length,{line:0,column:0},{line:ze.length-1,column:Ze.length-ze[ze.length-1]},ze.length-1,Ze.length)),this._buffers.push(new je(Ze,ze))}let de=At(d);return X.push(new ci(this._buffers.length,{line:0,column:0},{line:de.length-1,column:d.length-de[de.length-1]},de.length-1,d.length)),this._buffers.push(new je(d,de)),X}let M=this._buffers[0].buffer.length;const U=At(d,!1);let re=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===M&&M!==0&&this.startWithLF(d)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},re=this._lastChangeBufferPos;for(let X=0;X<U.length;X++)U[X]+=M+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(U.slice(1)),this._buffers[0].buffer+="_"+d,M+=1}else{if(M!==0)for(let X=0;X<U.length;X++)U[X]+=M;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(U.slice(1)),this._buffers[0].buffer+=d}const fe=this._buffers[0].buffer.length;let Le=this._buffers[0].lineStarts.length-1,We=fe-this._buffers[0].lineStarts[Le],ut={line:Le,column:We},Ot=new ci(0,re,ut,this.getLineFeedCnt(0,re,ut),fe-M);return this._lastChangeBufferPos=ut,[Ot]}getLineRawContent(d,M=0){let U=this.root,re="",fe=this._searchCache.get2(d);if(fe){U=fe.node;let Le=this.getAccumulatedValue(U,d-fe.nodeStartLineNumber-1),We=this._buffers[U.piece.bufferIndex].buffer,ut=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);if(fe.nodeStartLineNumber+U.piece.lineFeedCnt===d)re=We.substring(ut+Le,ut+U.piece.length);else{let Ot=this.getAccumulatedValue(U,d-fe.nodeStartLineNumber);return We.substring(ut+Le,ut+Ot-M)}}else{let Le=0;const We=d;for(;U!==Je;)if(U.left!==Je&&U.lf_left>=d-1)U=U.left;else if(U.lf_left+U.piece.lineFeedCnt>d-1){let ut=this.getAccumulatedValue(U,d-U.lf_left-2),Ot=this.getAccumulatedValue(U,d-U.lf_left-1),X=this._buffers[U.piece.bufferIndex].buffer,de=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);return Le+=U.size_left,this._searchCache.set({node:U,nodeStartOffset:Le,nodeStartLineNumber:We-(d-1-U.lf_left)}),X.substring(de+ut,de+Ot-M)}else if(U.lf_left+U.piece.lineFeedCnt===d-1){let ut=this.getAccumulatedValue(U,d-U.lf_left-2),Ot=this._buffers[U.piece.bufferIndex].buffer,X=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);re=Ot.substring(X+ut,X+U.piece.length);break}else d-=U.lf_left+U.piece.lineFeedCnt,Le+=U.size_left+U.piece.length,U=U.right}for(U=U.next();U!==Je;){let Le=this._buffers[U.piece.bufferIndex].buffer;if(U.piece.lineFeedCnt>0){let We=this.getAccumulatedValue(U,0),ut=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);return re+=Le.substring(ut,ut+We-M),re}else{let We=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);re+=Le.substr(We,U.piece.length)}U=U.next()}return re}computeBufferMetadata(){let d=this.root,M=1,U=0;for(;d!==Je;)M+=d.lf_left+d.piece.lineFeedCnt,U+=d.size_left+d.piece.length,d=d.right;this._lineCnt=M,this._length=U,this._searchCache.validate(this._length)}getIndexOf(d,M){let U=d.piece,re=this.positionInBuffer(d,M),fe=re.line-U.start.line;if(this.offsetInBuffer(U.bufferIndex,U.end)-this.offsetInBuffer(U.bufferIndex,U.start)===M){let Le=this.getLineFeedCnt(d.piece.bufferIndex,U.start,re);if(Le!==fe)return{index:Le,remainder:0}}return{index:fe,remainder:re.column}}getAccumulatedValue(d,M){if(M<0)return 0;let U=d.piece,re=this._buffers[U.bufferIndex].lineStarts,fe=U.start.line+M+1;return fe>U.end.line?re[U.end.line]+U.end.column-re[U.start.line]-U.start.column:re[fe]-re[U.start.line]-U.start.column}deleteNodeTail(d,M){const U=d.piece,re=U.lineFeedCnt,fe=this.offsetInBuffer(U.bufferIndex,U.end),Le=M,We=this.offsetInBuffer(U.bufferIndex,Le),ut=this.getLineFeedCnt(U.bufferIndex,U.start,Le),Ot=ut-re,X=We-fe,de=U.length+X;d.piece=new ci(U.bufferIndex,U.start,Le,ut,de),Xe(this,d,X,Ot)}deleteNodeHead(d,M){const U=d.piece,re=U.lineFeedCnt,fe=this.offsetInBuffer(U.bufferIndex,U.start),Le=M,We=this.getLineFeedCnt(U.bufferIndex,Le,U.end),ut=this.offsetInBuffer(U.bufferIndex,Le),Ot=We-re,X=fe-ut,de=U.length+X;d.piece=new ci(U.bufferIndex,Le,U.end,We,de),Xe(this,d,X,Ot)}shrinkNode(d,M,U){const re=d.piece,fe=re.start,Le=re.end,We=re.length,ut=re.lineFeedCnt,Ot=M,X=this.getLineFeedCnt(re.bufferIndex,re.start,Ot),de=this.offsetInBuffer(re.bufferIndex,M)-this.offsetInBuffer(re.bufferIndex,fe);d.piece=new ci(re.bufferIndex,re.start,Ot,X,de),Xe(this,d,de-We,X-ut);let Ve=new ci(re.bufferIndex,U,Le,this.getLineFeedCnt(re.bufferIndex,U,Le),this.offsetInBuffer(re.bufferIndex,Le)-this.offsetInBuffer(re.bufferIndex,U)),Ze=this.rbInsertRight(d,Ve);this.validateCRLFWithPrevNode(Ze)}appendToNode(d,M){this.adjustCarriageReturnFromNext(M,d)&&(M+=`
`);const U=this.shouldCheckCRLF()&&this.startWithLF(M)&&this.endWithCR(d),re=this._buffers[0].buffer.length;this._buffers[0].buffer+=M;const fe=At(M,!1);for(let Ze=0;Ze<fe.length;Ze++)fe[Ze]+=re;if(U){let Ze=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:re-Ze}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(fe.slice(1));const Le=this._buffers[0].lineStarts.length-1,We=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Le],ut={line:Le,column:We},Ot=d.piece.length+M.length,X=d.piece.lineFeedCnt,de=this.getLineFeedCnt(0,d.piece.start,ut),Ve=de-X;d.piece=new ci(d.piece.bufferIndex,d.piece.start,ut,de,Ot),this._lastChangeBufferPos=ut,Xe(this,d,M.length,Ve)}nodeAt(d){let M=this.root,U=this._searchCache.get(d);if(U)return{node:U.node,nodeStartOffset:U.nodeStartOffset,remainder:d-U.nodeStartOffset};let re=0;for(;M!==Je;)if(M.size_left>d)M=M.left;else if(M.size_left+M.piece.length>=d){re+=M.size_left;let fe={node:M,remainder:d-M.size_left,nodeStartOffset:re};return this._searchCache.set(fe),fe}else d-=M.size_left+M.piece.length,re+=M.size_left+M.piece.length,M=M.right;return null}nodeAt2(d,M){let U=this.root,re=0;for(;U!==Je;)if(U.left!==Je&&U.lf_left>=d-1)U=U.left;else if(U.lf_left+U.piece.lineFeedCnt>d-1){let fe=this.getAccumulatedValue(U,d-U.lf_left-2),Le=this.getAccumulatedValue(U,d-U.lf_left-1);return re+=U.size_left,{node:U,remainder:Math.min(fe+M-1,Le),nodeStartOffset:re}}else if(U.lf_left+U.piece.lineFeedCnt===d-1){let fe=this.getAccumulatedValue(U,d-U.lf_left-2);if(fe+M-1<=U.piece.length)return{node:U,remainder:fe+M-1,nodeStartOffset:re};M-=U.piece.length-fe;break}else d-=U.lf_left+U.piece.lineFeedCnt,re+=U.size_left+U.piece.length,U=U.right;for(U=U.next();U!==Je;){if(U.piece.lineFeedCnt>0){let fe=this.getAccumulatedValue(U,0),Le=this.offsetOfNode(U);return{node:U,remainder:Math.min(M-1,fe),nodeStartOffset:Le}}else if(U.piece.length>=M-1){let fe=this.offsetOfNode(U);return{node:U,remainder:M-1,nodeStartOffset:fe}}else M-=U.piece.length;U=U.next()}return null}nodeCharCodeAt(d,M){if(d.piece.lineFeedCnt<1)return-1;let U=this._buffers[d.piece.bufferIndex],re=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start)+M;return U.buffer.charCodeAt(re)}offsetOfNode(d){if(!d)return 0;let M=d.size_left;for(;d!==this.root;)d.parent.right===d&&(M+=d.parent.size_left+d.parent.piece.length),d=d.parent;return M}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(d){if(typeof d=="string")return d.charCodeAt(0)===10;if(d===Je||d.piece.lineFeedCnt===0)return!1;let M=d.piece,U=this._buffers[M.bufferIndex].lineStarts,re=M.start.line,fe=U[re]+M.start.column;return re===U.length-1||U[re+1]>fe+1?!1:this._buffers[M.bufferIndex].buffer.charCodeAt(fe)===10}endWithCR(d){return typeof d=="string"?d.charCodeAt(d.length-1)===13:d===Je||d.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(d,d.piece.length-1)===13}validateCRLFWithPrevNode(d){if(this.shouldCheckCRLF()&&this.startWithLF(d)){let M=d.prev();this.endWithCR(M)&&this.fixCRLF(M,d)}}validateCRLFWithNextNode(d){if(this.shouldCheckCRLF()&&this.endWithCR(d)){let M=d.next();this.startWithLF(M)&&this.fixCRLF(d,M)}}fixCRLF(d,M){let U=[],re=this._buffers[d.piece.bufferIndex].lineStarts,fe;d.piece.end.column===0?fe={line:d.piece.end.line-1,column:re[d.piece.end.line]-re[d.piece.end.line-1]-1}:fe={line:d.piece.end.line,column:d.piece.end.column-1};const Le=d.piece.length-1,We=d.piece.lineFeedCnt-1;d.piece=new ci(d.piece.bufferIndex,d.piece.start,fe,We,Le),Xe(this,d,-1,-1),d.piece.length===0&&U.push(d);let ut={line:M.piece.start.line+1,column:0};const Ot=M.piece.length-1,X=this.getLineFeedCnt(M.piece.bufferIndex,ut,M.piece.end);M.piece=new ci(M.piece.bufferIndex,ut,M.piece.end,X,Ot),Xe(this,M,-1,-1),M.piece.length===0&&U.push(M);let de=this.createNewPieces(`\r
`);this.rbInsertRight(d,de[0]);for(let Ve=0;Ve<U.length;Ve++)Pe(this,U[Ve])}adjustCarriageReturnFromNext(d,M){if(this.shouldCheckCRLF()&&this.endWithCR(d)){let U=M.next();if(this.startWithLF(U)){if(d+=`
`,U.piece.length===1)Pe(this,U);else{const re=U.piece,fe={line:re.start.line+1,column:0},Le=re.length-1,We=this.getLineFeedCnt(re.bufferIndex,fe,re.end);U.piece=new ci(re.bufferIndex,fe,re.end,We,Le),Xe(this,U,-1,-1)}return!0}}return!1}iterate(d,M){if(d===Je)return M(Je);let U=this.iterate(d.left,M);return U&&M(d)&&this.iterate(d.right,M)}getNodeContent(d){if(d===Je)return"";let M=this._buffers[d.piece.bufferIndex],U,re=d.piece,fe=this.offsetInBuffer(re.bufferIndex,re.start),Le=this.offsetInBuffer(re.bufferIndex,re.end);return U=M.buffer.substring(fe,Le),U}getPieceContent(d){let M=this._buffers[d.bufferIndex],U=this.offsetInBuffer(d.bufferIndex,d.start),re=this.offsetInBuffer(d.bufferIndex,d.end);return M.buffer.substring(U,re)}rbInsertRight(d,M){let U=new it(M,1);if(U.left=Je,U.right=Je,U.parent=Je,U.size_left=0,U.lf_left=0,this.root===Je)this.root=U,U.color=0;else if(d.right===Je)d.right=U,U.parent=d;else{let fe=Ae(d.right);fe.left=U,U.parent=fe}return ye(this,U),U}rbInsertLeft(d,M){let U=new it(M,1);if(U.left=Je,U.right=Je,U.parent=Je,U.size_left=0,U.lf_left=0,this.root===Je)this.root=U,U.color=0;else if(d.left===Je)d.left=U,U.parent=d;else{let re=ge(d.left);re.right=U,U.parent=re}return ye(this,U),U}}var Wi=c(58409),Rn=c(60962);class zi extends Q.JT{constructor(d,M,U,re,fe,Le,We){super(),this._onDidChangeContent=this._register(new O.Q5),this._BOM=M,this._mightContainNonBasicASCII=!Le,this._mightContainRTL=re,this._mightContainUnusualLineTerminators=fe,this._pieceTree=new fi(d,U,We)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(d){return this._pieceTree.createSnapshot(d?this._BOM:"")}getOffsetAt(d,M){return this._pieceTree.getOffsetAt(d,M)}getPositionAt(d){return this._pieceTree.getPositionAt(d)}getRangeAt(d,M){let U=d+M;const re=this.getPositionAt(d),fe=this.getPositionAt(U);return new W.e(re.lineNumber,re.column,fe.lineNumber,fe.column)}getValueInRange(d,M=0){if(d.isEmpty())return"";const U=this._getEndOfLine(M);return this._pieceTree.getValueInRange(d,U)}getValueLengthInRange(d,M=0){if(d.isEmpty())return 0;if(d.startLineNumber===d.endLineNumber)return d.endColumn-d.startColumn;let U=this.getOffsetAt(d.startLineNumber,d.startColumn);return this.getOffsetAt(d.endLineNumber,d.endColumn)-U}getCharacterCountInRange(d,M=0){if(this._mightContainNonBasicASCII){let U=0;const re=d.startLineNumber,fe=d.endLineNumber;for(let Le=re;Le<=fe;Le++){const We=this.getLineContent(Le),ut=Le===re?d.startColumn-1:0,Ot=Le===fe?d.endColumn-1:We.length;for(let X=ut;X<Ot;X++)P.ZG(We.charCodeAt(X))?(U=U+1,X=X+1):U=U+1}return U+=this._getEndOfLine(M).length*(fe-re),U}return this.getValueLengthInRange(d,M)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(d){return this._pieceTree.getLineContent(d)}getLineCharCode(d,M){return this._pieceTree.getLineCharCode(d,M)}getLineLength(d){return this._pieceTree.getLineLength(d)}getLineFirstNonWhitespaceColumn(d){const M=P.LC(this.getLineContent(d));return M===-1?0:M+1}getLineLastNonWhitespaceColumn(d){const M=P.ow(this.getLineContent(d));return M===-1?0:M+2}_getEndOfLine(d){switch(d){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(d){this._pieceTree.setEOL(d)}applyEdits(d,M,U){let re=this._mightContainRTL,fe=this._mightContainUnusualLineTerminators,Le=this._mightContainNonBasicASCII,We=!0,ut=[];for(let St=0;St<d.length;St++){let zt=d[St];We&&zt._isTracked&&(We=!1);let Wt=zt.range;if(zt.text){let Zi=!0;Le||(Zi=!P.$i(zt.text),Le=Zi),!re&&Zi&&(re=P.Ut(zt.text)),!fe&&Zi&&(fe=P.ab(zt.text))}let hi="",gi=0,ri=0,Qt=0;if(zt.text){let Zi;[gi,ri,Qt,Zi]=(0,Wi.QZ)(zt.text);const Li=this.getEOL();Zi===0||Zi===(Li===`\r
`?2:1)?hi=zt.text:hi=zt.text.replace(/\r\n|\r|\n/g,Li)}ut[St]={sortIndex:St,identifier:zt.identifier||null,range:Wt,rangeOffset:this.getOffsetAt(Wt.startLineNumber,Wt.startColumn),rangeLength:this.getValueLengthInRange(Wt),text:hi,eolCount:gi,firstLineLength:ri,lastLineLength:Qt,forceMoveMarkers:!!zt.forceMoveMarkers,isAutoWhitespaceEdit:zt.isAutoWhitespaceEdit||!1}}ut.sort(zi._sortOpsAscending);let Ot=!1;for(let St=0,zt=ut.length-1;St<zt;St++){let Wt=ut[St].range.getEndPosition(),hi=ut[St+1].range.getStartPosition();if(hi.isBeforeOrEqual(Wt)){if(hi.isBefore(Wt))throw new Error("Overlapping ranges are not allowed!");Ot=!0}}We&&(ut=this._reduceOperations(ut));let X=U||M?zi._getInverseEditRanges(ut):[],de=[];if(M)for(let St=0;St<ut.length;St++){let zt=ut[St],Wt=X[St];if(zt.isAutoWhitespaceEdit&&zt.range.isEmpty())for(let hi=Wt.startLineNumber;hi<=Wt.endLineNumber;hi++){let gi="";hi===Wt.startLineNumber&&(gi=this.getLineContent(zt.range.startLineNumber),P.LC(gi)!==-1)||de.push({lineNumber:hi,oldContent:gi})}}let Ve=null;if(U){let St=0;Ve=[];for(let zt=0;zt<ut.length;zt++){const Wt=ut[zt],hi=X[zt],gi=this.getValueInRange(Wt.range),ri=Wt.rangeOffset+St;St+=Wt.text.length-gi.length,Ve[zt]={sortIndex:Wt.sortIndex,identifier:Wt.identifier,range:hi,text:gi,textChange:new Rn.q(Wt.rangeOffset,gi,ri,Wt.text)}}Ot||Ve.sort((zt,Wt)=>zt.sortIndex-Wt.sortIndex)}this._mightContainRTL=re,this._mightContainUnusualLineTerminators=fe,this._mightContainNonBasicASCII=Le;const Ze=this._doApplyEdits(ut);let ze=null;if(M&&de.length>0){de.sort((St,zt)=>zt.lineNumber-St.lineNumber),ze=[];for(let St=0,zt=de.length;St<zt;St++){let Wt=de[St].lineNumber;if(St>0&&de[St-1].lineNumber===Wt)continue;let hi=de[St].oldContent,gi=this.getLineContent(Wt);gi.length===0||gi===hi||P.LC(gi)!==-1||ze.push(Wt)}}return this._onDidChangeContent.fire(),new T.je(Ve,Ze,ze)}_reduceOperations(d){return d.length<1e3?d:[this._toSingleEditOperation(d)]}_toSingleEditOperation(d){let M=!1;const U=d[0].range,re=d[d.length-1].range,fe=new W.e(U.startLineNumber,U.startColumn,re.endLineNumber,re.endColumn);let Le=U.startLineNumber,We=U.startColumn;const ut=[];for(let Ze=0,ze=d.length;Ze<ze;Ze++){const St=d[Ze],zt=St.range;M=M||St.forceMoveMarkers,ut.push(this.getValueInRange(new W.e(Le,We,zt.startLineNumber,zt.startColumn))),St.text.length>0&&ut.push(St.text),Le=zt.endLineNumber,We=zt.endColumn}const Ot=ut.join(""),[X,de,Ve]=(0,Wi.QZ)(Ot);return{sortIndex:0,identifier:d[0].identifier,range:fe,rangeOffset:this.getOffsetAt(fe.startLineNumber,fe.startColumn),rangeLength:this.getValueLengthInRange(fe,0),text:Ot,eolCount:X,firstLineLength:de,lastLineLength:Ve,forceMoveMarkers:M,isAutoWhitespaceEdit:!1}}_doApplyEdits(d){d.sort(zi._sortOpsDescending);let M=[];for(let U=0;U<d.length;U++){let re=d[U];const fe=re.range.startLineNumber,Le=re.range.startColumn,We=re.range.endLineNumber,ut=re.range.endColumn;if(fe===We&&Le===ut&&re.text.length===0)continue;re.text?(this._pieceTree.delete(re.rangeOffset,re.rangeLength),this._pieceTree.insert(re.rangeOffset,re.text,!0)):this._pieceTree.delete(re.rangeOffset,re.rangeLength);const Ot=new W.e(fe,Le,We,ut);M.push({range:Ot,rangeLength:re.rangeLength,text:re.text,rangeOffset:re.rangeOffset,forceMoveMarkers:re.forceMoveMarkers})}return M}findMatchesLineByLine(d,M,U,re){return this._pieceTree.findMatchesLineByLine(d,M,U,re)}static _getInverseEditRanges(d){let M=[],U=0,re=0,fe=null;for(let Le=0,We=d.length;Le<We;Le++){let ut=d[Le],Ot,X;fe?fe.range.endLineNumber===ut.range.startLineNumber?(Ot=U,X=re+(ut.range.startColumn-fe.range.endColumn)):(Ot=U+(ut.range.startLineNumber-fe.range.endLineNumber),X=ut.range.startColumn):(Ot=ut.range.startLineNumber,X=ut.range.startColumn);let de;if(ut.text.length>0){const Ve=ut.eolCount+1;Ve===1?de=new W.e(Ot,X,Ot,X+ut.firstLineLength):de=new W.e(Ot,X,Ot+Ve-1,ut.lastLineLength+1)}else de=new W.e(Ot,X,Ot,X);U=de.endLineNumber,re=de.endColumn,M.push(de),fe=ut}return M}static _sortOpsAscending(d,M){let U=W.e.compareRangesUsingEnds(d.range,M.range);return U===0?d.sortIndex-M.sortIndex:U}static _sortOpsDescending(d,M){let U=W.e.compareRangesUsingEnds(d.range,M.range);return U===0?M.sortIndex-d.sortIndex:-U}}class as{constructor(d,M,U,re,fe,Le,We,ut,Ot){this._chunks=d,this._bom=M,this._cr=U,this._lf=re,this._crlf=fe,this._containsRTL=Le,this._containsUnusualLineTerminators=We,this._isBasicASCII=ut,this._normalizeEOL=Ot}_getEOL(d){const M=this._cr+this._lf+this._crlf,U=this._cr+this._crlf;return M===0?d===1?`
`:`\r
`:U>M/2?`\r
`:`
`}create(d){const M=this._getEOL(d);let U=this._chunks;if(this._normalizeEOL&&(M===`\r
`&&(this._cr>0||this._lf>0)||M===`
`&&(this._cr>0||this._crlf>0)))for(let fe=0,Le=U.length;fe<Le;fe++){let We=U[fe].buffer.replace(/\r\n|\r|\n/g,M),ut=At(We);U[fe]=new je(We,ut)}const re=new zi(U,this._bom,M,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:re,disposable:re}}}class Fn{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(d){if(d.length===0)return;this.chunks.length===0&&P.uS(d)&&(this.BOM=P.c1,d=d.substr(1));const M=d.charCodeAt(d.length-1);M===13||M>=55296&&M<=56319?(this._acceptChunk1(d.substr(0,d.length-1),!1),this._hasPreviousChar=!0,this._previousChar=M):(this._acceptChunk1(d,!1),this._hasPreviousChar=!1,this._previousChar=M)}_acceptChunk1(d,M){!M&&d.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+d):this._acceptChunk2(d))}_acceptChunk2(d){const M=Qi(this._tmpLineStarts,d);this.chunks.push(new je(d,M.lineStarts)),this.cr+=M.cr,this.lf+=M.lf,this.crlf+=M.crlf,this.isBasicASCII&&(this.isBasicASCII=M.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=P.Ut(d)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=P.ab(d))}finish(d=!0){return this._finish(),new as(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,d)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let d=this.chunks[this.chunks.length-1];d.buffer+=String.fromCharCode(this._previousChar);let M=At(d.buffer);d.lineStarts=M,this._previousChar===13&&this.cr++}}}var An=c(83256),$i=c(9488),Nn=c(78411),sn=c(10351),$e=c(28111),It=c(84013),xt=c(1432);class Qe{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(d){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,d&&this._setBeginState(0,d)}flush(d){this._reset(d)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(d){d<this._len&&(this._valid[d]=!1),d<this._invalidLineStartIndex&&(this._invalidLineStartIndex=d)}_isValid(d){return d<this._len?this._valid[d]:!1}getBeginState(d){return d<this._len?this._beginState[d]:null}_ensureLine(d){for(;d>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(d,M){M!==0&&(d+M>this._len&&(M=this._len-d),this._beginState.splice(d,M),this._valid.splice(d,M),this._len-=M)}_insertLines(d,M){if(M===0)return;const U=[],re=[];for(let fe=0;fe<M;fe++)U[fe]=null,re[fe]=!1;this._beginState=$i.Zv(this._beginState,d,U),this._valid=$i.Zv(this._valid,d,re),this._len+=M}_setValid(d,M){this._ensureLine(d),this._valid[d]=M}_setBeginState(d,M){this._ensureLine(d),this._beginState[d]=M}setEndState(d,M,U){if(this._setValid(M,!0),this._invalidLineStartIndex=M+1,M===d-1)return;const re=this.getBeginState(M+1);if(re===null||!U.equals(re)){this._setBeginState(M+1,U),this._invalidateLine(M+1);return}let fe=M+1;for(;fe<d&&this._isValid(fe);)fe++;this._invalidLineStartIndex=fe}setFakeTokens(d){this._setValid(d,!1)}applyEdits(d,M){const U=d.endLineNumber-d.startLineNumber,fe=Math.min(U,M);for(let Le=fe;Le>=0;Le--)this._invalidateLine(d.startLineNumber+Le-1);this._acceptDeleteRange(d),this._acceptInsertText(new R.L(d.startLineNumber,d.startColumn),M)}_acceptDeleteRange(d){d.startLineNumber-1>=this._len||this._deleteLines(d.startLineNumber,d.endLineNumber-d.startLineNumber)}_acceptInsertText(d,M){d.lineNumber-1>=this._len||this._insertLines(d.lineNumber,M)}}class tt extends Q.JT{constructor(d,M){super(),this._textModel=d,this._languageIdCodec=M,this._isDisposed=!1,this._tokenizationStateStore=new Qe,this._tokenizationSupport=null,this._register(sn.RW.onDidChange(U=>{const re=this._textModel.getLanguageId();U.changedLanguages.indexOf(re)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(U=>{if(U.isFlush){this._resetTokenizationState();return}for(let re=0,fe=U.changes.length;re<fe;re++){const Le=U.changes[re],[We]=(0,Wi.QZ)(Le.text);this._tokenizationStateStore.applyEdits(Le.range,We)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[d,M]=Nt(this._textModel);this._tokenizationSupport=d,this._tokenizationStateStore.flush(M),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&xt.xS(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){const d=this._textModel.getLineCount(),M=1,U=new Wi.DA,re=It.G.create(!1);let fe=-1;for(;this._hasLinesToTokenize()&&!(re.elapsed()>M||(fe=this._tokenizeOneInvalidLine(U),fe>=d)););this._beginBackgroundTokenization(),this._textModel.setTokens(U.tokens,!this._hasLinesToTokenize())}tokenizeViewport(d,M){const U=new Wi.DA;this._tokenizeViewport(U,d,M),this._textModel.setTokens(U.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(d){const M=new Wi.DA;this._updateTokensUntilLine(M,d),this._textModel.setTokens(M.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(d){if(!this._tokenizationSupport)return!0;const M=this._tokenizationStateStore.invalidLineStartIndex+1;return d>M?!1:d<M||this._textModel.getLineLength(d)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(d){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const M=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(d,M),M}_updateTokensUntilLine(d,M){if(!this._tokenizationSupport)return;const U=this._textModel.getLanguageId(),re=this._textModel.getLineCount(),fe=M-1;for(let Le=this._tokenizationStateStore.invalidLineStartIndex;Le<=fe;Le++){const We=this._textModel.getLineContent(Le+1),ut=this._tokenizationStateStore.getBeginState(Le),Ot=Tt(this._languageIdCodec,U,this._tokenizationSupport,We,!0,ut);d.add(Le+1,Ot.tokens),this._tokenizationStateStore.setEndState(re,Le,Ot.endState),Le=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(d,M,U){if(!this._tokenizationSupport||U<=this._tokenizationStateStore.invalidLineStartIndex)return;if(M<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(d,U);return}let re=this._textModel.getLineFirstNonWhitespaceColumn(M);const fe=[];let Le=null;for(let Ot=M-1;re>1&&Ot>=1;Ot--){const X=this._textModel.getLineFirstNonWhitespaceColumn(Ot);if(X!==0&&X<re){if(Le=this._tokenizationStateStore.getBeginState(Ot-1),Le)break;fe.push(this._textModel.getLineContent(Ot)),re=X}}Le||(Le=this._tokenizationSupport.getInitialState());const We=this._textModel.getLanguageId();let ut=Le;for(let Ot=fe.length-1;Ot>=0;Ot--)ut=Tt(this._languageIdCodec,We,this._tokenizationSupport,fe[Ot],!1,ut).endState;for(let Ot=M;Ot<=U;Ot++){const X=this._textModel.getLineContent(Ot),de=Tt(this._languageIdCodec,We,this._tokenizationSupport,X,!0,ut);d.add(Ot,de.tokens),this._tokenizationStateStore.setFakeTokens(Ot-1),ut=de.endState}}}function Nt(Be){const d=Be.getLanguageId();let M=Be.isTooLargeForTokenization()?null:sn.RW.get(d),U=null;if(M)try{U=M.getInitialState()}catch(re){(0,D.dL)(re),M=null}return[M,U]}function Tt(Be,d,M,U,re,fe){let Le=null;if(M)try{Le=M.tokenize2(U,re,fe.clone(),0)}catch(We){(0,D.dL)(We)}return Le||(Le=(0,$e.mh)(Be.encodeLanguageId(d),U,fe,0)),Nn.A.convertToEndOffset(Le.tokens,U.length),Le}var Yt=c(97461),ai=c(94660),Si=c(40764),qi=c(34227),ji=c(41264),Zn=c(64862);class Vi{constructor(d,M,U){this.range=d,this.nestingLevel=M,this.isInvalid=U}}class Xi{constructor(d,M,U,re){this.range=d,this.openingBracketRange=M,this.closingBracketRange=U,this.nestingLevel=re}}class wt extends Xi{constructor(d,M,U,re,fe){super(d,M,U,re),this.minVisibleColumnIndentation=fe}}class ht{constructor(d,M){this.lineCount=d,this.columnCount=M}toString(){return`${this.lineCount},${this.columnCount}`}}function Et(Be,d,M,U){return Be!==M?ft(M-Be,U):ft(0,U-d)}const He=0;function nt(Be){return Be===0}const pt=Math.pow(2,26);function ft(Be,d){return Be*pt+d}function oi(Be){const d=Be,M=Math.floor(d/pt),U=d-M*pt;return new ht(M,U)}function Hi(Be){return Math.floor(Be/pt)}function vi(Be){return Be}function Ii(Be,d){return d<pt?Be+d:Be-Be%pt+d}function Ui(Be,d){const M=Be,U=d;if(U-M<=0)return He;const fe=Math.floor(M/pt),Le=Math.floor(U/pt),We=U-Le*pt;if(fe===Le){const ut=M-fe*pt;return ft(0,We-ut)}else return ft(Le-fe,We)}function dn(Be,d){return Be<d}function gn(Be,d){return Be<=d}function Ri(Be,d){return Be>=d}function _i(Be){return ft(Be.lineNumber-1,Be.column-1)}function hn(Be,d){const M=Be,U=Math.floor(M/pt),re=M-U*pt,fe=d,Le=Math.floor(fe/pt),We=fe-Le*pt;return new W.e(U+1,re+1,Le+1,We+1)}function wn(Be){const d=(0,P.uq)(Be);return ft(d.length-1,d[d.length-1].length)}function Qn(Be){return Be}class os{constructor(d,M,U){this.startOffset=d,this.endOffset=M,this.newLength=U}}class Yn{constructor(d,M){this.documentLength=M,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=d.map(U=>Ts.from(U))}getOffsetBeforeChange(d){return this.adjustNextEdit(d),this.translateCurToOld(d)}getDistanceToNextChange(d){this.adjustNextEdit(d);const M=this.edits[this.nextEditIdx],U=M?this.translateOldToCur(M.offsetObj):this.documentLength;return Ui(d,U)}translateOldToCur(d){return d.lineCount===this.deltaLineIdxInOld?ft(d.lineCount+this.deltaOldToNewLineCount,d.columnCount+this.deltaOldToNewColumnCount):ft(d.lineCount+this.deltaOldToNewLineCount,d.columnCount)}translateCurToOld(d){const M=oi(d);return M.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?ft(M.lineCount-this.deltaOldToNewLineCount,M.columnCount-this.deltaOldToNewColumnCount):ft(M.lineCount-this.deltaOldToNewLineCount,M.columnCount)}adjustNextEdit(d){for(;this.nextEditIdx<this.edits.length;){const M=this.edits[this.nextEditIdx],U=this.translateOldToCur(M.endOffsetAfterObj);if(gn(U,d)){this.nextEditIdx++;const re=oi(U),fe=oi(this.translateOldToCur(M.endOffsetBeforeObj)),Le=re.lineCount-fe.lineCount;this.deltaOldToNewLineCount+=Le;const We=this.deltaLineIdxInOld===M.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,ut=re.columnCount-fe.columnCount;this.deltaOldToNewColumnCount=We+ut,this.deltaLineIdxInOld=M.endOffsetBeforeObj.lineCount}else break}}}class Ts{constructor(d,M,U){this.endOffsetBeforeObj=oi(M),this.endOffsetAfterObj=oi(Ii(d,U)),this.offsetObj=oi(d)}static from(d){return new Ts(d.startOffset,d.endOffset,d.newLength)}}var Co=c(47707);const Vs=new Array;class cs{constructor(d,M){this.items=d,this.additionalItems=M}static create(d,M){if(d<=128&&M.length===0){let U=cs.cache[d];return U||(U=new cs(d,M),cs.cache[d]=U),U}return new cs(d,M)}static getEmpty(){return this.empty}add(d,M){const U=M.getKey(d);let re=U>>5;if(re===0){const Le=1<<U|this.items;return Le===this.items?this:cs.create(Le,this.additionalItems)}re--;const fe=this.additionalItems.slice(0);for(;fe.length<re;)fe.push(0);return fe[re]|=1<<(U&31),cs.create(this.items,fe)}merge(d){const M=this.items|d.items;if(this.additionalItems===Vs&&d.additionalItems===Vs)return M===this.items?this:M===d.items?d:cs.create(M,Vs);const U=new Array;for(let re=0;re<Math.max(this.additionalItems.length,d.additionalItems.length);re++){const fe=this.additionalItems[re]||0,Le=d.additionalItems[re]||0;U.push(fe|Le)}return cs.create(M,U)}intersects(d){if(this.items&d.items)return!0;for(let M=0;M<Math.min(this.additionalItems.length,d.additionalItems.length);M++)if(this.additionalItems[M]&d.additionalItems[M])return!0;return!1}}cs.cache=new Array(129),cs.empty=cs.create(0,Vs);const oo={getKey(Be){return Be}};class to{constructor(){this.items=new Map}getKey(d){let M=this.items.get(d);return M===void 0&&(M=this.items.size,this.items.set(d,M)),M}}class Gs{constructor(d){this._length=d}get length(){return this._length}}class Ss extends Gs{constructor(d,M,U,re,fe){super(d),this.openingBracket=M,this.child=U,this.closingBracket=re,this.missingOpeningBracketIds=fe}static create(d,M,U){let re=d.length;return M&&(re=Ii(re,M.length)),U&&(re=Ii(re,U.length)),new Ss(re,d,M,U,M?M.missingOpeningBracketIds:cs.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=new Array;return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}canBeReused(d){return!(this.closingBracket===null||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new Ss(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,M){return this.child?this.child.computeMinIndentation(Ii(d,this.openingBracket.length),M):Number.MAX_SAFE_INTEGER}}class Rs extends Gs{constructor(d,M,U){super(d),this.listHeight=M,this._missingOpeningBracketIds=U,this.cachedMinIndentation=-1}static create23(d,M,U,re=!1){let fe=d.length,Le=d.missingOpeningBracketIds;if(d.listHeight!==M.listHeight)throw new Error("Invalid list heights");if(fe=Ii(fe,M.length),Le=Le.merge(M.missingOpeningBracketIds),U){if(d.listHeight!==U.listHeight)throw new Error("Invalid list heights");fe=Ii(fe,U.length),Le=Le.merge(U.missingOpeningBracketIds)}return re?new io(fe,d.listHeight+1,d,M,U,Le):new Hs(fe,d.listHeight+1,d,M,U,Le)}static getEmpty(){return new zs(He,0,[],cs.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(d===0)return;const M=this.getChild(d-1),U=M.kind===4?M.toMutable():M;return M!==U&&this.setChild(d-1,U),U}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const M=this.getChild(0),U=M.kind===4?M.toMutable():M;return M!==U&&this.setChild(0,U),U}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds))return!1;let M=this,U;for(;M.kind===4&&(U=M.childrenLength)>0;)M=M.getChild(U-1);return M.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let M=this.getChild(0).length,U=this.getChild(0).missingOpeningBracketIds;for(let re=1;re<d;re++){const fe=this.getChild(re);M=Ii(M,fe.length),U=U.merge(fe.missingOpeningBracketIds)}this._length=M,this._missingOpeningBracketIds=U,this.cachedMinIndentation=-1}computeMinIndentation(d,M){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let U=Number.MAX_SAFE_INTEGER,re=d;for(let fe=0;fe<this.childrenLength;fe++){const Le=this.getChild(fe);Le&&(U=Math.min(U,Le.computeMinIndentation(re,M)),re=Ii(re,Le.length))}return this.cachedMinIndentation=U,U}}class Hs extends Rs{constructor(d,M,U,re,fe,Le){super(d,M,Le),this._item1=U,this._item2=re,this._item3=fe}get childrenLength(){return this._item3!==null?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,M){switch(d){case 0:this._item1=M;return;case 1:this._item2=M;return;case 2:this._item3=M;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Hs(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class io extends Hs{toMutable(){return new Hs(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Ks extends Rs{constructor(d,M,U,re){super(d,M,re),this._children=U}get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,M){this._children[d]=M}get children(){return this._children}deepClone(){const d=new Array(this._children.length);for(let M=0;M<this._children.length;M++)d[M]=this._children[M].deepClone();return new Ks(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class zs extends Ks{toMutable(){return new Ks(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const ho=[];class jn extends Gs{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return ho}deepClone(){return this}}class lo extends jn{get kind(){return 0}get missingOpeningBracketIds(){return cs.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,M){const U=oi(d),re=(U.columnCount===0?U.lineCount:U.lineCount+1)+1,fe=Hi(Ii(d,this.length))+1;let Le=Number.MAX_SAFE_INTEGER;for(let We=re;We<=fe;We++){const ut=M.getLineFirstNonWhitespaceColumn(We),Ot=M.getLineContent(We);if(ut===0)continue;const X=Co.i.visibleColumnFromColumn(Ot,ut,M.getOptions().tabSize);Le=Math.min(Le,X)}return Le}}class ts extends jn{constructor(d){super(d)}static create(d){const M=d,U=ts.cacheByLength.get(M);if(U)return U;const re=new ts(d);return ts.cacheByLength.set(M,re),re}get kind(){return 1}get missingOpeningBracketIds(){return cs.getEmpty()}canBeReused(d){return!1}computeMinIndentation(d,M){return Number.MAX_SAFE_INTEGER}}ts.cacheByLength=new Map;class Un extends jn{constructor(d,M){super(M),this.missingOpeningBracketIds=d}get kind(){return 3}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,M){return Number.MAX_SAFE_INTEGER}}class Zs{constructor(d,M,U,re,fe){this.length=d,this.kind=M,this.bracketId=U,this.bracketIds=re,this.astNode=fe}}class Xn{constructor(d,M){this.textModel=d,this.bracketTokens=M,this.reader=new Ys(this.textModel,this.bracketTokens),this._offset=He,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return ft(this.textBufferLineCount,this.textBufferLastLineLength)}skip(d){this.didPeek=!1,this._offset=Ii(this._offset,d);const M=oi(this._offset);this.reader.setPosition(M.lineCount,M.columnCount)}read(){let d;return this.peeked?(this.didPeek=!1,d=this.peeked):d=this.reader.read(),d&&(this._offset=Ii(this._offset,d.length)),d}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Ys{constructor(d,M){this.textModel=d,this.bracketTokens=M,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}setPosition(d,M){d===this.lineIdx?(this.lineCharOffset=M,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=d,this.lineCharOffset=M,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const fe=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=fe.length,fe}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const d=this.lineIdx,M=this.lineCharOffset;let U=0;for(;;){const fe=this.lineTokens,Le=fe.getCount();let We=null;if(this.lineTokenOffset<Le){const ut=fe.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<Le&&ut===fe.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Ot=sn.NX.getTokenType(ut)===0,X=fe.getEndOffset(this.lineTokenOffset);if(Ot&&X!==this.lineCharOffset){const de=fe.getLanguageId(this.lineTokenOffset),Ve=this.line.substring(this.lineCharOffset,X),Ze=this.bracketTokens.getSingleLanguageBracketTokens(de),ze=Ze.regExpGlobal;if(ze){ze.lastIndex=0;const St=ze.exec(Ve);St&&(We=Ze.getToken(St[0]),We&&(this.lineCharOffset+=St.index))}}if(U+=X-this.lineCharOffset,We)if(d!==this.lineIdx||M!==this.lineCharOffset){this.peekedToken=We;break}else return this.lineCharOffset+=We.length,We;else this.lineTokenOffset++,this.lineCharOffset=X}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,U+=33,U>1e3))break;if(U>1500)break}const re=Et(d,M,this.lineIdx,this.lineCharOffset);return new Zs(re,0,-1,cs.getEmpty(),new lo(re))}}class xs{constructor(d,M){this.text=d,this._offset=He,this.idx=0;const re=M.getRegExpStr()?new RegExp(M.getRegExpStr()+`|
`,"g"):null,fe=[];let Le,We=0,ut=0,Ot=0,X=0;const de=new Array;for(let ze=0;ze<60;ze++)de.push(new Zs(ft(0,ze),0,-1,cs.getEmpty(),new lo(ft(0,ze))));const Ve=new Array;for(let ze=0;ze<60;ze++)Ve.push(new Zs(ft(1,ze),0,-1,cs.getEmpty(),new lo(ft(1,ze))));if(re)for(re.lastIndex=0;(Le=re.exec(d))!==null;){const ze=Le.index,St=Le[0];if(St===`
`)We++,ut=ze+1;else{if(Ot!==ze){let zt;if(X===We){const Wt=ze-Ot;if(Wt<de.length)zt=de[Wt];else{const hi=ft(0,Wt);zt=new Zs(hi,0,-1,cs.getEmpty(),new lo(hi))}}else{const Wt=We-X,hi=ze-ut;if(Wt===1&&hi<Ve.length)zt=Ve[hi];else{const gi=ft(Wt,hi);zt=new Zs(gi,0,-1,cs.getEmpty(),new lo(gi))}}fe.push(zt)}fe.push(M.getToken(St)),Ot=ze+St.length,X=We}}const Ze=d.length;if(Ot!==Ze){const ze=X===We?ft(0,Ze-Ot):ft(We-X,Ze-ut);fe.push(new Zs(ze,0,-1,cs.getEmpty(),new lo(ze)))}this.length=ft(We,Ze-ut),this.tokens=fe}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(d){throw new D.B8}}class Xs{constructor(d){this.map=d,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(d,M){function U(ut,Ot){return M.getKey(`${ut}:::${Ot}`)}const re=d.characterPair.getColorizedBrackets(),fe=new Map,Le=new Set;for(const[ut,Ot]of re){Le.add(ut);let X=fe.get(Ot);const de=U(d.languageId,ut);X||(X={openingBrackets:cs.getEmpty(),first:de},fe.set(Ot,X)),X.openingBrackets=X.openingBrackets.add(de,oo)}const We=new Map;for(const[ut,Ot]of fe){const X=ft(0,ut.length);We.set(ut,new Zs(X,2,Ot.first,Ot.openingBrackets,ts.create(X)))}for(const ut of Le){const Ot=ft(0,ut.length),X=U(d.languageId,ut);We.set(ut,new Zs(Ot,1,X,cs.getEmpty().add(X,oo),ts.create(Ot)))}return new Xs(We)}getRegExpStr(){if(this.isEmpty)return null;{const d=[...this.map.keys()];return d.sort(),d.reverse(),d.map(M=>pi(M)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const d=this.getRegExpStr();this._regExpGlobal=d?new RegExp(d,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(d){return this.map.get(d)}get isEmpty(){return this.map.size===0}}function pi(Be){const d=(0,P.ec)(Be);return/^[\w ]+$/.test(Be)?`\\b${d}\\b`:d}class me{constructor(d,M){this.denseKeyProvider=d,this.getLanguageConfiguration=M,this.languageIdToBracketTokens=new Map}didLanguageChange(d){const M=this.languageIdToBracketTokens.get(d);if(!M)return!1;const U=Xs.createFromLanguage(this.getLanguageConfiguration(d),this.denseKeyProvider).getRegExpStr();return M.getRegExpStr()!==U}getSingleLanguageBracketTokens(d){let M=this.languageIdToBracketTokens.get(d);return M||(M=Xs.createFromLanguage(this.getLanguageConfiguration(d),this.denseKeyProvider),this.languageIdToBracketTokens.set(d,M)),M}}function ct(Be){if(Be.length===0)return null;if(Be.length===1)return Be[0];let d=0;function M(){if(d>=Be.length)return null;const Le=d,We=Be[Le].listHeight;for(d++;d<Be.length&&Be[d].listHeight===We;)d++;return d-Le>=2?gt(Le===0&&d===Be.length?Be:Be.slice(Le,d),!1):Be[Le]}let U=M(),re=M();if(!re)return U;for(let Le=M();Le;Le=M())Bt(U,re)<=Bt(re,Le)?(U=Gt(U,re),re=Le):re=Gt(re,Le);return Gt(U,re)}function gt(Be,d=!1){if(Be.length===0)return null;if(Be.length===1)return Be[0];let M=Be.length;for(;M>3;){const U=M>>1;for(let re=0;re<U;re++){const fe=re<<1;Be[re]=Rs.create23(Be[fe],Be[fe+1],fe+3===M?Be[fe+2]:null,d)}M=U}return Rs.create23(Be[0],Be[1],M>=3?Be[2]:null,d)}function Bt(Be,d){return Math.abs(Be.listHeight-d.listHeight)}function Gt(Be,d){return Be.listHeight===d.listHeight?Rs.create23(Be,d,null,!1):Be.listHeight>d.listHeight?bi(Be,d):li(d,Be)}function bi(Be,d){Be=Be.toMutable();let M=Be;const U=new Array;let re;for(;;){if(d.listHeight===M.listHeight){re=d;break}if(M.kind!==4)throw new Error("unexpected");U.push(M),M=M.makeLastElementMutable()}for(let fe=U.length-1;fe>=0;fe--){const Le=U[fe];re?Le.childrenLength>=3?re=Rs.create23(Le.unappendChild(),re,null,!1):(Le.appendChildOfSameHeight(re),re=void 0):Le.handleChildrenChanged()}return re?Rs.create23(Be,re,null,!1):Be}function li(Be,d){Be=Be.toMutable();let M=Be;const U=new Array;for(;d.listHeight!==M.listHeight;){if(M.kind!==4)throw new Error("unexpected");U.push(M),M=M.makeFirstElementMutable()}let re=d;for(let fe=U.length-1;fe>=0;fe--){const Le=U[fe];re?Le.childrenLength>=3?re=Rs.create23(re,Le.unprependChild(),null,!1):(Le.prependChildOfSameHeight(re),re=void 0):Le.handleChildrenChanged()}return re?Rs.create23(re,Be,null,!1):Be}class ei{constructor(d){this.lastOffset=He,this.nextNodes=[d],this.offsets=[He],this.idxs=[]}readLongestNodeAt(d,M){if(dn(d,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=d;;){const U=Di(this.nextNodes);if(!U)return;const re=Di(this.offsets);if(dn(d,re))return;if(dn(re,d))if(Ii(re,U.length)<=d)this.nextNodeAfterCurrent();else{const fe=ki(U);fe!==-1?(this.nextNodes.push(U.getChild(fe)),this.offsets.push(re),this.idxs.push(fe)):this.nextNodeAfterCurrent()}else{if(M(U))return this.nextNodeAfterCurrent(),U;{const fe=ki(U);if(fe===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(U.getChild(fe)),this.offsets.push(re),this.idxs.push(fe)}}}}nextNodeAfterCurrent(){for(;;){const d=Di(this.offsets),M=Di(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const U=Di(this.nextNodes),re=ki(U,this.idxs[this.idxs.length-1]);if(re!==-1){this.nextNodes.push(U.getChild(re)),this.offsets.push(Ii(d,M.length)),this.idxs[this.idxs.length-1]=re;break}else this.idxs.pop()}}}function ki(Be,d=-1){for(;;){if(d++,d>=Be.childrenLength)return-1;if(Be.getChild(d))return d}}function Di(Be){return Be.length>0?Be[Be.length-1]:void 0}function Pn(Be,d,M,U){return new kt(Be,d,M,U).parseDocument()}class kt{constructor(d,M,U,re){if(this.tokenizer=d,this.createImmutableLists=re,this._itemsConstructed=0,this._itemsFromCache=0,U&&re)throw new Error("Not supported");this.oldNodeReader=U?new ei(U):void 0,this.positionMapper=new Yn(M,d.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let d=this.parseList(cs.getEmpty());return d||(d=Rs.getEmpty()),d}parseList(d){const M=new Array;for(;;){const re=this.tokenizer.peek();if(!re||re.kind===2&&re.bracketIds.intersects(d))break;const fe=this.parseChild(d);fe.kind===4&&fe.childrenLength===0||M.push(fe)}return this.oldNodeReader?ct(M):gt(M,this.createImmutableLists)}parseChild(d){if(this.oldNodeReader){const U=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!nt(U)){const re=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),fe=>dn(fe.length,U)?fe.canBeReused(d):!1);if(re)return this._itemsFromCache++,this.tokenizer.skip(re.length),re}}this._itemsConstructed++;const M=this.tokenizer.read();switch(M.kind){case 2:return new Un(M.bracketIds,M.length);case 0:return M.astNode;case 1:const U=d.merge(M.bracketIds),re=this.parseList(U),fe=this.tokenizer.peek();return fe&&fe.kind===2&&(fe.bracketId===M.bracketId||fe.bracketIds.intersects(M.bracketIds))?(this.tokenizer.read(),Ss.create(M.astNode,re,fe.astNode)):Ss.create(M.astNode,re,null);default:throw new Error("unexpected")}}}class V extends Q.JT{constructor(d,M){super(),this.textModel=d,this.languageConfigurationService=M,this.cache=this._register(new Q.XK),this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(d.onDidChangeOptions(U=>{this.cache.clear(),this.updateCache()})),this._register(d.onDidChangeLanguage(U=>{this.cache.clear(),this.updateCache()})),this._register(this.languageConfigurationService.onDidChange(U=>{var re;(!U.languageId||!((re=this.cache.value)===null||re===void 0)&&re.object.didLanguageChange(U.languageId))&&(this.cache.clear(),this.updateCache())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const d=new Q.SL;this.cache.value=ae(d.add(new Ne(this.textModel,M=>this.languageConfigurationService.getLanguageConfiguration(M))),d),d.add(this.cache.value.object.onDidChange(M=>this.onDidChangeEmitter.fire(M))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire()}handleContentChanged(d){var M;(M=this.cache.value)===null||M===void 0||M.object.handleContentChanged(d)}getBracketPairsInRange(d){var M;return this.bracketsRequested=!0,this.updateCache(),((M=this.cache.value)===null||M===void 0?void 0:M.object.getBracketPairsInRange(d,!1))||[]}getBracketPairsInRangeWithMinIndentation(d){var M;return this.bracketsRequested=!0,this.updateCache(),((M=this.cache.value)===null||M===void 0?void 0:M.object.getBracketPairsInRange(d,!0))||[]}getBracketsInRange(d){var M;return this.bracketsRequested=!0,this.updateCache(),((M=this.cache.value)===null||M===void 0?void 0:M.object.getBracketsInRange(d))||[]}}function ae(Be,d){return{object:Be,dispose:()=>d==null?void 0:d.dispose()}}class Ne extends Q.JT{constructor(d,M){if(super(),this.textModel=d,this.getLanguageConfiguration=M,this.didChangeEmitter=new O.Q5,this.denseKeyProvider=new to,this.brackets=new me(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(d.onBackgroundTokenizationStateChanged(()=>{if(d.backgroundTokenizationState===2){const U=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,U||this.didChangeEmitter.fire()}})),this._register(d.onDidChangeTokens(({ranges:U})=>{const re=U.map(fe=>new os(ft(fe.fromLineNumber-1,0),ft(fe.toLineNumber,0),ft(fe.toLineNumber-fe.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(re,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),d.backgroundTokenizationState===0){const U=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),re=new xs(this.textModel.getValue(),U);this.initialAstWithoutTokens=Pn(re,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else d.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):d.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(d){return this.brackets.didLanguageChange(d)}handleContentChanged(d){const M=d.changes.map(U=>{const re=W.e.lift(U.range);return new os(_i(re.getStartPosition()),_i(re.getEndPosition()),wn(U.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(M,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(M,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(d,M,U){const fe=M,Le=new Xn(this.textModel,this.brackets);return Pn(Le,d,fe,U)}getBracketsInRange(d){const M=ft(d.startLineNumber-1,d.startColumn-1),U=ft(d.endLineNumber-1,d.endColumn-1),re=new Array,fe=this.initialAstWithoutTokens||this.astWithTokens;return qe(fe,He,fe.length,M,U,re),re}getBracketPairsInRange(d,M){const U=new Array,re=_i(d.getStartPosition()),fe=_i(d.getEndPosition()),Le=this.initialAstWithoutTokens||this.astWithTokens,We=new bt(U,M,this.textModel);return $t(Le,He,Le.length,re,fe,We),U}}function qe(Be,d,M,U,re,fe,Le=0){if(Be.kind===1){const We=hn(d,M);fe.push(new Vi(We,Le-1,!1))}else if(Be.kind===3){const We=hn(d,M);fe.push(new Vi(We,Le-1,!0))}else if(Be.kind===4)for(const We of Be.children)M=Ii(d,We.length),gn(d,re)&&Ri(M,U)&&qe(We,d,M,U,re,fe,Le),d=M;else if(Be.kind===2){Le++;{const We=Be.openingBracket;M=Ii(d,We.length),gn(d,re)&&Ri(M,U)&&qe(We,d,M,U,re,fe,Le),d=M}if(Be.child){const We=Be.child;M=Ii(d,We.length),gn(d,re)&&Ri(M,U)&&qe(We,d,M,U,re,fe,Le),d=M}if(Be.closingBracket){const We=Be.closingBracket;M=Ii(d,We.length),gn(d,re)&&Ri(M,U)&&qe(We,d,M,U,re,fe,Le),d=M}}}class bt{constructor(d,M,U){this.result=d,this.includeMinIndentation=M,this.textModel=U}}function $t(Be,d,M,U,re,fe,Le=0){var We;if(Be.kind===2){const Ot=Ii(d,Be.openingBracket.length);let X=-1;fe.includeMinIndentation&&(X=Be.computeMinIndentation(d,fe.textModel)),fe.result.push(new wt(hn(d,M),hn(d,Ot),Be.closingBracket?hn(Ii(Ot,((We=Be.child)===null||We===void 0?void 0:We.length)||He),M):void 0,Le,X)),Le++}let ut=d;for(const Ot of Be.children){const X=ut;ut=Ii(ut,Ot.length),gn(X,re)&&gn(U,ut)&&$t(Ot,X,ut,U,re,fe,Le)}}var ni=c(27869),mi=c(97781);class Ai extends Q.JT{constructor(d){super(),this.textModel=d,this.colorProvider=new Ei,this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=d.getOptions().bracketPairColorizationOptions,this._register(d.onDidChangeOptions(M=>{this.colorizationOptions=d.getOptions().bracketPairColorizationOptions})),this._register(d.bracketPairs.onDidChange(M=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(d,M,U){if(M===void 0)return[];if(!this.colorizationOptions.enabled)return[];const re=new Array,fe=this.textModel.bracketPairs.getBracketsInRange(d);for(const Le of fe)re.push({id:`bracket${Le.range.toString()}-${Le.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Le)},ownerId:0,range:Le.range});return re}getAllDecorations(d,M){return d===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new W.e(1,1,this.textModel.getLineCount(),1),d,M):[]}}class Ei{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(d){return d.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(d.nestingLevel)}getInlineClassNameOfLevel(d){return`bracket-highlighting-${d%30}`}}(0,mi.Ic)((Be,d)=>{const M=[ni.zJ,ni.Vs,ni.CE,ni.UP,ni.r0,ni.m1],U=new Ei;d.addRule(`.monaco-editor .${U.unexpectedClosingBracketClassName} { color: ${Be.getColor(ni.ts)}; }`);let re=M.map(fe=>Be.getColor(fe)).filter(fe=>!!fe).filter(fe=>!fe.isTransparent());for(let fe=0;fe<30;fe++){const Le=re[fe%re.length];d.addRule(`.monaco-editor .${U.getInlineClassNameOfLevel(fe)} { color: ${Le}; }`)}});var Bi=c(71531),ln=function(Be,d,M,U){var re=arguments.length,fe=re<3?d:U===null?U=Object.getOwnPropertyDescriptor(d,M):U,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(Be,d,M,U);else for(var We=Be.length-1;We>=0;We--)(Le=Be[We])&&(fe=(re<3?Le(fe):re>3?Le(d,M,fe):Le(d,M))||fe);return re>3&&fe&&Object.defineProperty(d,M,fe),fe},Ti=function(Be,d){return function(M,U){d(M,U,Be)}};function on(){return new Fn}function en(Be){const d=on();return d.acceptChunk(Be),d.finish()}function pn(Be,d){return(typeof Be=="string"?en(Be):Be).create(d)}let $n=0;const Ds=999,Cn=1e4;class Kt{constructor(d){this._source=d,this._eos=!1}read(){if(this._eos)return null;let d=[],M=0,U=0;do{let re=this._source.read();if(re===null)return this._eos=!0,M===0?null:d.join("");if(re.length>0&&(d[M++]=re,U+=re.length),U>=64*1024)return d.join("")}while(!0)}}const ve=()=>{throw new Error("Invalid change accessor")};class Me{constructor(){this._searchCanceledBrand=void 0}}Me.INSTANCE=new Me;function Ue(Be){return Be instanceof Me?null:Be}let vt=class jr extends Q.JT{constructor(d,M,U,re=null,fe,Le,We){super(),this._undoRedoService=fe,this._modeService=Le,this._languageConfigurationService=We,this._onWillDispose=this._register(new O.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ls(Ve=>this.handleBeforeFireDecorationsChangedEvent(Ve))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new O.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new O.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new O.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new O.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new O.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Cs),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new O.Q5),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(Ve=>{this._onDidChangeContentOrInjectedText.fire(Ve.rawContentChangedEvent)})),$n++,this.id="$model"+$n,this.isForSimpleWidget=M.isForSimpleWidget,typeof re=="undefined"||re===null?this._associatedResource=L.o.parse("inmemory://model/"+$n):this._associatedResource=re,this._attachedEditorCount=0;const{textBuffer:ut,disposable:Ot}=pn(d,M.defaultEOL);this._buffer=ut,this._bufferDisposable=Ot,this._options=jr.resolveOptions(this._buffer,M);const X=this._buffer.getLineCount(),de=this._buffer.getValueLengthInRange(new W.e(1,1,X,this._buffer.getLineLength(X)+1),0);M.largeFileOptimizations?this._isTooLargeForTokenization=de>jr.LARGE_FILE_SIZE_THRESHOLD||X>jr.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=de>jr.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=U||$e.TG,this._languageRegistryListener=this._languageConfigurationService.onDidChange(Ve=>{Ve.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=P.PJ($n),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new xn,this._commandManager=new g.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Wi.Rl(this._modeService.languageIdCodec),this._tokens2=new Wi.cx(this._modeService.languageIdCodec),this._tokenization=new tt(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new V(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Ai(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(d,M){if(M.detectIndentation){const U=r(d,M.tabSize,M.insertSpaces);return new T.dJ({tabSize:U.tabSize,indentSize:U.tabSize,insertSpaces:U.insertSpaces,trimAutoWhitespace:M.trimAutoWhitespace,defaultEOL:M.defaultEOL,bracketPairColorizationOptions:M.bracketPairColorizationOptions})}return new T.dJ({tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,trimAutoWhitespace:M.trimAutoWhitespace,defaultEOL:M.defaultEOL,bracketPairColorizationOptions:M.bracketPairColorizationOptions})}onDidChangeContentFast(d){return this._eventEmitter.fastEvent(M=>d(M.contentChangedEvent))}onDidChangeContent(d){return this._eventEmitter.slowEvent(M=>d(M.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(d){if(this._backgroundTokenizationState===2)return;const M=d?2:1;this._backgroundTokenizationState!==M&&(this._backgroundTokenizationState=M,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const d=new zi([],"",`
`,!1,!1,!0,!0);d.dispose(),this._buffer=d}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(d,M){this._bracketPairColorizer.handleContentChanged(M),!this._isDisposing&&this._eventEmitter.fire(new An.fV(d,M))}setValue(d){if(this._assertNotDisposed(),d===null)return;const{textBuffer:M,disposable:U}=pn(d,this._options.defaultEOL);this._setValueFromTextBuffer(M,U)}_createContentChanged2(d,M,U,re,fe,Le,We){return{changes:[{range:d,rangeOffset:M,rangeLength:U,text:re}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:fe,isRedoing:Le,isFlush:We}}_setValueFromTextBuffer(d,M){this._assertNotDisposed();const U=this.getFullModelRange(),re=this.getValueLengthInRange(U),fe=this.getLineCount(),Le=this.getLineMaxColumn(fe);this._buffer=d,this._bufferDisposable.dispose(),this._bufferDisposable=M,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new xn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new An.dQ([new An.Jx],this._versionId,!1,!1),this._createContentChanged2(new W.e(1,1,fe,Le),0,re,this.getValue(),!1,!1,!0))}setEOL(d){this._assertNotDisposed();const M=d===1?`\r
`:`
`;if(this._buffer.getEOL()===M)return;const U=this.getFullModelRange(),re=this.getValueLengthInRange(U),fe=this.getLineCount(),Le=this.getLineMaxColumn(fe);this._onBeforeEOLChange(),this._buffer.setEOL(M),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new An.dQ([new An.CZ],this._versionId,!1,!1),this._createContentChanged2(new W.e(1,1,fe,Le),0,re,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const d=this.getVersionId(),M=this._decorationsTree.collectNodesPostOrder();for(let U=0,re=M.length;U<re;U++){const fe=M[U],Le=fe.range,We=fe.cachedAbsoluteStart-fe.start,ut=this._buffer.getOffsetAt(Le.startLineNumber,Le.startColumn),Ot=this._buffer.getOffsetAt(Le.endLineNumber,Le.endColumn);fe.cachedAbsoluteStart=ut,fe.cachedAbsoluteEnd=Ot,fe.cachedVersionId=d,fe.start=ut-We,fe.end=Ot-We,Rt(fe)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let d=0,M=0;const U=this._buffer.getLineCount();for(let re=1;re<=U;re++){const fe=this._buffer.getLineLength(re);fe>=Cn?M+=fe:d+=fe}return M>d}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(d){this._assertNotDisposed();let M=typeof d.tabSize!="undefined"?d.tabSize:this._options.tabSize,U=typeof d.indentSize!="undefined"?d.indentSize:this._options.indentSize,re=typeof d.insertSpaces!="undefined"?d.insertSpaces:this._options.insertSpaces,fe=typeof d.trimAutoWhitespace!="undefined"?d.trimAutoWhitespace:this._options.trimAutoWhitespace,Le=typeof d.bracketColorizationOptions!="undefined"?d.bracketColorizationOptions:this._options.bracketPairColorizationOptions,We=new T.dJ({tabSize:M,indentSize:U,insertSpaces:re,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:fe,bracketPairColorizationOptions:Le});if(this._options.equals(We))return;let ut=this._options.createChangeEvent(We);this._options=We,this._onDidChangeOptions.fire(ut)}detectIndentation(d,M){this._assertNotDisposed();let U=r(this._buffer,M,d);this.updateOptions({insertSpaces:U.insertSpaces,tabSize:U.tabSize,indentSize:U.tabSize})}static _normalizeIndentationFromWhitespace(d,M,U){let re=0;for(let Le=0;Le<d.length;Le++)d.charAt(Le)==="	"?re+=M:re++;let fe="";if(!U){let Le=Math.floor(re/M);re=re%M;for(let We=0;We<Le;We++)fe+="	"}for(let Le=0;Le<re;Le++)fe+=" ";return fe}static normalizeIndentation(d,M,U){let re=P.LC(d);return re===-1&&(re=d.length),jr._normalizeIndentationFromWhitespace(d.substring(0,re),M,U)+d.substring(re)}normalizeIndentation(d){return this._assertNotDisposed(),jr.normalizeIndentation(d,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(d=null){const M=this.findMatches(P.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(d,M.map(U=>({range:U.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(d){this._assertNotDisposed();let M=this._validatePosition(d.lineNumber,d.column,0);return this._buffer.getOffsetAt(M.lineNumber,M.column)}getPositionAt(d){this._assertNotDisposed();let M=Math.min(this._buffer.getLength(),Math.max(0,d));return this._buffer.getPositionAt(M)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(d){this._versionId=d}_overwriteAlternativeVersionId(d){this._alternativeVersionId=d}_overwriteInitialUndoRedoSnapshot(d){this._initialUndoRedoSnapshot=d}getValue(d,M=!1){this._assertNotDisposed();const U=this.getFullModelRange(),re=this.getValueInRange(U,d);return M?this._buffer.getBOM()+re:re}createSnapshot(d=!1){return new Kt(this._buffer.createSnapshot(d))}getValueLength(d,M=!1){this._assertNotDisposed();const U=this.getFullModelRange(),re=this.getValueLengthInRange(U,d);return M?this._buffer.getBOM().length+re:re}getValueInRange(d,M=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(d),M)}getValueLengthInRange(d,M=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(d),M)}getCharacterCountInRange(d,M=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(d),M)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(d)}getLineLength(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(d)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(d){return this._assertNotDisposed(),1}getLineMaxColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(d)+1}getLineFirstNonWhitespaceColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(d)}getLineLastNonWhitespaceColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(d)}_validateRangeRelaxedNoAllocations(d){const M=this._buffer.getLineCount(),U=d.startLineNumber,re=d.startColumn;let fe=Math.floor(typeof U=="number"&&!isNaN(U)?U:1),Le=Math.floor(typeof re=="number"&&!isNaN(re)?re:1);if(fe<1)fe=1,Le=1;else if(fe>M)fe=M,Le=this.getLineMaxColumn(fe);else if(Le<=1)Le=1;else{const de=this.getLineMaxColumn(fe);Le>=de&&(Le=de)}const We=d.endLineNumber,ut=d.endColumn;let Ot=Math.floor(typeof We=="number"&&!isNaN(We)?We:1),X=Math.floor(typeof ut=="number"&&!isNaN(ut)?ut:1);if(Ot<1)Ot=1,X=1;else if(Ot>M)Ot=M,X=this.getLineMaxColumn(Ot);else if(X<=1)X=1;else{const de=this.getLineMaxColumn(Ot);X>=de&&(X=de)}return U===fe&&re===Le&&We===Ot&&ut===X&&d instanceof W.e&&!(d instanceof s.Y)?d:new W.e(fe,Le,Ot,X)}_isValidPosition(d,M,U){if(typeof d!="number"||typeof M!="number"||isNaN(d)||isNaN(M)||d<1||M<1||(d|0)!==d||(M|0)!==M)return!1;const re=this._buffer.getLineCount();if(d>re)return!1;if(M===1)return!0;const fe=this.getLineMaxColumn(d);if(M>fe)return!1;if(U===1){const Le=this._buffer.getLineCharCode(d,M-2);if(P.ZG(Le))return!1}return!0}_validatePosition(d,M,U){const re=Math.floor(typeof d=="number"&&!isNaN(d)?d:1),fe=Math.floor(typeof M=="number"&&!isNaN(M)?M:1),Le=this._buffer.getLineCount();if(re<1)return new R.L(1,1);if(re>Le)return new R.L(Le,this.getLineMaxColumn(Le));if(fe<=1)return new R.L(re,1);const We=this.getLineMaxColumn(re);if(fe>=We)return new R.L(re,We);if(U===1){const ut=this._buffer.getLineCharCode(re,fe-2);if(P.ZG(ut))return new R.L(re,fe-1)}return new R.L(re,fe)}validatePosition(d){return this._assertNotDisposed(),d instanceof R.L&&this._isValidPosition(d.lineNumber,d.column,1)?d:this._validatePosition(d.lineNumber,d.column,1)}_isValidRange(d,M){const U=d.startLineNumber,re=d.startColumn,fe=d.endLineNumber,Le=d.endColumn;if(!this._isValidPosition(U,re,0)||!this._isValidPosition(fe,Le,0))return!1;if(M===1){const We=re>1?this._buffer.getLineCharCode(U,re-2):0,ut=Le>1&&Le<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,Le-2):0,Ot=P.ZG(We),X=P.ZG(ut);return!Ot&&!X}return!0}validateRange(d){if(this._assertNotDisposed(),d instanceof W.e&&!(d instanceof s.Y)&&this._isValidRange(d,1))return d;const U=this._validatePosition(d.startLineNumber,d.startColumn,0),re=this._validatePosition(d.endLineNumber,d.endColumn,0),fe=U.lineNumber,Le=U.column,We=re.lineNumber,ut=re.column;{const Ot=Le>1?this._buffer.getLineCharCode(fe,Le-2):0,X=ut>1&&ut<=this._buffer.getLineLength(We)?this._buffer.getLineCharCode(We,ut-2):0,de=P.ZG(Ot),Ve=P.ZG(X);return!de&&!Ve?new W.e(fe,Le,We,ut):fe===We&&Le===ut?new W.e(fe,Le-1,We,ut-1):de&&Ve?new W.e(fe,Le-1,We,ut+1):de?new W.e(fe,Le-1,We,ut):new W.e(fe,Le,We,ut+1)}return new W.e(fe,Le,We,ut)}modifyPosition(d,M){this._assertNotDisposed();let U=this.getOffsetAt(d)+M;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,U)))}getFullModelRange(){this._assertNotDisposed();const d=this.getLineCount();return new W.e(1,1,d,this.getLineMaxColumn(d))}findMatchesLineByLine(d,M,U,re){return this._buffer.findMatchesLineByLine(d,M,U,re)}findMatches(d,M,U,re,fe,Le,We=Ds){this._assertNotDisposed();let ut=null;M!==null&&(Array.isArray(M)||(M=[M]),M.every(de=>W.e.isIRange(de))&&(ut=M.map(de=>this.validateRange(de)))),ut===null&&(ut=[this.getFullModelRange()]),ut=ut.sort((de,Ve)=>de.startLineNumber-Ve.startLineNumber||de.startColumn-Ve.startColumn);const Ot=[];Ot.push(ut.reduce((de,Ve)=>W.e.areIntersecting(de,Ve)?de.plusRange(Ve):(Ot.push(de),Ve)));let X;if(!U&&d.indexOf(`
`)<0){const Ve=new Pt.bc(d,U,re,fe).parseSearchRequest();if(!Ve)return[];X=Ze=>this.findMatchesLineByLine(Ze,Ve,Le,We)}else X=de=>Pt.pM.findMatches(this,new Pt.bc(d,U,re,fe),de,Le,We);return Ot.map(X).reduce((de,Ve)=>de.concat(Ve),[])}findNextMatch(d,M,U,re,fe,Le){this._assertNotDisposed();const We=this.validatePosition(M);if(!U&&d.indexOf(`
`)<0){const Ot=new Pt.bc(d,U,re,fe).parseSearchRequest();if(!Ot)return null;const X=this.getLineCount();let de=new W.e(We.lineNumber,We.column,X,this.getLineMaxColumn(X)),Ve=this.findMatchesLineByLine(de,Ot,Le,1);return Pt.pM.findNextMatch(this,new Pt.bc(d,U,re,fe),We,Le),Ve.length>0||(de=new W.e(1,1,We.lineNumber,this.getLineMaxColumn(We.lineNumber)),Ve=this.findMatchesLineByLine(de,Ot,Le,1),Ve.length>0)?Ve[0]:null}return Pt.pM.findNextMatch(this,new Pt.bc(d,U,re,fe),We,Le)}findPreviousMatch(d,M,U,re,fe,Le){this._assertNotDisposed();const We=this.validatePosition(M);return Pt.pM.findPreviousMatch(this,new Pt.bc(d,U,re,fe),We,Le)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(d){if((this.getEOL()===`
`?0:1)!==d)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(d)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(d){return d instanceof T.Qi?d:new T.Qi(d.identifier||null,this.validateRange(d.range),d.text,d.forceMoveMarkers||!1,d.isAutoWhitespaceEdit||!1,d._isTracked||!1)}_validateEditOperations(d){const M=[];for(let U=0,re=d.length;U<re;U++)M[U]=this._validateEditOperation(d[U]);return M}pushEditOperations(d,M,U){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(d,this._validateEditOperations(M),U)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(d,M,U){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let re=M.map(Le=>({range:this.validateRange(Le.range),text:Le.text})),fe=!0;if(d)for(let Le=0,We=d.length;Le<We;Le++){let ut=d[Le],Ot=!1;for(let X=0,de=re.length;X<de;X++){let Ve=re[X].range,Ze=Ve.startLineNumber>ut.endLineNumber,ze=ut.startLineNumber>Ve.endLineNumber;if(!Ze&&!ze){Ot=!0;break}}if(!Ot){fe=!1;break}}if(fe)for(let Le=0,We=this._trimAutoWhitespaceLines.length;Le<We;Le++){let ut=this._trimAutoWhitespaceLines[Le],Ot=this.getLineMaxColumn(ut),X=!0;for(let de=0,Ve=re.length;de<Ve;de++){let Ze=re[de].range,ze=re[de].text;if(!(ut<Ze.startLineNumber||ut>Ze.endLineNumber)&&!(ut===Ze.startLineNumber&&Ze.startColumn===Ot&&Ze.isEmpty()&&ze&&ze.length>0&&ze.charAt(0)===`
`)&&!(ut===Ze.startLineNumber&&Ze.startColumn===1&&Ze.isEmpty()&&ze&&ze.length>0&&ze.charAt(ze.length-1)===`
`)){X=!1;break}}if(X){const de=new W.e(ut,1,ut,Ot);M.push(new T.Qi(null,de,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(d,M,U)}_applyUndo(d,M,U,re){const fe=d.map(Le=>{const We=this.getPositionAt(Le.newPosition),ut=this.getPositionAt(Le.newEnd);return{range:new W.e(We.lineNumber,We.column,ut.lineNumber,ut.column),text:Le.oldText}});this._applyUndoRedoEdits(fe,M,!0,!1,U,re)}_applyRedo(d,M,U,re){const fe=d.map(Le=>{const We=this.getPositionAt(Le.oldPosition),ut=this.getPositionAt(Le.oldEnd);return{range:new W.e(We.lineNumber,We.column,ut.lineNumber,ut.column),text:Le.newText}});this._applyUndoRedoEdits(fe,M,!1,!0,U,re)}_applyUndoRedoEdits(d,M,U,re,fe,Le){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=U,this._isRedoing=re,this.applyEdits(d,!1),this.setEOL(M),this._overwriteAlternativeVersionId(fe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Le),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(d,M=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const U=this._validateEditOperations(d);return this._doApplyEdits(U,M)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(d,M){const U=this._buffer.getLineCount(),re=this._buffer.applyEdits(d,this._options.trimAutoWhitespace,M),fe=this._buffer.getLineCount(),Le=re.changes;if(this._trimAutoWhitespaceLines=re.trimAutoWhitespaceLineNumbers,Le.length!==0){for(let Ot=0,X=Le.length;Ot<X;Ot++){const de=Le[Ot],[Ve,Ze,ze]=(0,Wi.QZ)(de.text);this._tokens.acceptEdit(de.range,Ve,Ze),this._tokens2.acceptEdit(de.range,Ve,Ze,ze,de.text.length>0?de.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(de.rangeOffset,de.rangeLength,de.text.length,de.forceMoveMarkers)}let We=[];this._increaseVersionId();let ut=U;for(let Ot=0,X=Le.length;Ot<X;Ot++){const de=Le[Ot],[Ve]=(0,Wi.QZ)(de.text);this._onDidChangeDecorations.fire();const Ze=de.range.startLineNumber,ze=de.range.endLineNumber,St=ze-Ze,zt=Ve,Wt=Math.min(St,zt),hi=zt-St,gi=fe-ut-hi+Ze,ri=gi,Qt=gi+zt,Zi=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new R.L(ri,1)),this.getOffsetAt(new R.L(Qt,this.getLineMaxColumn(Qt))),0),Li=An.gk.fromDecorations(Zi),Fi=new $i.H9(Li);for(let tn=Wt;tn>=0;tn--){const Tn=Ze+tn,kn=gi+tn;Fi.takeFromEndWhile(ns=>ns.lineNumber>kn);const Vn=Fi.takeFromEndWhile(ns=>ns.lineNumber===kn);We.push(new An.rU(Tn,this.getLineContent(kn),Vn))}if(Wt<St){const tn=Ze+Wt;We.push(new An.lN(tn+1,ze))}if(Wt<zt){const tn=new $i.H9(Li),Tn=Ze+Wt,kn=zt-Wt,Vn=fe-ut-kn+Tn+1;let ns=[],Ms=[];for(let fs=0;fs<kn;fs++){let Jn=Vn+fs;Ms[fs]=this.getLineContent(Jn),tn.takeWhile(Is=>Is.lineNumber<Jn),ns[fs]=tn.takeWhile(Is=>Is.lineNumber===Jn)}We.push(new An.Tx(Tn+1,Ze+zt,Ms,ns))}ut+=hi}this._emitContentChangedEvent(new An.dQ(We,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Le,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return re.reverseEdits===null?void 0:re.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(d){if(d===null||d.size===0)return;const U=[...d].map(re=>new An.rU(re,this.getLineContent(re),this._getInjectedTextInLine(re)));this._onDidChangeContentOrInjectedText.fire(new An.D8(U))}changeDecorations(d,M=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(M,d)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(d,M){let U={addDecoration:(fe,Le)=>this._deltaDecorationsImpl(d,[],[{range:fe,options:Le}])[0],changeDecoration:(fe,Le)=>{this._changeDecorationImpl(fe,Le)},changeDecorationOptions:(fe,Le)=>{this._changeDecorationOptionsImpl(fe,qn(Le))},removeDecoration:fe=>{this._deltaDecorationsImpl(d,[fe],[])},deltaDecorations:(fe,Le)=>fe.length===0&&Le.length===0?[]:this._deltaDecorationsImpl(d,fe,Le)},re=null;try{re=M(U)}catch(fe){(0,D.dL)(fe)}return U.addDecoration=ve,U.changeDecoration=ve,U.changeDecorationOptions=ve,U.removeDecoration=ve,U.deltaDecorations=ve,re}deltaDecorations(d,M,U=0){if(this._assertNotDisposed(),d||(d=[]),d.length===0&&M.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(U,d,M)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(d){return this.getDecorationRange(d)}_setTrackedRange(d,M,U){const re=d?this._decorations[d]:null;if(!re)return M?this._deltaDecorationsImpl(0,[],[{range:M,options:Ki[U]}])[0]:null;if(!M)return this._decorationsTree.delete(re),delete this._decorations[re.id],null;const fe=this._validateRangeRelaxedNoAllocations(M),Le=this._buffer.getOffsetAt(fe.startLineNumber,fe.startColumn),We=this._buffer.getOffsetAt(fe.endLineNumber,fe.endColumn);return this._decorationsTree.delete(re),re.reset(this.getVersionId(),Le,We,fe),re.setOptions(Ki[U]),this._decorationsTree.insert(re),re.id}removeAllDecorationsWithOwnerId(d){if(this._isDisposed)return;const M=this._decorationsTree.collectNodesFromOwner(d);for(let U=0,re=M.length;U<re;U++){const fe=M[U];this._decorationsTree.delete(fe),delete this._decorations[fe.id]}}getDecorationOptions(d){const M=this._decorations[d];return M?M.options:null}getDecorationRange(d){const M=this._decorations[d];return M?this._decorationsTree.getNodeRange(this,M):null}getLineDecorations(d,M=0,U=!1){return d<1||d>this.getLineCount()?[]:this.getLinesDecorations(d,d,M,U)}getLinesDecorations(d,M,U=0,re=!1){let fe=this.getLineCount(),Le=Math.min(fe,Math.max(1,d)),We=Math.min(fe,Math.max(1,M)),ut=this.getLineMaxColumn(We);const Ot=new W.e(Le,1,We,ut),X=this._getDecorationsInRange(Ot,U,re);return X.push(...this._decorationProvider.getDecorationsInRange(Ot,U,re)),X}getDecorationsInRange(d,M=0,U=!1){let re=this.validateRange(d);const fe=this._getDecorationsInRange(re,M,U);return fe.push(...this._decorationProvider.getDecorationsInRange(re,M,U)),fe}getOverviewRulerDecorations(d=0,M=!1){return this._decorationsTree.getAll(this,d,M,!0)}getInjectedTextDecorations(d=0){return this._decorationsTree.getAllInjectedText(this,d)}_getInjectedTextInLine(d){const M=this._buffer.getOffsetAt(d,1),U=M+this._buffer.getLineLength(d),re=this._decorationsTree.getInjectedTextInInterval(this,M,U,0);return An.gk.fromDecorations(re).filter(fe=>fe.lineNumber===d)}getAllDecorations(d=0,M=!1){let U=this._decorationsTree.getAll(this,d,M,!1);return U=U.concat(this._decorationProvider.getAllDecorations(d,M)),U}_getDecorationsInRange(d,M,U){const re=this._buffer.getOffsetAt(d.startLineNumber,d.startColumn),fe=this._buffer.getOffsetAt(d.endLineNumber,d.endColumn);return this._decorationsTree.getAllInInterval(this,re,fe,M,U)}getRangeAt(d,M){return this._buffer.getRangeAt(d,M-d)}_changeDecorationImpl(d,M){const U=this._decorations[d];if(!U)return;if(U.options.after){const We=this.getDecorationRange(d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.endLineNumber)}if(U.options.before){const We=this.getDecorationRange(d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.startLineNumber)}const re=this._validateRangeRelaxedNoAllocations(M),fe=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),Le=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);this._decorationsTree.delete(U),U.reset(this.getVersionId(),fe,Le,re),this._decorationsTree.insert(U),this._onDidChangeDecorations.checkAffectedAndFire(U.options),U.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.endLineNumber),U.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.startLineNumber)}_changeDecorationOptionsImpl(d,M){const U=this._decorations[d];if(!U)return;const re=!!(U.options.overviewRuler&&U.options.overviewRuler.color),fe=!!(M.overviewRuler&&M.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(U.options),this._onDidChangeDecorations.checkAffectedAndFire(M),U.options.after||M.after){const Le=this._decorationsTree.getNodeRange(this,U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.endLineNumber)}if(U.options.before||M.before){const Le=this._decorationsTree.getNodeRange(this,U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.startLineNumber)}re!==fe?(this._decorationsTree.delete(U),U.setOptions(M),this._decorationsTree.insert(U)):U.setOptions(M)}_deltaDecorationsImpl(d,M,U){const re=this.getVersionId(),fe=M.length;let Le=0;const We=U.length;let ut=0,Ot=new Array(We);for(;Le<fe||ut<We;){let X=null;if(Le<fe){do X=this._decorations[M[Le++]];while(!X&&Le<fe);if(X){if(X.options.after){const de=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.endLineNumber)}if(X.options.before){const de=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.startLineNumber)}this._decorationsTree.delete(X),this._onDidChangeDecorations.checkAffectedAndFire(X.options)}}if(ut<We){if(!X){const zt=++this._lastDecorationId,Wt=`${this._instanceId};${zt}`;X=new j(Wt,0,0),this._decorations[Wt]=X}const de=U[ut],Ve=this._validateRangeRelaxedNoAllocations(de.range),Ze=qn(de.options),ze=this._buffer.getOffsetAt(Ve.startLineNumber,Ve.startColumn),St=this._buffer.getOffsetAt(Ve.endLineNumber,Ve.endColumn);X.ownerId=d,X.reset(re,ze,St,Ve),X.setOptions(Ze),X.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.endLineNumber),X.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Ze),this._decorationsTree.insert(X),Ot[ut]=X.id,ut++}else X&&delete this._decorations[X.id]}return Ot}setTokens(d,M=!1){if(d.length!==0){let U=[];for(let re=0,fe=d.length;re<fe;re++){const Le=d[re];let We=0,ut=0,Ot=!1;for(let X=0,de=Le.tokens.length;X<de;X++){const Ve=Le.startLineNumber+X;Ot?(this._tokens.setTokens(this._languageId,Ve-1,this._buffer.getLineLength(Ve),Le.tokens[X],!1),ut=Ve):this._tokens.setTokens(this._languageId,Ve-1,this._buffer.getLineLength(Ve),Le.tokens[X],!0)&&(Ot=!0,We=Ve,ut=Ve)}Ot&&U.push({fromLineNumber:We,toLineNumber:ut})}U.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:U})}this.handleTokenizationProgress(M)}setSemanticTokens(d,M){this._tokens2.set(d,M),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(d,M){if(this.hasCompleteSemanticTokens())return;const U=this._tokens2.setPartial(d,M);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:U.startLineNumber,toLineNumber:U.endLineNumber}]})}tokenizeViewport(d,M){d=Math.max(1,d),M=Math.min(this._buffer.getLineCount(),M),this._tokenization.tokenizeViewport(d,M)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(d){this._isDisposing||this._onDidChangeTokens.fire(d)}resetTokenization(){this._tokenization.reset()}forceTokenization(d){if(d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(d)}isCheapToTokenize(d){return this._tokenization.isCheapToTokenize(d)}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){if(d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(d)}_getLineTokens(d){const M=this.getLineContent(d),U=this._tokens.getTokens(this._languageId,d-1,M);return this._tokens2.addSemanticTokens(d,U)}getLanguageId(){return this._languageId}setMode(d){if(this._languageId===d)return;let M={oldLanguage:this._languageId,newLanguage:d};this._languageId=d,this._onDidChangeLanguage.fire(M),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(d,M){const U=this.validatePosition(new R.L(d,M)),re=this.getLineTokens(U.lineNumber);return re.getLanguageId(re.findTokenIndexAtOffset(U.column-1))}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}getWordAtPosition(d){this._assertNotDisposed();const M=this.validatePosition(d),U=this.getLineContent(M.lineNumber),re=this._getLineTokens(M.lineNumber),fe=re.findTokenIndexAtOffset(M.column-1),[Le,We]=jr._findLanguageBoundaries(re,fe),ut=(0,Yt.t2)(M.column,this.getLanguageConfiguration(re.getLanguageId(fe)).getWordDefinition(),U.substring(Le,We),Le);if(ut&&ut.startColumn<=d.column&&d.column<=ut.endColumn)return ut;if(fe>0&&Le===M.column-1){const[Ot,X]=jr._findLanguageBoundaries(re,fe-1),de=(0,Yt.t2)(M.column,this.getLanguageConfiguration(re.getLanguageId(fe-1)).getWordDefinition(),U.substring(Ot,X),Ot);if(de&&de.startColumn<=d.column&&d.column<=de.endColumn)return de}return null}static _findLanguageBoundaries(d,M){const U=d.getLanguageId(M);let re=0;for(let Le=M;Le>=0&&d.getLanguageId(Le)===U;Le--)re=d.getStartOffset(Le);let fe=d.getLineContent().length;for(let Le=M,We=d.getCount();Le<We&&d.getLanguageId(Le)===U;Le++)fe=d.getEndOffset(Le);return[re,fe]}getWordUntilPosition(d){const M=this.getWordAtPosition(d);return M?{word:M.word.substr(0,d.column-M.startColumn),startColumn:M.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}findMatchingBracketUp(d,M){let U=d.toLowerCase(),re=this.validatePosition(M),fe=this._getLineTokens(re.lineNumber),Le=fe.getLanguageId(fe.findTokenIndexAtOffset(re.column-1)),We=this.getLanguageConfiguration(Le).brackets;if(!We)return null;let ut=We.textIsBracket[U];return ut?Ue(this._findMatchingBracketUp(ut,re,null)):null}matchBracket(d){return this._matchBracket(this.validatePosition(d))}_establishBracketSearchOffsets(d,M,U,re){const fe=M.getCount(),Le=M.getLanguageId(re);let We=Math.max(0,d.column-1-U.maxBracketLength);for(let Ot=re-1;Ot>=0;Ot--){const X=M.getEndOffset(Ot);if(X<=We)break;if((0,Si.Bu)(M.getStandardTokenType(Ot))||M.getLanguageId(Ot)!==Le){We=X;break}}let ut=Math.min(M.getLineContent().length,d.column-1+U.maxBracketLength);for(let Ot=re+1;Ot<fe;Ot++){const X=M.getStartOffset(Ot);if(X>=ut)break;if((0,Si.Bu)(M.getStandardTokenType(Ot))||M.getLanguageId(Ot)!==Le){ut=X;break}}return{searchStartOffset:We,searchEndOffset:ut}}_matchBracket(d){const M=d.lineNumber,U=this._getLineTokens(M),re=this._buffer.getLineContent(M),fe=U.findTokenIndexAtOffset(d.column-1);if(fe<0)return null;const Le=this.getLanguageConfiguration(U.getLanguageId(fe)).brackets;if(Le&&!(0,Si.Bu)(U.getStandardTokenType(fe))){let{searchStartOffset:We,searchEndOffset:ut}=this._establishBracketSearchOffsets(d,U,Le,fe),Ot=null;for(;;){const X=qi.Vr.findNextBracketInRange(Le.forwardRegex,M,re,We,ut);if(!X)break;if(X.startColumn<=d.column&&d.column<=X.endColumn){const de=re.substring(X.startColumn-1,X.endColumn-1).toLowerCase(),Ve=this._matchFoundBracket(X,Le.textIsBracket[de],Le.textIsOpenBracket[de],null);if(Ve){if(Ve instanceof Me)return null;Ot=Ve}}We=X.endColumn-1}if(Ot)return Ot}if(fe>0&&U.getStartOffset(fe)===d.column-1){const We=fe-1,ut=this.getLanguageConfiguration(U.getLanguageId(We)).brackets;if(ut&&!(0,Si.Bu)(U.getStandardTokenType(We))){let{searchStartOffset:Ot,searchEndOffset:X}=this._establishBracketSearchOffsets(d,U,ut,We);const de=qi.Vr.findPrevBracketInRange(ut.reversedRegex,M,re,Ot,X);if(de&&de.startColumn<=d.column&&d.column<=de.endColumn){const Ve=re.substring(de.startColumn-1,de.endColumn-1).toLowerCase(),Ze=this._matchFoundBracket(de,ut.textIsBracket[Ve],ut.textIsOpenBracket[Ve],null);if(Ze)return Ze instanceof Me?null:Ze}}}return null}_matchFoundBracket(d,M,U,re){if(!M)return null;const fe=U?this._findMatchingBracketDown(M,d.getEndPosition(),re):this._findMatchingBracketUp(M,d.getStartPosition(),re);return fe?fe instanceof Me?fe:[d,fe]:null}_findMatchingBracketUp(d,M,U){const re=d.languageId,fe=d.reversedRegex;let Le=-1,We=0;const ut=(Ot,X,de,Ve)=>{for(;;){if(U&&++We%100===0&&!U())return Me.INSTANCE;const Ze=qi.Vr.findPrevBracketInRange(fe,Ot,X,de,Ve);if(!Ze)break;const ze=X.substring(Ze.startColumn-1,Ze.endColumn-1).toLowerCase();if(d.isOpen(ze)?Le++:d.isClose(ze)&&Le--,Le===0)return Ze;Ve=Ze.startColumn-1}return null};for(let Ot=M.lineNumber;Ot>=1;Ot--){const X=this._getLineTokens(Ot),de=X.getCount(),Ve=this._buffer.getLineContent(Ot);let Ze=de-1,ze=Ve.length,St=Ve.length;Ot===M.lineNumber&&(Ze=X.findTokenIndexAtOffset(M.column-1),ze=M.column-1,St=M.column-1);let zt=!0;for(;Ze>=0;Ze--){const Wt=X.getLanguageId(Ze)===re&&!(0,Si.Bu)(X.getStandardTokenType(Ze));if(Wt)zt?ze=X.getStartOffset(Ze):(ze=X.getStartOffset(Ze),St=X.getEndOffset(Ze));else if(zt&&ze!==St){const hi=ut(Ot,Ve,ze,St);if(hi)return hi}zt=Wt}if(zt&&ze!==St){const Wt=ut(Ot,Ve,ze,St);if(Wt)return Wt}}return null}_findMatchingBracketDown(d,M,U){const re=d.languageId,fe=d.forwardRegex;let Le=1,We=0;const ut=(X,de,Ve,Ze)=>{for(;;){if(U&&++We%100===0&&!U())return Me.INSTANCE;const ze=qi.Vr.findNextBracketInRange(fe,X,de,Ve,Ze);if(!ze)break;const St=de.substring(ze.startColumn-1,ze.endColumn-1).toLowerCase();if(d.isOpen(St)?Le++:d.isClose(St)&&Le--,Le===0)return ze;Ve=ze.endColumn-1}return null},Ot=this.getLineCount();for(let X=M.lineNumber;X<=Ot;X++){const de=this._getLineTokens(X),Ve=de.getCount(),Ze=this._buffer.getLineContent(X);let ze=0,St=0,zt=0;X===M.lineNumber&&(ze=de.findTokenIndexAtOffset(M.column-1),St=M.column-1,zt=M.column-1);let Wt=!0;for(;ze<Ve;ze++){const hi=de.getLanguageId(ze)===re&&!(0,Si.Bu)(de.getStandardTokenType(ze));if(hi)Wt||(St=de.getStartOffset(ze)),zt=de.getEndOffset(ze);else if(Wt&&St!==zt){const gi=ut(X,Ze,St,zt);if(gi)return gi}Wt=hi}if(Wt&&St!==zt){const hi=ut(X,Ze,St,zt);if(hi)return hi}}return null}findPrevBracket(d){const M=this.validatePosition(d);let U=null,re=null;for(let fe=M.lineNumber;fe>=1;fe--){const Le=this._getLineTokens(fe),We=Le.getCount(),ut=this._buffer.getLineContent(fe);let Ot=We-1,X=ut.length,de=ut.length;if(fe===M.lineNumber){Ot=Le.findTokenIndexAtOffset(M.column-1),X=M.column-1,de=M.column-1;const Ze=Le.getLanguageId(Ot);U!==Ze&&(U=Ze,re=this.getLanguageConfiguration(U).brackets)}let Ve=!0;for(;Ot>=0;Ot--){const Ze=Le.getLanguageId(Ot);if(U!==Ze){if(re&&Ve&&X!==de){const St=qi.Vr.findPrevBracketInRange(re.reversedRegex,fe,ut,X,de);if(St)return this._toFoundBracket(re,St);Ve=!1}U=Ze,re=this.getLanguageConfiguration(U).brackets}const ze=!!re&&!(0,Si.Bu)(Le.getStandardTokenType(Ot));if(ze)Ve?X=Le.getStartOffset(Ot):(X=Le.getStartOffset(Ot),de=Le.getEndOffset(Ot));else if(re&&Ve&&X!==de){const St=qi.Vr.findPrevBracketInRange(re.reversedRegex,fe,ut,X,de);if(St)return this._toFoundBracket(re,St)}Ve=ze}if(re&&Ve&&X!==de){const Ze=qi.Vr.findPrevBracketInRange(re.reversedRegex,fe,ut,X,de);if(Ze)return this._toFoundBracket(re,Ze)}}return null}findNextBracket(d){const M=this.validatePosition(d),U=this.getLineCount();let re=null,fe=null;for(let Le=M.lineNumber;Le<=U;Le++){const We=this._getLineTokens(Le),ut=We.getCount(),Ot=this._buffer.getLineContent(Le);let X=0,de=0,Ve=0;if(Le===M.lineNumber){X=We.findTokenIndexAtOffset(M.column-1),de=M.column-1,Ve=M.column-1;const ze=We.getLanguageId(X);re!==ze&&(re=ze,fe=this.getLanguageConfiguration(re).brackets)}let Ze=!0;for(;X<ut;X++){const ze=We.getLanguageId(X);if(re!==ze){if(fe&&Ze&&de!==Ve){const zt=qi.Vr.findNextBracketInRange(fe.forwardRegex,Le,Ot,de,Ve);if(zt)return this._toFoundBracket(fe,zt);Ze=!1}re=ze,fe=this.getLanguageConfiguration(re).brackets}const St=!!fe&&!(0,Si.Bu)(We.getStandardTokenType(X));if(St)Ze||(de=We.getStartOffset(X)),Ve=We.getEndOffset(X);else if(fe&&Ze&&de!==Ve){const zt=qi.Vr.findNextBracketInRange(fe.forwardRegex,Le,Ot,de,Ve);if(zt)return this._toFoundBracket(fe,zt)}Ze=St}if(fe&&Ze&&de!==Ve){const ze=qi.Vr.findNextBracketInRange(fe.forwardRegex,Le,Ot,de,Ve);if(ze)return this._toFoundBracket(fe,ze)}}return null}findEnclosingBrackets(d,M){let U;if(typeof M=="undefined")U=null;else{const Ze=Date.now();U=()=>Date.now()-Ze<=M}const re=this.validatePosition(d),fe=this.getLineCount(),Le=new Map;let We=[];const ut=(Ze,ze)=>{if(!Le.has(Ze)){let St=[];for(let zt=0,Wt=ze?ze.brackets.length:0;zt<Wt;zt++)St[zt]=0;Le.set(Ze,St)}We=Le.get(Ze)};let Ot=0;const X=(Ze,ze,St,zt,Wt)=>{for(;;){if(U&&++Ot%100===0&&!U())return Me.INSTANCE;const hi=qi.Vr.findNextBracketInRange(Ze.forwardRegex,ze,St,zt,Wt);if(!hi)break;const gi=St.substring(hi.startColumn-1,hi.endColumn-1).toLowerCase(),ri=Ze.textIsBracket[gi];if(ri&&(ri.isOpen(gi)?We[ri.index]++:ri.isClose(gi)&&We[ri.index]--,We[ri.index]===-1))return this._matchFoundBracket(hi,ri,!1,U);zt=hi.endColumn-1}return null};let de=null,Ve=null;for(let Ze=re.lineNumber;Ze<=fe;Ze++){const ze=this._getLineTokens(Ze),St=ze.getCount(),zt=this._buffer.getLineContent(Ze);let Wt=0,hi=0,gi=0;if(Ze===re.lineNumber){Wt=ze.findTokenIndexAtOffset(re.column-1),hi=re.column-1,gi=re.column-1;const Qt=ze.getLanguageId(Wt);de!==Qt&&(de=Qt,Ve=this.getLanguageConfiguration(de).brackets,ut(de,Ve))}let ri=!0;for(;Wt<St;Wt++){const Qt=ze.getLanguageId(Wt);if(de!==Qt){if(Ve&&ri&&hi!==gi){const Li=X(Ve,Ze,zt,hi,gi);if(Li)return Ue(Li);ri=!1}de=Qt,Ve=this.getLanguageConfiguration(de).brackets,ut(de,Ve)}const Zi=!!Ve&&!(0,Si.Bu)(ze.getStandardTokenType(Wt));if(Zi)ri||(hi=ze.getStartOffset(Wt)),gi=ze.getEndOffset(Wt);else if(Ve&&ri&&hi!==gi){const Li=X(Ve,Ze,zt,hi,gi);if(Li)return Ue(Li)}ri=Zi}if(Ve&&ri&&hi!==gi){const Qt=X(Ve,Ze,zt,hi,gi);if(Qt)return Ue(Qt)}}return null}_toFoundBracket(d,M){if(!M)return null;let U=this.getValueInRange(M);U=U.toLowerCase();let re=d.textIsBracket[U];return re?{range:M,open:re.open,close:re.close,isOpen:d.textIsOpenBracket[U]}:null}static computeIndentLevel(d,M){let U=0,re=0,fe=d.length;for(;re<fe;){let Le=d.charCodeAt(re);if(Le===32)U++;else if(Le===9)U=U-U%M+M;else break;re++}return re===fe?-1:U}_computeIndentLevel(d){return jr.computeIndentLevel(this._buffer.getLineContent(d+1),this._options.tabSize)}getActiveIndentGuide(d,M,U){this._assertNotDisposed();const re=this.getLineCount();if(d<1||d>re)throw new Error("Illegal value for lineNumber");const fe=this.getLanguageConfiguration(this._languageId).foldingRules,Le=!!(fe&&fe.offSide);let We=-2,ut=-1,Ot=-2,X=-1;const de=Li=>{if(We!==-1&&(We===-2||We>Li-1)){We=-1,ut=-1;for(let Fi=Li-2;Fi>=0;Fi--){let tn=this._computeIndentLevel(Fi);if(tn>=0){We=Fi,ut=tn;break}}}if(Ot===-2){Ot=-1,X=-1;for(let Fi=Li;Fi<re;Fi++){let tn=this._computeIndentLevel(Fi);if(tn>=0){Ot=Fi,X=tn;break}}}};let Ve=-2,Ze=-1,ze=-2,St=-1;const zt=Li=>{if(Ve===-2){Ve=-1,Ze=-1;for(let Fi=Li-2;Fi>=0;Fi--){let tn=this._computeIndentLevel(Fi);if(tn>=0){Ve=Fi,Ze=tn;break}}}if(ze!==-1&&(ze===-2||ze<Li-1)){ze=-1,St=-1;for(let Fi=Li;Fi<re;Fi++){let tn=this._computeIndentLevel(Fi);if(tn>=0){ze=Fi,St=tn;break}}}};let Wt=0,hi=!0,gi=0,ri=!0,Qt=0,Zi=0;for(let Li=0;hi||ri;Li++){const Fi=d-Li,tn=d+Li;Li>1&&(Fi<1||Fi<M)&&(hi=!1),Li>1&&(tn>re||tn>U)&&(ri=!1),Li>5e4&&(hi=!1,ri=!1);let Tn=-1;if(hi){const Vn=this._computeIndentLevel(Fi-1);Vn>=0?(Ot=Fi-1,X=Vn,Tn=Math.ceil(Vn/this._options.indentSize)):(de(Fi),Tn=this._getIndentLevelForWhitespaceLine(Le,ut,X))}let kn=-1;if(ri){const Vn=this._computeIndentLevel(tn-1);Vn>=0?(Ve=tn-1,Ze=Vn,kn=Math.ceil(Vn/this._options.indentSize)):(zt(tn),kn=this._getIndentLevelForWhitespaceLine(Le,Ze,St))}if(Li===0){Zi=Tn;continue}if(Li===1){if(tn<=re&&kn>=0&&Zi+1===kn){hi=!1,Wt=tn,gi=tn,Qt=kn;continue}if(Fi>=1&&Tn>=0&&Tn-1===Zi){ri=!1,Wt=Fi,gi=Fi,Qt=Tn;continue}if(Wt=d,gi=d,Qt=Zi,Qt===0)return{startLineNumber:Wt,endLineNumber:gi,indent:Qt}}hi&&(Tn>=Qt?Wt=Fi:hi=!1),ri&&(kn>=Qt?gi=tn:ri=!1)}return{startLineNumber:Wt,endLineNumber:gi,indent:Qt}}getLinesBracketGuides(d,M,U,re){var fe,Le,We,ut,Ot;const X=[],de=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new W.e(d,1,M,this.getLineMaxColumn(M)));let Ve;if(U&&de.length>0){const Wt=d<=U.lineNumber&&U.lineNumber<=M?de.filter(hi=>hi.range.containsPosition(U)):this._bracketPairColorizer.getBracketPairsInRange(W.e.fromPositions(U));Ve=(fe=(0,$i.dF)(Wt,hi=>hi.range.startLineNumber!==hi.range.endLineNumber))===null||fe===void 0?void 0:fe.range}const Ze=new $i.H9(de),ze=new Array,St=new Array,zt=new si;for(let Wt=d;Wt<=M;Wt++){let hi=new Array;St.length>0&&(hi=hi.concat(St),St.length=0),X.push(hi);for(const ri of Ze.takeWhile(Qt=>Qt.openingBracketRange.startLineNumber<=Wt)||[]){if(ri.range.startLineNumber===ri.range.endLineNumber)continue;const Qt=Math.min(this.getVisibleColumnFromPosition(ri.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((We=(Le=ri.closingBracketRange)===null||Le===void 0?void 0:Le.getStartPosition())!==null&&We!==void 0?We:ri.range.getEndPosition()),ri.minVisibleColumnIndentation+1);let Zi=!1;ri.closingBracketRange&&P.LC(this.getLineContent(ri.closingBracketRange.startLineNumber))<ri.closingBracketRange.startColumn-1&&(Zi=!0);const Li=ri.openingBracketRange.getStartPosition(),Fi=(Ot=(ut=ri.closingBracketRange)===null||ut===void 0?void 0:ut.getStartPosition())!==null&&Ot!==void 0?Ot:ri.range.getEndPosition();ri.closingBracketRange===void 0?ze[ri.nestingLevel]=null:ze[ri.nestingLevel]={nestingLevel:ri.nestingLevel,guideVisibleColumn:Qt,start:Li,visibleStartColumn:this.getVisibleColumnFromPosition(Li),end:Fi,visibleEndColumn:this.getVisibleColumnFromPosition(Fi),bracketPair:ri,renderHorizontalEndLineAtTheBottom:Zi}}for(const ri of ze){if(!ri)continue;const Qt=Ve&&ri.bracketPair.range.equalsRange(Ve),Zi=zt.getInlineClassNameOfLevel(ri.nestingLevel)+(re.highlightActive&&Qt?" "+zt.activeClassName:"");(Qt&&re.horizontalGuides!==T.s6.Disabled||re.includeInactive&&re.horizontalGuides===T.s6.Enabled)&&(ri.start.lineNumber===Wt&&ri.guideVisibleColumn<ri.visibleStartColumn&&hi.push(new T.UO(ri.guideVisibleColumn,Zi,new T.vW(!1,ri.start.column))),ri.end.lineNumber===Wt+1&&ri.guideVisibleColumn<ri.visibleEndColumn&&St.push(new T.UO(ri.guideVisibleColumn,Zi,new T.vW(!ri.renderHorizontalEndLineAtTheBottom,ri.end.column))))}let gi=Number.MAX_SAFE_INTEGER;for(let ri=ze.length-1;ri>=0;ri--){const Qt=ze[ri];if(!Qt)continue;const Zi=re.highlightActive&&Ve&&Qt.bracketPair.range.equalsRange(Ve),Li=zt.getInlineClassNameOfLevel(Qt.nestingLevel)+(Zi?" "+zt.activeClassName:"");(Zi||re.includeInactive)&&Qt.renderHorizontalEndLineAtTheBottom&&Qt.end.lineNumber===Wt+1&&St.push(new T.UO(Qt.guideVisibleColumn,Li,null)),!(Qt.end.lineNumber<=Wt||Qt.start.lineNumber>=Wt)&&(Qt.guideVisibleColumn>=gi&&!Zi||(gi=Qt.guideVisibleColumn,(Zi||re.includeInactive)&&hi.push(new T.UO(Qt.guideVisibleColumn,Li,null))))}hi.sort((ri,Qt)=>ri.visibleColumn-Qt.visibleColumn)}return X}getVisibleColumnFromPosition(d){return Co.i.visibleColumnFromColumn(this.getLineContent(d.lineNumber),d.column,this._options.tabSize)+1}getLinesIndentGuides(d,M){this._assertNotDisposed();const U=this.getLineCount();if(d<1||d>U)throw new Error("Illegal value for startLineNumber");if(M<1||M>U)throw new Error("Illegal value for endLineNumber");const re=this.getLanguageConfiguration(this._languageId).foldingRules,fe=!!(re&&re.offSide);let Le=new Array(M-d+1),We=-2,ut=-1,Ot=-2,X=-1;for(let de=d;de<=M;de++){let Ve=de-d;const Ze=this._computeIndentLevel(de-1);if(Ze>=0){We=de-1,ut=Ze,Le[Ve]=Math.ceil(Ze/this._options.indentSize);continue}if(We===-2){We=-1,ut=-1;for(let ze=de-2;ze>=0;ze--){let St=this._computeIndentLevel(ze);if(St>=0){We=ze,ut=St;break}}}if(Ot!==-1&&(Ot===-2||Ot<de-1)){Ot=-1,X=-1;for(let ze=de;ze<U;ze++){let St=this._computeIndentLevel(ze);if(St>=0){Ot=ze,X=St;break}}}Le[Ve]=this._getIndentLevelForWhitespaceLine(fe,ut,X)}return Le}_getIndentLevelForWhitespaceLine(d,M,U){return M===-1||U===-1?0:M<U?1+Math.floor(M/this._options.indentSize):M===U?Math.ceil(U/this._options.indentSize):d?Math.ceil(U/this._options.indentSize):1+Math.floor(U/this._options.indentSize)}normalizePosition(d,M){return d}getLineIndentColumn(d){return yt(this.getLineContent(d))+1}};vt.MODEL_SYNC_LIMIT=50*1024*1024,vt.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,vt.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,vt.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:J.DB.tabSize,indentSize:J.DB.indentSize,insertSpaces:J.DB.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:J.DB.trimAutoWhitespace,largeFileOptimizations:J.DB.largeFileOptimizations,bracketPairColorizationOptions:J.DB.bracketPairColorizationOptions},vt=ln([Ti(4,Zn.tJ),Ti(5,Bi.h),Ti(6,ai.c_)],vt);function yt(Be){let d=0;for(const M of Be)if(M===" "||M==="	")d++;else break;return d}class si{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(d){return`bracket-indent-guide lvl-${d%30}`}}function Jt(Be){return!!(Be.options.overviewRuler&&Be.options.overviewRuler.color)}function un(Be){return!!Be.options.after||!!Be.options.before}class xn{constructor(){this._decorationsTree0=new ce,this._decorationsTree1=new ce,this._injectedTextDecorationsTree=new ce}ensureAllNodesHaveRanges(d){this.getAll(d,0,!1,!1)}_ensureNodesHaveRanges(d,M){for(const U of M)U.range===null&&(U.range=d.getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd));return M}getAllInInterval(d,M,U,re,fe){const Le=d.getVersionId(),We=this._intervalSearch(M,U,re,fe,Le);return this._ensureNodesHaveRanges(d,We)}_intervalSearch(d,M,U,re,fe){const Le=this._decorationsTree0.intervalSearch(d,M,U,re,fe),We=this._decorationsTree1.intervalSearch(d,M,U,re,fe),ut=this._injectedTextDecorationsTree.intervalSearch(d,M,U,re,fe);return Le.concat(We).concat(ut)}getInjectedTextInInterval(d,M,U,re){const fe=d.getVersionId(),Le=this._injectedTextDecorationsTree.intervalSearch(M,U,re,!1,fe);return this._ensureNodesHaveRanges(d,Le).filter(We=>We.options.showIfCollapsed||!We.range.isEmpty())}getAllInjectedText(d,M){const U=d.getVersionId(),re=this._injectedTextDecorationsTree.search(M,!1,U);return this._ensureNodesHaveRanges(d,re).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAll(d,M,U,re){const fe=d.getVersionId(),Le=this._search(M,U,re,fe);return this._ensureNodesHaveRanges(d,Le)}_search(d,M,U,re){if(U)return this._decorationsTree1.search(d,M,re);{const fe=this._decorationsTree0.search(d,M,re),Le=this._decorationsTree1.search(d,M,re),We=this._injectedTextDecorationsTree.search(d,M,re);return fe.concat(Le).concat(We)}}collectNodesFromOwner(d){const M=this._decorationsTree0.collectNodesFromOwner(d),U=this._decorationsTree1.collectNodesFromOwner(d),re=this._injectedTextDecorationsTree.collectNodesFromOwner(d);return M.concat(U).concat(re)}collectNodesPostOrder(){const d=this._decorationsTree0.collectNodesPostOrder(),M=this._decorationsTree1.collectNodesPostOrder(),U=this._injectedTextDecorationsTree.collectNodesPostOrder();return d.concat(M).concat(U)}insert(d){un(d)?this._injectedTextDecorationsTree.insert(d):Jt(d)?this._decorationsTree1.insert(d):this._decorationsTree0.insert(d)}delete(d){un(d)?this._injectedTextDecorationsTree.delete(d):Jt(d)?this._decorationsTree1.delete(d):this._decorationsTree0.delete(d)}getNodeRange(d,M){const U=d.getVersionId();return M.cachedVersionId!==U&&this._resolveNode(M,U),M.range===null&&(M.range=d.getRangeAt(M.cachedAbsoluteStart,M.cachedAbsoluteEnd)),M.range}_resolveNode(d,M){un(d)?this._injectedTextDecorationsTree.resolveNode(d,M):Jt(d)?this._decorationsTree1.resolveNode(d,M):this._decorationsTree0.resolveNode(d,M)}acceptReplace(d,M,U,re){this._decorationsTree0.acceptReplace(d,M,U,re),this._decorationsTree1.acceptReplace(d,M,U,re),this._injectedTextDecorationsTree.acceptReplace(d,M,U,re)}}function Pi(Be){return Be.replace(/[^a-z0-9\-_]/gi," ")}class Ji{constructor(d){this.color=d.color||"",this.darkColor=d.darkColor||""}}class _n extends Ji{constructor(d){super(d),this._resolvedColor=null,this.position=typeof d.position=="number"?d.position:T.sh.Center}getColor(d){return this._resolvedColor||(d.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,d):this._resolvedColor=this._resolveColor(this.color,d)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(d,M){if(typeof d=="string")return d;let U=d?M.getColor(d.id):null;return U?U.toString():""}}class Gi extends Ji{constructor(d){super(d),this.position=d.position}getColor(d){return this._resolvedColor||(d.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,d):this._resolvedColor=this._resolveColor(this.color,d)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(d,M){return typeof d=="string"?ji.Il.fromHex(d):M.getColor(d.id)}}class jt{constructor(d){this.content=d.content||"",this.inlineClassName=d.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=d.inlineClassNameAffectsLetterSpacing||!1}static from(d){return d instanceof jt?d:new jt(d)}}class wi{constructor(d){this.description=d.description,this.stickiness=d.stickiness||0,this.zIndex=d.zIndex||0,this.className=d.className?Pi(d.className):null,this.hoverMessage=d.hoverMessage||null,this.glyphMarginHoverMessage=d.glyphMarginHoverMessage||null,this.isWholeLine=d.isWholeLine||!1,this.showIfCollapsed=d.showIfCollapsed||!1,this.collapseOnReplaceEdit=d.collapseOnReplaceEdit||!1,this.overviewRuler=d.overviewRuler?new _n(d.overviewRuler):null,this.minimap=d.minimap?new Gi(d.minimap):null,this.glyphMarginClassName=d.glyphMarginClassName?Pi(d.glyphMarginClassName):null,this.linesDecorationsClassName=d.linesDecorationsClassName?Pi(d.linesDecorationsClassName):null,this.firstLineDecorationClassName=d.firstLineDecorationClassName?Pi(d.firstLineDecorationClassName):null,this.marginClassName=d.marginClassName?Pi(d.marginClassName):null,this.inlineClassName=d.inlineClassName?Pi(d.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=d.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=d.beforeContentClassName?Pi(d.beforeContentClassName):null,this.afterContentClassName=d.afterContentClassName?Pi(d.afterContentClassName):null,this.after=d.after?jt.from(d.after):null,this.before=d.before?jt.from(d.before):null}static register(d){return new wi(d)}static createDynamic(d){return new wi(d)}}wi.EMPTY=wi.register({description:"empty"});const Ki=[wi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),wi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),wi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),wi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function qn(Be){return Be instanceof wi?Be:wi.createDynamic(Be)}class ls extends Q.JT{constructor(d){super(),this.handleBeforeFire=d,this._actual=this._register(new O.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var d;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const M={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(M)}(d=this._affectedInjectedTextLines)===null||d===void 0||d.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(d){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(d)}checkAffectedAndFire(d){this._affectsMinimap||(this._affectsMinimap=!!(d.minimap&&d.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(d.overviewRuler&&d.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Cs extends Q.JT{constructor(){super(),this._fastEmitter=this._register(new O.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new O.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(d=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=d;const M=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(M),this._slowEmitter.fire(M)}}fire(d){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(d):this._deferredEvent=d;return}this._fastEmitter.fire(d),this._slowEmitter.fire(d)}}},83256:function(ti,Ge,c){"use strict";c.d(Ge,{CZ:function(){return J},D8:function(){return W},Jx:function(){return D},Tx:function(){return L},dQ:function(){return R},fV:function(){return s},gk:function(){return O},lN:function(){return P},rU:function(){return Q}});class D{constructor(){this.changeType=1}}class O{constructor(g,E,H,r,N){this.ownerId=g,this.lineNumber=E,this.column=H,this.options=r,this.order=N}static applyInjectedText(g,E){if(!E||E.length===0)return g;let H="",r=0;for(const N of E)H+=g.substring(r,N.column-1),r=N.column-1,H+=N.options.content;return H+=g.substring(r),H}static fromDecorations(g){const E=[];for(const H of g)H.options.before&&H.options.before.content.length>0&&E.push(new O(H.ownerId,H.range.startLineNumber,H.range.startColumn,H.options.before,0)),H.options.after&&H.options.after.content.length>0&&E.push(new O(H.ownerId,H.range.endLineNumber,H.range.endColumn,H.options.after,1));return E.sort((H,r)=>H.lineNumber===r.lineNumber?H.column===r.column?H.order-r.order:H.column-r.column:H.lineNumber-r.lineNumber),E}}class Q{constructor(g,E,H){this.changeType=2,this.lineNumber=g,this.detail=E,this.injectedText=H}}class P{constructor(g,E){this.changeType=3,this.fromLineNumber=g,this.toLineNumber=E}}class L{constructor(g,E,H,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=g,this.toLineNumber=E,this.detail=H}}class J{constructor(){this.changeType=5}}class R{constructor(g,E,H,r){this.changes=g,this.versionId=E,this.isUndoing=H,this.isRedoing=r,this.resultingSelection=null}containsEvent(g){for(let E=0,H=this.changes.length;E<H;E++)if(this.changes[E].changeType===g)return!0;return!1}static merge(g,E){const H=[].concat(g.changes).concat(E.changes),r=E.versionId,N=g.isUndoing||E.isUndoing,C=g.isRedoing||E.isRedoing;return new R(H,r,N,C)}}class W{constructor(g){this.changes=g}}class s{constructor(g,E){this.rawContentChangedEvent=g,this.contentChangedEvent=E}merge(g){const E=R.merge(this.rawContentChangedEvent,g.rawContentChangedEvent),H=s._mergeChangeEvents(this.contentChangedEvent,g.contentChangedEvent);return new s(E,H)}static _mergeChangeEvents(g,E){const H=[].concat(g.changes).concat(E.changes),r=E.eol,N=E.versionId,C=g.isUndoing||E.isUndoing,x=g.isRedoing||E.isRedoing,f=g.isFlush||E.isFlush;return{changes:H,eol:r,versionId:N,isUndoing:C,isRedoing:x,isFlush:f}}}},77277:function(ti,Ge,c){"use strict";c.d(Ge,{bc:function(){return R},cM:function(){return N},iE:function(){return T},pM:function(){return E},sz:function(){return C}});var D=c(97295),O=c(59410),Q=c(50187),P=c(24314),L=c(84973);const J=999;class R{constructor(f,_,S,h){this.searchString=f,this.isRegex=_,this.matchCase=S,this.wordSeparators=h}parseSearchRequest(){if(this.searchString==="")return null;let f;this.isRegex?f=W(this.searchString):f=this.searchString.indexOf(`
`)>=0;let _=null;try{_=D.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:f,global:!0,unicode:!0})}catch(h){return null}if(!_)return null;let S=!this.isRegex&&!f;return S&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(S=this.matchCase),new s(_,this.wordSeparators?(0,O.u)(this.wordSeparators):null,S?this.searchString:null)}}function W(x){if(!x||x.length===0)return!1;for(let f=0,_=x.length;f<_;f++)if(x.charCodeAt(f)===92){if(f++,f>=_)break;const h=x.charCodeAt(f);if(h===110||h===114||h===87)return!0}return!1}class s{constructor(f,_,S){this.regex=f,this.wordSeparators=_,this.simpleSearch=S}}function T(x,f,_){if(!_)return new L.tk(x,null);let S=[];for(let h=0,y=f.length;h<y;h++)S[h]=f[h];return new L.tk(x,S)}class g{constructor(f){let _=[],S=0;for(let h=0,y=f.length;h<y;h++)f.charCodeAt(h)===10&&(_[S++]=h);this._lineFeedsOffsets=_}findLineFeedCountBeforeOffset(f){const _=this._lineFeedsOffsets;let S=0,h=_.length-1;if(h===-1||f<=_[0])return 0;for(;S<h;){const y=S+((h-S)/2>>0);_[y]>=f?h=y-1:_[y+1]>=f?(S=y,h=y):S=y+1}return S+1}}class E{static findMatches(f,_,S,h,y){const v=_.parseSearchRequest();return v?v.regex.multiline?this._doFindMatchesMultiline(f,S,new C(v.wordSeparators,v.regex),h,y):this._doFindMatchesLineByLine(f,S,v,h,y):[]}static _getMultilineMatchRange(f,_,S,h,y,v){let B,j=0;h?(j=h.findLineFeedCountBeforeOffset(y),B=_+y+j):B=_+y;let te;if(h){let Ee=h.findLineFeedCountBeforeOffset(y+v.length)-j;te=B+v.length+Ee}else te=B+v.length;const ce=f.getPositionAt(B),_e=f.getPositionAt(te);return new P.e(ce.lineNumber,ce.column,_e.lineNumber,_e.column)}static _doFindMatchesMultiline(f,_,S,h,y){const v=f.getOffsetAt(_.getStartPosition()),B=f.getValueInRange(_,1),j=f.getEOL()===`\r
`?new g(B):null,te=[];let ce=0,_e;for(S.reset(0);_e=S.next(B);)if(te[ce++]=T(this._getMultilineMatchRange(f,v,B,j,_e.index,_e[0]),_e,h),ce>=y)return te;return te}static _doFindMatchesLineByLine(f,_,S,h,y){const v=[];let B=0;if(_.startLineNumber===_.endLineNumber){const te=f.getLineContent(_.startLineNumber).substring(_.startColumn-1,_.endColumn-1);return B=this._findMatchesInLine(S,te,_.startLineNumber,_.startColumn-1,B,v,h,y),v}const j=f.getLineContent(_.startLineNumber).substring(_.startColumn-1);B=this._findMatchesInLine(S,j,_.startLineNumber,_.startColumn-1,B,v,h,y);for(let te=_.startLineNumber+1;te<_.endLineNumber&&B<y;te++)B=this._findMatchesInLine(S,f.getLineContent(te),te,0,B,v,h,y);if(B<y){const te=f.getLineContent(_.endLineNumber).substring(0,_.endColumn-1);B=this._findMatchesInLine(S,te,_.endLineNumber,0,B,v,h,y)}return v}static _findMatchesInLine(f,_,S,h,y,v,B,j){const te=f.wordSeparators;if(!B&&f.simpleSearch){const Ce=f.simpleSearch,Ee=Ce.length,le=_.length;let Y=-Ee;for(;(Y=_.indexOf(Ce,Y+Ee))!==-1;)if((!te||N(te,_,le,Y,Ee))&&(v[y++]=new L.tk(new P.e(S,Y+1+h,S,Y+1+Ee+h),null),y>=j))return y;return y}const ce=new C(f.wordSeparators,f.regex);let _e;ce.reset(0);do if(_e=ce.next(_),_e&&(v[y++]=T(new P.e(S,_e.index+1+h,S,_e.index+1+_e[0].length+h),_e,B),y>=j))return y;while(_e);return y}static findNextMatch(f,_,S,h){const y=_.parseSearchRequest();if(!y)return null;const v=new C(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(f,S,v,h):this._doFindNextMatchLineByLine(f,S,v,h)}static _doFindNextMatchMultiline(f,_,S,h){const y=new Q.L(_.lineNumber,1),v=f.getOffsetAt(y),B=f.getLineCount(),j=f.getValueInRange(new P.e(y.lineNumber,y.column,B,f.getLineMaxColumn(B)),1),te=f.getEOL()===`\r
`?new g(j):null;S.reset(_.column-1);let ce=S.next(j);return ce?T(this._getMultilineMatchRange(f,v,j,te,ce.index,ce[0]),ce,h):_.lineNumber!==1||_.column!==1?this._doFindNextMatchMultiline(f,new Q.L(1,1),S,h):null}static _doFindNextMatchLineByLine(f,_,S,h){const y=f.getLineCount(),v=_.lineNumber,B=f.getLineContent(v),j=this._findFirstMatchInLine(S,B,v,_.column,h);if(j)return j;for(let te=1;te<=y;te++){const ce=(v+te-1)%y,_e=f.getLineContent(ce+1),Ce=this._findFirstMatchInLine(S,_e,ce+1,1,h);if(Ce)return Ce}return null}static _findFirstMatchInLine(f,_,S,h,y){f.reset(h-1);const v=f.next(_);return v?T(new P.e(S,v.index+1,S,v.index+1+v[0].length),v,y):null}static findPreviousMatch(f,_,S,h){const y=_.parseSearchRequest();if(!y)return null;const v=new C(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(f,S,v,h):this._doFindPreviousMatchLineByLine(f,S,v,h)}static _doFindPreviousMatchMultiline(f,_,S,h){const y=this._doFindMatchesMultiline(f,new P.e(1,1,_.lineNumber,_.column),S,h,10*J);if(y.length>0)return y[y.length-1];const v=f.getLineCount();return _.lineNumber!==v||_.column!==f.getLineMaxColumn(v)?this._doFindPreviousMatchMultiline(f,new Q.L(v,f.getLineMaxColumn(v)),S,h):null}static _doFindPreviousMatchLineByLine(f,_,S,h){const y=f.getLineCount(),v=_.lineNumber,B=f.getLineContent(v).substring(0,_.column-1),j=this._findLastMatchInLine(S,B,v,h);if(j)return j;for(let te=1;te<=y;te++){const ce=(y+v-te-1)%y,_e=f.getLineContent(ce+1),Ce=this._findLastMatchInLine(S,_e,ce+1,h);if(Ce)return Ce}return null}static _findLastMatchInLine(f,_,S,h){let y=null,v;for(f.reset(0);v=f.next(_);)y=T(new P.e(S,v.index+1,S,v.index+1+v[0].length),v,h);return y}}function H(x,f,_,S,h){if(S===0)return!0;const y=f.charCodeAt(S-1);if(x.get(y)!==0||y===13||y===10)return!0;if(h>0){const v=f.charCodeAt(S);if(x.get(v)!==0)return!0}return!1}function r(x,f,_,S,h){if(S+h===_)return!0;const y=f.charCodeAt(S+h);if(x.get(y)!==0||y===13||y===10)return!0;if(h>0){const v=f.charCodeAt(S+h-1);if(x.get(v)!==0)return!0}return!1}function N(x,f,_,S,h){return H(x,f,_,S,h)&&r(x,f,_,S,h)}class C{constructor(f,_){this._wordSeparators=f,this._searchRegex=_,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(f){this._searchRegex.lastIndex=f,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(f){const _=f.length;let S;do{if(this._prevMatchStartIndex+this._prevMatchLength===_||(S=this._searchRegex.exec(f),!S))return null;const h=S.index,y=S[0].length;if(h===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){D.ZH(f,_,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=h,this._prevMatchLength=y,!this._wordSeparators||N(this._wordSeparators,f,_,h,y))return S}while(S);return null}}},58409:function(ti,Ge,c){"use strict";c.d(Ge,{DA:function(){return s},OU:function(){return T},QZ:function(){return J},Rl:function(){return C},Wz:function(){return E},cx:function(){return N}});var D=c(9488),O=c(78411),Q=c(50187),P=c(24314),L=c(10351);function J(x){let f=0,_=0,S=0,h=0;for(let y=0,v=x.length;y<v;y++){const B=x.charCodeAt(y);B===13?(f===0&&(_=y),f++,y+1<v&&x.charCodeAt(y+1)===10?(h|=2,y++):h|=3,S=y+1):B===10&&(h|=1,f===0&&(_=y),f++,S=y+1)}return f===0&&(_=x.length),[f,_,x.length-S,h]}function R(x){return(x<<0|0|0|16384|2<<23)>>>0}const W=new Uint32Array(0).buffer;class s{constructor(){this.tokens=[]}add(f,_){if(this.tokens.length>0){const S=this.tokens[this.tokens.length-1];if(S.startLineNumber+S.tokens.length-1+1===f){S.tokens.push(_);return}}this.tokens.push(new H(f,[_]))}}class T{constructor(f){this._tokens=f,this._tokenCount=f.length/4}toString(f){let _=[];for(let S=0;S<this._tokenCount;S++)_.push(`(${this._getDeltaLine(S)+f},${this._getStartCharacter(S)}-${this._getEndCharacter(S)})`);return`[${_.join(",")}]`}getMaxDeltaLine(){const f=this._getTokenCount();return f===0?-1:this._getDeltaLine(f-1)}getRange(){const f=this._getTokenCount();if(f===0)return null;const _=this._getStartCharacter(0),S=this._getDeltaLine(f-1),h=this._getEndCharacter(f-1);return new P.e(0,_+1,S,h+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(f){return this._tokens[4*f]}_getStartCharacter(f){return this._tokens[4*f+1]}_getEndCharacter(f){return this._tokens[4*f+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(f){let _=0,S=this._getTokenCount()-1;for(;_<S;){const h=_+Math.floor((S-_)/2),y=this._getDeltaLine(h);if(y<f)_=h+1;else if(y>f)S=h-1;else{let v=h;for(;v>_&&this._getDeltaLine(v-1)===f;)v--;let B=h;for(;B<S&&this._getDeltaLine(B+1)===f;)B++;return new g(this._tokens.subarray(4*v,4*B+4))}}return this._getDeltaLine(_)===f?new g(this._tokens.subarray(4*_,4*_+4)):null}clear(){this._tokenCount=0}removeTokens(f,_,S,h){const y=this._tokens,v=this._tokenCount;let B=0,j=!1,te=0;for(let ce=0;ce<v;ce++){const _e=4*ce,Ce=y[_e],Ee=y[_e+1],le=y[_e+2],Y=y[_e+3];if((Ce>f||Ce===f&&le>=_)&&(Ce<S||Ce===S&&Ee<=h))j=!0;else{if(B===0&&(te=Ce),j){const $=4*B;y[$]=Ce-te,y[$+1]=Ee,y[$+2]=le,y[$+3]=Y}B++}}return this._tokenCount=B,te}split(f,_,S,h){const y=this._tokens,v=this._tokenCount;let B=[],j=[],te=B,ce=0,_e=0;for(let Ce=0;Ce<v;Ce++){const Ee=4*Ce,le=y[Ee],Y=y[Ee+1],$=y[Ee+2],G=y[Ee+3];if(le>f||le===f&&$>=_){if(le<S||le===S&&Y<=h)continue;te!==j&&(te=j,ce=0,_e=le)}te[ce++]=le-_e,te[ce++]=Y,te[ce++]=$,te[ce++]=G}return[new T(new Uint32Array(B)),new T(new Uint32Array(j)),_e]}acceptDeleteRange(f,_,S,h,y){const v=this._tokens,B=this._tokenCount,j=h-_;let te=0,ce=!1;for(let _e=0;_e<B;_e++){const Ce=4*_e;let Ee=v[Ce],le=v[Ce+1],Y=v[Ce+2];const $=v[Ce+3];if(Ee<_||Ee===_&&Y<=S){te++;continue}else if(Ee===_&&le<S)Ee===h&&Y>y?Y-=y-S:Y=S;else if(Ee===_&&le===S)if(Ee===h&&Y>y)Y-=y-S;else{ce=!0;continue}else if(Ee<h||Ee===h&&le<y)if(Ee===h&&Y>y)Ee===_?(le=S,Y=le+(Y-y)):(le=0,Y=le+(Y-y));else{ce=!0;continue}else if(Ee>h){if(j===0&&!ce){te=B;break}Ee-=j}else if(Ee===h&&le>=y)f&&Ee===0&&(le+=f,Y+=f),Ee-=j,le-=y-S,Y-=y-S;else throw new Error("Not possible!");const G=4*te;v[G]=Ee,v[G+1]=le,v[G+2]=Y,v[G+3]=$,te++}this._tokenCount=te}acceptInsertText(f,_,S,h,y,v){const B=S===0&&h===1&&(v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122),j=this._tokens,te=this._tokenCount;for(let ce=0;ce<te;ce++){const _e=4*ce;let Ce=j[_e],Ee=j[_e+1],le=j[_e+2];if(!(Ce<f||Ce===f&&le<_)){if(Ce===f&&le===_)if(B)le+=1;else continue;else if(Ce===f&&Ee<_&&_<le)S===0?le+=h:le=_;else{if(Ce===f&&Ee===_&&B)continue;if(Ce===f)if(Ce+=S,S===0)Ee+=h,le+=h;else{const Y=le-Ee;Ee=y+(Ee-_),le=Ee+Y}else Ce+=S}j[_e]=Ce,j[_e+1]=Ee,j[_e+2]=le}}}}class g{constructor(f){this._tokens=f}getCount(){return this._tokens.length/4}getStartCharacter(f){return this._tokens[4*f+1]}getEndCharacter(f){return this._tokens[4*f+2]}getMetadata(f){return this._tokens[4*f+3]}}class E{constructor(f,_){this.startLineNumber=f,this.tokens=_,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(f){return this.startLineNumber<=f&&f<=this.endLineNumber?this.tokens.getLineTokens(f-this.startLineNumber):null}getRange(){const f=this.tokens.getRange();return f&&new P.e(this.startLineNumber+f.startLineNumber,f.startColumn,this.startLineNumber+f.endLineNumber,f.endColumn)}removeTokens(f){const _=f.startLineNumber-this.startLineNumber,S=f.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(_,f.startColumn-1,S,f.endColumn-1),this._updateEndLineNumber()}split(f){const _=f.startLineNumber-this.startLineNumber,S=f.endLineNumber-this.startLineNumber,[h,y,v]=this.tokens.split(_,f.startColumn-1,S,f.endColumn-1);return[new E(this.startLineNumber,h),new E(this.startLineNumber+v,y)]}applyEdit(f,_){const[S,h,y]=J(_);this.acceptEdit(f,S,h,y,_.length>0?_.charCodeAt(0):0)}acceptEdit(f,_,S,h,y){this._acceptDeleteRange(f),this._acceptInsertText(new Q.L(f.startLineNumber,f.startColumn),_,S,h,y),this._updateEndLineNumber()}_acceptDeleteRange(f){if(f.startLineNumber===f.endLineNumber&&f.startColumn===f.endColumn)return;const _=f.startLineNumber-this.startLineNumber,S=f.endLineNumber-this.startLineNumber;if(S<0){const y=S-_;this.startLineNumber-=y;return}const h=this.tokens.getMaxDeltaLine();if(!(_>=h+1)){if(_<0&&S>=h+1){this.startLineNumber=0,this.tokens.clear();return}if(_<0){const y=-_;this.startLineNumber-=y,this.tokens.acceptDeleteRange(f.startColumn-1,0,0,S,f.endColumn-1)}else this.tokens.acceptDeleteRange(0,_,f.startColumn-1,S,f.endColumn-1)}}_acceptInsertText(f,_,S,h,y){if(_===0&&S===0)return;const v=f.lineNumber-this.startLineNumber;if(v<0){this.startLineNumber+=_;return}const B=this.tokens.getMaxDeltaLine();v>=B+1||this.tokens.acceptInsertText(v,f.column-1,_,S,h,y)}}class H{constructor(f,_){this.startLineNumber=f,this.tokens=_}}function r(x){return x instanceof Uint32Array?x:new Uint32Array(x)}class N{constructor(f){this._pieces=[],this._isComplete=!1,this._languageIdCodec=f}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(f,_){this._pieces=f||[],this._isComplete=_}setPartial(f,_){let S=f;if(_.length>0){const y=_[0].getRange(),v=_[_.length-1].getRange();if(!y||!v)return f;S=f.plusRange(y).plusRange(v)}let h=null;for(let y=0,v=this._pieces.length;y<v;y++){const B=this._pieces[y];if(B.endLineNumber<S.startLineNumber)continue;if(B.startLineNumber>S.endLineNumber){h=h||{index:y};break}if(B.removeTokens(S),B.isEmpty()){this._pieces.splice(y,1),y--,v--;continue}if(B.endLineNumber<S.startLineNumber)continue;if(B.startLineNumber>S.endLineNumber){h=h||{index:y};continue}const[j,te]=B.split(S);if(j.isEmpty()){h=h||{index:y};continue}te.isEmpty()||(this._pieces.splice(y,1,j,te),y++,v++,h=h||{index:y})}return h=h||{index:this._pieces.length},_.length>0&&(this._pieces=D.Zv(this._pieces,h.index,_)),S}isComplete(){return this._isComplete}addSemanticTokens(f,_){const S=this._pieces;if(S.length===0)return _;const h=N._findFirstPieceWithLine(S,f),y=S[h].getLineTokens(f);if(!y)return _;const v=_.getCount(),B=y.getCount();let j=0,te=[],ce=0,_e=0;const Ce=(Ee,le)=>{Ee!==_e&&(_e=Ee,te[ce++]=Ee,te[ce++]=le)};for(let Ee=0;Ee<B;Ee++){const le=y.getStartCharacter(Ee),Y=y.getEndCharacter(Ee),$=y.getMetadata(Ee),G=(($&1?2048:0)|($&2?4096:0)|($&4?8192:0)|($&8?8372224:0)|($&16?4286578688:0))>>>0,ee=~G>>>0;for(;j<v&&_.getEndOffset(j)<=le;)Ce(_.getEndOffset(j),_.getMetadata(j)),j++;for(j<v&&_.getStartOffset(j)<le&&Ce(le,_.getMetadata(j));j<v&&_.getEndOffset(j)<Y;)Ce(_.getEndOffset(j),_.getMetadata(j)&ee|$&G),j++;if(j<v)Ce(Y,_.getMetadata(j)&ee|$&G),_.getEndOffset(j)===Y&&j++;else{const m=Math.min(Math.max(0,j-1),v-1);Ce(Y,_.getMetadata(m)&ee|$&G)}}for(;j<v;)Ce(_.getEndOffset(j),_.getMetadata(j)),j++;return new O.A(new Uint32Array(te),_.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(f,_){let S=0,h=f.length-1;for(;S<h;){let y=S+Math.floor((h-S)/2);if(f[y].endLineNumber<_)S=y+1;else if(f[y].startLineNumber>_)h=y-1;else{for(;y>S&&f[y-1].startLineNumber<=_&&_<=f[y-1].endLineNumber;)y--;return y}}return S}acceptEdit(f,_,S,h,y){for(const v of this._pieces)v.acceptEdit(f,_,S,h,y)}}class C{constructor(f){this._lineTokens=[],this._len=0,this._languageIdCodec=f}flush(){this._lineTokens=[],this._len=0}getTokens(f,_,S){let h=null;if(_<this._len&&(h=this._lineTokens[_]),h!==null&&h!==W)return new O.A(r(h),S,this._languageIdCodec);const y=new Uint32Array(2);return y[0]=S.length,y[1]=R(this._languageIdCodec.encodeLanguageId(f)),new O.A(y,S,this._languageIdCodec)}static _massageTokens(f,_,S){const h=S?r(S):null;if(_===0){let y=!1;if(h&&h.length>1&&(y=L.NX.getLanguageId(h[1])!==f),!y)return W}if(!h||h.length===0){const y=new Uint32Array(2);return y[0]=_,y[1]=R(f),y.buffer}return h[h.length-2]=_,h.byteOffset===0&&h.byteLength===h.buffer.byteLength?h.buffer:h}_ensureLine(f){for(;f>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(f,_){_!==0&&(f+_>this._len&&(_=this._len-f),this._lineTokens.splice(f,_),this._len-=_)}_insertLines(f,_){if(_===0)return;let S=[];for(let h=0;h<_;h++)S[h]=null;this._lineTokens=D.Zv(this._lineTokens,f,S),this._len+=_}setTokens(f,_,S,h,y){const v=C._massageTokens(this._languageIdCodec.encodeLanguageId(f),S,h);this._ensureLine(_);const B=this._lineTokens[_];return this._lineTokens[_]=v,y?!C._equals(B,v):!1}static _equals(f,_){if(!f||!_)return!f&&!_;const S=r(f),h=r(_);if(S.length!==h.length)return!1;for(let y=0,v=S.length;y<v;y++)if(S[y]!==h[y])return!1;return!0}acceptEdit(f,_,S){this._acceptDeleteRange(f),this._acceptInsertText(new Q.L(f.startLineNumber,f.startColumn),_,S)}_acceptDeleteRange(f){const _=f.startLineNumber-1;if(_>=this._len)return;if(f.startLineNumber===f.endLineNumber){if(f.startColumn===f.endColumn)return;this._lineTokens[_]=C._delete(this._lineTokens[_],f.startColumn-1,f.endColumn-1);return}this._lineTokens[_]=C._deleteEnding(this._lineTokens[_],f.startColumn-1);const S=f.endLineNumber-1;let h=null;S<this._len&&(h=C._deleteBeginning(this._lineTokens[S],f.endColumn-1)),this._lineTokens[_]=C._append(this._lineTokens[_],h),this._deleteLines(f.startLineNumber,f.endLineNumber-f.startLineNumber)}_acceptInsertText(f,_,S){if(_===0&&S===0)return;const h=f.lineNumber-1;if(!(h>=this._len)){if(_===0){this._lineTokens[h]=C._insert(this._lineTokens[h],f.column-1,S);return}this._lineTokens[h]=C._deleteEnding(this._lineTokens[h],f.column-1),this._lineTokens[h]=C._insert(this._lineTokens[h],f.column-1,S),this._insertLines(f.lineNumber,_)}}static _deleteBeginning(f,_){return f===null||f===W?f:C._delete(f,0,_)}static _deleteEnding(f,_){if(f===null||f===W)return f;const S=r(f),h=S[S.length-2];return C._delete(f,_,h)}static _delete(f,_,S){if(f===null||f===W||_===S)return f;const h=r(f),y=h.length>>>1;if(_===0&&h[h.length-2]===S)return W;const v=O.A.findIndexInTokensArray(h,_),B=v>0?h[v-1<<1]:0,j=h[v<<1];if(S<j){const Ee=S-_;for(let le=v;le<y;le++)h[le<<1]-=Ee;return f}let te,ce;B!==_?(h[v<<1]=_,te=v+1<<1,ce=_):(te=v<<1,ce=B);const _e=S-_;for(let Ee=v+1;Ee<y;Ee++){const le=h[Ee<<1]-_e;le>ce&&(h[te++]=le,h[te++]=h[(Ee<<1)+1],ce=le)}if(te===h.length)return f;let Ce=new Uint32Array(te);return Ce.set(h.subarray(0,te),0),Ce.buffer}static _append(f,_){if(_===W)return f;if(f===W)return _;if(f===null)return f;if(_===null)return null;const S=r(f),h=r(_),y=h.length>>>1;let v=new Uint32Array(S.length+h.length);v.set(S,0);let B=S.length;const j=S[S.length-2];for(let te=0;te<y;te++)v[B++]=h[te<<1]+j,v[B++]=h[(te<<1)+1];return v.buffer}static _insert(f,_,S){if(f===null||f===W)return f;const h=r(f),y=h.length>>>1;let v=O.A.findIndexInTokensArray(h,_);v>0&&h[v-1<<1]===_&&v--;for(let B=v;B<y;B++)h[B<<1]+=S;return f}}},97461:function(ti,Ge,c){"use strict";c.d(Ge,{Af:function(){return Q},eq:function(){return P},t2:function(){return J},vu:function(){return D}});const D="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function O(W=""){let s="(-?\\d*\\.\\d\\w*)|([^";for(const T of D)W.indexOf(T)>=0||(s+="\\"+T);return s+="\\s]+)",new RegExp(s,"g")}const Q=O();function P(W){let s=Q;if(W&&W instanceof RegExp)if(W.global)s=W;else{let T="g";W.ignoreCase&&(T+="i"),W.multiline&&(T+="m"),W.unicode&&(T+="u"),s=new RegExp(W.source,T)}return s.lastIndex=0,s}const L={maxLen:1e3,windowSize:15,timeBudget:150};function J(W,s,T,g,E=L){if(T.length>E.maxLen){let x=W-E.maxLen/2;return x<0?x=0:g+=x,T=T.substring(x,W+E.maxLen/2),J(W,s,T,g,E)}const H=Date.now(),r=W-1-g;let N=-1,C=null;for(let x=1;!(Date.now()-H>=E.timeBudget);x++){const f=r-E.windowSize*x;s.lastIndex=Math.max(0,f);const _=R(s,T,r,N);if(!_&&C||(C=_,f<=0))break;N=f}if(C){let x={word:C[0],startColumn:g+1+C.index,endColumn:g+1+C.index+C[0].length};return s.lastIndex=0,x}return null}function R(W,s,T,g){let E;for(;E=W.exec(s);){const H=E.index||0;if(H<=T&&W.lastIndex>=T)return E;if(g>0&&H>g)return null}return null}},10351:function(ti,Ge,c){"use strict";c.d(Ge,{H9:function(){return rt},He:function(){return ke},OH:function(){return Je},KZ:function(){return le},RN:function(){return ie},Ct:function(){return F},Az:function(){return Rt},vH:function(){return m},vN:function(){return mt},K7:function(){return ot},wT:function(){return Re},vJ:function(){return ee},AD:function(){return ce},aC:function(){return ge},xp:function(){return G},vI:function(){return pe},mX:function(){return Te},bw:function(){return y},zu:function(){return Y},pM:function(){return it},id:function(){return w},ln:function(){return Mt},FL:function(){return Ce},G0:function(){return Ee},AC:function(){return Ae},nD:function(){return $},NX:function(){return _},RW:function(){return dt},tA:function(){return ue},jr:function(){return h},Sy:function(){return S},vx:function(){return j}});var D=c(70666),O=c(24314),Q=c(4669),P=c(89954),L=c(5976),J=c(43702),R=c(14118),W=c(55336);function s(lt,Ie,Pe,ye){if(Array.isArray(lt)){let Xe=0;for(const st of lt){const Pt=s(st,Ie,Pe,ye);if(Pt===10)return Pt;Pt>Xe&&(Xe=Pt)}return Xe}else{if(typeof lt=="string")return ye?lt==="*"?5:lt===Pe?10:0:0;if(lt){const{language:Xe,pattern:st,scheme:Pt,hasAccessToAllModels:qt}=lt;if(!ye&&!qt)return 0;let Ci=0;if(Pt)if(Pt===Ie.scheme)Ci=10;else if(Pt==="*")Ci=5;else return 0;if(Xe)if(Xe===Pe)Ci=10;else if(Xe==="*")Ci=Math.max(Ci,5);else return 0;if(st){let ii;if(typeof st=="string"?ii=st:ii=Object.assign(Object.assign({},st),{base:(0,W.Fv)(st.base)}),ii===Ie.fsPath||(0,R.EQ)(ii,Ie.fsPath))Ci=10;else return 0}return Ci}else return 0}}var T=c(51200);function g(lt){return typeof lt=="string"?!1:Array.isArray(lt)?lt.every(g):!!lt.exclusive}class E{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Q.Q5}get onDidChange(){return this._onDidChange.event}register(Ie,Pe){let ye={selector:Ie,provider:Pe,_score:-1,_time:this._clock++};return this._entries.push(ye),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,L.OF)(()=>{if(ye){let Xe=this._entries.indexOf(ye);Xe>=0&&(this._entries.splice(Xe,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),ye=void 0)}})}has(Ie){return this.all(Ie).length>0}all(Ie){if(!Ie)return[];this._updateScores(Ie);const Pe=[];for(let ye of this._entries)ye._score>0&&Pe.push(ye.provider);return Pe}ordered(Ie){const Pe=[];return this._orderedForEach(Ie,ye=>Pe.push(ye.provider)),Pe}orderedGroups(Ie){const Pe=[];let ye,Xe;return this._orderedForEach(Ie,st=>{ye&&Xe===st._score?ye.push(st.provider):(Xe=st._score,ye=[st.provider],Pe.push(ye))}),Pe}_orderedForEach(Ie,Pe){if(Ie){this._updateScores(Ie);for(const ye of this._entries)ye._score>0&&Pe(ye)}}_updateScores(Ie){let Pe={uri:Ie.uri.toString(),language:Ie.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===Pe.language&&this._lastCandidate.uri===Pe.uri)){this._lastCandidate=Pe;for(let ye of this._entries)if(ye._score=s(ye.selector,Ie.uri,Ie.getLanguageId(),(0,T.p)(Ie)),g(ye.selector)&&ye._score>0){for(let Xe of this._entries)Xe._score=0;ye._score=1e3;break}this._entries.sort(E._compareByScoreAndTime)}}static _compareByScoreAndTime(Ie,Pe){return Ie._score<Pe._score?1:Ie._score>Pe._score?-1:Ie._time<Pe._time?1:Ie._time>Pe._time?-1:0}}const H=new WeakMap;let r=0;function N(lt){let Ie=H.get(lt);return Ie===void 0&&(Ie=++r,H.set(lt,Ie)),Ie}class C{constructor(Ie,Pe,ye=Number.MAX_SAFE_INTEGER){this._registry=Ie,this.min=Pe,this.max=ye,this._cache=new LRUCache(50,.7)}_key(Ie){return Ie.id+this._registry.all(Ie).reduce((Pe,ye)=>doHash(N(ye),Pe),0)}_clamp(Ie){return Ie===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(Ie*1.3)))}get(Ie){const Pe=this._key(Ie),ye=this._cache.get(Pe);return this._clamp(ye==null?void 0:ye.value)}update(Ie,Pe){const ye=this._key(Ie);let Xe=this._cache.get(ye);return Xe||(Xe=new MovingAverage,this._cache.set(ye,Xe)),Xe.update(Pe),this.get(Ie)}}class x{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(Ie){this._onDidChange.fire({changedLanguages:Ie,changedColorMap:!1})}register(Ie,Pe){return this._map.set(Ie,Pe),this.fire([Ie]),(0,L.OF)(()=>{this._map.get(Ie)===Pe&&(this._map.delete(Ie),this.fire([Ie]))})}registerPromise(Ie,Pe){let ye=null,Xe=!1;return this._promises.set(Ie,Pe.then(st=>{this._promises.delete(Ie),!(Xe||!st)&&(ye=this.register(Ie,st))})),(0,L.OF)(()=>{Xe=!0,ye&&ye.dispose()})}getPromise(Ie){const Pe=this.get(Ie);if(Pe)return Promise.resolve(Pe);const ye=this._promises.get(Ie);return ye?ye.then(Xe=>this.get(Ie)):null}get(Ie){return this._map.get(Ie)||null}setColorMap(Ie){this._colorMap=Ie,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}var f=c(73046);class _{static getLanguageId(Ie){return(Ie&255)>>>0}static getTokenType(Ie){return(Ie&1792)>>>8}static getFontStyle(Ie){return(Ie&14336)>>>11}static getForeground(Ie){return(Ie&8372224)>>>14}static getBackground(Ie){return(Ie&4286578688)>>>23}static getClassNameFromMetadata(Ie){let ye="mtk"+this.getForeground(Ie),Xe=this.getFontStyle(Ie);return Xe&1&&(ye+=" mtki"),Xe&2&&(ye+=" mtkb"),Xe&4&&(ye+=" mtku"),ye}static getInlineStyleFromMetadata(Ie,Pe){const ye=this.getForeground(Ie),Xe=this.getFontStyle(Ie);let st=`color: ${Pe[ye]};`;return Xe&1&&(st+="font-style: italic;"),Xe&2&&(st+="font-weight: bold;"),Xe&4&&(st+="text-decoration: underline;"),st}}const S=function(){let lt=Object.create(null);return lt[0]="symbol-method",lt[1]="symbol-function",lt[2]="symbol-constructor",lt[3]="symbol-field",lt[4]="symbol-variable",lt[5]="symbol-class",lt[6]="symbol-struct",lt[7]="symbol-interface",lt[8]="symbol-module",lt[9]="symbol-property",lt[10]="symbol-event",lt[11]="symbol-operator",lt[12]="symbol-unit",lt[13]="symbol-value",lt[14]="symbol-constant",lt[15]="symbol-enum",lt[16]="symbol-enum-member",lt[17]="symbol-keyword",lt[27]="symbol-snippet",lt[18]="symbol-text",lt[19]="symbol-color",lt[20]="symbol-file",lt[21]="symbol-reference",lt[22]="symbol-customcolor",lt[23]="symbol-folder",lt[24]="symbol-type-parameter",lt[25]="account",lt[26]="issues",function(Ie){const Pe=lt[Ie];let ye=Pe&&f.fK.get(Pe);return ye||(console.info("No codicon found for CompletionItemKind "+Ie),ye=f.lA.symbolProperty),ye.classNames}}();let h=function(){let lt=Object.create(null);return lt.method=0,lt.function=1,lt.constructor=2,lt.field=3,lt.variable=4,lt.class=5,lt.struct=6,lt.interface=7,lt.module=8,lt.property=9,lt.event=10,lt.operator=11,lt.unit=12,lt.value=13,lt.constant=14,lt.enum=15,lt["enum-member"]=16,lt.enumMember=16,lt.keyword=17,lt.snippet=27,lt.text=18,lt.color=19,lt.file=20,lt.reference=21,lt.customcolor=22,lt.folder=23,lt["type-parameter"]=24,lt.typeParameter=24,lt.account=25,lt.issue=26,function(Ie,Pe){let ye=lt[Ie];return typeof ye=="undefined"&&!Pe&&(ye=9),ye}}();var y;(function(lt){lt[lt.Automatic=0]="Automatic",lt[lt.Explicit=1]="Explicit"})(y||(y={}));var v;(function(lt){lt[lt.Invoke=1]="Invoke",lt[lt.TriggerCharacter=2]="TriggerCharacter",lt[lt.ContentChange=3]="ContentChange"})(v||(v={}));var B;(function(lt){lt[lt.Text=0]="Text",lt[lt.Read=1]="Read",lt[lt.Write=2]="Write"})(B||(B={}));function j(lt){return lt&&D.o.isUri(lt.uri)&&O.e.isIRange(lt.range)&&(O.e.isIRange(lt.originSelectionRange)||O.e.isIRange(lt.targetSelectionRange))}var te;(function(lt){const Ie=new Map;Ie.set("file",0),Ie.set("module",1),Ie.set("namespace",2),Ie.set("package",3),Ie.set("class",4),Ie.set("method",5),Ie.set("property",6),Ie.set("field",7),Ie.set("constructor",8),Ie.set("enum",9),Ie.set("interface",10),Ie.set("function",11),Ie.set("variable",12),Ie.set("constant",13),Ie.set("string",14),Ie.set("number",15),Ie.set("boolean",16),Ie.set("array",17),Ie.set("object",18),Ie.set("key",19),Ie.set("null",20),Ie.set("enum-member",21),Ie.set("struct",22),Ie.set("event",23),Ie.set("operator",24),Ie.set("type-parameter",25);const Pe=new Map;Pe.set(0,"file"),Pe.set(1,"module"),Pe.set(2,"namespace"),Pe.set(3,"package"),Pe.set(4,"class"),Pe.set(5,"method"),Pe.set(6,"property"),Pe.set(7,"field"),Pe.set(8,"constructor"),Pe.set(9,"enum"),Pe.set(10,"interface"),Pe.set(11,"function"),Pe.set(12,"variable"),Pe.set(13,"constant"),Pe.set(14,"string"),Pe.set(15,"number"),Pe.set(16,"boolean"),Pe.set(17,"array"),Pe.set(18,"object"),Pe.set(19,"key"),Pe.set(20,"null"),Pe.set(21,"enum-member"),Pe.set(22,"struct"),Pe.set(23,"event"),Pe.set(24,"operator"),Pe.set(25,"type-parameter");function ye(Pt){return Ie.get(Pt)}lt.fromString=ye;function Xe(Pt){return Pe.get(Pt)}lt.toString=Xe;function st(Pt,qt){const Ci=Pe.get(Pt);let ii=Ci&&f.fK.get("symbol-"+Ci);return ii||(console.info("No codicon found for SymbolKind "+Pt),ii=f.lA.symbolProperty),`${qt?"inline":"block"} ${ii.classNames}`}lt.toCssClassName=st})(te||(te={}));class ce{constructor(Ie){this.value=Ie}}ce.Comment=new ce("comment"),ce.Imports=new ce("imports"),ce.Region=new ce("region");var _e;(function(lt){lt[lt.Other=0]="Other",lt[lt.Type=1]="Type",lt[lt.Parameter=2]="Parameter"})(_e||(_e={}));const Ce=new E,Ee=new E,le=new E,Y=new E,$=new E,G=new E,ee=new E,m=new E,w=new E,F=new E,ie=new E,pe=new E,ue=new E,ke=new E,Te=new E,rt=new E,Rt=new E,mt=new E,Mt=new E,it=new E,Je=new E,Ae=new E,ge=new E,Re=new E,ot=new E,dt=new x},97354:function(ti,Ge,c){"use strict";c.d(Ge,{V6:function(){return O},c$:function(){return Q},wU:function(){return D}});var D;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(D||(D={}));class O{constructor(J){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=J.open,this.close=J.close,this._standardTokenMask=0,Array.isArray(J.notIn))for(let R=0,W=J.notIn.length;R<W;R++)switch(J.notIn[R]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(J){return(this._standardTokenMask&J)===0}}class Q{constructor(J){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const R of J)P(this.autoClosingPairsOpenByStart,R.open.charAt(0),R),P(this.autoClosingPairsOpenByEnd,R.open.charAt(R.open.length-1),R),P(this.autoClosingPairsCloseByStart,R.close.charAt(0),R),P(this.autoClosingPairsCloseByEnd,R.close.charAt(R.close.length-1),R),R.close.length===1&&R.open.length===1&&P(this.autoClosingPairsCloseSingleChar,R.close,R)}}function P(L,J,R){L.has(J)?L.get(J).push(R):L.set(J,[R])}},94660:function(ti,Ge,c){"use strict";c.d(Ge,{c_:function(){return y},zu:function(){return Ee},UU:function(){return v}});var D=c(4669),O=c(5976),Q=c(97295),P=c(97461),L=c(97354),J=c(40764);class R{constructor(m){if(m.autoClosingPairs?this._autoClosingPairs=m.autoClosingPairs.map(w=>new L.V6(w)):m.brackets?this._autoClosingPairs=m.brackets.map(w=>new L.V6({open:w[0],close:w[1]})):this._autoClosingPairs=[],m.colorizedBracketPairs?this._colorizedBracketPairs=W(m.colorizedBracketPairs.map(w=>[w[0],w[1]])):m.brackets?this._colorizedBracketPairs=W(m.brackets.map(w=>[w[0],w[1]]).filter(w=>!(w[0]==="<"&&w[1]===">"))):this._colorizedBracketPairs=[],m.__electricCharacterSupport&&m.__electricCharacterSupport.docComment){const w=m.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.V6({open:w.open,close:w.close||""}))}this._autoCloseBefore=typeof m.autoCloseBefore=="string"?m.autoCloseBefore:R.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=m.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(m,w,F){if(w.getTokenCount()===0)return!0;const ie=w.findTokenIndexAtOffset(F-2),pe=w.getStandardTokenType(ie);return m.isOK(pe)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}R.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function W(ee){return ee.filter(([m,w])=>m!==""&&w!=="")}var s=c(34227);class T{constructor(m){this._richEditBrackets=m}getElectricCharacters(){let m=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const F of w.close){const ie=F.charAt(F.length-1);m.push(ie)}return m=m.filter((w,F,ie)=>ie.indexOf(w)===F),m}onElectricCharacter(m,w,F){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const ie=w.findTokenIndexAtOffset(F-1);if((0,J.Bu)(w.getStandardTokenType(ie)))return null;const pe=this._richEditBrackets.reversedRegex,ue=w.getLineContent().substring(0,F-1)+m,ke=s.Vr.findPrevBracketInRange(pe,1,ue,0,ue.length);if(!ke)return null;const Te=ue.substring(ke.startColumn-1,ke.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Te])return null;const Rt=w.getActualLineContentBefore(ke.startColumn-1);return/^\s*$/.test(Rt)?{matchOpenBracket:Te}:null}}function g(ee){return ee.global&&(ee.lastIndex=0),!0}class E{constructor(m){this._indentationRules=m}shouldIncrease(m){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(m))}shouldDecrease(m){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(m))}shouldIndentNextLine(m){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(m))}shouldIgnore(m){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(m))}getIndentMetadata(m){let w=0;return this.shouldIncrease(m)&&(w+=1),this.shouldDecrease(m)&&(w+=2),this.shouldIndentNextLine(m)&&(w+=4),this.shouldIgnore(m)&&(w+=8),w}}var H=c(17301);class r{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(w=>{const F=r._createOpenBracketRegExp(w[0]),ie=r._createCloseBracketRegExp(w[1]);F&&ie&&this._brackets.push({open:w[0],openRegExp:F,close:w[1],closeRegExp:ie})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,w,F,ie){if(m>=3)for(let pe=0,ue=this._regExpRules.length;pe<ue;pe++){let ke=this._regExpRules[pe];if([{reg:ke.beforeText,text:F},{reg:ke.afterText,text:ie},{reg:ke.previousLineText,text:w}].every(rt=>rt.reg?(rt.reg.lastIndex=0,rt.reg.test(rt.text)):!0))return ke.action}if(m>=2&&F.length>0&&ie.length>0)for(let pe=0,ue=this._brackets.length;pe<ue;pe++){let ke=this._brackets[pe];if(ke.openRegExp.test(F)&&ke.closeRegExp.test(ie))return{indentAction:L.wU.IndentOutdent}}if(m>=2&&F.length>0){for(let pe=0,ue=this._brackets.length;pe<ue;pe++)if(this._brackets[pe].openRegExp.test(F))return{indentAction:L.wU.Indent}}return null}static _createOpenBracketRegExp(m){let w=Q.ec(m);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",r._safeRegExp(w)}static _createCloseBracketRegExp(m){let w=Q.ec(m);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,r._safeRegExp(w)}static _safeRegExp(m){try{return new RegExp(m)}catch(w){return(0,H.dL)(w),null}}}var N=c(72065),C=c(33108),x=c(71531),f=c(65026),_=function(ee,m,w,F){var ie=arguments.length,pe=ie<3?m:F===null?F=Object.getOwnPropertyDescriptor(m,w):F,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ee,m,w,F);else for(var ke=ee.length-1;ke>=0;ke--)(ue=ee[ke])&&(pe=(ie<3?ue(pe):ie>3?ue(m,w,pe):ue(m,w))||pe);return ie>3&&pe&&Object.defineProperty(m,w,pe),pe},S=function(ee,m){return function(w,F){m(w,F,ee)}};class h{constructor(m){this.languageId=m}affects(m){return this.languageId?this.languageId===m:!0}}const y=(0,N.yh)("languageConfigurationService");let v=class extends O.JT{constructor(m,w){super(),this.configurationService=m,this.modeService=w,this.onDidChangeEmitter=this._register(new D.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(j));this._register(this.configurationService.onDidChangeConfiguration(ie=>{const pe=ie.change.keys.some(ke=>F.has(ke)),ue=ie.change.overrides.filter(([ke,Te])=>Te.some(rt=>F.has(rt))).map(([ke])=>this.modeService.validateLanguageId(ke));if(pe)this.configurations.clear(),this.onDidChangeEmitter.fire(new h(void 0));else for(const ke of ue)ke&&(this.configurations.delete(ke),this.onDidChangeEmitter.fire(new h(ke)))})),this._register(Ee.onDidChange(ie=>{this.configurations.delete(ie.languageId),this.onDidChangeEmitter.fire(new h(ie.languageId))}))}getLanguageConfiguration(m){let w=this.configurations.get(m);return w||(w=B(m,this.configurationService,this.modeService),this.configurations.set(m,w)),w}};v=_([S(0,C.Ui),S(1,x.h)],v);function B(ee,m,w){let F=Ee.getLanguageConfiguration(ee);if(!F){const ke=w.validateLanguageId(ee);if(!ke)throw new Error("Unexpected languageId");F=new G(ke,{})}const ie=te(F.languageId,m),pe=Y([F.underlyingConfig,ie]);return new G(F.languageId,pe)}const j={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function te(ee,m){const w=m.getValue(j.brackets,{overrideIdentifier:ee}),F=m.getValue(j.colorizedBracketPairs,{overrideIdentifier:ee});return{brackets:ce(w),colorizedBracketPairs:ce(F)}}function ce(ee){if(Array.isArray(ee))return ee.map(m=>{if(!(!Array.isArray(m)||m.length!==2))return[m[0],m[1]]}).filter(m=>!!m)}class _e{constructor(m){this.languageId=m}}class Ce{constructor(){this._entries=new Map,this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event}register(m,w,F=0){let ie=this._entries.get(m);ie||(ie=new le(m),this._entries.set(m,ie));const pe=ie.register(w,F);return this._onDidChange.fire(new _e(m)),(0,O.OF)(()=>{pe.dispose(),this._onDidChange.fire(new _e(m))})}getLanguageConfiguration(m){let w=this._entries.get(m);return(w==null?void 0:w.getResolvedConfiguration())||null}getIndentationRules(m){const w=this.getLanguageConfiguration(m);return w&&w.indentationRules||null}_getElectricCharacterSupport(m){let w=this.getLanguageConfiguration(m);return w&&w.electricCharacter||null}getElectricCharacters(m){let w=this._getElectricCharacterSupport(m);return w?w.getElectricCharacters():[]}onElectricCharacter(m,w,F){let ie=(0,J.wH)(w,F-1),pe=this._getElectricCharacterSupport(ie.languageId);return pe?pe.onElectricCharacter(m,ie,F-ie.firstCharOffset):null}getComments(m){let w=this.getLanguageConfiguration(m);return w&&w.comments||null}_getCharacterPairSupport(m){let w=this.getLanguageConfiguration(m);return w&&w.characterPair||null}getAutoClosingPairs(m){const w=this._getCharacterPairSupport(m);return new L.c$(w?w.getAutoClosingPairs():[])}getAutoCloseBeforeSet(m){let w=this._getCharacterPairSupport(m);return w?w.getAutoCloseBeforeSet():R.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(m){let w=this._getCharacterPairSupport(m);return w?w.getSurroundingPairs():[]}shouldAutoClosePair(m,w,F){const ie=(0,J.wH)(w,F-1);return R.shouldAutoClosePair(m,ie,F-ie.firstCharOffset)}getWordDefinition(m){let w=this.getLanguageConfiguration(m);return w?(0,P.eq)(w.wordDefinition||null):(0,P.eq)(null)}getFoldingRules(m){let w=this.getLanguageConfiguration(m);return w?w.foldingRules:{}}getIndentRulesSupport(m){let w=this.getLanguageConfiguration(m);return w&&w.indentRulesSupport||null}getPrecedingValidLine(m,w,F){let ie=m.getLanguageIdAtPosition(w,0);if(w>1){let pe,ue=-1;for(pe=w-1;pe>=1;pe--){if(m.getLanguageIdAtPosition(pe,0)!==ie)return ue;let ke=m.getLineContent(pe);if(F.shouldIgnore(ke)||/^\s+$/.test(ke)||ke===""){ue=pe;continue}return pe}}return-1}getInheritIndentForLine(m,w,F,ie=!0){if(m<4)return null;const pe=this.getIndentRulesSupport(w.getLanguageId());if(!pe)return null;if(F<=1)return{indentation:"",action:null};const ue=this.getPrecedingValidLine(w,F,pe);if(ue<0)return null;if(ue<1)return{indentation:"",action:null};const ke=w.getLineContent(ue);if(pe.shouldIncrease(ke)||pe.shouldIndentNextLine(ke))return{indentation:Q.V8(ke),action:L.wU.Indent,line:ue};if(pe.shouldDecrease(ke))return{indentation:Q.V8(ke),action:null,line:ue};{if(ue===1)return{indentation:Q.V8(w.getLineContent(ue)),action:null,line:ue};const Te=ue-1,rt=pe.getIndentMetadata(w.getLineContent(Te));if(!(rt&3)&&rt&4){let Rt=0;for(let mt=Te-1;mt>0;mt--)if(!pe.shouldIndentNextLine(w.getLineContent(mt))){Rt=mt;break}return{indentation:Q.V8(w.getLineContent(Rt+1)),action:null,line:Rt+1}}if(ie)return{indentation:Q.V8(w.getLineContent(ue)),action:null,line:ue};for(let Rt=ue;Rt>0;Rt--){const mt=w.getLineContent(Rt);if(pe.shouldIncrease(mt))return{indentation:Q.V8(mt),action:L.wU.Indent,line:Rt};if(pe.shouldIndentNextLine(mt)){let Mt=0;for(let it=Rt-1;it>0;it--)if(!pe.shouldIndentNextLine(w.getLineContent(Rt))){Mt=it;break}return{indentation:Q.V8(w.getLineContent(Mt+1)),action:null,line:Mt+1}}else if(pe.shouldDecrease(mt))return{indentation:Q.V8(mt),action:null,line:Rt}}return{indentation:Q.V8(w.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(m,w,F,ie,pe){if(m<4)return null;const ue=this.getLanguageConfiguration(F);if(!ue)return null;const ke=this.getIndentRulesSupport(F);if(!ke)return null;const Te=this.getInheritIndentForLine(m,w,ie),rt=w.getLineContent(ie);if(Te){const Rt=Te.line;if(Rt!==void 0){const mt=ue.onEnter(m,"",w.getLineContent(Rt),"");if(mt){let Mt=Q.V8(w.getLineContent(Rt));return mt.removeText&&(Mt=Mt.substring(0,Mt.length-mt.removeText)),mt.indentAction===L.wU.Indent||mt.indentAction===L.wU.IndentOutdent?Mt=pe.shiftIndent(Mt):mt.indentAction===L.wU.Outdent&&(Mt=pe.unshiftIndent(Mt)),ke.shouldDecrease(rt)&&(Mt=pe.unshiftIndent(Mt)),mt.appendText&&(Mt+=mt.appendText),Q.V8(Mt)}}return ke.shouldDecrease(rt)?Te.action===L.wU.Indent?Te.indentation:pe.unshiftIndent(Te.indentation):Te.action===L.wU.Indent?pe.shiftIndent(Te.indentation):Te.indentation}return null}getIndentForEnter(m,w,F,ie){if(m<4)return null;w.forceTokenization(F.startLineNumber);const pe=w.getLineTokens(F.startLineNumber),ue=(0,J.wH)(pe,F.startColumn-1),ke=ue.getLineContent();let Te=!1,rt;ue.firstCharOffset>0&&pe.getLanguageId(0)!==ue.languageId?(Te=!0,rt=ke.substr(0,F.startColumn-1-ue.firstCharOffset)):rt=pe.getLineContent().substring(0,F.startColumn-1);let Rt;F.isEmpty()?Rt=ke.substr(F.startColumn-1-ue.firstCharOffset):Rt=this.getScopedLineTokens(w,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-ue.firstCharOffset);const mt=this.getIndentRulesSupport(ue.languageId);if(!mt)return null;const Mt=rt,it=Q.V8(rt),Je={getLineTokens:ot=>w.getLineTokens(ot),getLanguageId:()=>w.getLanguageId(),getLanguageIdAtPosition:(ot,dt)=>w.getLanguageIdAtPosition(ot,dt),getLineContent:ot=>ot===F.startLineNumber?Mt:w.getLineContent(ot)},Ae=Q.V8(pe.getLineContent()),ge=this.getInheritIndentForLine(m,Je,F.startLineNumber+1);if(!ge){const ot=Te?Ae:it;return{beforeEnter:ot,afterEnter:ot}}let Re=Te?Ae:ge.indentation;return ge.action===L.wU.Indent&&(Re=ie.shiftIndent(Re)),mt.shouldDecrease(Rt)&&(Re=ie.unshiftIndent(Re)),{beforeEnter:Te?Ae:it,afterEnter:Re}}getIndentActionForType(m,w,F,ie,pe){if(m<4)return null;const ue=this.getScopedLineTokens(w,F.startLineNumber,F.startColumn);if(ue.firstCharOffset)return null;const ke=this.getIndentRulesSupport(ue.languageId);if(!ke)return null;const Te=ue.getLineContent(),rt=Te.substr(0,F.startColumn-1-ue.firstCharOffset);let Rt;if(F.isEmpty()?Rt=Te.substr(F.startColumn-1-ue.firstCharOffset):Rt=this.getScopedLineTokens(w,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-ue.firstCharOffset),!ke.shouldDecrease(rt+Rt)&&ke.shouldDecrease(rt+ie+Rt)){const mt=this.getInheritIndentForLine(m,w,F.startLineNumber,!1);if(!mt)return null;let Mt=mt.indentation;return mt.action!==L.wU.Indent&&(Mt=pe.unshiftIndent(Mt)),Mt}return null}getIndentMetadata(m,w){const F=this.getIndentRulesSupport(m.getLanguageId());return!F||w<1||w>m.getLineCount()?null:F.getIndentMetadata(m.getLineContent(w))}getEnterAction(m,w,F){const ie=this.getScopedLineTokens(w,F.startLineNumber,F.startColumn),pe=this.getLanguageConfiguration(ie.languageId);if(!pe)return null;const ue=ie.getLineContent(),ke=ue.substr(0,F.startColumn-1-ie.firstCharOffset);let Te;F.isEmpty()?Te=ue.substr(F.startColumn-1-ie.firstCharOffset):Te=this.getScopedLineTokens(w,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-ie.firstCharOffset);let rt="";if(F.startLineNumber>1&&ie.firstCharOffset===0){const Ae=this.getScopedLineTokens(w,F.startLineNumber-1);Ae.languageId===ie.languageId&&(rt=Ae.getLineContent())}const Rt=pe.onEnter(m,rt,ke,Te);if(!Rt)return null;const mt=Rt.indentAction;let Mt=Rt.appendText;const it=Rt.removeText||0;Mt?mt===L.wU.Indent&&(Mt="	"+Mt):mt===L.wU.Indent||mt===L.wU.IndentOutdent?Mt="	":Mt="";let Je=this.getIndentationAtPosition(w,F.startLineNumber,F.startColumn);return it&&(Je=Je.substring(0,Je.length-it)),{indentAction:mt,appendText:Mt,removeText:it,indentation:Je}}getIndentationAtPosition(m,w,F){const ie=m.getLineContent(w);let pe=Q.V8(ie);return pe.length>F-1&&(pe=pe.substring(0,F-1)),pe}getScopedLineTokens(m,w,F){m.forceTokenization(w);const ie=m.getLineTokens(w),pe=typeof F=="undefined"?m.getLineMaxColumn(w)-1:F-1;return(0,J.wH)(ie,pe)}}const Ee=new Ce;class le{constructor(m){this.languageId=m,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(m,w){const F=new $(m,w,++this._order);return this._entries.push(F),this._resolved=null,(0,O.OF)(()=>{for(let ie=0;ie<this._entries.length;ie++)if(this._entries[ie]===F){this._entries.splice(ie,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const m=this._resolve();m&&(this._resolved=new G(this.languageId,m))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort($.cmp),Y(this._entries.map(m=>m.configuration)))}}function Y(ee){let m={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const w of ee)m={comments:w.comments||m.comments,brackets:w.brackets||m.brackets,wordPattern:w.wordPattern||m.wordPattern,indentationRules:w.indentationRules||m.indentationRules,onEnterRules:w.onEnterRules||m.onEnterRules,autoClosingPairs:w.autoClosingPairs||m.autoClosingPairs,surroundingPairs:w.surroundingPairs||m.surroundingPairs,autoCloseBefore:w.autoCloseBefore||m.autoCloseBefore,folding:w.folding||m.folding,colorizedBracketPairs:w.colorizedBracketPairs||m.colorizedBracketPairs,__electricCharacterSupport:w.__electricCharacterSupport||m.__electricCharacterSupport};return m}class ${constructor(m,w,F){this.configuration=m,this.priority=w,this.order=F}static cmp(m,w){return m.priority===w.priority?m.order-w.order:m.priority-w.priority}}class G{constructor(m,w){this.languageId=m,this.underlyingConfig=w,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new r(this.underlyingConfig):null,this.comments=G._handleComments(this.underlyingConfig),this.characterPair=new R(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||P.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new E(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,P.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new T(this.brackets)),this._electricCharacter}onEnter(m,w,F,ie){return this._onEnterSupport?this._onEnterSupport.onEnter(m,w,F,ie):null}static _handleComments(m){let w=m.comments;if(!w)return null;let F={};if(w.lineComment&&(F.lineCommentToken=w.lineComment),w.blockComment){let[ie,pe]=w.blockComment;F.blockCommentStartToken=ie,F.blockCommentEndToken=pe}return F}}(0,f.z)(y,v)},71144:function(ti,Ge,c){"use strict";c.d(Ge,{XT:function(){return s},dQ:function(){return W}});var D=c(63580),O=c(4669),Q=c(94660),P=c(89872),L=c(81170);const J={ModesRegistry:"editor.modesRegistry"};class R{constructor(){this._onDidChangeLanguages=new O.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(E){return this._languages.push(E),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let H=0,r=this._languages.length;H<r;H++)if(this._languages[H]===E){this._languages.splice(H,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const W=new R;P.B.add(J.ModesRegistry,W);const s="plaintext",T=".txt";W.registerLanguage({id:s,extensions:[T],aliases:[D.N("plainText.alias","Plain Text"),"text"],mimetypes:[L.vW.text]}),Q.zu.register(s,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)},28111:function(ti,Ge,c){"use strict";c.d(Ge,{Ri:function(){return L},TG:function(){return P},mh:function(){return J},nO:function(){return Q}});var D=c(85600);class O{clone(){return this}equals(W){return this===W}}const Q=new O,P="vs.editor.nullMode";function L(R,W,s,T){return new D.hG([new D.WU(T,"",R)],s)}function J(R,W,s,T){let g=new Uint32Array(2);return g[0]=T,g[1]=(R<<0|0|0|16384|2<<23)>>>0,new D.Hi(g,s===null?Q:s)}},40764:function(ti,Ge,c){"use strict";c.d(Ge,{Bu:function(){return Q},wH:function(){return D}});function D(P,L){let J=P.getCount(),R=P.findTokenIndexAtOffset(L),W=P.getLanguageId(R),s=R;for(;s+1<J&&P.getLanguageId(s+1)===W;)s++;let T=R;for(;T>0&&P.getLanguageId(T-1)===W;)T--;return new O(P,W,T,s+1,P.getStartOffset(T),P.getEndOffset(s))}class O{constructor(L,J,R,W,s,T){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=J,this._firstTokenIndex=R,this._lastTokenIndex=W,this.firstCharOffset=s,this._lastCharOffset=T}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}function Q(P){return(P&7)!==0}},34227:function(ti,Ge,c){"use strict";c.d(Ge,{EA:function(){return J},Vr:function(){return x}});var D=c(97295),O=c(50072),Q=c(24314);class P{constructor(_,S,h,y,v,B){this._richEditBracketBrand=void 0,this.languageId=_,this.index=S,this.open=h,this.close=y,this.forwardRegex=v,this.reversedRegex=B,this._openSet=P._toSet(this.open),this._closeSet=P._toSet(this.close)}isOpen(_){return this._openSet.has(_)}isClose(_){return this._closeSet.has(_)}static _toSet(_){const S=new Set;for(const h of _)S.add(h);return S}}function L(f){const _=f.length;f=f.map(B=>[B[0].toLowerCase(),B[1].toLowerCase()]);const S=[];for(let B=0;B<_;B++)S[B]=B;const h=(B,j)=>{const[te,ce]=B,[_e,Ce]=j;return te===_e||te===Ce||ce===_e||ce===Ce},y=(B,j)=>{const te=Math.min(B,j),ce=Math.max(B,j);for(let _e=0;_e<_;_e++)S[_e]===ce&&(S[_e]=te)};for(let B=0;B<_;B++){const j=f[B];for(let te=B+1;te<_;te++){const ce=f[te];h(j,ce)&&y(S[B],S[te])}}const v=[];for(let B=0;B<_;B++){let j=[],te=[];for(let ce=0;ce<_;ce++)if(S[ce]===B){const[_e,Ce]=f[ce];j.push(_e),te.push(Ce)}j.length>0&&v.push({open:j,close:te})}return v}class J{constructor(_,S){this._richEditBracketsBrand=void 0;const h=L(S);this.brackets=h.map((y,v)=>new P(_,v,y.open,y.close,T(y.open,y.close,h,v),g(y.open,y.close,h,v))),this.forwardRegex=E(this.brackets),this.reversedRegex=H(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const y of this.brackets){for(const v of y.open)this.textIsBracket[v]=y,this.textIsOpenBracket[v]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,v.length);for(const v of y.close)this.textIsBracket[v]=y,this.textIsOpenBracket[v]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,v.length)}}}function R(f,_,S,h){for(let y=0,v=_.length;y<v;y++){if(y===S)continue;const B=_[y];for(const j of B.open)j.indexOf(f)>=0&&h.push(j);for(const j of B.close)j.indexOf(f)>=0&&h.push(j)}}function W(f,_){return f.length-_.length}function s(f){if(f.length<=1)return f;const _=[],S=new Set;for(const h of f)S.has(h)||(_.push(h),S.add(h));return _}function T(f,_,S,h){let y=[];y=y.concat(f),y=y.concat(_);for(let v=0,B=y.length;v<B;v++)R(y[v],S,h,y);return y=s(y),y.sort(W),y.reverse(),N(y)}function g(f,_,S,h){let y=[];y=y.concat(f),y=y.concat(_);for(let v=0,B=y.length;v<B;v++)R(y[v],S,h,y);return y=s(y),y.sort(W),y.reverse(),N(y.map(C))}function E(f){let _=[];for(const S of f){for(const h of S.open)_.push(h);for(const h of S.close)_.push(h)}return _=s(_),N(_)}function H(f){let _=[];for(const S of f){for(const h of S.open)_.push(h);for(const h of S.close)_.push(h)}return _=s(_),N(_.map(C))}function r(f){const _=/^[\w ]+$/.test(f);return f=D.ec(f),_?`\\b${f}\\b`:f}function N(f){let _=`(${f.map(r).join(")|(")})`;return D.GF(_,!0)}const C=function(){function f(h){if(O.lZ){const y=new Uint16Array(h.length);let v=0;for(let B=h.length-1;B>=0;B--)y[v++]=h.charCodeAt(B);return O.oe().decode(y)}else{let y=[],v=0;for(let B=h.length-1;B>=0;B--)y[v++]=h.charAt(B);return y.join("")}}let _=null,S=null;return function(y){return _!==y&&(_=y,S=f(_)),S}}();class x{static _findPrevBracketInText(_,S,h,y){let v=h.match(_);if(!v)return null;let B=h.length-(v.index||0),j=v[0].length,te=y+B;return new Q.e(S,te-j+1,S,te+1)}static findPrevBracketInRange(_,S,h,y,v){const j=C(h).substring(h.length-v,h.length-y);return this._findPrevBracketInText(_,S,j,y)}static findNextBracketInText(_,S,h,y){let v=h.match(_);if(!v)return null;let B=v.index||0,j=v[0].length;if(j===0)return null;let te=y+B;return new Q.e(S,te+1,S,te+1+j)}static findNextBracketInRange(_,S,h,y,v){const B=h.substring(y,v);return this.findNextBracketInText(_,S,B,y)}}},55713:function(ti,Ge,c){"use strict";c.d(Ge,{C:function(){return L},F:function(){return J}});var D=c(97295),O=c(78411),Q=c(28111);const P={getInitialState:()=>Q.nO,tokenize2:(W,s,T,g)=>(0,Q.mh)(0,W,T,g)};function L(W,s,T=P){return R(W,s,T||P)}function J(W,s,T,g,E,H,r){let N="<div>",C=g,x=0,f=!0;for(let _=0,S=s.getCount();_<S;_++){const h=s.getEndOffset(_);if(h<=g)continue;let y="";for(;C<h&&C<E;C++){const v=W.charCodeAt(C);switch(v){case 9:let B=H-(C+x)%H;for(x+=B-1;B>0;)r&&f?(y+="&#160;",f=!1):(y+=" ",f=!0),B--;break;case 60:y+="&lt;",f=!1;break;case 62:y+="&gt;",f=!1;break;case 38:y+="&amp;",f=!1;break;case 0:y+="&#00;",f=!1;break;case 65279:case 8232:case 8233:case 133:y+="\uFFFD",f=!1;break;case 13:y+="&#8203",f=!1;break;case 32:r&&f?(y+="&#160;",f=!1):(y+=" ",f=!0);break;default:y+=String.fromCharCode(v),f=!1}}if(N+=`<span style="${s.getInlineStyle(_,T)}">${y}</span>`,h>E||C>=E)break}return N+="</div>",N}function R(W,s,T){let g='<div class="monaco-tokenized-source">';const E=D.uq(W);let H=T.getInitialState();for(let r=0,N=E.length;r<N;r++){const C=E[r];r>0&&(g+="<br/>");const x=T.tokenize2(C,!0,H,0);O.A.convertToEndOffset(x.tokens,C.length);const _=new O.A(x.tokens,C,s).inflate();let S=0;for(let h=0,y=_.getCount();h<y;h++){const v=_.getClassName(h),B=_.getEndOffset(h);g+=`<span class="${v}">${D.YU(C.substring(S,B))}</span>`,S=B}H=x.endState}return g+="</div>",g}},90469:function(ti,Ge,c){"use strict";c.d(Ge,{p:function(){return Q}});var D=c(72065);const O="editorWorkerService",Q=(0,D.yh)(O)},26479:function(ti,Ge,c){"use strict";c.d(Ge,{i:function(){return O}});var D=c(72065);const O=(0,D.yh)("markerDecorationsService")},71531:function(ti,Ge,c){"use strict";c.d(Ge,{h:function(){return O}});var D=c(72065);const O=(0,D.yh)("modeService")},51200:function(ti,Ge,c){"use strict";c.d(Ge,{p:function(){return Q},q:function(){return O}});var D=c(72065);const O=(0,D.yh)("modelService");function Q(P){return!P.isTooLargeForSyncing()&&!P.isForSimpleWidget}},88216:function(ti,Ge,c){"use strict";c.d(Ge,{S:function(){return O}});var D=c(72065);const O=(0,D.yh)("textModelService")},92550:function(ti,Ge,c){"use strict";c.d(Ge,{Kp:function(){return O},k:function(){return L}});var D=c(97295);class O{constructor(R,W,s,T){this.startColumn=R,this.endColumn=W,this.className=s,this.type=T,this._lineDecorationBrand=void 0}static _equals(R,W){return R.startColumn===W.startColumn&&R.endColumn===W.endColumn&&R.className===W.className&&R.type===W.type}static equalsArr(R,W){const s=R.length,T=W.length;if(s!==T)return!1;for(let g=0;g<s;g++)if(!O._equals(R[g],W[g]))return!1;return!0}static extractWrapped(R,W,s){if(R.length===0)return R;const T=W+1,g=s+1,E=s-W,H=[];let r=0;for(const N of R)N.endColumn<=T||N.startColumn>=g||(H[r++]=new O(Math.max(1,N.startColumn-T+1),Math.min(E+1,N.endColumn-T+1),N.className,N.type));return H}static filter(R,W,s,T){if(R.length===0)return[];let g=[],E=0;for(let H=0,r=R.length;H<r;H++){const N=R[H],C=N.range;if(C.endLineNumber<W||C.startLineNumber>W||C.isEmpty()&&(N.type===0||N.type===3))continue;const x=C.startLineNumber===W?C.startColumn:s,f=C.endLineNumber===W?C.endColumn:T;g[E++]=new O(x,f,N.inlineClassName,N.type)}return g}static _typeCompare(R,W){const s=[2,0,1,3];return s[R]-s[W]}static compare(R,W){if(R.startColumn!==W.startColumn)return R.startColumn-W.startColumn;if(R.endColumn!==W.endColumn)return R.endColumn-W.endColumn;const s=O._typeCompare(R.type,W.type);return s!==0?s:R.className!==W.className?R.className<W.className?-1:1:0}}class Q{constructor(R,W,s,T){this.startOffset=R,this.endOffset=W,this.className=s,this.metadata=T}}class P{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(R){let W=0;for(let s=0,T=R.length;s<T;s++)W|=R[s];return W}consumeLowerThan(R,W,s){for(;this.count>0&&this.stopOffsets[0]<R;){let T=0;for(;T+1<this.count&&this.stopOffsets[T]===this.stopOffsets[T+1];)T++;s.push(new Q(W,this.stopOffsets[T],this.classNames.join(" "),P._metadata(this.metadata))),W=this.stopOffsets[T]+1,this.stopOffsets.splice(0,T+1),this.classNames.splice(0,T+1),this.metadata.splice(0,T+1),this.count-=T+1}return this.count>0&&W<R&&(s.push(new Q(W,R-1,this.classNames.join(" "),P._metadata(this.metadata))),W=R),W}insert(R,W,s){if(this.count===0||this.stopOffsets[this.count-1]<=R)this.stopOffsets.push(R),this.classNames.push(W),this.metadata.push(s);else for(let T=0;T<this.count;T++)if(this.stopOffsets[T]>=R){this.stopOffsets.splice(T,0,R),this.classNames.splice(T,0,W),this.metadata.splice(T,0,s);break}this.count++}}class L{static normalize(R,W){if(W.length===0)return[];let s=[];const T=new P;let g=0;for(let E=0,H=W.length;E<H;E++){const r=W[E];let N=r.startColumn,C=r.endColumn;const x=r.className,f=r.type===1?2:r.type===2?4:0;if(N>1){const h=R.charCodeAt(N-2);D.ZG(h)&&N--}if(C>1){const h=R.charCodeAt(C-2);D.ZG(h)&&C--}const _=N-1,S=C-2;g=T.consumeLowerThan(_,g,s),T.count===0&&(g=_),T.insert(S,x,f)}return T.consumeLowerThan(1073741824,g,s),s}}},77736:function(ti,Ge,c){"use strict";c.d(Ge,{IJ:function(){return J},Nd:function(){return R},d1:function(){return T},tF:function(){return E},zG:function(){return L}});var D=c(97295),O=c(50072),Q=c(92550);class P{constructor(B,j,te){this._linePartBrand=void 0,this.endIndex=B,this.type=j,this.metadata=te}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class L{constructor(B,j){this.startOffset=B,this.endOffset=j}equals(B){return this.startOffset===B.startOffset&&this.endOffset===B.endOffset}}class J{constructor(B,j,te,ce,_e,Ce,Ee,le,Y,$,G,ee,m,w,F,ie,pe,ue,ke){this.useMonospaceOptimizations=B,this.canUseHalfwidthRightwardsArrow=j,this.lineContent=te,this.continuesWithWrappedLine=ce,this.isBasicASCII=_e,this.containsRTL=Ce,this.fauxIndentLength=Ee,this.lineTokens=le,this.lineDecorations=Y.sort(Q.Kp.compare),this.tabSize=$,this.startVisibleColumn=G,this.spaceWidth=ee,this.stopRenderingLineAfter=F,this.renderWhitespace=ie==="all"?4:ie==="boundary"?1:ie==="selection"?2:ie==="trailing"?3:0,this.renderControlCharacters=pe,this.fontLigatures=ue,this.selectionsOnLine=ke&&ke.sort((Rt,mt)=>Rt.startOffset<mt.startOffset?-1:1);const Te=Math.abs(w-ee),rt=Math.abs(m-ee);Te<rt?(this.renderSpaceWidth=w,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=m,this.renderSpaceCharCode=183)}sameSelection(B){if(this.selectionsOnLine===null)return B===null;if(B===null||B.length!==this.selectionsOnLine.length)return!1;for(let j=0;j<this.selectionsOnLine.length;j++)if(!this.selectionsOnLine[j].equals(B[j]))return!1;return!0}equals(B){return this.useMonospaceOptimizations===B.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===B.canUseHalfwidthRightwardsArrow&&this.lineContent===B.lineContent&&this.continuesWithWrappedLine===B.continuesWithWrappedLine&&this.isBasicASCII===B.isBasicASCII&&this.containsRTL===B.containsRTL&&this.fauxIndentLength===B.fauxIndentLength&&this.tabSize===B.tabSize&&this.startVisibleColumn===B.startVisibleColumn&&this.spaceWidth===B.spaceWidth&&this.renderSpaceWidth===B.renderSpaceWidth&&this.renderSpaceCharCode===B.renderSpaceCharCode&&this.stopRenderingLineAfter===B.stopRenderingLineAfter&&this.renderWhitespace===B.renderWhitespace&&this.renderControlCharacters===B.renderControlCharacters&&this.fontLigatures===B.fontLigatures&&Q.Kp.equalsArr(this.lineDecorations,B.lineDecorations)&&this.lineTokens.equals(B.lineTokens)&&this.sameSelection(B.selectionsOnLine)}}class R{constructor(B,j){this.partIndex=B,this.charIndex=j}}class W{constructor(B,j){this.length=B,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(B){return(B&4294901760)>>>16}static getCharIndex(B){return(B&65535)>>>0}setColumnInfo(B,j,te,ce){const _e=(j<<16|te<<0)>>>0;this._data[B-1]=_e,this._absoluteOffsets[B-1]=ce+te}getAbsoluteOffset(B){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[B-1]}charOffsetToPartData(B){return this.length===0?0:B<0?this._data[0]:B>=this.length?this._data[this.length-1]:this._data[B]}getDomPosition(B){const j=this.charOffsetToPartData(B-1),te=W.getPartIndex(j),ce=W.getCharIndex(j);return new R(te,ce)}getColumn(B,j){return this.partDataToCharOffset(B.partIndex,j,B.charIndex)+1}partDataToCharOffset(B,j,te){if(this.length===0)return 0;let ce=(B<<16|te<<0)>>>0,_e=0,Ce=this.length-1;for(;_e+1<Ce;){let F=_e+Ce>>>1,ie=this._data[F];if(ie===ce)return F;ie>ce?Ce=F:_e=F}if(_e===Ce)return _e;let Ee=this._data[_e],le=this._data[Ce];if(Ee===ce)return _e;if(le===ce)return Ce;let Y=W.getPartIndex(Ee),$=W.getCharIndex(Ee),G=W.getPartIndex(le),ee;Y!==G?ee=j:ee=W.getCharIndex(le);let m=te-$,w=ee-te;return m<=w?_e:Ce}}class s{constructor(B,j,te){this._renderLineOutputBrand=void 0,this.characterMapping=B,this.containsRTL=j,this.containsForeignElements=te}}function T(v,B){if(v.lineContent.length===0){if(v.lineDecorations.length>0){B.appendASCIIString("<span>");let j=0,te=0,ce=0;for(const Ce of v.lineDecorations)(Ce.type===1||Ce.type===2)&&(B.appendASCIIString('<span class="'),B.appendASCIIString(Ce.className),B.appendASCIIString('"></span>'),Ce.type===1&&(ce|=1,j++),Ce.type===2&&(ce|=2,te++));B.appendASCIIString("</span>");const _e=new W(1,j+te);return _e.setColumnInfo(1,j,0,0),new s(_e,!1,ce)}return B.appendASCIIString("<span><span></span></span>"),new s(new W(0,0),!1,0)}return h(r(v),B)}class g{constructor(B,j,te,ce){this.characterMapping=B,this.html=j,this.containsRTL=te,this.containsForeignElements=ce}}function E(v){let B=(0,O.l$)(1e4),j=T(v,B);return new g(j.characterMapping,B.build(),j.containsRTL,j.containsForeignElements)}class H{constructor(B,j,te,ce,_e,Ce,Ee,le,Y,$,G,ee,m,w,F){this.fontIsMonospace=B,this.canUseHalfwidthRightwardsArrow=j,this.lineContent=te,this.len=ce,this.isOverflowing=_e,this.parts=Ce,this.containsForeignElements=Ee,this.fauxIndentLength=le,this.tabSize=Y,this.startVisibleColumn=$,this.containsRTL=G,this.spaceWidth=ee,this.renderSpaceCharCode=m,this.renderWhitespace=w,this.renderControlCharacters=F}}function r(v){const B=v.lineContent;let j,te;v.stopRenderingLineAfter!==-1&&v.stopRenderingLineAfter<B.length?(j=!0,te=v.stopRenderingLineAfter):(j=!1,te=B.length);let ce=N(v.lineTokens,v.fauxIndentLength,te);(v.renderWhitespace===4||v.renderWhitespace===1||v.renderWhitespace===2&&v.selectionsOnLine||v.renderWhitespace===3)&&(ce=_(v,B,te,ce));let _e=0;if(v.lineDecorations.length>0){for(let Ce=0,Ee=v.lineDecorations.length;Ce<Ee;Ce++){const le=v.lineDecorations[Ce];le.type===3||le.type===1?_e|=1:le.type===2&&(_e|=2)}ce=S(B,te,ce,v.lineDecorations)}return v.containsRTL||(ce=C(B,ce,!v.isBasicASCII||v.fontLigatures)),v.renderControlCharacters&&!v.isBasicASCII&&(ce=f(B,ce)),new H(v.useMonospaceOptimizations,v.canUseHalfwidthRightwardsArrow,B,te,j,ce,_e,v.fauxIndentLength,v.tabSize,v.startVisibleColumn,v.containsRTL,v.spaceWidth,v.renderSpaceCharCode,v.renderWhitespace,v.renderControlCharacters)}function N(v,B,j){let te=[],ce=0;B>0&&(te[ce++]=new P(B,"",0));for(let _e=0,Ce=v.getCount();_e<Ce;_e++){const Ee=v.getEndOffset(_e);if(Ee<=B)continue;const le=v.getClassName(_e);if(Ee>=j){te[ce++]=new P(j,le,0);break}te[ce++]=new P(Ee,le,0)}return te}function C(v,B,j){let te=0,ce=[],_e=0;if(j)for(let Ce=0,Ee=B.length;Ce<Ee;Ce++){const le=B[Ce],Y=le.endIndex;if(te+50<Y){const $=le.type,G=le.metadata;let ee=-1,m=te;for(let w=te;w<Y;w++)v.charCodeAt(w)===32&&(ee=w),ee!==-1&&w-m>=50&&(ce[_e++]=new P(ee+1,$,G),m=ee+1,ee=-1);m!==Y&&(ce[_e++]=new P(Y,$,G))}else ce[_e++]=le;te=Y}else for(let Ce=0,Ee=B.length;Ce<Ee;Ce++){const le=B[Ce],Y=le.endIndex;let $=Y-te;if($>50){const G=le.type,ee=le.metadata,m=Math.ceil($/50);for(let w=1;w<m;w++){let F=te+w*50;ce[_e++]=new P(F,G,ee)}ce[_e++]=new P(Y,G,ee)}else ce[_e++]=le;te=Y}return ce}function x(v){return v<32?v!==9:v===127||v>=8234&&v<=8238||v>=8294&&v<=8297||v>=8206&&v<=8207||v===1564}function f(v,B){let j=[],te=new P(0,"",0),ce=0;for(const _e of B){const Ce=_e.endIndex;for(;ce<Ce;ce++){const Ee=v.charCodeAt(ce);x(Ee)&&(ce>te.endIndex&&(te=new P(ce,_e.type,_e.metadata),j.push(te)),te=new P(ce+1,"mtkcontrol",_e.metadata),j.push(te))}ce>te.endIndex&&(te=new P(Ce,_e.type,_e.metadata),j.push(te))}return j}function _(v,B,j,te){const ce=v.continuesWithWrappedLine,_e=v.fauxIndentLength,Ce=v.tabSize,Ee=v.startVisibleColumn,le=v.useMonospaceOptimizations,Y=v.selectionsOnLine,$=v.renderWhitespace===1,G=v.renderWhitespace===3,ee=v.renderSpaceWidth!==v.spaceWidth;let m=[],w=0,F=0,ie=te[F].type,pe=te[F].endIndex;const ue=te.length;let ke=!1,Te=D.LC(B),rt;Te===-1?(ke=!0,Te=j,rt=j):rt=D.ow(B);let Rt=!1,mt=0,Mt=Y&&Y[mt],it=Ee%Ce;for(let Ae=_e;Ae<j;Ae++){const ge=B.charCodeAt(Ae);Mt&&Ae>=Mt.endOffset&&(mt++,Mt=Y&&Y[mt]);let Re;if(Ae<Te||Ae>rt)Re=!0;else if(ge===9)Re=!0;else if(ge===32)if($)if(Rt)Re=!0;else{const ot=Ae+1<j?B.charCodeAt(Ae+1):0;Re=ot===32||ot===9}else Re=!0;else Re=!1;if(Re&&Y&&(Re=!!Mt&&Mt.startOffset<=Ae&&Mt.endOffset>Ae),Re&&G&&(Re=ke||Ae>rt),Rt){if(!Re||!le&&it>=Ce){if(ee){const ot=w>0?m[w-1].endIndex:_e;for(let dt=ot+1;dt<=Ae;dt++)m[w++]=new P(dt,"mtkw",1)}else m[w++]=new P(Ae,"mtkw",1);it=it%Ce}}else(Ae===pe||Re&&Ae>_e)&&(m[w++]=new P(Ae,ie,0),it=it%Ce);for(ge===9?it=Ce:D.K7(ge)?it+=2:it++,Rt=Re;Ae===pe&&(F++,F<ue);)ie=te[F].type,pe=te[F].endIndex}let Je=!1;if(Rt)if(ce&&$){let Ae=j>0?B.charCodeAt(j-1):0,ge=j>1?B.charCodeAt(j-2):0;Ae===32&&ge!==32&&ge!==9||(Je=!0)}else Je=!0;if(Je)if(ee){const Ae=w>0?m[w-1].endIndex:_e;for(let ge=Ae+1;ge<=j;ge++)m[w++]=new P(ge,"mtkw",1)}else m[w++]=new P(j,"mtkw",1);else m[w++]=new P(j,ie,0);return m}function S(v,B,j,te){te.sort(Q.Kp.compare);const ce=Q.k.normalize(v,te),_e=ce.length;let Ce=0,Ee=[],le=0,Y=0;for(let G=0,ee=j.length;G<ee;G++){const m=j[G],w=m.endIndex,F=m.type,ie=m.metadata;for(;Ce<_e&&ce[Ce].startOffset<w;){const pe=ce[Ce];if(pe.startOffset>Y&&(Y=pe.startOffset,Ee[le++]=new P(Y,F,ie)),pe.endOffset+1<=w)Y=pe.endOffset+1,Ee[le++]=new P(Y,F+" "+pe.className,ie|pe.metadata),Ce++;else{Y=w,Ee[le++]=new P(Y,F+" "+pe.className,ie|pe.metadata);break}}w>Y&&(Y=w,Ee[le++]=new P(Y,F,ie))}const $=j[j.length-1].endIndex;if(Ce<_e&&ce[Ce].startOffset===$)for(;Ce<_e&&ce[Ce].startOffset===$;){const G=ce[Ce];Ee[le++]=new P(Y,G.className,G.metadata),Ce++}return Ee}function h(v,B){const j=v.fontIsMonospace,te=v.canUseHalfwidthRightwardsArrow,ce=v.containsForeignElements,_e=v.lineContent,Ce=v.len,Ee=v.isOverflowing,le=v.parts,Y=v.fauxIndentLength,$=v.tabSize,G=v.startVisibleColumn,ee=v.containsRTL,m=v.spaceWidth,w=v.renderSpaceCharCode,F=v.renderWhitespace,ie=v.renderControlCharacters,pe=new W(Ce+1,le.length);let ue=!1,ke=0,Te=G,rt=0,Rt=0,mt=0,Mt=0;ee?B.appendASCIIString('<span dir="ltr">'):B.appendASCIIString("<span>");for(let it=0,Je=le.length;it<Je;it++){Mt+=mt;const Ae=le[it],ge=Ae.endIndex,Re=Ae.type,ot=F!==0&&Ae.isWhitespace(),dt=ot&&!j&&(Re==="mtkw"||!ce),lt=ke===ge&&Ae.isPseudoAfter();if(rt=0,B.appendASCIIString('<span class="'),B.appendASCIIString(dt?"mtkz":Re),B.appendASCII(34),ot){let Ie=0;{let Pe=ke,ye=Te;for(;Pe<ge;Pe++){const st=(_e.charCodeAt(Pe)===9?$-ye%$:1)|0;Ie+=st,Pe>=Y&&(ye+=st)}}for(dt&&(B.appendASCIIString(' style="width:'),B.appendASCIIString(String(m*Ie)),B.appendASCIIString('px"')),B.appendASCII(62);ke<ge;ke++){pe.setColumnInfo(ke+1,it-Rt,rt,Mt),Rt=0;const Pe=_e.charCodeAt(ke);let ye;if(Pe===9){ye=$-Te%$|0,!te||ye>1?B.write1(8594):B.write1(65515);for(let Xe=2;Xe<=ye;Xe++)B.write1(160)}else ye=1,B.write1(w);rt+=ye,ke>=Y&&(Te+=ye)}mt=Ie}else{let Ie=0;for(B.appendASCII(62);ke<ge;ke++){pe.setColumnInfo(ke+1,it-Rt,rt,Mt),Rt=0;const Pe=_e.charCodeAt(ke);let ye=1,Xe=1;switch(Pe){case 9:ye=$-Te%$,Xe=ye;for(let st=1;st<=ye;st++)B.write1(160);break;case 32:B.write1(160);break;case 60:B.appendASCIIString("&lt;");break;case 62:B.appendASCIIString("&gt;");break;case 38:B.appendASCIIString("&amp;");break;case 0:ie?B.write1(9216):B.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:B.write1(65533);break;default:D.K7(Pe)&&Xe++,ie&&Pe<32?B.write1(9216+Pe):ie&&Pe===127?B.write1(9249):ie&&x(Pe)?(B.appendASCIIString("[U+"),B.appendASCIIString(y(Pe)),B.appendASCIIString("]"),ye=8):B.write1(Pe)}rt+=ye,Ie+=ye,ke>=Y&&(Te+=Xe)}mt=Ie}lt?Rt++:Rt=0,ke>=Ce&&!ue&&Ae.isPseudoAfter()&&(ue=!0,pe.setColumnInfo(ke+1,it,rt,Mt)),B.appendASCIIString("</span>")}return ue||pe.setColumnInfo(Ce+1,le.length-1,rt,Mt),Ee&&B.appendASCIIString("<span>&hellip;</span>"),B.appendASCIIString("</span>"),new s(pe,ee,ce)}function y(v){return v.toString(16).toUpperCase().padStart(4,"0")}},3544:function(ti,Ge,c){"use strict";c.d(Ge,{T:function(){return O},o:function(){return Q}});var D=c(85427);class O{constructor(L,J){this._prefixSumIndexOfResultBrand=void 0,this.index=L,this.remainder=J}}class Q{constructor(L){this.values=L,this.prefixSum=new Uint32Array(L.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(L,J){L=(0,D.A)(L);const R=this.values,W=this.prefixSum,s=J.length;return s===0?!1:(this.values=new Uint32Array(R.length+s),this.values.set(R.subarray(0,L),0),this.values.set(R.subarray(L),L+s),this.values.set(J,L),L-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=L-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(W.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(L,J){return L=(0,D.A)(L),J=(0,D.A)(J),this.values[L]===J?!1:(this.values[L]=J,L-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=L-1),!0)}removeValues(L,J){L=(0,D.A)(L),J=(0,D.A)(J);const R=this.values,W=this.prefixSum;if(L>=R.length)return!1;let s=R.length-L;return J>=s&&(J=s),J===0?!1:(this.values=new Uint32Array(R.length-J),this.values.set(R.subarray(0,L),0),this.values.set(R.subarray(L+J),L),this.prefixSum=new Uint32Array(this.values.length),L-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=L-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(W.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(L){return L<0?0:(L=(0,D.A)(L),this._getPrefixSum(L))}_getPrefixSum(L){if(L<=this.prefixSumValidIndex[0])return this.prefixSum[L];let J=this.prefixSumValidIndex[0]+1;J===0&&(this.prefixSum[0]=this.values[0],J++),L>=this.values.length&&(L=this.values.length-1);for(let R=J;R<=L;R++)this.prefixSum[R]=this.prefixSum[R-1]+this.values[R];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],L),this.prefixSum[L]}getIndexOf(L){L=Math.floor(L),this.getTotalSum();let J=0,R=this.values.length-1,W=0,s=0,T=0;for(;J<=R;)if(W=J+(R-J)/2|0,s=this.prefixSum[W],T=s-this.values[W],L<T)R=W-1;else if(L>=s)J=W+1;else break;return new O(W,L-T)}}},13824:function(ti,Ge,c){"use strict";c.d(Ge,{$l:function(){return H},$t:function(){return g},IP:function(){return s},SQ:function(){return r},Wx:function(){return E},l_:function(){return P},le:function(){return J},ud:function(){return W},wA:function(){return T}});var D=c(97295),O=c(50187),Q=c(24314);class P{constructor(C,x,f,_){this._viewportBrand=void 0,this.top=C|0,this.left=x|0,this.width=f|0,this.height=_|0}}class L{constructor(C,x){this.outputLineIndex=C,this.outputOffset=x}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(C,x){const f=this.outputLineIndex>0?x:0;return new O.L(C+this.outputLineIndex,f+this.outputOffset+1)}}class J{constructor(C,x,f,_,S){this.breakOffsets=C,this.breakOffsetsVisibleColumn=x,this.wrappedTextIndentLength=f,this.injectionOffsets=_,this.injectionOptions=S}getInputOffsetOfOutputPosition(C,x){let f=0;if(C===0?f=x:f=this.breakOffsets[C-1]+x,this.injectionOffsets!==null)for(let _=0;_<this.injectionOffsets.length&&f>this.injectionOffsets[_];_++)f<this.injectionOffsets[_]+this.injectionOptions[_].content.length?f=this.injectionOffsets[_]:f-=this.injectionOptions[_].content.length;return f}getOutputPositionOfInputOffset(C,x=2){let f=0;if(this.injectionOffsets!==null)for(let _=0;_<this.injectionOffsets.length&&!(C<this.injectionOffsets[_]||x!==1&&C===this.injectionOffsets[_]);_++)f+=this.injectionOptions[_].content.length;return C+=f,this.getOutputPositionOfOffsetInUnwrappedLine(C,x)}getOutputPositionOfOffsetInUnwrappedLine(C,x=2){let f=0,_=this.breakOffsets.length-1,S=0,h=0;for(;f<=_;){S=f+(_-f)/2|0;const y=this.breakOffsets[S];if(h=S>0?this.breakOffsets[S-1]:0,x===0)if(C<=h)_=S-1;else if(C>y)f=S+1;else break;else if(C<h)_=S-1;else if(C>=y)f=S+1;else break}return new L(S,C-h)}outputPositionToOffsetInUnwrappedLine(C,x){let f=(C>0?this.breakOffsets[C-1]:0)+x;return C>0&&(f-=this.wrappedTextIndentLength),f}normalizeOffsetAroundInjections(C,x){const f=this.getInjectedTextAtOffset(C);if(!f)return C;if(x===2)return C===f.offsetInUnwrappedLine+f.length?f.offsetInUnwrappedLine+f.length:f.offsetInUnwrappedLine;if(x===1){let h=f.offsetInUnwrappedLine+f.length,y=f.injectedTextIndex;for(;y+1<this.injectionOffsets.length&&this.injectionOffsets[y+1]===this.injectionOffsets[y];)h+=this.injectionOptions[y+1].content.length,y++;return h}let _=f.offsetInUnwrappedLine,S=f.injectedTextIndex;for(;S-1>=0&&this.injectionOffsets[S-1]===this.injectionOffsets[S];)_-=this.injectionOptions[S-1].content.length,S++;return _}getInjectedText(C,x){const f=this.outputPositionToOffsetInUnwrappedLine(C,x),_=this.getInjectedTextAtOffset(f);return _?{options:this.injectionOptions[_.injectedTextIndex]}:null}getInjectedTextAtOffset(C){const x=this.injectionOffsets,f=this.injectionOptions;if(x!==null){let _=0;for(let S=0;S<x.length;S++){const h=f[S].content.length,y=x[S]+_,v=x[S]+_+h;if(y>C)break;if(C<=v)return{injectedTextIndex:S,offsetInUnwrappedLine:y,length:h};_+=h}}}}class R{constructor(C){this.options=C}}class W{constructor(C,x){this.tabSize=C,this.data=x}}class s{constructor(C,x,f,_,S,h,y){this._viewLineDataBrand=void 0,this.content=C,this.continuesWithWrappedLine=x,this.minColumn=f,this.maxColumn=_,this.startVisibleColumn=S,this.tokens=h,this.inlineDecorations=y}}class T{constructor(C,x,f,_,S,h,y,v,B,j){this.minColumn=C,this.maxColumn=x,this.content=f,this.continuesWithWrappedLine=_,this.isBasicASCII=T.isBasicASCII(f,h),this.containsRTL=T.containsRTL(f,this.isBasicASCII,S),this.tokens=y,this.inlineDecorations=v,this.tabSize=B,this.startVisibleColumn=j}static isBasicASCII(C,x){return x?D.$i(C):!0}static containsRTL(C,x,f){return!x&&f?D.Ut(C):!1}}class g{constructor(C,x,f){this.range=C,this.inlineClassName=x,this.type=f}}class E{constructor(C,x,f,_){this.startOffset=C,this.endOffset=x,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=_}toInlineDecoration(C){return new g(new Q.e(C,this.startOffset+1,C,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class H{constructor(C,x){this._viewModelDecorationBrand=void 0,this.range=C,this.options=x}}class r{constructor(C,x,f){this.color=C,this.zIndex=x,this.data=f}static cmp(C,x){return C.zIndex===x.zIndex?C.color<x.color?-1:C.color>x.color?1:0:C.zIndex-x.zIndex}}},27869:function(ti,Ge,c){"use strict";c.d(Ge,{CE:function(){return w},DD:function(){return f},DS:function(){return rt},HV:function(){return Re},Jn:function(){return mt},Kh:function(){return L},L7:function(){return ge},Mm:function(){return J},N5:function(){return Ce},Qb:function(){return it},Re:function(){return $},To:function(){return Ae},UP:function(){return F},Vs:function(){return m},YF:function(){return Mt},Ym:function(){return N},eS:function(){return G},e_:function(){return B},f9:function(){return ot},fY:function(){return E},hw:function(){return C},kp:function(){return te},lK:function(){return Y},lS:function(){return Rt},m$:function(){return Te},m1:function(){return pe},m3:function(){return Je},n0:function(){return g},oV:function(){return ke},r0:function(){return ie},tR:function(){return r},ts:function(){return ue},x3:function(){return _e},zJ:function(){return ee},zk:function(){return _},zu:function(){return ce},zw:function(){return v}});var D=c(63580),O=c(41264),Q=c(73910),P=c(97781);const L=(0,Q.P6)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},D.N("lineHighlight","Background color for the highlight of line at the cursor position.")),J=(0,Q.P6)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},D.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),R=(0,Q.P6)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},D.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),W=(0,Q.P6)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Q.xL},D.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),s=(0,Q.P6)("editor.symbolHighlightBackground",{dark:Q.MU,light:Q.MU,hc:null},D.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),T=(0,Q.P6)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Q.xL},D.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=(0,Q.P6)("editorCursor.foreground",{dark:"#AEAFAD",light:O.Il.black,hc:O.Il.white},D.N("caret","Color of the editor cursor.")),E=(0,Q.P6)("editorCursor.background",null,D.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),H=(0,Q.P6)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},D.N("editorWhitespaces","Color of whitespace characters in the editor.")),r=(0,Q.P6)("editorIndentGuide.background",{dark:H,light:H,hc:H},D.N("editorIndentGuides","Color of the editor indentation guides.")),N=(0,Q.P6)("editorIndentGuide.activeBackground",{dark:H,light:H,hc:H},D.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),C=(0,Q.P6)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:O.Il.white},D.N("editorLineNumbers","Color of editor line numbers.")),x=(0,Q.P6)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Q.xL},D.N("editorActiveLineNumber","Color of editor active line number"),!1,D.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),f=(0,Q.P6)("editorLineNumber.activeForeground",{dark:x,light:x,hc:x},D.N("editorActiveLineNumber","Color of editor active line number")),_=(0,Q.P6)("editorRuler.foreground",{dark:"#5A5A5A",light:O.Il.lightgrey,hc:O.Il.white},D.N("editorRuler","Color of the editor rulers.")),S=(0,Q.P6)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},D.N("editorCodeLensForeground","Foreground color of editor CodeLens")),h=(0,Q.P6)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},D.N("editorBracketMatchBackground","Background color behind matching brackets")),y=(0,Q.P6)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Q.lR},D.N("editorBracketMatchBorder","Color for matching brackets boxes")),v=(0,Q.P6)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},D.N("editorOverviewRulerBorder","Color of the overview ruler border.")),B=(0,Q.P6)("editorOverviewRuler.background",null,D.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),j=(0,Q.P6)("editorGutter.background",{dark:Q.cv,light:Q.cv,hc:Q.cv},D.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),te=(0,Q.P6)("editorUnnecessaryCode.border",{dark:null,light:null,hc:O.Il.fromHex("#fff").transparent(.8)},D.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),ce=(0,Q.P6)("editorUnnecessaryCode.opacity",{dark:O.Il.fromHex("#000a"),light:O.Il.fromHex("#0007"),hc:null},D.N("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),_e=(0,Q.P6)("editorGhostText.border",{dark:null,light:null,hc:O.Il.fromHex("#fff").transparent(.8)},D.N("editorGhostTextBorder","Border color of ghost text in the editor.")),Ce=(0,Q.P6)("editorGhostText.foreground",{dark:O.Il.fromHex("#ffffff56"),light:O.Il.fromHex("#0007"),hc:null},D.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),Ee=new O.Il(new O.VS(0,122,204,.6)),le=(0,Q.P6)("editorOverviewRuler.rangeHighlightForeground",{dark:Ee,light:Ee,hc:Ee},D.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,Q.P6)("editorOverviewRuler.errorForeground",{dark:new O.Il(new O.VS(255,18,18,.7)),light:new O.Il(new O.VS(255,18,18,.7)),hc:new O.Il(new O.VS(255,50,50,1))},D.N("overviewRuleError","Overview ruler marker color for errors.")),$=(0,Q.P6)("editorOverviewRuler.warningForeground",{dark:Q.uo,light:Q.uo,hc:Q.pW},D.N("overviewRuleWarning","Overview ruler marker color for warnings.")),G=(0,Q.P6)("editorOverviewRuler.infoForeground",{dark:Q.c6,light:Q.c6,hc:Q.T8},D.N("overviewRuleInfo","Overview ruler marker color for infos.")),ee=(0,Q.P6)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},D.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),m=(0,Q.P6)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},D.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),w=(0,Q.P6)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},D.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),F=(0,Q.P6)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),ie=(0,Q.P6)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),pe=(0,Q.P6)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ue=(0,Q.P6)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new O.Il(new O.VS(255,18,18,.8)),light:new O.Il(new O.VS(255,18,18,.8)),hc:new O.Il(new O.VS(255,50,50,1))},D.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ke=(0,Q.P6)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Te=(0,Q.P6)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),rt=(0,Q.P6)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Rt=(0,Q.P6)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),mt=(0,Q.P6)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Mt=(0,Q.P6)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),it=(0,Q.P6)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Je=(0,Q.P6)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ae=(0,Q.P6)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ge=(0,Q.P6)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Re=(0,Q.P6)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),ot=(0,Q.P6)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,P.Ic)((dt,lt)=>{const Ie=dt.getColor(Q.cv);Ie&&lt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Ie}; }`);const Pe=dt.getColor(Q.NO);Pe&&lt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Pe}; }`);const ye=dt.getColor(j);ye&&lt.addRule(`.monaco-editor .margin { background-color: ${ye}; }`);const Xe=dt.getColor(R);Xe&&lt.addRule(`.monaco-editor .rangeHighlight { background-color: ${Xe}; }`);const st=dt.getColor(W);st&&lt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${dt.type==="hc"?"dotted":"solid"} ${st}; }`);const Pt=dt.getColor(s);Pt&&lt.addRule(`.monaco-editor .symbolHighlight { background-color: ${Pt}; }`);const qt=dt.getColor(T);qt&&lt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${dt.type==="hc"?"dotted":"solid"} ${qt}; }`);const Ci=dt.getColor(H);Ci&&(lt.addRule(`.monaco-editor .mtkw { color: ${Ci} !important; }`),lt.addRule(`.monaco-editor .mtkz { color: ${Ci} !important; }`))})},92003:function(ti,Ge,c){"use strict";c.d(Ge,{EY:function(){return O},Tj:function(){return Q}});class D{constructor(L,J,R){this._colorZoneBrand=void 0,this.from=L|0,this.to=J|0,this.colorId=R|0}static compare(L,J){return L.colorId===J.colorId?L.from===J.from?L.to-J.to:L.from-J.from:L.colorId-J.colorId}}class O{constructor(L,J,R){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=J,this.color=R,this._colorZone=null}static compare(L,J){return L.color===J.color?L.startLineNumber===J.startLineNumber?L.endLineNumber-J.endLineNumber:L.startLineNumber-J.startLineNumber:L.color<J.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}class Q{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(O.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,J=Math.floor(this._lineHeight),R=Math.floor(this.getCanvasHeight()),W=Math.floor(this._outerHeight),s=R/W,T=Math.floor(4*this._pixelRatio/2);let g=[];for(let E=0,H=this._zones.length;E<H;E++){const r=this._zones[E];if(!L){const y=r.getColorZones();if(y){g.push(y);continue}}const N=Math.floor(s*this._getVerticalOffsetForLine(r.startLineNumber)),C=Math.floor(s*(this._getVerticalOffsetForLine(r.endLineNumber)+J));let x=Math.floor((N+C)/2),f=C-x;f<T&&(f=T),x-f<0&&(x=f),x+f>R&&(x=R-f);const _=r.color;let S=this._color2Id[_];S||(S=++this._lastAssignedId,this._color2Id[_]=S,this._id2Color[S]=_);const h=new D(x-f,x+f,S);r.setColorZone(h),g.push(h)}return this._colorZonesInvalid=!1,g.sort(D.compare),g}}},40539:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{CommonFindController:function(){return Ks},FindController:function(){return zs},MatchFindAction:function(){return lo},NextMatchFindAction:function(){return ts},NextSelectionMatchFindAction:function(){return Xn},PreviousMatchFindAction:function(){return Un},PreviousSelectionMatchFindAction:function(){return Ys},SelectionMatchFindAction:function(){return Zs},StartFindAction:function(){return ho},StartFindReplaceAction:function(){return xs},StartFindWithSelectionAction:function(){return jn},getSelectionSearchString:function(){return io}});var D=c(15393),O=c(5976),Q=c(97295),P=c(16830),L=c(29102),J=c(9488),R=c(61329),W=c(50187),s=c(24314),T=c(3860),g=c(77277),E=c(84973),H=c(24979),r=c(73910),N=c(97781);class C{constructor(me){this._editor=me,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const me=this._findScopeDecorationIds.map(ct=>this._editor.getModel().getDecorationRange(ct)).filter(ct=>!!ct);if(me.length)return me}return null}getStartPosition(){return this._startPosition}setStartPosition(me){this._startPosition=me,this.setCurrentFindMatch(null)}_getDecorationIndex(me){const ct=this._decorations.indexOf(me);return ct>=0?ct+1:1}getCurrentMatchesPosition(me){let ct=this._editor.getModel().getDecorationsInRange(me);for(const gt of ct){const Bt=gt.options;if(Bt===C._FIND_MATCH_DECORATION||Bt===C._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(gt.id)}return 0}setCurrentFindMatch(me){let ct=null,gt=0;if(me)for(let Bt=0,Gt=this._decorations.length;Bt<Gt;Bt++){let bi=this._editor.getModel().getDecorationRange(this._decorations[Bt]);if(me.equalsRange(bi)){ct=this._decorations[Bt],gt=Bt+1;break}}return(this._highlightedDecorationId!==null||ct!==null)&&this._editor.changeDecorations(Bt=>{if(this._highlightedDecorationId!==null&&(Bt.changeDecorationOptions(this._highlightedDecorationId,C._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),ct!==null&&(this._highlightedDecorationId=ct,Bt.changeDecorationOptions(this._highlightedDecorationId,C._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(Bt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),ct!==null){let Gt=this._editor.getModel().getDecorationRange(ct);if(Gt.startLineNumber!==Gt.endLineNumber&&Gt.endColumn===1){let bi=Gt.endLineNumber-1,li=this._editor.getModel().getLineMaxColumn(bi);Gt=new s.e(Gt.startLineNumber,Gt.startColumn,bi,li)}this._rangeHighlightDecorationId=Bt.addDecoration(Gt,C._RANGE_HIGHLIGHT_DECORATION)}}),gt}set(me,ct){this._editor.changeDecorations(gt=>{let Bt=C._FIND_MATCH_DECORATION,Gt=[];if(me.length>1e3){Bt=C._FIND_MATCH_NO_OVERVIEW_DECORATION;const li=this._editor.getModel().getLineCount(),ki=this._editor.getLayoutInfo().height/li,Di=Math.max(2,Math.ceil(3/ki));let Pn=me[0].range.startLineNumber,kt=me[0].range.endLineNumber;for(let V=1,ae=me.length;V<ae;V++){const Ne=me[V].range;kt+Di>=Ne.startLineNumber?Ne.endLineNumber>kt&&(kt=Ne.endLineNumber):(Gt.push({range:new s.e(Pn,1,kt,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Pn=Ne.startLineNumber,kt=Ne.endLineNumber)}Gt.push({range:new s.e(Pn,1,kt,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let bi=new Array(me.length);for(let li=0,ei=me.length;li<ei;li++)bi[li]={range:me[li].range,options:Bt};this._decorations=gt.deltaDecorations(this._decorations,bi),this._overviewRulerApproximateDecorations=gt.deltaDecorations(this._overviewRulerApproximateDecorations,Gt),this._rangeHighlightDecorationId&&(gt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(li=>gt.removeDecoration(li)),this._findScopeDecorationIds=[]),ct!=null&&ct.length&&(this._findScopeDecorationIds=ct.map(li=>gt.addDecoration(li,C._FIND_SCOPE_DECORATION)))})}matchBeforePosition(me){if(this._decorations.length===0)return null;for(let ct=this._decorations.length-1;ct>=0;ct--){let gt=this._decorations[ct],Bt=this._editor.getModel().getDecorationRange(gt);if(!(!Bt||Bt.endLineNumber>me.lineNumber)){if(Bt.endLineNumber<me.lineNumber)return Bt;if(!(Bt.endColumn>me.column))return Bt}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(me){if(this._decorations.length===0)return null;for(let ct=0,gt=this._decorations.length;ct<gt;ct++){let Bt=this._decorations[ct],Gt=this._editor.getModel().getDecorationRange(Bt);if(!(!Gt||Gt.startLineNumber<me.lineNumber)){if(Gt.startLineNumber>me.lineNumber)return Gt;if(!(Gt.startColumn<me.column))return Gt}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let me=[];return me=me.concat(this._decorations),me=me.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&me.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&me.push(this._rangeHighlightDecorationId),me}}C._CURRENT_FIND_MATCH_DECORATION=H.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,N.EN)(r.Fm),position:E.sh.Center},minimap:{color:(0,N.EN)(r.KT),position:E.F5.Inline}}),C._FIND_MATCH_DECORATION=H.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,N.EN)(r.Fm),position:E.sh.Center},minimap:{color:(0,N.EN)(r.KT),position:E.F5.Inline}}),C._FIND_MATCH_NO_OVERVIEW_DECORATION=H.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),C._FIND_MATCH_ONLY_OVERVIEW_DECORATION=H.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,N.EN)(r.Fm),position:E.sh.Center}}),C._RANGE_HIGHLIGHT_DECORATION=H.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),C._FIND_SCOPE_DECORATION=H.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class x{constructor(me,ct,gt){this._editorSelection=me,this._ranges=ct,this._replaceStrings=gt,this._trackedEditorSelectionId=null}getEditOperations(me,ct){if(this._ranges.length>0){let gt=[];for(let bi=0;bi<this._ranges.length;bi++)gt.push({range:this._ranges[bi],text:this._replaceStrings[bi]});gt.sort((bi,li)=>s.e.compareRangesUsingStarts(bi.range,li.range));let Bt=[],Gt=gt[0];for(let bi=1;bi<gt.length;bi++)Gt.range.endLineNumber===gt[bi].range.startLineNumber&&Gt.range.endColumn===gt[bi].range.startColumn?(Gt.range=Gt.range.plusRange(gt[bi].range),Gt.text=Gt.text+gt[bi].text):(Bt.push(Gt),Gt=gt[bi]);Bt.push(Gt);for(const bi of Bt)ct.addEditOperation(bi.range,bi.text)}this._trackedEditorSelectionId=ct.trackSelection(this._editorSelection)}computeCursorState(me,ct){return ct.getTrackedSelection(this._trackedEditorSelectionId)}}function f(pi,me){if(pi&&pi[0]!==""){const ct=_(pi,me,"-"),gt=_(pi,me,"_");return ct&&!gt?S(pi,me,"-"):!ct&&gt?S(pi,me,"_"):pi[0].toUpperCase()===pi[0]?me.toUpperCase():pi[0].toLowerCase()===pi[0]?me.toLowerCase():Q.Kw(pi[0][0])&&me.length>0?me[0].toUpperCase()+me.substr(1):pi[0][0].toUpperCase()!==pi[0][0]&&me.length>0?me[0].toLowerCase()+me.substr(1):me}else return me}function _(pi,me,ct){return pi[0].indexOf(ct)!==-1&&me.indexOf(ct)!==-1&&pi[0].split(ct).length===me.split(ct).length}function S(pi,me,ct){const gt=me.split(ct),Bt=pi[0].split(ct);let Gt="";return gt.forEach((bi,li)=>{Gt+=f([Bt[li]],bi)+ct}),Gt.slice(0,-1)}class h{constructor(me){this.staticValue=me,this.kind=0}}class y{constructor(me){this.pieces=me,this.kind=1}}class v{constructor(me){!me||me.length===0?this._state=new h(""):me.length===1&&me[0].staticValue!==null?this._state=new h(me[0].staticValue):this._state=new y(me)}static fromStaticValue(me){return new v([B.staticValue(me)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(me,ct){if(this._state.kind===0)return ct?f(me,this._state.staticValue):this._state.staticValue;let gt="";for(let Bt=0,Gt=this._state.pieces.length;Bt<Gt;Bt++){let bi=this._state.pieces[Bt];if(bi.staticValue!==null){gt+=bi.staticValue;continue}let li=v._substitute(bi.matchIndex,me);if(bi.caseOps!==null&&bi.caseOps.length>0){let ei=[],ki=bi.caseOps.length,Di=0;for(let Pn=0,kt=li.length;Pn<kt;Pn++){if(Di>=ki){ei.push(li.slice(Pn));break}switch(bi.caseOps[Di]){case"U":ei.push(li[Pn].toUpperCase());break;case"u":ei.push(li[Pn].toUpperCase()),Di++;break;case"L":ei.push(li[Pn].toLowerCase());break;case"l":ei.push(li[Pn].toLowerCase()),Di++;break;default:ei.push(li[Pn])}}li=ei.join("")}gt+=li}return gt}static _substitute(me,ct){if(ct===null)return"";if(me===0)return ct[0];let gt="";for(;me>0;){if(me<ct.length)return(ct[me]||"")+gt;gt=String(me%10)+gt,me=Math.floor(me/10)}return"$"+gt}}class B{constructor(me,ct,gt){this.staticValue=me,this.matchIndex=ct,!gt||gt.length===0?this.caseOps=null:this.caseOps=gt.slice(0)}static staticValue(me){return new B(me,-1,null)}static caseOps(me,ct){return new B(null,me,ct)}}class j{constructor(me){this._source=me,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(me){this._emitStatic(this._source.substring(this._lastCharIndex,me)),this._lastCharIndex=me}emitStatic(me,ct){this._emitStatic(me),this._lastCharIndex=ct}_emitStatic(me){me.length!==0&&(this._currentStaticPiece+=me)}emitMatchIndex(me,ct,gt){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=B.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=B.caseOps(me,gt),this._lastCharIndex=ct}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=B.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new v(this._result)}}function te(pi){if(!pi||pi.length===0)return new v(null);let me=[],ct=new j(pi);for(let gt=0,Bt=pi.length;gt<Bt;gt++){let Gt=pi.charCodeAt(gt);if(Gt===92){if(gt++,gt>=Bt)break;let bi=pi.charCodeAt(gt);switch(bi){case 92:ct.emitUnchanged(gt-1),ct.emitStatic("\\",gt+1);break;case 110:ct.emitUnchanged(gt-1),ct.emitStatic(`
`,gt+1);break;case 116:ct.emitUnchanged(gt-1),ct.emitStatic("	",gt+1);break;case 117:case 85:case 108:case 76:ct.emitUnchanged(gt-1),ct.emitStatic("",gt+1),me.push(String.fromCharCode(bi));break}continue}if(Gt===36){if(gt++,gt>=Bt)break;let bi=pi.charCodeAt(gt);if(bi===36){ct.emitUnchanged(gt-1),ct.emitStatic("$",gt+1);continue}if(bi===48||bi===38){ct.emitUnchanged(gt-1),ct.emitMatchIndex(0,gt+1,me),me.length=0;continue}if(49<=bi&&bi<=57){let li=bi-48;if(gt+1<Bt){let ei=pi.charCodeAt(gt+1);if(48<=ei&&ei<=57){gt++,li=li*10+(ei-48),ct.emitUnchanged(gt-2),ct.emitMatchIndex(li,gt+1,me),me.length=0;continue}}ct.emitUnchanged(gt-1),ct.emitMatchIndex(li,gt+1,me),me.length=0;continue}}}return ct.finalize()}var ce=c(38819);const _e=new ce.uy("findWidgetVisible",!1),Ce=new ce.uy("findInputFocussed",!1),Ee=new ce.uy("replaceInputFocussed",!1),le={primary:545,mac:{primary:2593}},Y={primary:565,mac:{primary:2613}},$={primary:560,mac:{primary:2608}},G={primary:554,mac:{primary:2602}},ee={primary:558,mac:{primary:2606}},m={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},w=19999,F=240;class ie{constructor(me,ct){this._toDispose=new O.SL,this._editor=me,this._state=ct,this._isDisposed=!1,this._startSearchingTimer=new D._F,this._decorations=new C(me),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new D.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(gt=>{(gt.reason===3||gt.reason===5||gt.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(gt=>{this._ignoreModelContentChanged||(gt.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(gt=>this._onStateChanged(gt))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,O.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(me){this._isDisposed||this._editor.hasModel()&&(me.searchString||me.isReplaceRevealed||me.isRegex||me.wholeWord||me.matchCase||me.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{me.searchScope?this.research(me.moveCursor,this._state.searchScope):this.research(me.moveCursor)},F)):me.searchScope?this.research(me.moveCursor,this._state.searchScope):this.research(me.moveCursor))}static _getSearchRange(me,ct){return ct||me.getFullModelRange()}research(me,ct){let gt=null;typeof ct!="undefined"?ct!==null&&(Array.isArray(ct)?gt=ct:gt=[ct]):gt=this._decorations.getFindScopes(),gt!==null&&(gt=gt.map(li=>{if(li.startLineNumber!==li.endLineNumber){let ei=li.endLineNumber;return li.endColumn===1&&(ei=ei-1),new s.e(li.startLineNumber,1,ei,this._editor.getModel().getLineMaxColumn(ei))}return li}));let Bt=this._findMatches(gt,!1,w);this._decorations.set(Bt,gt);const Gt=this._editor.getSelection();let bi=this._decorations.getCurrentMatchesPosition(Gt);if(bi===0&&Bt.length>0){const li=(0,J.lG)(Bt.map(ei=>ei.range),ei=>s.e.compareRangesUsingStarts(ei,Gt)>=0);bi=li>0?li-1+1:bi}this._state.changeMatchInfo(bi,this._decorations.getCount(),void 0),me&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let me=this._decorations.getFindScope();return me&&this._editor.revealRangeInCenterIfOutsideViewport(me,0),!0}return!1}_setCurrentFindMatch(me){let ct=this._decorations.setCurrentFindMatch(me);this._state.changeMatchInfo(ct,this._decorations.getCount(),me),this._editor.setSelection(me),this._editor.revealRangeInCenterIfOutsideViewport(me,0)}_prevSearchPosition(me){let ct=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:gt,column:Bt}=me,Gt=this._editor.getModel();return ct||Bt===1?(gt===1?gt=Gt.getLineCount():gt--,Bt=Gt.getLineMaxColumn(gt)):Bt--,new W.L(gt,Bt)}_moveToPrevMatch(me,ct=!1){if(!this._state.canNavigateBack()){const Di=this._decorations.matchAfterPosition(me);Di&&this._setCurrentFindMatch(Di);return}if(this._decorations.getCount()<w){let Di=this._decorations.matchBeforePosition(me);Di&&Di.isEmpty()&&Di.getStartPosition().equals(me)&&(me=this._prevSearchPosition(me),Di=this._decorations.matchBeforePosition(me)),Di&&this._setCurrentFindMatch(Di);return}if(this._cannotFind())return;let gt=this._decorations.getFindScope(),Bt=ie._getSearchRange(this._editor.getModel(),gt);Bt.getEndPosition().isBefore(me)&&(me=Bt.getEndPosition()),me.isBefore(Bt.getStartPosition())&&(me=Bt.getEndPosition());let{lineNumber:Gt,column:bi}=me,li=this._editor.getModel(),ei=new W.L(Gt,bi),ki=li.findPreviousMatch(this._state.searchString,ei,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(ki&&ki.range.isEmpty()&&ki.range.getStartPosition().equals(ei)&&(ei=this._prevSearchPosition(ei),ki=li.findPreviousMatch(this._state.searchString,ei,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!ki){if(!ct&&!Bt.containsRange(ki.range))return this._moveToPrevMatch(ki.range.getStartPosition(),!0);this._setCurrentFindMatch(ki.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(me){let ct=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:gt,column:Bt}=me,Gt=this._editor.getModel();return ct||Bt===Gt.getLineMaxColumn(gt)?(gt===Gt.getLineCount()?gt=1:gt++,Bt=1):Bt++,new W.L(gt,Bt)}_moveToNextMatch(me){if(!this._state.canNavigateForward()){const gt=this._decorations.matchBeforePosition(me);gt&&this._setCurrentFindMatch(gt);return}if(this._decorations.getCount()<w){let gt=this._decorations.matchAfterPosition(me);gt&&gt.isEmpty()&&gt.getStartPosition().equals(me)&&(me=this._nextSearchPosition(me),gt=this._decorations.matchAfterPosition(me)),gt&&this._setCurrentFindMatch(gt);return}let ct=this._getNextMatch(me,!1,!0);ct&&this._setCurrentFindMatch(ct.range)}_getNextMatch(me,ct,gt,Bt=!1){if(this._cannotFind())return null;let Gt=this._decorations.getFindScope(),bi=ie._getSearchRange(this._editor.getModel(),Gt);bi.getEndPosition().isBefore(me)&&(me=bi.getStartPosition()),me.isBefore(bi.getStartPosition())&&(me=bi.getStartPosition());let{lineNumber:li,column:ei}=me,ki=this._editor.getModel(),Di=new W.L(li,ei),Pn=ki.findNextMatch(this._state.searchString,Di,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ct);return gt&&Pn&&Pn.range.isEmpty()&&Pn.range.getStartPosition().equals(Di)&&(Di=this._nextSearchPosition(Di),Pn=ki.findNextMatch(this._state.searchString,Di,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ct)),Pn?!Bt&&!bi.containsRange(Pn.range)?this._getNextMatch(Pn.range.getEndPosition(),ct,gt,!0):Pn:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?te(this._state.replaceString):v.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let me=this._getReplacePattern(),ct=this._editor.getSelection(),gt=this._getNextMatch(ct.getStartPosition(),!0,!1);if(gt)if(ct.equalsRange(gt.range)){let Bt=me.buildReplaceString(gt.matches,this._state.preserveCase),Gt=new R.T4(ct,Bt);this._executeEditorCommand("replace",Gt),this._decorations.setStartPosition(new W.L(ct.startLineNumber,ct.startColumn+Bt.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(gt.range)}_findMatches(me,ct,gt){const Bt=(me||[null]).map(Gt=>ie._getSearchRange(this._editor.getModel(),Gt));return this._editor.getModel().findMatches(this._state.searchString,Bt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ct,gt)}replaceAll(){if(!this._hasMatches())return;const me=this._decorations.getFindScopes();me===null&&this._state.matchesCount>=w?this._largeReplaceAll():this._regularReplaceAll(me),this.research(!1)}_largeReplaceAll(){const ct=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!ct)return;let gt=ct.regex;if(!gt.multiline){let Pn="mu";gt.ignoreCase&&(Pn+="i"),gt.global&&(Pn+="g"),gt=new RegExp(gt.source,Pn)}const Bt=this._editor.getModel(),Gt=Bt.getValue(1),bi=Bt.getFullModelRange(),li=this._getReplacePattern();let ei;const ki=this._state.preserveCase;li.hasReplacementPatterns||ki?ei=Gt.replace(gt,function(){return li.buildReplaceString(arguments,ki)}):ei=Gt.replace(gt,li.buildReplaceString(null,ki));let Di=new R.hP(bi,ei,this._editor.getSelection());this._executeEditorCommand("replaceAll",Di)}_regularReplaceAll(me){const ct=this._getReplacePattern();let gt=this._findMatches(me,ct.hasReplacementPatterns||this._state.preserveCase,1073741824),Bt=[];for(let bi=0,li=gt.length;bi<li;bi++)Bt[bi]=ct.buildReplaceString(gt[bi].matches,this._state.preserveCase);let Gt=new x(this._editor.getSelection(),gt.map(bi=>bi.range),Bt);this._executeEditorCommand("replaceAll",Gt)}selectAllMatches(){if(!this._hasMatches())return;let me=this._decorations.getFindScopes(),gt=this._findMatches(me,!1,1073741824).map(Gt=>new T.Y(Gt.range.startLineNumber,Gt.range.startColumn,Gt.range.endLineNumber,Gt.range.endColumn)),Bt=this._editor.getSelection();for(let Gt=0,bi=gt.length;Gt<bi;Gt++)if(gt[Gt].equalsRange(Bt)){gt=[Bt].concat(gt.slice(0,Gt)).concat(gt.slice(Gt+1));break}this._editor.setSelections(gt)}_executeEditorCommand(me,ct){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(me,ct),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var pe=c(65321),ue=c(93794),ke=c(73046),Te=c(41264),rt=c(4669);const Rt={inputActiveOptionBorder:Te.Il.fromHex("#007ACC00"),inputActiveOptionForeground:Te.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:Te.Il.fromHex("#0E639C50")};class mt extends ue.${constructor(me){super(),this._onChange=this._register(new rt.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new rt.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Rt),me),this._checked=this._opts.isChecked;const ct=["monaco-custom-checkbox"];this._opts.icon&&ct.push(...ke.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&ct.push(...this._opts.actionClassName.split(" ")),this._checked&&ct.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...ct),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,gt=>{this.checked=!this._checked,this._onChange.fire(!1),gt.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,gt=>{if(gt.keyCode===10||gt.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),gt.preventDefault();return}this._onKeyDown.fire(gt)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(me){this._checked=me,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(me){me.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=me.inputActiveOptionBorder),me.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=me.inputActiveOptionForeground),me.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=me.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var Mt=c(63580);const it=Mt.N("caseDescription","Match Case"),Je=Mt.N("wordsDescription","Match Whole Word"),Ae=Mt.N("regexDescription","Use Regular Expression");class ge extends mt{constructor(me){super({icon:ke.lA.caseSensitive,title:it+me.appendTitle,isChecked:me.isChecked,inputActiveOptionBorder:me.inputActiveOptionBorder,inputActiveOptionForeground:me.inputActiveOptionForeground,inputActiveOptionBackground:me.inputActiveOptionBackground})}}class Re extends mt{constructor(me){super({icon:ke.lA.wholeWord,title:Je+me.appendTitle,isChecked:me.isChecked,inputActiveOptionBorder:me.inputActiveOptionBorder,inputActiveOptionForeground:me.inputActiveOptionForeground,inputActiveOptionBackground:me.inputActiveOptionBackground})}}class ot extends mt{constructor(me){super({icon:ke.lA.regex,title:Ae+me.appendTitle,isChecked:me.isChecked,inputActiveOptionBorder:me.inputActiveOptionBorder,inputActiveOptionForeground:me.inputActiveOptionForeground,inputActiveOptionBackground:me.inputActiveOptionBackground})}}class dt extends ue.${constructor(me,ct,gt,Bt){super(),this._hideSoon=this._register(new D.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=me,this._state=ct,this._keybindingService=gt,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Gt=Bt.getColorTheme().getColor(r.PR),bi=Bt.getColorTheme().getColor(r.Pv),li=Bt.getColorTheme().getColor(r.XE);this.caseSensitive=this._register(new ge({appendTitle:this._keybindingLabelFor(m.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:Gt,inputActiveOptionForeground:bi,inputActiveOptionBackground:li})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Re({appendTitle:this._keybindingLabelFor(m.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:Gt,inputActiveOptionForeground:bi,inputActiveOptionBackground:li})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new ot({appendTitle:this._keybindingLabelFor(m.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:Gt,inputActiveOptionForeground:bi,inputActiveOptionBackground:li})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(ei=>{let ki=!1;ei.isRegex&&(this.regex.checked=this._state.isRegex,ki=!0),ei.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,ki=!0),ei.matchCase&&(this.caseSensitive.checked=this._state.matchCase,ki=!0),!this._state.isRevealed&&ki&&this._revealTemporarily()})),this._register(pe.j_(this._domNode,ei=>this._onMouseOut())),this._register(pe.nm(this._domNode,"mouseover",ei=>this._onMouseOver())),this._applyTheme(Bt.getColorTheme()),this._register(Bt.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(me){let ct=this._keybindingService.lookupKeybinding(me);return ct?` (${ct.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return dt.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(me){let ct={inputActiveOptionBorder:me.getColor(r.PR),inputActiveOptionForeground:me.getColor(r.Pv),inputActiveOptionBackground:me.getColor(r.XE)};this.caseSensitive.style(ct),this.wholeWords.style(ct),this.regex.style(ct)}}dt.ID="editor.contrib.findOptionsWidget",(0,N.Ic)((pi,me)=>{const ct=pi.getColor(r.D0);ct&&me.addRule(`.monaco-editor .findOptionsWidget { background-color: ${ct}; }`);const gt=pi.getColor(r.Hf);gt&&me.addRule(`.monaco-editor .findOptionsWidget { color: ${gt}; }`);const Bt=pi.getColor(r.rh);Bt&&me.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${Bt}; }`);const Gt=pi.getColor(r.lR);Gt&&me.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${Gt}; }`)});function lt(pi,me){return pi===1?!0:pi===2?!1:me}class Ie extends O.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new rt.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return lt(this._isRegexOverride,this._isRegex)}get wholeWord(){return lt(this._wholeWordOverride,this._wholeWord)}get matchCase(){return lt(this._matchCaseOverride,this._matchCase)}get preserveCase(){return lt(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(me,ct,gt){let Bt={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},Gt=!1;ct===0&&(me=0),me>ct&&(me=ct),this._matchesPosition!==me&&(this._matchesPosition=me,Bt.matchesPosition=!0,Gt=!0),this._matchesCount!==ct&&(this._matchesCount=ct,Bt.matchesCount=!0,Gt=!0),typeof gt!="undefined"&&(s.e.equalsRange(this._currentMatch,gt)||(this._currentMatch=gt,Bt.currentMatch=!0,Gt=!0)),Gt&&this._onFindReplaceStateChange.fire(Bt)}change(me,ct,gt=!0){var Bt;let Gt={moveCursor:ct,updateHistory:gt,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},bi=!1;const li=this.isRegex,ei=this.wholeWord,ki=this.matchCase,Di=this.preserveCase;typeof me.searchString!="undefined"&&this._searchString!==me.searchString&&(this._searchString=me.searchString,Gt.searchString=!0,bi=!0),typeof me.replaceString!="undefined"&&this._replaceString!==me.replaceString&&(this._replaceString=me.replaceString,Gt.replaceString=!0,bi=!0),typeof me.isRevealed!="undefined"&&this._isRevealed!==me.isRevealed&&(this._isRevealed=me.isRevealed,Gt.isRevealed=!0,bi=!0),typeof me.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==me.isReplaceRevealed&&(this._isReplaceRevealed=me.isReplaceRevealed,Gt.isReplaceRevealed=!0,bi=!0),typeof me.isRegex!="undefined"&&(this._isRegex=me.isRegex),typeof me.wholeWord!="undefined"&&(this._wholeWord=me.wholeWord),typeof me.matchCase!="undefined"&&(this._matchCase=me.matchCase),typeof me.preserveCase!="undefined"&&(this._preserveCase=me.preserveCase),typeof me.searchScope!="undefined"&&(!((Bt=me.searchScope)===null||Bt===void 0)&&Bt.every(Pn=>{var kt;return(kt=this._searchScope)===null||kt===void 0?void 0:kt.some(V=>!s.e.equalsRange(V,Pn))})||(this._searchScope=me.searchScope,Gt.searchScope=!0,bi=!0)),typeof me.loop!="undefined"&&this._loop!==me.loop&&(this._loop=me.loop,Gt.loop=!0,bi=!0),this._isRegexOverride=typeof me.isRegexOverride!="undefined"?me.isRegexOverride:0,this._wholeWordOverride=typeof me.wholeWordOverride!="undefined"?me.wholeWordOverride:0,this._matchCaseOverride=typeof me.matchCaseOverride!="undefined"?me.matchCaseOverride:0,this._preserveCaseOverride=typeof me.preserveCaseOverride!="undefined"?me.preserveCaseOverride:0,li!==this.isRegex&&(bi=!0,Gt.isRegex=!0),ei!==this.wholeWord&&(bi=!0,Gt.wholeWord=!0),ki!==this.matchCase&&(bi=!0,Gt.matchCase=!0),Di!==this.preserveCase&&(bi=!0,Gt.preserveCase=!0),bi&&this._onFindReplaceStateChange.fire(Gt)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=w}}var Pe=c(35996),ye=c(83080),Xe=c(17301),st=c(1432),Pt=c(97862);const qt=Mt.N("defaultLabel","input");class Ci extends ue.${constructor(me,ct,gt,Bt){super(),this._showOptionButtons=gt,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new rt.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new rt.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new rt.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new rt.Q5),this._onKeyUp=this._register(new rt.Q5),this._onCaseSensitiveKeyDown=this._register(new rt.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new rt.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=ct,this.placeholder=Bt.placeholder||"",this.validation=Bt.validation,this.label=Bt.label||qt,this.inputActiveOptionBorder=Bt.inputActiveOptionBorder,this.inputActiveOptionForeground=Bt.inputActiveOptionForeground,this.inputActiveOptionBackground=Bt.inputActiveOptionBackground,this.inputBackground=Bt.inputBackground,this.inputForeground=Bt.inputForeground,this.inputBorder=Bt.inputBorder,this.inputValidationInfoBorder=Bt.inputValidationInfoBorder,this.inputValidationInfoBackground=Bt.inputValidationInfoBackground,this.inputValidationInfoForeground=Bt.inputValidationInfoForeground,this.inputValidationWarningBorder=Bt.inputValidationWarningBorder,this.inputValidationWarningBackground=Bt.inputValidationWarningBackground,this.inputValidationWarningForeground=Bt.inputValidationWarningForeground,this.inputValidationErrorBorder=Bt.inputValidationErrorBorder,this.inputValidationErrorBackground=Bt.inputValidationErrorBackground,this.inputValidationErrorForeground=Bt.inputValidationErrorForeground;const Gt=Bt.appendCaseSensitiveLabel||"",bi=Bt.appendWholeWordsLabel||"",li=Bt.appendRegexLabel||"",ei=Bt.history||[],ki=!!Bt.flexibleHeight,Di=!!Bt.flexibleWidth,Pn=Bt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Pt.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:ei,showHistoryHint:Bt.showHistoryHint,flexibleHeight:ki,flexibleWidth:Di,flexibleMaxHeight:Pn})),this.regex=this._register(new ot({appendTitle:li,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(ae=>{this._onDidOptionChange.fire(ae),!ae&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(ae=>{this._onRegexKeyDown.fire(ae)})),this.wholeWords=this._register(new Re({appendTitle:bi,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(ae=>{this._onDidOptionChange.fire(ae),!ae&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new ge({appendTitle:Gt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(ae=>{this._onDidOptionChange.fire(ae),!ae&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(ae=>{this._onCaseSensitiveKeyDown.fire(ae)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let kt=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,ae=>{if(ae.equals(15)||ae.equals(17)||ae.equals(9)){let Ne=kt.indexOf(document.activeElement);if(Ne>=0){let qe=-1;ae.equals(17)?qe=(Ne+1)%kt.length:ae.equals(15)&&(Ne===0?qe=kt.length-1:qe=Ne-1),ae.equals(9)?(kt[Ne].blur(),this.inputBox.focus()):qe>=0&&kt[qe].focus(),pe.zB.stop(ae,!0)}}});let V=document.createElement("div");V.className="controls",V.style.display=this._showOptionButtons?"block":"none",V.appendChild(this.caseSensitive.domNode),V.appendChild(this.wholeWords.domNode),V.appendChild(this.regex.domNode),this.domNode.appendChild(V),me&&me.appendChild(this.domNode),this._register(pe.nm(this.inputBox.inputElement,"compositionstart",ae=>{this.imeSessionInProgress=!0})),this._register(pe.nm(this.inputBox.inputElement,"compositionend",ae=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,ae=>this._onKeyDown.fire(ae)),this.onkeyup(this.inputBox.inputElement,ae=>this._onKeyUp.fire(ae)),this.oninput(this.inputBox.inputElement,ae=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,ae=>this._onMouseDown.fire(ae))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(me){this.fixFocusOnOptionClickEnabled=me}setEnabled(me){me?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(me){this.inputBox.value!==me&&(this.inputBox.value=me)}style(me){this.inputActiveOptionBorder=me.inputActiveOptionBorder,this.inputActiveOptionForeground=me.inputActiveOptionForeground,this.inputActiveOptionBackground=me.inputActiveOptionBackground,this.inputBackground=me.inputBackground,this.inputForeground=me.inputForeground,this.inputBorder=me.inputBorder,this.inputValidationInfoBackground=me.inputValidationInfoBackground,this.inputValidationInfoForeground=me.inputValidationInfoForeground,this.inputValidationInfoBorder=me.inputValidationInfoBorder,this.inputValidationWarningBackground=me.inputValidationWarningBackground,this.inputValidationWarningForeground=me.inputValidationWarningForeground,this.inputValidationWarningBorder=me.inputValidationWarningBorder,this.inputValidationErrorBackground=me.inputValidationErrorBackground,this.inputValidationErrorForeground=me.inputValidationErrorForeground,this.inputValidationErrorBorder=me.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const me={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(me),this.wholeWords.style(me),this.caseSensitive.style(me);const ct={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(ct)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(me){this.caseSensitive.checked=me}getWholeWords(){return this.wholeWords.checked}setWholeWords(me){this.wholeWords.checked=me}getRegex(){return this.regex.checked}setRegex(me){this.regex.checked=me,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const ii=Mt.N("defaultLabel","input"),At=Mt.N("label.preserveCaseCheckbox","Preserve Case");class Qi extends mt{constructor(me){super({icon:ke.lA.preserveCase,title:At+me.appendTitle,isChecked:me.isChecked,inputActiveOptionBorder:me.inputActiveOptionBorder,inputActiveOptionForeground:me.inputActiveOptionForeground,inputActiveOptionBackground:me.inputActiveOptionBackground})}}class ci extends ue.${constructor(me,ct,gt,Bt){super(),this._showOptionButtons=gt,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new rt.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new rt.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new rt.Q5),this._onInput=this._register(new rt.Q5),this._onKeyUp=this._register(new rt.Q5),this._onPreserveCaseKeyDown=this._register(new rt.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=ct,this.placeholder=Bt.placeholder||"",this.validation=Bt.validation,this.label=Bt.label||ii,this.inputActiveOptionBorder=Bt.inputActiveOptionBorder,this.inputActiveOptionForeground=Bt.inputActiveOptionForeground,this.inputActiveOptionBackground=Bt.inputActiveOptionBackground,this.inputBackground=Bt.inputBackground,this.inputForeground=Bt.inputForeground,this.inputBorder=Bt.inputBorder,this.inputValidationInfoBorder=Bt.inputValidationInfoBorder,this.inputValidationInfoBackground=Bt.inputValidationInfoBackground,this.inputValidationInfoForeground=Bt.inputValidationInfoForeground,this.inputValidationWarningBorder=Bt.inputValidationWarningBorder,this.inputValidationWarningBackground=Bt.inputValidationWarningBackground,this.inputValidationWarningForeground=Bt.inputValidationWarningForeground,this.inputValidationErrorBorder=Bt.inputValidationErrorBorder,this.inputValidationErrorBackground=Bt.inputValidationErrorBackground,this.inputValidationErrorForeground=Bt.inputValidationErrorForeground;const Gt=Bt.appendPreserveCaseLabel||"",bi=Bt.history||[],li=!!Bt.flexibleHeight,ei=!!Bt.flexibleWidth,ki=Bt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Pt.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:bi,showHistoryHint:Bt.showHistoryHint,flexibleHeight:li,flexibleWidth:ei,flexibleMaxHeight:ki})),this.preserveCase=this._register(new Qi({appendTitle:Gt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(kt=>{this._onDidOptionChange.fire(kt),!kt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(kt=>{this._onPreserveCaseKeyDown.fire(kt)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let Di=[this.preserveCase.domNode];this.onkeydown(this.domNode,kt=>{if(kt.equals(15)||kt.equals(17)||kt.equals(9)){let V=Di.indexOf(document.activeElement);if(V>=0){let ae=-1;kt.equals(17)?ae=(V+1)%Di.length:kt.equals(15)&&(V===0?ae=Di.length-1:ae=V-1),kt.equals(9)?(Di[V].blur(),this.inputBox.focus()):ae>=0&&Di[ae].focus(),pe.zB.stop(kt,!0)}}});let Pn=document.createElement("div");Pn.className="controls",Pn.style.display=this._showOptionButtons?"block":"none",Pn.appendChild(this.preserveCase.domNode),this.domNode.appendChild(Pn),me&&me.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,kt=>this._onKeyDown.fire(kt)),this.onkeyup(this.inputBox.inputElement,kt=>this._onKeyUp.fire(kt)),this.oninput(this.inputBox.inputElement,kt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,kt=>this._onMouseDown.fire(kt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(me){me?this.enable():this.disable()}style(me){this.inputActiveOptionBorder=me.inputActiveOptionBorder,this.inputActiveOptionForeground=me.inputActiveOptionForeground,this.inputActiveOptionBackground=me.inputActiveOptionBackground,this.inputBackground=me.inputBackground,this.inputForeground=me.inputForeground,this.inputBorder=me.inputBorder,this.inputValidationInfoBackground=me.inputValidationInfoBackground,this.inputValidationInfoForeground=me.inputValidationInfoForeground,this.inputValidationInfoBorder=me.inputValidationInfoBorder,this.inputValidationWarningBackground=me.inputValidationWarningBackground,this.inputValidationWarningForeground=me.inputValidationWarningForeground,this.inputValidationWarningBorder=me.inputValidationWarningBorder,this.inputValidationErrorBackground=me.inputValidationErrorBackground,this.inputValidationErrorForeground=me.inputValidationErrorForeground,this.inputValidationErrorBorder=me.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const me={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(me);const ct={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(ct)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(me){this.preserveCase.checked=me}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(me){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=me,this.domNode.style.width=me+"px"}dispose(){super.dispose()}}var je=c(49989),at=c(79599),Ni=function(pi,me,ct,gt){var Bt=arguments.length,Gt=Bt<3?me:gt===null?gt=Object.getOwnPropertyDescriptor(me,ct):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(pi,me,ct,gt);else for(var li=pi.length-1;li>=0;li--)(bi=pi[li])&&(Gt=(Bt<3?bi(Gt):Bt>3?bi(me,ct,Gt):bi(me,ct))||Gt);return Bt>3&&Gt&&Object.defineProperty(me,ct,Gt),Gt},fi=function(pi,me){return function(ct,gt){me(ct,gt,pi)}};const Wi="historyNavigationWidget",Rn="historyNavigationForwardsEnabled",zi="historyNavigationBackwardsEnabled";function as(pi,me,ct){new ce.uy(ct,me).bindTo(pi)}function Fn(pi,me){return pi.createScoped(me.target)}function An(pi,me){return pi.getContext(document.activeElement).getValue(me)}function $i(pi,me){const ct=Fn(pi,me);as(ct,me,Wi);const gt=new ce.uy(Rn,!0).bindTo(ct),Bt=new ce.uy(zi,!0).bindTo(ct);return{scopedContextKeyService:ct,historyNavigationForwardsEnablement:gt,historyNavigationBackwardsEnablement:Bt}}let Nn=class extends Ci{constructor(me,ct,gt,Bt,Gt=!1){super(me,ct,Gt,gt),this._register($i(Bt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Nn=Ni([fi(3,ce.i6)],Nn);let sn=class extends ci{constructor(me,ct,gt,Bt,Gt=!1){super(me,ct,Gt,gt),this._register($i(Bt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};sn=Ni([fi(3,ce.i6)],sn),je.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:ce.Ao.and(ce.Ao.has(Wi),ce.Ao.equals(zi,!0),at._y.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:pi=>{const me=An(pi.get(ce.i6),Wi);me&&me.historyNavigator.showPreviousValue()}}),je.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:ce.Ao.and(ce.Ao.has(Wi),ce.Ao.equals(Rn,!0),at._y.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:pi=>{const me=An(pi.get(ce.i6),Wi);me&&me.historyNavigator.showNextValue()}});function $e(pi){var me,ct;return((me=pi.lookupKeybinding("history.showPrevious"))===null||me===void 0?void 0:me.getElectronAccelerator())==="Up"&&((ct=pi.lookupKeybinding("history.showNext"))===null||ct===void 0?void 0:ct.getElectronAccelerator())==="Down"}var It=c(59554),xt=function(pi,me,ct,gt){function Bt(Gt){return Gt instanceof ct?Gt:new ct(function(bi){bi(Gt)})}return new(ct||(ct=Promise))(function(Gt,bi){function li(Di){try{ki(gt.next(Di))}catch(Pn){bi(Pn)}}function ei(Di){try{ki(gt.throw(Di))}catch(Pn){bi(Pn)}}function ki(Di){Di.done?Gt(Di.value):Bt(Di.value).then(li,ei)}ki((gt=gt.apply(pi,me||[])).next())})};const Qe=(0,It.q5)("find-selection",ke.lA.selection,Mt.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),tt=(0,It.q5)("find-collapsed",ke.lA.chevronRight,Mt.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Nt=(0,It.q5)("find-expanded",ke.lA.chevronDown,Mt.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Tt=(0,It.q5)("find-replace",ke.lA.replace,Mt.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Yt=(0,It.q5)("find-replace-all",ke.lA.replaceAll,Mt.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ai=(0,It.q5)("find-previous-match",ke.lA.arrowUp,Mt.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Si=(0,It.q5)("find-next-match",ke.lA.arrowDown,Mt.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),qi=Mt.N("label.find","Find"),ji=Mt.N("placeholder.find","Find"),Zn=Mt.N("label.previousMatchButton","Previous Match"),Vi=Mt.N("label.nextMatchButton","Next Match"),Xi=Mt.N("label.toggleSelectionFind","Find in Selection"),wt=Mt.N("label.closeButton","Close"),ht=Mt.N("label.replace","Replace"),Et=Mt.N("placeholder.replace","Replace"),He=Mt.N("label.replaceButton","Replace"),nt=Mt.N("label.replaceAllButton","Replace All"),pt=Mt.N("label.toggleReplaceButton","Toggle Replace"),ft=Mt.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",w),oi=Mt.N("label.matchesLocation","{0} of {1}"),Hi=Mt.N("label.noResults","No results"),vi=419,Ui=275-54;let dn=69;const gn=33,Ri="ctrlEnterReplaceAll.windows.donotask",_i=st.dz?256:2048;class hn{constructor(me){this.afterLineNumber=me,this.heightInPx=gn,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function wn(pi,me,ct){const gt=!!me.match(/\n/);if(ct&&gt&&ct.selectionStart>0){pi.stopPropagation();return}}function Qn(pi,me,ct){const gt=!!me.match(/\n/);if(ct&&gt&&ct.selectionEnd<ct.value.length){pi.stopPropagation();return}}class os extends ue.${constructor(me,ct,gt,Bt,Gt,bi,li,ei,ki){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=me,this._controller=ct,this._state=gt,this._contextViewProvider=Bt,this._keybindingService=Gt,this._contextKeyService=bi,this._storageService=ei,this._notificationService=ki,this._ctrlEnterReplaceAllWarningPrompted=!!ei.getBoolean(Ri,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new D.vp(500),this._register((0,O.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Di=>this._onStateChanged(Di))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Di=>{if(Di.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Di.hasChanged(129)&&this._tryUpdateWidgetWidth(),Di.hasChanged(2)&&this.updateAccessibilitySupport(),Di.hasChanged(35)){const Pn=this._codeEditor.getOption(35).addExtraSpaceOnTop;Pn&&!this._viewZone&&(this._viewZone=new hn(0),this._showViewZone()),!Pn&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>xt(this,void 0,void 0,function*(){if(this._isVisible){let Di=yield this._controller.getGlobalBufferTerm();Di&&Di!==this._state.searchString&&(this._state.change({searchString:Di},!1),this._findInput.select())}}))),this._findInputFocused=Ce.bindTo(bi),this._findFocusTracker=this._register(pe.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Ee.bindTo(bi),this._replaceFocusTracker=this._register(pe.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new hn(0)),this._applyTheme(li.getColorTheme()),this._register(li.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Di=>{if(Di.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return os.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(me){if(me.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(me.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),me.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),me.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=pe.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(me.isRevealed||me.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),me.isRegex&&this._findInput.setRegex(this._state.isRegex),me.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),me.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),me.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),me.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),me.searchString||me.matchesCount||me.matchesPosition){let ct=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ct),this._updateMatchesCount(),this._updateButtons()}(me.searchString||me.currentMatch)&&this._layoutViewZone(),me.updateHistory&&this._delayedUpdateHistory(),me.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Xe.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=dn+"px",this._state.matchesCount>=w?this._matchesCount.title=ft:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let me;if(this._state.matchesCount>0){let ct=String(this._state.matchesCount);this._state.matchesCount>=w&&(ct+="+");let gt=String(this._state.matchesPosition);gt==="0"&&(gt="?"),me=Q.WU(oi,gt,ct)}else me=Hi;this._matchesCount.appendChild(document.createTextNode(me)),(0,Pe.Z9)(this._getAriaLabel(me,this._state.currentMatch,this._state.searchString)),dn=Math.max(dn,this._matchesCount.clientWidth)}_getAriaLabel(me,ct,gt){if(me===Hi)return gt===""?Mt.N("ariaSearchNoResultEmpty","{0} found",me):Mt.N("ariaSearchNoResult","{0} found for '{1}'",me,gt);if(ct){const Bt=Mt.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",me,gt,ct.startLineNumber+":"+ct.startColumn),Gt=this._codeEditor.getModel();return Gt&&ct.startLineNumber<=Gt.getLineCount()&&ct.startLineNumber>=1?`${Gt.getLineContent(ct.startLineNumber)}, ${Bt}`:Bt}return Mt.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",me,gt)}_updateToggleSelectionFindButton(){let me=this._codeEditor.getSelection(),ct=me?me.startLineNumber!==me.endLineNumber||me.startColumn!==me.endColumn:!1,gt=this._toggleSelectionFind.checked;this._isVisible&&(gt||ct)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let me=this._state.searchString.length>0,ct=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&me&&ct&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&me&&ct&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&me),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&me),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let gt=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&gt)}_reveal(){if(this._revealTimeouts.forEach(me=>{clearTimeout(me)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const me=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const gt=!!me&&me.startLineNumber!==me.endLineNumber;this._toggleSelectionFind.checked=gt;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ct=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&me){const gt=this._codeEditor.getDomNode();if(gt){const Bt=pe.i(gt),Gt=this._codeEditor.getScrolledVisiblePosition(me.getStartPosition()),bi=Bt.left+(Gt?Gt.left:0),li=Gt?Gt.top:0;if(this._viewZone&&li<this._viewZone.heightInPx){me.endLineNumber>me.startLineNumber&&(ct=!1);const ei=pe.xQ(this._domNode).left;bi>ei&&(ct=!1);const ki=this._codeEditor.getScrolledVisiblePosition(me.getEndPosition());Bt.left+(ki?ki.left:0)>ei&&(ct=!1)}}}this._showViewZone(ct)}}_hide(me){this._revealTimeouts.forEach(ct=>{clearTimeout(ct)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),me&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(me){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const gt=this._viewZone;this._viewZoneId!==void 0||!gt||this._codeEditor.changeViewZones(Bt=>{gt.heightInPx=this._getHeight(),this._viewZoneId=Bt.addZone(gt),this._codeEditor.setScrollTop(me||this._codeEditor.getScrollTop()+gt.heightInPx)})}_showViewZone(me=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new hn(0));const gt=this._viewZone;this._codeEditor.changeViewZones(Bt=>{if(this._viewZoneId!==void 0){const Gt=this._getHeight();if(Gt===gt.heightInPx)return;let bi=Gt-gt.heightInPx;gt.heightInPx=Gt,Bt.layoutZone(this._viewZoneId),me&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+bi);return}else{let Gt=this._getHeight();if(Gt-=this._codeEditor.getOption(74).top,Gt<=0)return;gt.heightInPx=Gt,this._viewZoneId=Bt.addZone(gt),me&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Gt)}})}_removeViewZone(){this._codeEditor.changeViewZones(me=>{this._viewZoneId!==void 0&&(me.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(me){let ct={inputActiveOptionBorder:me.getColor(r.PR),inputActiveOptionBackground:me.getColor(r.XE),inputActiveOptionForeground:me.getColor(r.Pv),inputBackground:me.getColor(r.sE),inputForeground:me.getColor(r.zJ),inputBorder:me.getColor(r.dt),inputValidationInfoBackground:me.getColor(r._l),inputValidationInfoForeground:me.getColor(r.YI),inputValidationInfoBorder:me.getColor(r.EP),inputValidationWarningBackground:me.getColor(r.RV),inputValidationWarningForeground:me.getColor(r.SU),inputValidationWarningBorder:me.getColor(r.C3),inputValidationErrorBackground:me.getColor(r.p),inputValidationErrorForeground:me.getColor(r._t),inputValidationErrorBorder:me.getColor(r.OZ)};this._findInput.style(ct),this._replaceInput.style(ct),this._toggleSelectionFind.style(ct)}_tryUpdateWidgetWidth(){if(!this._isVisible||!pe.Uw(this._domNode))return;const me=this._codeEditor.getLayoutInfo();if(me.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const gt=me.width,Bt=me.minimap.minimapWidth;let Gt=!1,bi=!1,li=!1;if(this._resized&&pe.w(this._domNode)>vi){this._domNode.style.maxWidth=`${gt-28-Bt-15}px`,this._replaceInput.width=pe.w(this._findInput.domNode);return}if(vi+28+Bt>=gt&&(bi=!0),vi+28+Bt-dn>=gt&&(li=!0),vi+28+Bt-dn>=gt+50&&(Gt=!0),this._domNode.classList.toggle("collapsed-find-widget",Gt),this._domNode.classList.toggle("narrow-find-widget",li),this._domNode.classList.toggle("reduced-find-widget",bi),!li&&!Gt&&(this._domNode.style.maxWidth=`${gt-28-Bt-15}px`),this._resized){this._findInput.inputBox.layout();let ei=this._findInput.inputBox.element.clientWidth;ei>0&&(this._replaceInput.width=ei)}else this._isReplaceVisible&&(this._replaceInput.width=pe.w(this._findInput.domNode))}_getHeight(){let me=0;return me+=4,me+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(me+=4,me+=this._replaceInput.inputBox.height+2),me+=4,me}_tryUpdateHeight(){const me=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===me?!1:(this._cachedHeight=me,this._domNode.style.height=`${me}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let me=this._codeEditor.getSelections();me.map(ct=>{ct.endColumn===1&&ct.endLineNumber>ct.startLineNumber&&(ct=ct.setEndPosition(ct.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ct.endLineNumber-1)));const gt=this._state.currentMatch;return ct.startLineNumber!==ct.endLineNumber&&!s.e.equalsRange(ct,gt)?ct:null}).filter(ct=>!!ct),me.length&&this._state.change({searchScope:me},!0)}}_onFindInputMouseDown(me){me.middleButton&&me.stopPropagation()}_onFindInputKeyDown(me){if(me.equals(_i|3))if(this._keybindingService.dispatchEvent(me,me.target)){me.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),me.preventDefault();return}if(me.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),me.preventDefault();return}if(me.equals(2066)){this._codeEditor.focus(),me.preventDefault();return}if(me.equals(16))return wn(me,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(me.equals(18))return Qn(me,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(me){if(me.equals(_i|3))if(this._keybindingService.dispatchEvent(me,me.target)){me.preventDefault();return}else{st.ED&&st.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Mt.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ri,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),me.preventDefault();return}if(me.equals(2)){this._findInput.focusOnCaseSensitive(),me.preventDefault();return}if(me.equals(1026)){this._findInput.focus(),me.preventDefault();return}if(me.equals(2066)){this._codeEditor.focus(),me.preventDefault();return}if(me.equals(16))return wn(me,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(me.equals(18))return Qn(me,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(me){return 0}_keybindingLabelFor(me){let ct=this._keybindingService.lookupKeybinding(me);return ct?` (${ct.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Nn(null,this._contextViewProvider,{width:Ui,label:qi,placeholder:ji,appendCaseSensitiveLabel:this._keybindingLabelFor(m.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(m.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(m.ToggleRegexCommand),validation:ei=>{if(ei.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ei,"gu"),null}catch(ki){return{content:ki.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>$e(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ei=>this._onFindInputKeyDown(ei))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ei=>{ei.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ei.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ei=>{ei.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ei.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ei=>{this._tryUpdateHeight()&&this._showViewZone()})),st.IJ&&this._register(this._findInput.onMouseDown(ei=>this._onFindInputMouseDown(ei))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Yn({label:Zn+this._keybindingLabelFor(m.PreviousMatchFindAction),icon:ai,onTrigger:()=>{this._codeEditor.getAction(m.PreviousMatchFindAction).run().then(void 0,Xe.dL)}})),this._nextBtn=this._register(new Yn({label:Vi+this._keybindingLabelFor(m.NextMatchFindAction),icon:Si,onTrigger:()=>{this._codeEditor.getAction(m.NextMatchFindAction).run().then(void 0,Xe.dL)}}));let gt=document.createElement("div");gt.className="find-part",gt.appendChild(this._findInput.domNode);const Bt=document.createElement("div");Bt.className="find-actions",gt.appendChild(Bt),Bt.appendChild(this._matchesCount),Bt.appendChild(this._prevBtn.domNode),Bt.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new mt({icon:Qe,title:Xi+this._keybindingLabelFor(m.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let ei=this._codeEditor.getSelections();ei.map(ki=>(ki.endColumn===1&&ki.endLineNumber>ki.startLineNumber&&(ki=ki.setEndPosition(ki.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ki.endLineNumber-1))),ki.isEmpty()?null:ki)).filter(ki=>!!ki),ei.length&&this._state.change({searchScope:ei},!0)}}else this._state.change({searchScope:null},!0)})),Bt.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Yn({label:wt+this._keybindingLabelFor(m.CloseFindWidgetCommand),icon:It.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ei=>{ei.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ei.preventDefault())}})),Bt.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new sn(null,void 0,{label:ht,placeholder:Et,appendPreserveCaseLabel:this._keybindingLabelFor(m.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>$e(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ei=>this._onReplaceInputKeyDown(ei))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ei=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ei=>{ei.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ei.preventDefault())})),this._replaceBtn=this._register(new Yn({label:He+this._keybindingLabelFor(m.ReplaceOneAction),icon:Tt,onTrigger:()=>{this._controller.replace()},onKeyDown:ei=>{ei.equals(1026)&&(this._closeBtn.focus(),ei.preventDefault())}})),this._replaceAllBtn=this._register(new Yn({label:nt+this._keybindingLabelFor(m.ReplaceAllAction),icon:Yt,onTrigger:()=>{this._controller.replaceAll()}}));let Gt=document.createElement("div");Gt.className="replace-part",Gt.appendChild(this._replaceInput.domNode);const bi=document.createElement("div");bi.className="replace-actions",Gt.appendChild(bi),bi.appendChild(this._replaceBtn.domNode),bi.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Yn({label:pt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=pe.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${vi}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(gt),this._domNode.appendChild(Gt),this._resizeSash=new ye.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let li=vi;this._register(this._resizeSash.onDidStart(()=>{li=pe.w(this._domNode)})),this._register(this._resizeSash.onDidChange(ei=>{this._resized=!0;let ki=li+ei.startX-ei.currentX;if(ki<vi)return;const Di=parseFloat(pe.Dx(this._domNode).maxWidth)||0;ki>Di||(this._domNode.style.width=`${ki}px`,this._isReplaceVisible&&(this._replaceInput.width=pe.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ei=pe.w(this._domNode);if(ei<vi)return;let ki=vi;if(!this._resized||ei===vi){const Di=this._codeEditor.getLayoutInfo();ki=Di.width-28-Di.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${ki}px`,this._isReplaceVisible&&(this._replaceInput.width=pe.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const me=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(me!==2)}}os.ID="editor.contrib.findWidget";class Yn extends ue.${constructor(me){super(),this._opts=me;let ct="button";this._opts.className&&(ct=ct+" "+this._opts.className),this._opts.icon&&(ct=ct+" "+N.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ct,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,gt=>{this._opts.onTrigger(),gt.preventDefault()}),this.onkeydown(this._domNode,gt=>{if(gt.equals(10)||gt.equals(3)){this._opts.onTrigger(),gt.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(gt)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(me){this._domNode.classList.toggle("disabled",!me),this._domNode.setAttribute("aria-disabled",String(!me)),this._domNode.tabIndex=me?0:-1}setExpanded(me){this._domNode.setAttribute("aria-expanded",String(!!me)),me?(this._domNode.classList.remove(...N.kS.asClassNameArray(tt)),this._domNode.classList.add(...N.kS.asClassNameArray(Nt))):(this._domNode.classList.remove(...N.kS.asClassNameArray(Nt)),this._domNode.classList.add(...N.kS.asClassNameArray(tt)))}}(0,N.Ic)((pi,me)=>{const ct=(ae,Ne)=>{Ne&&me.addRule(`.monaco-editor ${ae} { background-color: ${Ne}; }`)};ct(".findMatch",pi.getColor(r.MU)),ct(".currentFindMatch",pi.getColor(r.ny)),ct(".findScope",pi.getColor(r.jU));const gt=pi.getColor(r.D0);ct(".find-widget",gt);const Bt=pi.getColor(r.rh);Bt&&me.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Bt}; }`);const Gt=pi.getColor(r.Ei);Gt&&me.addRule(`.monaco-editor .findMatch { border: 1px ${pi.type==="hc"?"dotted":"solid"} ${Gt}; box-sizing: border-box; }`);const bi=pi.getColor(r.pn);bi&&me.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${bi}; padding: 1px; box-sizing: border-box; }`);const li=pi.getColor(r.gk);li&&me.addRule(`.monaco-editor .findScope { border: 1px ${pi.type==="hc"?"dashed":"solid"} ${li}; }`);const ei=pi.getColor(r.lR);ei&&me.addRule(`.monaco-editor .find-widget { border: 1px solid ${ei}; }`);const ki=pi.getColor(r.Hf);ki&&me.addRule(`.monaco-editor .find-widget { color: ${ki}; }`);const Di=pi.getColor(r.Id);Di&&me.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Di}; }`);const Pn=pi.getColor(r.Ng);if(Pn)me.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Pn}; }`);else{const ae=pi.getColor(r.D1);ae&&me.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ae}; }`)}const kt=pi.getColor(r.lU);kt&&me.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${kt} !important;
		}
	`);const V=pi.getColor(r.R8);V&&me.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${V}; }`)});var Ts=c(84144),Co=c(84972),Vs=c(5606),cs=c(91847),oo=c(48894),to=c(87060),Gs=function(pi,me,ct,gt){var Bt=arguments.length,Gt=Bt<3?me:gt===null?gt=Object.getOwnPropertyDescriptor(me,ct):gt,bi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(pi,me,ct,gt);else for(var li=pi.length-1;li>=0;li--)(bi=pi[li])&&(Gt=(Bt<3?bi(Gt):Bt>3?bi(me,ct,Gt):bi(me,ct))||Gt);return Bt>3&&Gt&&Object.defineProperty(me,ct,Gt),Gt},Ss=function(pi,me){return function(ct,gt){me(ct,gt,pi)}},Rs=function(pi,me,ct,gt){function Bt(Gt){return Gt instanceof ct?Gt:new ct(function(bi){bi(Gt)})}return new(ct||(ct=Promise))(function(Gt,bi){function li(Di){try{ki(gt.next(Di))}catch(Pn){bi(Pn)}}function ei(Di){try{ki(gt.throw(Di))}catch(Pn){bi(Pn)}}function ki(Di){Di.done?Gt(Di.value):Bt(Di.value).then(li,ei)}ki((gt=gt.apply(pi,me||[])).next())})};const Hs=524288;function io(pi,me="single",ct=!1){if(!pi.hasModel())return null;const gt=pi.getSelection();if(me==="single"&&gt.startLineNumber===gt.endLineNumber||me==="multiple"){if(gt.isEmpty()){const Bt=pi.getConfiguredWordAtPosition(gt.getStartPosition());if(Bt&&ct===!1)return Bt.word}else if(pi.getModel().getValueLengthInRange(gt)<Hs)return pi.getModel().getValueInRange(gt)}return null}let Ks=class fu extends O.JT{constructor(me,ct,gt,Bt){super(),this._editor=me,this._findWidgetVisible=_e.bindTo(ct),this._contextKeyService=ct,this._storageService=gt,this._clipboardService=Bt,this._updateHistoryDelayer=new D.vp(500),this._state=this._register(new Ie),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Gt=>this._onStateChanged(Gt))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let Gt=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Gt&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(me){return me.getContribution(fu.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(me){this.saveQueryState(me),me.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),me.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(me){me.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),me.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),me.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),me.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Ce.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let me=this._editor.getSelections();me.map(ct=>(ct.endColumn===1&&ct.endLineNumber>ct.startLineNumber&&(ct=ct.setEndPosition(ct.endLineNumber-1,this._editor.getModel().getLineMaxColumn(ct.endLineNumber-1))),ct.isEmpty()?null:ct)).filter(ct=>!!ct),me.length&&this._state.change({searchScope:me},!0)}}setSearchString(me){this._state.isRegex&&(me=Q.ec(me)),this._state.change({searchString:me},!1)}highlightFindOptions(me=!1){}_start(me){return Rs(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let ct={isRevealed:!0};if(me.seedSearchStringFromSelection==="single"){let gt=io(this._editor,me.seedSearchStringFromSelection,me.seedSearchStringFromNonEmptySelection);gt&&(this._state.isRegex?ct.searchString=Q.ec(gt):ct.searchString=gt)}else if(me.seedSearchStringFromSelection==="multiple"&&!me.updateSearchScope){let gt=io(this._editor,me.seedSearchStringFromSelection);gt&&(ct.searchString=gt)}if(!ct.searchString&&me.seedSearchStringFromGlobalClipboard){let gt=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;gt&&(ct.searchString=gt)}if(me.forceRevealReplace?ct.isReplaceRevealed=!0:this._findWidgetVisible.get()||(ct.isReplaceRevealed=!1),me.updateSearchScope){let gt=this._editor.getSelections();gt.some(Bt=>!Bt.isEmpty())&&(ct.searchScope=gt)}ct.loop=me.loop,this._state.change(ct,!1),this._model||(this._model=new ie(this._editor,this._state))})}start(me){return this._start(me)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Rs(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(me){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(me)}};Ks.ID="editor.contrib.findController",Ks=Gs([Ss(1,ce.i6),Ss(2,to.Uy),Ss(3,Co.p)],Ks);let zs=class extends Ks{constructor(me,ct,gt,Bt,Gt,bi,li,ei){super(me,gt,li,ei),this._contextViewService=ct,this._keybindingService=Bt,this._themeService=Gt,this._notificationService=bi,this._widget=null,this._findOptionsWidget=null}_start(me){const ct=Object.create(null,{_start:{get:()=>super._start}});return Rs(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const gt=this._editor.getSelection();let Bt=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":Bt=!0;break;case"never":Bt=!1;break;case"multiline":Bt=!!gt&&gt.startLineNumber!==gt.endLineNumber;break;default:break}me.updateSearchScope=Bt,yield ct._start.call(this,me),this._widget&&(me.shouldFocus===2?this._widget.focusReplaceInput():me.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(me=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!me?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new os(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new dt(this._editor,this._state,this._keybindingService,this._themeService))}};zs=Gs([Ss(1,Vs.u),Ss(2,ce.i6),Ss(3,cs.d),Ss(4,N.XE),Ss(5,oo.lT),Ss(6,to.Uy),Ss(7,Co.p)],zs);const ho=(0,P.rn)(new P.jY({id:m.StartFindAction,label:Mt.N("startFindAction","Find"),alias:"Find",precondition:ce.Ao.or(L.u.focus,ce.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Ts.eH.MenubarEditMenu,group:"3_find",title:Mt.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));ho.addImplementation(0,(pi,me,ct)=>{const gt=Ks.get(me);return gt?gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:me.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:me.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:me.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:me.getOption(35).loop}):!1});class jn extends P.R6{constructor(){super({id:m.StartFindWithSelection,label:Mt.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(me,ct){return Rs(this,void 0,void 0,function*(){let gt=Ks.get(ct);gt&&(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ct.getOption(35).loop}),gt.setGlobalBufferTerm(gt.getState().searchString))})}}class lo extends P.R6{run(me,ct){return Rs(this,void 0,void 0,function*(){let gt=Ks.get(ct);gt&&!this._run(gt)&&(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:gt.getState().searchString.length===0&&ct.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ct.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ct.getOption(35).loop}),this._run(gt))})}}class ts extends lo{constructor(){super({id:m.NextMatchFindAction,label:Mt.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:L.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ce.Ao.and(L.u.focus,Ce),primary:3,weight:100}]})}_run(me){return me.moveToNextMatch()?(me.editor.pushUndoStop(),!0):!1}}class Un extends lo{constructor(){super({id:m.PreviousMatchFindAction,label:Mt.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:L.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ce.Ao.and(L.u.focus,Ce),primary:1027,weight:100}]})}_run(me){return me.moveToPrevMatch()}}class Zs extends P.R6{run(me,ct){return Rs(this,void 0,void 0,function*(){let gt=Ks.get(ct);if(!gt)return;const Bt=ct.getOption(35).seedSearchStringFromSelection==="selection";let Gt=null;ct.getOption(35).seedSearchStringFromSelection!=="never"&&(Gt=io(ct,"single",Bt)),Gt&&gt.setSearchString(Gt),this._run(gt)||(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ct.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Bt,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ct.getOption(35).loop}),this._run(gt))})}}class Xn extends Zs{constructor(){super({id:m.NextSelectionMatchFindAction,label:Mt.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:2109,weight:100}})}_run(me){return me.moveToNextMatch()}}class Ys extends Zs{constructor(){super({id:m.PreviousSelectionMatchFindAction,label:Mt.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:3133,weight:100}})}_run(me){return me.moveToPrevMatch()}}const xs=(0,P.rn)(new P.jY({id:m.StartFindReplaceAction,label:Mt.N("startReplace","Replace"),alias:"Replace",precondition:ce.Ao.or(L.u.focus,ce.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Ts.eH.MenubarEditMenu,group:"3_find",title:Mt.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));xs.addImplementation(0,(pi,me,ct)=>{if(!me.hasModel()||me.getOption(80))return!1;const gt=Ks.get(me);if(!gt)return!1;const Bt=me.getSelection(),Gt=gt.isFindInputFocused(),bi=!Bt.isEmpty()&&Bt.startLineNumber===Bt.endLineNumber&&me.getOption(35).seedSearchStringFromSelection!=="never"&&!Gt,li=Gt||bi?2:1;return gt.start({forceRevealReplace:!0,seedSearchStringFromSelection:bi?"single":"none",seedSearchStringFromNonEmptySelection:me.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:me.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:li,shouldAnimate:!0,updateSearchScope:!1,loop:me.getOption(35).loop})}),(0,P._K)(Ks.ID,zs),(0,P.Qr)(jn),(0,P.Qr)(ts),(0,P.Qr)(Un),(0,P.Qr)(Xn),(0,P.Qr)(Ys);const Xs=P._l.bindToContribution(Ks.get);(0,P.fK)(new Xs({id:m.CloseFindWidgetCommand,precondition:_e,handler:pi=>pi.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:ce.Ao.and(L.u.focus,ce.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,P.fK)(new Xs({id:m.ToggleCaseSensitiveCommand,precondition:void 0,handler:pi=>pi.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:le.primary,mac:le.mac,win:le.win,linux:le.linux}})),(0,P.fK)(new Xs({id:m.ToggleWholeWordCommand,precondition:void 0,handler:pi=>pi.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,P.fK)(new Xs({id:m.ToggleRegexCommand,precondition:void 0,handler:pi=>pi.toggleRegex(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:$.primary,mac:$.mac,win:$.win,linux:$.linux}})),(0,P.fK)(new Xs({id:m.ToggleSearchScopeCommand,precondition:void 0,handler:pi=>pi.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,P.fK)(new Xs({id:m.TogglePreserveCaseCommand,precondition:void 0,handler:pi=>pi.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:ee.primary,mac:ee.mac,win:ee.win,linux:ee.linux}})),(0,P.fK)(new Xs({id:m.ReplaceOneAction,precondition:_e,handler:pi=>pi.replace(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:3094}})),(0,P.fK)(new Xs({id:m.ReplaceOneAction,precondition:_e,handler:pi=>pi.replace(),kbOpts:{weight:100+5,kbExpr:ce.Ao.and(L.u.focus,Ee),primary:3}})),(0,P.fK)(new Xs({id:m.ReplaceAllAction,precondition:_e,handler:pi=>pi.replaceAll(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:2563}})),(0,P.fK)(new Xs({id:m.ReplaceAllAction,precondition:_e,handler:pi=>pi.replaceAll(),kbOpts:{weight:100+5,kbExpr:ce.Ao.and(L.u.focus,Ee),primary:void 0,mac:{primary:2051}}})),(0,P.fK)(new Xs({id:m.SelectAllMatchesAction,precondition:_e,handler:pi=>pi.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:L.u.focus,primary:515}}))},5697:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{FoldingController:function(){return qt},editorFoldForeground:function(){return It},foldBackgroundBackground:function(){return $e}});var D=c(15393),O=c(17301),Q=c(22258),P=c(5976),L=c(97295),J=c(98401),R=c(55812),W=c(16830),s=c(29102),T=c(10351),g=c(94660),E=c(4669);const H=65535,r=16777215,N=4278190080;class C{constructor(Qe,tt,Nt){if(Qe.length!==tt.length||Qe.length>H)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Qe,this._endIndexes=tt,this._collapseStates=new Uint32Array(Math.ceil(Qe.length/32)),this._types=Nt,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let Qe=[],tt=(Nt,Tt)=>{let Yt=Qe[Qe.length-1];return this.getStartLineNumber(Yt)<=Nt&&this.getEndLineNumber(Yt)>=Tt};for(let Nt=0,Tt=this._startIndexes.length;Nt<Tt;Nt++){let Yt=this._startIndexes[Nt],ai=this._endIndexes[Nt];if(Yt>r||ai>r)throw new Error("startLineNumber or endLineNumber must not exceed "+r);for(;Qe.length>0&&!tt(Yt,ai);)Qe.pop();let Si=Qe.length>0?Qe[Qe.length-1]:-1;Qe.push(Nt),this._startIndexes[Nt]=Yt+((Si&255)<<24),this._endIndexes[Nt]=ai+((Si&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Qe){return this._startIndexes[Qe]&r}getEndLineNumber(Qe){return this._endIndexes[Qe]&r}getType(Qe){return this._types?this._types[Qe]:void 0}hasTypes(){return!!this._types}isCollapsed(Qe){let tt=Qe/32|0,Nt=Qe%32;return(this._collapseStates[tt]&1<<Nt)!==0}setCollapsed(Qe,tt){let Nt=Qe/32|0,Tt=Qe%32,Yt=this._collapseStates[Nt];tt?this._collapseStates[Nt]=Yt|1<<Tt:this._collapseStates[Nt]=Yt&~(1<<Tt)}setCollapsedAllOfType(Qe,tt){let Nt=!1;if(this._types)for(let Tt=0;Tt<this._types.length;Tt++)this._types[Tt]===Qe&&(this.setCollapsed(Tt,tt),Nt=!0);return Nt}toRegion(Qe){return new x(this,Qe)}getParentIndex(Qe){this.ensureParentIndices();let tt=((this._startIndexes[Qe]&N)>>>24)+((this._endIndexes[Qe]&N)>>>16);return tt===H?-1:tt}contains(Qe,tt){return this.getStartLineNumber(Qe)<=tt&&this.getEndLineNumber(Qe)>=tt}findIndex(Qe){let tt=0,Nt=this._startIndexes.length;if(Nt===0)return-1;for(;tt<Nt;){let Tt=Math.floor((tt+Nt)/2);Qe<this.getStartLineNumber(Tt)?Nt=Tt:tt=Tt+1}return tt-1}findRange(Qe){let tt=this.findIndex(Qe);if(tt>=0){if(this.getEndLineNumber(tt)>=Qe)return tt;for(tt=this.getParentIndex(tt);tt!==-1;){if(this.contains(tt,Qe))return tt;tt=this.getParentIndex(tt)}}return-1}toString(){let Qe=[];for(let tt=0;tt<this.length;tt++)Qe[tt]=`[${this.isCollapsed(tt)?"+":"-"}] ${this.getStartLineNumber(tt)}/${this.getEndLineNumber(tt)}`;return Qe.join(", ")}}class x{constructor(Qe,tt){this.ranges=Qe,this.index=tt}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Qe){return Qe.startLineNumber<=this.startLineNumber&&Qe.endLineNumber>=this.endLineNumber}containsLine(Qe){return this.startLineNumber<=Qe&&Qe<=this.endLineNumber}}class f{constructor(Qe,tt){this._updateEventEmitter=new E.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Qe,this._decorationProvider=tt,this._regions=new C(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(Qe){if(!Qe.length)return;Qe=Qe.sort((Nt,Tt)=>Nt.regionIndex-Tt.regionIndex);const tt={};this._decorationProvider.changeDecorations(Nt=>{let Tt=0,Yt=-1,ai=-1;const Si=qi=>{for(;Tt<qi;){const ji=this._regions.getEndLineNumber(Tt),Zn=this._regions.isCollapsed(Tt);ji<=Yt&&Nt.changeDecorationOptions(this._editorDecorationIds[Tt],this._decorationProvider.getDecorationOption(Zn,ji<=ai)),Zn&&ji>ai&&(ai=ji),Tt++}};for(let qi of Qe){let ji=qi.regionIndex,Zn=this._editorDecorationIds[ji];if(Zn&&!tt[Zn]){tt[Zn]=!0,Si(ji);let Vi=!this._regions.isCollapsed(ji);this._regions.setCollapsed(ji,Vi),Yt=Math.max(Yt,this._regions.getEndLineNumber(ji))}}Si(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Qe})}update(Qe,tt=[]){let Nt=[],Tt=(Vi,Xi)=>{for(let wt of tt)if(Vi<wt&&wt<=Xi)return!0;return!1},Yt=-1,ai=(Vi,Xi)=>{const wt=Qe.getStartLineNumber(Vi),ht=Qe.getEndLineNumber(Vi);Xi||(Xi=Qe.isCollapsed(Vi)),Xi&&Tt(wt,ht)&&(Xi=!1),Qe.setCollapsed(Vi,Xi);const Et=this._textModel.getLineMaxColumn(wt),He={startLineNumber:wt,startColumn:Math.max(Et-1,1),endLineNumber:wt,endColumn:Et};Nt.push({range:He,options:this._decorationProvider.getDecorationOption(Xi,ht<=Yt)}),Xi&&ht>Yt&&(Yt=ht)},Si=0,qi=()=>{for(;Si<this._regions.length;){let Vi=this._regions.isCollapsed(Si);if(Si++,Vi)return Si-1}return-1},ji=0,Zn=qi();for(;Zn!==-1&&ji<Qe.length;){let Vi=this._textModel.getDecorationRange(this._editorDecorationIds[Zn]);if(Vi){let Xi=Vi.startLineNumber;if(Vi.startColumn===Math.max(Vi.endColumn-1,1)&&this._textModel.getLineMaxColumn(Xi)===Vi.endColumn)for(;ji<Qe.length;){let wt=Qe.getStartLineNumber(ji);if(Xi>=wt)ai(ji,Xi===wt),ji++;else break}}Zn=qi()}for(;ji<Qe.length;)ai(ji,!1),ji++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,Nt),this._regions=Qe,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let Qe=[];for(let tt=0;tt<this._regions.length;tt++)if(this._regions.isCollapsed(tt)){let Nt=this._textModel.getDecorationRange(this._editorDecorationIds[tt]);if(Nt){let Tt=Nt.startLineNumber,Yt=Nt.endLineNumber+this._regions.getEndLineNumber(tt)-this._regions.getStartLineNumber(tt);Qe.push({startLineNumber:Tt,endLineNumber:Yt})}}if(Qe.length>0)return Qe}applyMemento(Qe){if(!Array.isArray(Qe))return;let tt=[];for(let Nt of Qe){let Tt=this.getRegionAtLine(Nt.startLineNumber);Tt&&!Tt.isCollapsed&&tt.push(Tt)}this.toggleCollapseState(tt)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(Qe,tt){let Nt=[];if(this._regions){let Tt=this._regions.findRange(Qe),Yt=1;for(;Tt>=0;){let ai=this._regions.toRegion(Tt);(!tt||tt(ai,Yt))&&Nt.push(ai),Yt++,Tt=ai.parentIndex}}return Nt}getRegionAtLine(Qe){if(this._regions){let tt=this._regions.findRange(Qe);if(tt>=0)return this._regions.toRegion(tt)}return null}getRegionsInside(Qe,tt){let Nt=[],Tt=Qe?Qe.regionIndex+1:0,Yt=Qe?Qe.endLineNumber:Number.MAX_VALUE;if(tt&&tt.length===2){const ai=[];for(let Si=Tt,qi=this._regions.length;Si<qi;Si++){let ji=this._regions.toRegion(Si);if(this._regions.getStartLineNumber(Si)<Yt){for(;ai.length>0&&!ji.containedBy(ai[ai.length-1]);)ai.pop();ai.push(ji),tt(ji,ai.length)&&Nt.push(ji)}else break}}else for(let ai=Tt,Si=this._regions.length;ai<Si;ai++){let qi=this._regions.toRegion(ai);if(this._regions.getStartLineNumber(ai)<Yt)(!tt||tt(qi))&&Nt.push(qi);else break}return Nt}}function _(xt,Qe,tt){let Nt=[];for(let Tt of tt){let Yt=xt.getRegionAtLine(Tt);if(Yt){const ai=!Yt.isCollapsed;if(Nt.push(Yt),Qe>1){let Si=xt.getRegionsInside(Yt,(qi,ji)=>qi.isCollapsed!==ai&&ji<Qe);Nt.push(...Si)}}}xt.toggleCollapseState(Nt)}function S(xt,Qe,tt=Number.MAX_VALUE,Nt){let Tt=[];if(Nt&&Nt.length>0)for(let Yt of Nt){let ai=xt.getRegionAtLine(Yt);if(ai&&(ai.isCollapsed!==Qe&&Tt.push(ai),tt>1)){let Si=xt.getRegionsInside(ai,(qi,ji)=>qi.isCollapsed!==Qe&&ji<tt);Tt.push(...Si)}}else{let Yt=xt.getRegionsInside(null,(ai,Si)=>ai.isCollapsed!==Qe&&Si<tt);Tt.push(...Yt)}xt.toggleCollapseState(Tt)}function h(xt,Qe,tt,Nt){let Tt=[];for(let Yt of Nt){let ai=xt.getAllRegionsAtLine(Yt,(Si,qi)=>Si.isCollapsed!==Qe&&qi<=tt);Tt.push(...ai)}xt.toggleCollapseState(Tt)}function y(xt,Qe,tt){let Nt=[];for(let Tt of tt){let Yt=xt.getAllRegionsAtLine(Tt,ai=>ai.isCollapsed!==Qe);Yt.length>0&&Nt.push(Yt[0])}xt.toggleCollapseState(Nt)}function v(xt,Qe,tt,Nt){let Tt=(ai,Si)=>Si===Qe&&ai.isCollapsed!==tt&&!Nt.some(qi=>ai.containsLine(qi)),Yt=xt.getRegionsInside(null,Tt);xt.toggleCollapseState(Yt)}function B(xt,Qe,tt){let Nt=[];for(let ai of tt)Nt.push(xt.getAllRegionsAtLine(ai,void 0)[0]);let Tt=ai=>Nt.every(Si=>!Si.containedBy(ai)&&!ai.containedBy(Si))&&ai.isCollapsed!==Qe,Yt=xt.getRegionsInside(null,Tt);xt.toggleCollapseState(Yt)}function j(xt,Qe,tt){let Nt=xt.textModel,Tt=xt.regions,Yt=[];for(let ai=Tt.length-1;ai>=0;ai--)if(tt!==Tt.isCollapsed(ai)){let Si=Tt.getStartLineNumber(ai);Qe.test(Nt.getLineContent(Si))&&Yt.push(Tt.toRegion(ai))}xt.toggleCollapseState(Yt)}function te(xt,Qe,tt){let Nt=xt.regions,Tt=[];for(let Yt=Nt.length-1;Yt>=0;Yt--)tt!==Nt.isCollapsed(Yt)&&Qe===Nt.getType(Yt)&&Tt.push(Nt.toRegion(Yt));xt.toggleCollapseState(Tt)}function ce(xt,Qe){let tt=null,Nt=Qe.getRegionAtLine(xt);if(Nt!==null&&(tt=Nt.startLineNumber,xt===tt)){let Tt=Nt.parentIndex;Tt!==-1?tt=Qe.regions.getStartLineNumber(Tt):tt=null}return tt}function _e(xt,Qe){let tt=Qe.getRegionAtLine(xt);if(tt!==null&&tt.startLineNumber===xt){if(xt!==tt.startLineNumber)return tt.startLineNumber;{let Nt=tt.parentIndex,Tt=0;for(Nt!==-1&&(Tt=Qe.regions.getStartLineNumber(tt.parentIndex));tt!==null;)if(tt.regionIndex>0){if(tt=Qe.regions.toRegion(tt.regionIndex-1),tt.startLineNumber<=Tt)return null;if(tt.parentIndex===Nt)return tt.startLineNumber}else return null}}else if(Qe.regions.length>0)for(tt=Qe.regions.toRegion(Qe.regions.length-1);tt!==null;){if(tt.startLineNumber<xt)return tt.startLineNumber;tt.regionIndex>0?tt=Qe.regions.toRegion(tt.regionIndex-1):tt=null}return null}function Ce(xt,Qe){let tt=Qe.getRegionAtLine(xt);if(tt!==null&&tt.startLineNumber===xt){let Nt=tt.parentIndex,Tt=0;if(Nt!==-1)Tt=Qe.regions.getEndLineNumber(tt.parentIndex);else{if(Qe.regions.length===0)return null;Tt=Qe.regions.getEndLineNumber(Qe.regions.length-1)}for(;tt!==null;)if(tt.regionIndex<Qe.regions.length){if(tt=Qe.regions.toRegion(tt.regionIndex+1),tt.startLineNumber>=Tt)return null;if(tt.parentIndex===Nt)return tt.startLineNumber}else return null}else if(Qe.regions.length>0)for(tt=Qe.regions.toRegion(0);tt!==null;){if(tt.startLineNumber>xt)return tt.startLineNumber;tt.regionIndex<Qe.regions.length?tt=Qe.regions.toRegion(tt.regionIndex+1):tt=null}return null}var Ee=c(9488),le=c(24314);class Y{constructor(Qe){this._updateEventEmitter=new E.Q5,this._foldingModel=Qe,this._foldingModelListener=Qe.onDidChange(tt=>this.updateHiddenRanges()),this._hiddenRanges=[],Qe.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let Qe=!1,tt=[],Nt=0,Tt=0,Yt=Number.MAX_VALUE,ai=-1,Si=this._foldingModel.regions;for(;Nt<Si.length;Nt++){if(!Si.isCollapsed(Nt))continue;let qi=Si.getStartLineNumber(Nt)+1,ji=Si.getEndLineNumber(Nt);Yt<=qi&&ji<=ai||(!Qe&&Tt<this._hiddenRanges.length&&this._hiddenRanges[Tt].startLineNumber===qi&&this._hiddenRanges[Tt].endLineNumber===ji?(tt.push(this._hiddenRanges[Tt]),Tt++):(Qe=!0,tt.push(new le.e(qi,1,ji,1))),Yt=qi,ai=ji)}(Qe||Tt<this._hiddenRanges.length)&&this.applyHiddenRanges(tt)}applyMemento(Qe){if(!Array.isArray(Qe)||Qe.length===0)return!1;let tt=[];for(let Nt of Qe){if(!Nt.startLineNumber||!Nt.endLineNumber)return!1;tt.push(new le.e(Nt.startLineNumber+1,1,Nt.endLineNumber,1))}return this.applyHiddenRanges(tt),!0}getMemento(){return this._hiddenRanges.map(Qe=>({startLineNumber:Qe.startLineNumber-1,endLineNumber:Qe.endLineNumber}))}applyHiddenRanges(Qe){this._hiddenRanges=Qe,this._updateEventEmitter.fire(Qe)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Qe){return G(this._hiddenRanges,Qe)!==null}adjustSelections(Qe){let tt=!1,Nt=this._foldingModel.textModel,Tt=null,Yt=ai=>((!Tt||!$(ai,Tt))&&(Tt=G(this._hiddenRanges,ai)),Tt?Tt.startLineNumber-1:null);for(let ai=0,Si=Qe.length;ai<Si;ai++){let qi=Qe[ai],ji=Yt(qi.startLineNumber);ji&&(qi=qi.setStartPosition(ji,Nt.getLineMaxColumn(ji)),tt=!0);let Zn=Yt(qi.endLineNumber);Zn&&(qi=qi.setEndPosition(Zn,Nt.getLineMaxColumn(Zn)),tt=!0),Qe[ai]=qi}return tt}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function $(xt,Qe){return xt>=Qe.startLineNumber&&xt<=Qe.endLineNumber}function G(xt,Qe){let tt=(0,Ee.lG)(xt,Nt=>Qe<Nt.startLineNumber)-1;return tt>=0&&xt[tt].endLineNumber>=Qe?xt[tt]:null}var ee=c(24979);const m=5e3,w="indent";class F{constructor(Qe){this.editorModel=Qe,this.id=w}dispose(){}compute(Qe){let tt=g.zu.getFoldingRules(this.editorModel.getLanguageId()),Nt=tt&&!!tt.offSide,Tt=tt&&tt.markers;return Promise.resolve(pe(this.editorModel,Nt,Tt))}}class ie{constructor(Qe){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Qe}insertFirst(Qe,tt,Nt){if(Qe>r||tt>r)return;let Tt=this._length;this._startIndexes[Tt]=Qe,this._endIndexes[Tt]=tt,this._length++,Nt<1e3&&(this._indentOccurrences[Nt]=(this._indentOccurrences[Nt]||0)+1)}toIndentRanges(Qe){if(this._length<=this._foldingRangesLimit){let tt=new Uint32Array(this._length),Nt=new Uint32Array(this._length);for(let Tt=this._length-1,Yt=0;Tt>=0;Tt--,Yt++)tt[Yt]=this._startIndexes[Tt],Nt[Yt]=this._endIndexes[Tt];return new C(tt,Nt)}else{let tt=0,Nt=this._indentOccurrences.length;for(let Si=0;Si<this._indentOccurrences.length;Si++){let qi=this._indentOccurrences[Si];if(qi){if(qi+tt>this._foldingRangesLimit){Nt=Si;break}tt+=qi}}const Tt=Qe.getOptions().tabSize;let Yt=new Uint32Array(this._foldingRangesLimit),ai=new Uint32Array(this._foldingRangesLimit);for(let Si=this._length-1,qi=0;Si>=0;Si--){let ji=this._startIndexes[Si],Zn=Qe.getLineContent(ji),Vi=ee.yO.computeIndentLevel(Zn,Tt);(Vi<Nt||Vi===Nt&&tt++<this._foldingRangesLimit)&&(Yt[qi]=ji,ai[qi]=this._endIndexes[Si],qi++)}return new C(Yt,ai)}}}function pe(xt,Qe,tt,Nt=m){const Tt=xt.getOptions().tabSize;let Yt=new ie(Nt),ai;tt&&(ai=new RegExp(`(${tt.start.source})|(?:${tt.end.source})`));let Si=[],qi=xt.getLineCount()+1;Si.push({indent:-1,endAbove:qi,line:qi});for(let ji=xt.getLineCount();ji>0;ji--){let Zn=xt.getLineContent(ji),Vi=ee.yO.computeIndentLevel(Zn,Tt),Xi=Si[Si.length-1];if(Vi===-1){Qe&&(Xi.endAbove=ji);continue}let wt;if(ai&&(wt=Zn.match(ai)))if(wt[1]){let ht=Si.length-1;for(;ht>0&&Si[ht].indent!==-2;)ht--;if(ht>0){Si.length=ht+1,Xi=Si[ht],Yt.insertFirst(ji,Xi.line,Vi),Xi.line=ji,Xi.indent=Vi,Xi.endAbove=ji;continue}}else{Si.push({indent:-2,endAbove:ji,line:ji});continue}if(Xi.indent>Vi){do Si.pop(),Xi=Si[Si.length-1];while(Xi.indent>Vi);let ht=Xi.endAbove-1;ht-ji>=1&&Yt.insertFirst(ji,ht,Vi)}Xi.indent===Vi?Xi.endAbove=ji:Si.push({indent:Vi,endAbove:ji,line:ji})}return Yt.toIndentRanges(xt)}const ue=5e3,ke={},Te="syntax";class rt{constructor(Qe,tt,Nt,Tt=ue){this.editorModel=Qe,this.providers=tt,this.limit=Tt,this.id=Te;for(const Yt of tt)typeof Yt.onDidChange=="function"&&(this.disposables||(this.disposables=new P.SL),this.disposables.add(Yt.onDidChange(Nt)))}compute(Qe){return Rt(this.providers,this.editorModel,Qe).then(tt=>tt?Mt(tt,this.limit):null)}dispose(){var Qe;(Qe=this.disposables)===null||Qe===void 0||Qe.dispose()}}function Rt(xt,Qe,tt){let Nt=null,Tt=xt.map((Yt,ai)=>Promise.resolve(Yt.provideFoldingRanges(Qe,ke,tt)).then(Si=>{if(!tt.isCancellationRequested&&Array.isArray(Si)){Array.isArray(Nt)||(Nt=[]);let qi=Qe.getLineCount();for(let ji of Si)ji.start>0&&ji.end>ji.start&&ji.end<=qi&&Nt.push({start:ji.start,end:ji.end,rank:ai,kind:ji.kind})}},O.Cp));return Promise.all(Tt).then(Yt=>Nt)}class mt{constructor(Qe){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Qe}add(Qe,tt,Nt,Tt){if(Qe>r||tt>r)return;let Yt=this._length;this._startIndexes[Yt]=Qe,this._endIndexes[Yt]=tt,this._nestingLevels[Yt]=Tt,this._types[Yt]=Nt,this._length++,Tt<30&&(this._nestingLevelCounts[Tt]=(this._nestingLevelCounts[Tt]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let Qe=new Uint32Array(this._length),tt=new Uint32Array(this._length);for(let Nt=0;Nt<this._length;Nt++)Qe[Nt]=this._startIndexes[Nt],tt[Nt]=this._endIndexes[Nt];return new C(Qe,tt,this._types)}else{let Qe=0,tt=this._nestingLevelCounts.length;for(let ai=0;ai<this._nestingLevelCounts.length;ai++){let Si=this._nestingLevelCounts[ai];if(Si){if(Si+Qe>this._foldingRangesLimit){tt=ai;break}Qe+=Si}}let Nt=new Uint32Array(this._foldingRangesLimit),Tt=new Uint32Array(this._foldingRangesLimit),Yt=[];for(let ai=0,Si=0;ai<this._length;ai++){let qi=this._nestingLevels[ai];(qi<tt||qi===tt&&Qe++<this._foldingRangesLimit)&&(Nt[Si]=this._startIndexes[ai],Tt[Si]=this._endIndexes[ai],Yt[Si]=this._types[ai],Si++)}return new C(Nt,Tt,Yt)}}}function Mt(xt,Qe){let tt=xt.sort((ai,Si)=>{let qi=ai.start-Si.start;return qi===0&&(qi=ai.rank-Si.rank),qi}),Nt=new mt(Qe),Tt,Yt=[];for(let ai of tt)if(!Tt)Tt=ai,Nt.add(ai.start,ai.end,ai.kind&&ai.kind.value,Yt.length);else if(ai.start>Tt.start)if(ai.end<=Tt.end)Yt.push(Tt),Tt=ai,Nt.add(ai.start,ai.end,ai.kind&&ai.kind.value,Yt.length);else{if(ai.start>Tt.end){do Tt=Yt.pop();while(Tt&&ai.start>Tt.end);Tt&&Yt.push(Tt),Tt=ai}Nt.add(ai.start,ai.end,ai.kind&&ai.kind.value,Yt.length)}return Nt.toIndentRanges()}const it="init";class Je{constructor(Qe,tt,Nt,Tt){if(this.editorModel=Qe,this.id=it,tt.length){let Yt=ai=>({range:{startLineNumber:ai.startLineNumber,startColumn:0,endLineNumber:ai.endLineNumber,endColumn:Qe.getLineLength(ai.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=Qe.deltaDecorations([],tt.map(Yt)),this.timeout=setTimeout(Nt,Tt)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(Qe){let tt=[];if(this.decorationIds)for(let Nt of this.decorationIds){let Tt=this.editorModel.getDecorationRange(Nt);Tt&&tt.push({start:Tt.startLineNumber,end:Tt.endLineNumber,rank:1})}return Promise.resolve(Mt(tt,Number.MAX_VALUE))}}var Ae=c(63580),ge=c(38819),Re=c(73910),ot=c(97781),dt=c(73046),lt=c(59554);const Ie=(0,lt.q5)("folding-expanded",dt.lA.chevronDown,(0,Ae.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Pe=(0,lt.q5)("folding-collapsed",dt.lA.chevronRight,(0,Ae.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class ye{constructor(Qe){this.editor=Qe,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(Qe,tt){return tt?ye.HIDDEN_RANGE_DECORATION:Qe?this.showFoldingHighlights?ye.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ye.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?ye.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:ye.EXPANDED_VISUAL_DECORATION}deltaDecorations(Qe,tt){return this.editor.deltaDecorations(Qe,tt)}changeDecorations(Qe){return this.editor.changeDecorations(Qe)}}ye.COLLAPSED_VISUAL_DECORATION=ee.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:ot.kS.asClassName(Pe)}),ye.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ee.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:ot.kS.asClassName(Pe)}),ye.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ee.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:ot.kS.asClassName(Ie)}),ye.EXPANDED_VISUAL_DECORATION=ee.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ot.kS.asClassName(Ie)}),ye.HIDDEN_RANGE_DECORATION=ee.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var Xe=function(xt,Qe,tt,Nt){var Tt=arguments.length,Yt=Tt<3?Qe:Nt===null?Nt=Object.getOwnPropertyDescriptor(Qe,tt):Nt,ai;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Yt=Reflect.decorate(xt,Qe,tt,Nt);else for(var Si=xt.length-1;Si>=0;Si--)(ai=xt[Si])&&(Yt=(Tt<3?ai(Yt):Tt>3?ai(Qe,tt,Yt):ai(Qe,tt))||Yt);return Tt>3&&Yt&&Object.defineProperty(Qe,tt,Yt),Yt},st=function(xt,Qe){return function(tt,Nt){Qe(tt,Nt,xt)}};const Pt=new ge.uy("foldingEnabled",!1);let qt=class gu extends P.JT{constructor(Qe,tt){super(),this.contextKeyService=tt,this.localToDispose=this._register(new P.SL),this.editor=Qe;const Nt=this.editor.getOptions();this._isEnabled=Nt.get(37),this._useFoldingProviders=Nt.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=Nt.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Nt.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ye(Qe),this.foldingDecorationProvider.autoHideFoldingControls=Nt.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Nt.get(39),this.foldingEnabled=Pt.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Tt=>{if(Tt.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Tt.hasChanged(98)||Tt.hasChanged(39)){const Yt=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=Yt.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Yt.get(39),this.onModelContentChanged()}Tt.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),Tt.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),Tt.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Qe){return Qe.getContribution(gu.ID)}saveViewState(){let Qe=this.editor.getModel();if(!Qe||!this._isEnabled||Qe.isTooLargeForTokenization())return{};if(this.foldingModel){let tt=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),Nt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:tt,lineCount:Qe.getLineCount(),provider:Nt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Qe){let tt=this.editor.getModel();if(!tt||!this._isEnabled||tt.isTooLargeForTokenization()||!this.hiddenRangeModel||!Qe||Qe.lineCount!==tt.getLineCount()||(this._currentModelHasFoldedImports=!!Qe.foldedImports,!Qe.collapsedRegions))return;(Qe.provider===Te||Qe.provider===it)&&(this.foldingStateMemento=Qe);const Nt=Qe.collapsedRegions;if(this.hiddenRangeModel.applyMemento(Nt)){const Tt=this.getFoldingModel();Tt&&Tt.then(Yt=>{if(Yt){this._restoringViewState=!0;try{Yt.applyMemento(Nt)}finally{this._restoringViewState=!1}}}).then(void 0,O.dL)}}onModelChanged(){this.localToDispose.clear();let Qe=this.editor.getModel();!this._isEnabled||!Qe||Qe.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new f(Qe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Y(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(tt=>this.onHiddenRangesChanges(tt))),this.updateScheduler=new D.vp(200),this.cursorChangedScheduler=new D.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(T.aC.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(tt=>this.onEditorMouseDown(tt))),this.localToDispose.add(this.editor.onMouseUp(tt=>this.onEditorMouseUp(tt))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(Qe){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new F(Qe),this._useFoldingProviders&&this.foldingModel){let tt=T.aC.ordered(this.foldingModel.textModel);if(tt.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new Je(Qe,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);tt.length>0&&(this.rangeProvider=new rt(Qe,tt,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Qe=this.foldingModel;if(!Qe)return null;const tt=this.getRangeProvider(Qe.textModel);let Nt=this.foldingRegionPromise=(0,D.PG)(Tt=>tt.compute(Tt));return Nt.then(Tt=>{if(Tt&&Nt===this.foldingRegionPromise){let Yt;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const qi=Tt.setCollapsedAllOfType(T.AD.Imports.value,!0);qi&&(Yt=R.ZF.capture(this.editor),this._currentModelHasFoldedImports=qi)}let ai=this.editor.getSelections(),Si=ai?ai.map(qi=>qi.startLineNumber):[];Qe.update(Tt,Si),Yt&&Yt.restore(this.editor)}return Qe})}).then(void 0,Qe=>((0,O.dL)(Qe),null)))}onHiddenRangesChanges(Qe){if(this.hiddenRangeModel&&Qe.length&&!this._restoringViewState){let tt=this.editor.getSelections();tt&&this.hiddenRangeModel.adjustSelections(tt)&&this.editor.setSelections(tt)}this.editor.setHiddenAreas(Qe)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Qe=this.getFoldingModel();Qe&&Qe.then(tt=>{if(tt){let Nt=this.editor.getSelections();if(Nt&&Nt.length>0){let Tt=[];for(let Yt of Nt){let ai=Yt.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ai)&&Tt.push(...tt.getAllRegionsAtLine(ai,Si=>Si.isCollapsed&&ai>Si.startLineNumber))}Tt.length&&(tt.toggleCollapseState(Tt),this.reveal(Nt[0].getPosition()))}}}).then(void 0,O.dL)}onEditorMouseDown(Qe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Qe.target||!Qe.target.range||!Qe.event.leftButton&&!Qe.event.middleButton)return;const tt=Qe.target.range;let Nt=!1;switch(Qe.target.type){case 4:const Tt=Qe.target.detail,Yt=Qe.target.element.offsetLeft;if(Tt.offsetX-Yt<5)return;Nt=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Qe.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let Si=this.editor.getModel();if(Si&&tt.startColumn===Si.getLineMaxColumn(tt.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:tt.startLineNumber,iconClicked:Nt}}onEditorMouseUp(Qe){const tt=this.getFoldingModel();if(!tt||!this.mouseDownInfo||!Qe.target)return;let Nt=this.mouseDownInfo.lineNumber,Tt=this.mouseDownInfo.iconClicked,Yt=Qe.target.range;if(!(!Yt||Yt.startLineNumber!==Nt)){if(Tt){if(Qe.target.type!==4)return}else{let ai=this.editor.getModel();if(!ai||Yt.startColumn!==ai.getLineMaxColumn(Nt))return}tt.then(ai=>{if(ai){let Si=ai.getRegionAtLine(Nt);if(Si&&Si.startLineNumber===Nt){let qi=Si.isCollapsed;if(Tt||qi){let ji=Qe.event.altKey,Zn=[];if(ji){let Vi=wt=>!wt.containedBy(Si)&&!Si.containedBy(wt),Xi=ai.getRegionsInside(null,Vi);for(const wt of Xi)wt.isCollapsed&&Zn.push(wt);Zn.length===0&&(Zn=Xi)}else{let Vi=Qe.event.middleButton||Qe.event.shiftKey;if(Vi)for(const Xi of ai.getRegionsInside(Si))Xi.isCollapsed===qi&&Zn.push(Xi);(qi||!Vi||Zn.length===0)&&Zn.push(Si)}ai.toggleCollapseState(Zn),this.reveal({lineNumber:Nt,column:1})}}}}).then(void 0,O.dL)}}reveal(Qe){this.editor.revealPositionInCenterIfOutsideViewport(Qe,0)}};qt.ID="editor.contrib.folding",qt=Xe([st(1,ge.i6)],qt);class Ci extends W.R6{runEditorCommand(Qe,tt,Nt){let Tt=qt.get(tt);if(!Tt)return;let Yt=Tt.getFoldingModel();if(Yt)return this.reportTelemetry(Qe,tt),Yt.then(ai=>{if(ai){this.invoke(Tt,ai,tt,Nt);const Si=tt.getSelection();Si&&Tt.reveal(Si.getStartPosition())}})}getSelectedLines(Qe){let tt=Qe.getSelections();return tt?tt.map(Nt=>Nt.startLineNumber):[]}getLineNumbers(Qe,tt){return Qe&&Qe.selectionLines?Qe.selectionLines.map(Nt=>Nt+1):this.getSelectedLines(tt)}run(Qe,tt){}}function ii(xt){if(!J.o8(xt)){if(!J.Kn(xt))return!1;const Qe=xt;if(!J.o8(Qe.levels)&&!J.hj(Qe.levels)||!J.o8(Qe.direction)&&!J.HD(Qe.direction)||!J.o8(Qe.selectionLines)&&(!J.kJ(Qe.selectionLines)||!Qe.selectionLines.every(J.hj)))return!1}return!0}class At extends Ci{constructor(){super({id:"editor.unfold",label:Ae.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:ii,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Qe,tt,Nt,Tt){let Yt=Tt&&Tt.levels||1,ai=this.getLineNumbers(Tt,Nt);Tt&&Tt.direction==="up"?h(tt,!1,Yt,ai):S(tt,!1,Yt,ai)}}class Qi extends Ci{constructor(){super({id:"editor.unfoldRecursively",label:Ae.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2137),weight:100}})}invoke(Qe,tt,Nt,Tt){S(tt,!1,Number.MAX_VALUE,this.getSelectedLines(Nt))}}class ci extends Ci{constructor(){super({id:"editor.fold",label:Ae.N("foldAction.label","Fold"),alias:"Fold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:ii,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Qe,tt,Nt,Tt){let Yt=this.getLineNumbers(Tt,Nt);const ai=Tt&&Tt.levels,Si=Tt&&Tt.direction;typeof ai!="number"&&typeof Si!="string"?y(tt,!0,Yt):Si==="up"?h(tt,!0,ai||1,Yt):S(tt,!0,ai||1,Yt)}}class je extends Ci{constructor(){super({id:"editor.toggleFold",label:Ae.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2090),weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);_(tt,1,Tt)}}class at extends Ci{constructor(){super({id:"editor.foldRecursively",label:Ae.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2135),weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);S(tt,!0,Number.MAX_VALUE,Tt)}}class Ni extends Ci{constructor(){super({id:"editor.foldAllBlockComments",label:Ae.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2133),weight:100}})}invoke(Qe,tt,Nt){if(tt.regions.hasTypes())te(tt,T.AD.Comment.value,!0);else{const Tt=Nt.getModel();if(!Tt)return;const Yt=g.zu.getComments(Tt.getLanguageId());if(Yt&&Yt.blockCommentStartToken){let ai=new RegExp("^\\s*"+(0,L.ec)(Yt.blockCommentStartToken));j(tt,ai,!0)}}}}class fi extends Ci{constructor(){super({id:"editor.foldAllMarkerRegions",label:Ae.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2077),weight:100}})}invoke(Qe,tt,Nt){if(tt.regions.hasTypes())te(tt,T.AD.Region.value,!0);else{const Tt=Nt.getModel();if(!Tt)return;const Yt=g.zu.getFoldingRules(Tt.getLanguageId());if(Yt&&Yt.markers&&Yt.markers.start){let ai=new RegExp(Yt.markers.start);j(tt,ai,!0)}}}}class Wi extends Ci{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Ae.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2078),weight:100}})}invoke(Qe,tt,Nt){if(tt.regions.hasTypes())te(tt,T.AD.Region.value,!1);else{const Tt=Nt.getModel();if(!Tt)return;const Yt=g.zu.getFoldingRules(Tt.getLanguageId());if(Yt&&Yt.markers&&Yt.markers.start){let ai=new RegExp(Yt.markers.start);j(tt,ai,!1)}}}}class Rn extends Ci{constructor(){super({id:"editor.foldAllExcept",label:Ae.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2131),weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);B(tt,!0,Tt)}}class zi extends Ci{constructor(){super({id:"editor.unfoldAllExcept",label:Ae.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2129),weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);B(tt,!1,Tt)}}class as extends Ci{constructor(){super({id:"editor.foldAll",label:Ae.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2069),weight:100}})}invoke(Qe,tt,Nt){S(tt,!0)}}class Fn extends Ci{constructor(){super({id:"editor.unfoldAll",label:Ae.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2088),weight:100}})}invoke(Qe,tt,Nt){S(tt,!1)}}class An extends Ci{getFoldingLevel(){return parseInt(this.id.substr(An.ID_PREFIX.length))}invoke(Qe,tt,Nt){v(tt,this.getFoldingLevel(),!0,this.getSelectedLines(Nt))}}An.ID_PREFIX="editor.foldLevel",An.ID=xt=>An.ID_PREFIX+xt;class $i extends Ci{constructor(){super({id:"editor.gotoParentFold",label:Ae.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);if(Tt.length>0){let Yt=ce(Tt[0],tt);Yt!==null&&Nt.setSelection({startLineNumber:Yt,startColumn:1,endLineNumber:Yt,endColumn:1})}}}class Nn extends Ci{constructor(){super({id:"editor.gotoPreviousFold",label:Ae.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);if(Tt.length>0){let Yt=_e(Tt[0],tt);Yt!==null&&Nt.setSelection({startLineNumber:Yt,startColumn:1,endLineNumber:Yt,endColumn:1})}}}class sn extends Ci{constructor(){super({id:"editor.gotoNextFold",label:Ae.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Qe,tt,Nt){let Tt=this.getSelectedLines(Nt);if(Tt.length>0){let Yt=Ce(Tt[0],tt);Yt!==null&&Nt.setSelection({startLineNumber:Yt,startColumn:1,endLineNumber:Yt,endColumn:1})}}}(0,W._K)(qt.ID,qt),(0,W.Qr)(At),(0,W.Qr)(Qi),(0,W.Qr)(ci),(0,W.Qr)(at),(0,W.Qr)(as),(0,W.Qr)(Fn),(0,W.Qr)(Ni),(0,W.Qr)(fi),(0,W.Qr)(Wi),(0,W.Qr)(Rn),(0,W.Qr)(zi),(0,W.Qr)(je),(0,W.Qr)($i),(0,W.Qr)(Nn),(0,W.Qr)(sn);for(let xt=1;xt<=7;xt++)(0,W.QG)(new An({id:An.ID(xt),label:Ae.N("foldLevelAction.label","Fold Level {0}",xt),alias:`Fold Level ${xt}`,precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2048|21+xt),weight:100}}));const $e=(0,Re.P6)("editor.foldBackground",{light:(0,Re.Zn)(Re.hE,.3),dark:(0,Re.Zn)(Re.hE,.3),hc:null},Ae.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),It=(0,Re.P6)("editorGutter.foldingControlForeground",{dark:Re.XZ,light:Re.XZ,hc:Re.XZ},Ae.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,ot.Ic)((xt,Qe)=>{const tt=xt.getColor($e);tt&&Qe.addRule(`.monaco-editor .folded-background { background-color: ${tt}; }`);const Nt=xt.getColor(It);Nt&&Qe.addRule(`
		.monaco-editor .cldr${ot.kS.asCSSSelector(Ie)},
		.monaco-editor .cldr${ot.kS.asCSSSelector(Pe)} {
			color: ${Nt} !important;
		}
		`)})},93761:function(ti,Ge,c){"use strict";c.d(Ge,{xC:function(){return j},Zg:function(){return v},x$:function(){return te},Qq:function(){return _e},Qs:function(){return Y}});var D=c(35996),O=c(9488),Q=c(71050),P=c(17301),L=c(56899),J=c(91741),R=c(98401),W=c(70666),s=c(55812),T=c(65520),g=c(50187),E=c(24314),H=c(3860),r=c(10351),N=c(90469),C=c(88216),x=c(69939),f=c(63580),_=c(94565);class S{constructor(G){this.value=G,this._lower=G.toLowerCase()}static toKey(G){return typeof G=="string"?G.toLowerCase():G._lower}}var h=c(72065),y=function($,G,ee,m){function w(F){return F instanceof ee?F:new ee(function(ie){ie(F)})}return new(ee||(ee=Promise))(function(F,ie){function pe(Te){try{ke(m.next(Te))}catch(rt){ie(rt)}}function ue(Te){try{ke(m.throw(Te))}catch(rt){ie(rt)}}function ke(Te){Te.done?F(Te.value):w(Te.value).then(pe,ue)}ke((m=m.apply($,G||[])).next())})};function v($){if($=$.filter(w=>w.range),!$.length)return;let{range:G}=$[0];for(let w=1;w<$.length;w++)G=E.e.plusRange(G,$[w].range);const{startLineNumber:ee,endLineNumber:m}=G;ee===m?$.length===1?(0,D.Z9)(f.N("hint11","Made 1 formatting edit on line {0}",ee)):(0,D.Z9)(f.N("hintn1","Made {0} formatting edits on line {1}",$.length,ee)):$.length===1?(0,D.Z9)(f.N("hint1n","Made 1 formatting edit between lines {0} and {1}",ee,m)):(0,D.Z9)(f.N("hintnn","Made {0} formatting edits between lines {1} and {2}",$.length,ee,m))}function B($){const G=[],ee=new Set,m=r.Az.ordered($);for(const F of m)G.push(F),F.extensionId&&ee.add(S.toKey(F.extensionId));const w=r.vN.ordered($);for(const F of w){if(F.extensionId){if(ee.has(S.toKey(F.extensionId)))continue;ee.add(S.toKey(F.extensionId))}G.push({displayName:F.displayName,extensionId:F.extensionId,provideDocumentFormattingEdits(ie,pe,ue){return F.provideDocumentRangeFormattingEdits(ie,ie.getFullModelRange(),pe,ue)}})}return G}class j{static setFormatterSelector(G){return{dispose:j._selectors.unshift(G)}}static select(G,ee,m){return y(this,void 0,void 0,function*(){if(G.length===0)return;const w=L.$.first(j._selectors);if(w)return yield w(G,ee,m)})}}j._selectors=new J.S;function te($,G,ee,m,w,F){return y(this,void 0,void 0,function*(){const ie=$.get(h.TG),pe=(0,T.CL)(G)?G.getModel():G,ue=r.vN.ordered(pe),ke=yield j.select(ue,pe,m);ke&&(w.report(ke),yield ie.invokeFunction(ce,ke,G,ee,F))})}function ce($,G,ee,m,w){return y(this,void 0,void 0,function*(){const F=$.get(N.p);let ie,pe;(0,T.CL)(ee)?(ie=ee.getModel(),pe=new s.Dl(ee,5,void 0,w)):(ie=ee,pe=new s.YQ(ee,w));let ue=[],ke=0;for(let Mt of(0,O._2)(m).sort(E.e.compareRangesUsingStarts))ke>0&&E.e.areIntersectingOrTouching(ue[ke-1],Mt)?ue[ke-1]=E.e.fromPositions(ue[ke-1].getStartPosition(),Mt.getEndPosition()):ke=ue.push(Mt);const Te=Mt=>y(this,void 0,void 0,function*(){return(yield G.provideDocumentRangeFormattingEdits(ie,Mt,ie.getFormattingOptions(),pe.token))||[]}),rt=(Mt,it)=>{if(!Mt.length||!it.length)return!1;const Je=Mt.reduce((Ae,ge)=>E.e.plusRange(Ae,ge.range),Mt[0].range);if(!it.some(Ae=>E.e.intersectRanges(Je,Ae.range)))return!1;for(let Ae of Mt)for(let ge of it)if(E.e.intersectRanges(Ae.range,ge.range))return!0;return!1},Rt=[],mt=[];try{for(let Mt of ue){if(pe.token.isCancellationRequested)return!0;mt.push(yield Te(Mt))}for(let Mt=0;Mt<ue.length;++Mt)for(let it=Mt+1;it<ue.length;++it){if(pe.token.isCancellationRequested)return!0;if(rt(mt[Mt],mt[it])){const Je=E.e.plusRange(ue[Mt],ue[it]),Ae=yield Te(Je);ue.splice(it,1),ue.splice(Mt,1),ue.push(Je),mt.splice(it,1),mt.splice(Mt,1),mt.push(Ae),Mt=0,it=0}}for(let Mt of mt){if(pe.token.isCancellationRequested)return!0;const it=yield F.computeMoreMinimalEdits(ie.uri,Mt);it&&Rt.push(...it)}}finally{pe.dispose()}if(Rt.length===0)return!1;if((0,T.CL)(ee))x.V.execute(ee,Rt,!0),v(Rt),ee.revealPositionInCenterIfOutsideViewport(ee.getPosition(),1);else{const[{range:Mt}]=Rt,it=new H.Y(Mt.startLineNumber,Mt.startColumn,Mt.endLineNumber,Mt.endColumn);ie.pushEditOperations([it],Rt.map(Je=>({text:Je.text,range:E.e.lift(Je.range),forceMoveMarkers:!0})),Je=>{for(const{range:Ae}of Je)if(E.e.areIntersectingOrTouching(Ae,it))return[new H.Y(Ae.startLineNumber,Ae.startColumn,Ae.endLineNumber,Ae.endColumn)];return null})}return!0})}function _e($,G,ee,m,w){return y(this,void 0,void 0,function*(){const F=$.get(h.TG),ie=(0,T.CL)(G)?G.getModel():G,pe=B(ie),ue=yield j.select(pe,ie,ee);ue&&(m.report(ue),yield F.invokeFunction(Ce,ue,G,ee,w))})}function Ce($,G,ee,m,w){return y(this,void 0,void 0,function*(){const F=$.get(N.p);let ie,pe;(0,T.CL)(ee)?(ie=ee.getModel(),pe=new s.Dl(ee,5,void 0,w)):(ie=ee,pe=new s.YQ(ee,w));let ue;try{const ke=yield G.provideDocumentFormattingEdits(ie,ie.getFormattingOptions(),pe.token);if(ue=yield F.computeMoreMinimalEdits(ie.uri,ke),pe.token.isCancellationRequested)return!0}finally{pe.dispose()}if(!ue||ue.length===0)return!1;if((0,T.CL)(ee))x.V.execute(ee,ue,m!==2),m!==2&&(v(ue),ee.revealPositionInCenterIfOutsideViewport(ee.getPosition(),1));else{const[{range:ke}]=ue,Te=new H.Y(ke.startLineNumber,ke.startColumn,ke.endLineNumber,ke.endColumn);ie.pushEditOperations([Te],ue.map(rt=>({text:rt.text,range:E.e.lift(rt.range),forceMoveMarkers:!0})),rt=>{for(const{range:Rt}of rt)if(E.e.areIntersectingOrTouching(Rt,Te))return[new H.Y(Rt.startLineNumber,Rt.startColumn,Rt.endLineNumber,Rt.endColumn)];return null})}return!0})}function Ee($,G,ee,m,w){return y(this,void 0,void 0,function*(){const F=r.vN.ordered(G);for(const ie of F){let pe=yield Promise.resolve(ie.provideDocumentRangeFormattingEdits(G,ee,m,w)).catch(P.Cp);if((0,O.Of)(pe))return yield $.computeMoreMinimalEdits(G.uri,pe)}})}function le($,G,ee,m){return y(this,void 0,void 0,function*(){const w=B(G);for(const F of w){let ie=yield Promise.resolve(F.provideDocumentFormattingEdits(G,ee,m)).catch(P.Cp);if((0,O.Of)(ie))return yield $.computeMoreMinimalEdits(G.uri,ie)}})}function Y($,G,ee,m,w){const F=r.ln.ordered(G);return F.length===0||F[0].autoFormatTriggerCharacters.indexOf(m)<0?Promise.resolve(void 0):Promise.resolve(F[0].provideOnTypeFormattingEdits(G,ee,m,w,Q.T.None)).catch(P.Cp).then(ie=>$.computeMoreMinimalEdits(G.uri,ie))}_.P.registerCommand("_executeFormatRangeProvider",function($,...G){return y(this,void 0,void 0,function*(){const[ee,m,w]=G;(0,R.p_)(W.o.isUri(ee)),(0,R.p_)(E.e.isIRange(m));const F=$.get(C.S),ie=$.get(N.p),pe=yield F.createModelReference(ee);try{return Ee(ie,pe.object.textEditorModel,E.e.lift(m),w,Q.T.None)}finally{pe.dispose()}})}),_.P.registerCommand("_executeFormatDocumentProvider",function($,...G){return y(this,void 0,void 0,function*(){const[ee,m]=G;(0,R.p_)(W.o.isUri(ee));const w=$.get(C.S),F=$.get(N.p),ie=yield w.createModelReference(ee);try{return le(F,ie.object.textEditorModel,m,Q.T.None)}finally{ie.dispose()}})}),_.P.registerCommand("_executeFormatOnTypeProvider",function($,...G){return y(this,void 0,void 0,function*(){const[ee,m,w,F]=G;(0,R.p_)(W.o.isUri(ee)),(0,R.p_)(g.L.isIPosition(m)),(0,R.p_)(typeof w=="string");const ie=$.get(C.S),pe=$.get(N.p),ue=yield ie.createModelReference(ee);try{return Y(pe,ue.object.textEditorModel,g.L.lift(m),w,F)}finally{ue.dispose()}})})},44818:function(ti,Ge,c){"use strict";c.r(Ge);var D=c(9488),O=c(71050),Q=c(17301),P=c(22258),L=c(5976),J=c(16830),R=c(11640),W=c(44906),s=c(24314),T=c(29102),g=c(10351),E=c(90469),H=c(93761),r=c(69939),N=c(63580),C=c(94565),x=c(38819),f=c(72065),_=c(90535),S=function(ce,_e,Ce,Ee){var le=arguments.length,Y=le<3?_e:Ee===null?Ee=Object.getOwnPropertyDescriptor(_e,Ce):Ee,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(ce,_e,Ce,Ee);else for(var G=ce.length-1;G>=0;G--)($=ce[G])&&(Y=(le<3?$(Y):le>3?$(_e,Ce,Y):$(_e,Ce))||Y);return le>3&&Y&&Object.defineProperty(_e,Ce,Y),Y},h=function(ce,_e){return function(Ce,Ee){_e(Ce,Ee,ce)}},y=function(ce,_e,Ce,Ee){function le(Y){return Y instanceof Ce?Y:new Ce(function($){$(Y)})}return new(Ce||(Ce=Promise))(function(Y,$){function G(w){try{m(Ee.next(w))}catch(F){$(F)}}function ee(w){try{m(Ee.throw(w))}catch(F){$(F)}}function m(w){w.done?Y(w.value):le(w.value).then(G,ee)}m((Ee=Ee.apply(ce,_e||[])).next())})};let v=class{constructor(_e,Ce){this._workerService=Ce,this._callOnDispose=new L.SL,this._callOnModel=new L.SL,this._editor=_e,this._callOnDispose.add(_e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(g.ln.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const _e=this._editor.getModel(),[Ce]=g.ln.ordered(_e);if(!Ce||!Ce.autoFormatTriggerCharacters)return;let Ee=new W.q;for(let le of Ce.autoFormatTriggerCharacters)Ee.add(le.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(le=>{let Y=le.charCodeAt(le.length-1);Ee.has(Y)&&this._trigger(String.fromCharCode(Y))}))}_trigger(_e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const Ce=this._editor.getModel(),Ee=this._editor.getPosition();let le=!1;const Y=this._editor.onDidChangeModelContent($=>{if($.isFlush){le=!0,Y.dispose();return}for(let G=0,ee=$.changes.length;G<ee;G++)if($.changes[G].range.endLineNumber<=Ee.lineNumber){le=!0,Y.dispose();return}});(0,H.Qs)(this._workerService,Ce,Ee,_e,Ce.getFormattingOptions()).then($=>{Y.dispose(),!le&&(0,D.Of)($)&&(r.V.execute(this._editor,$,!0),(0,H.Zg)($))},$=>{throw Y.dispose(),$})}};v.ID="editor.contrib.autoFormat",v=S([h(1,E.p)],v);let B=class{constructor(_e,Ce){this.editor=_e,this._instantiationService=Ce,this._callOnDispose=new L.SL,this._callOnModel=new L.SL,this._callOnDispose.add(_e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(g.vN.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&g.vN.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:_e})=>this._trigger(_e)))}_trigger(_e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(H.x$,this.editor,_e,2,_.E.None,O.T.None).catch(Q.dL))}};B.ID="editor.contrib.formatOnPaste",B=S([h(1,f.TG)],B);class j extends J.R6{constructor(){super({id:"editor.action.formatDocument",label:N.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:x.Ao.and(T.u.notInCompositeEditor,T.u.writable,T.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:T.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_e,Ce){return y(this,void 0,void 0,function*(){if(Ce.hasModel()){const Ee=_e.get(f.TG);yield _e.get(_.e).showWhile(Ee.invokeFunction(H.Qq,Ce,1,_.E.None,O.T.None),250)}})}}class te extends J.R6{constructor(){super({id:"editor.action.formatSelection",label:N.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:x.Ao.and(T.u.writable,T.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:T.u.editorTextFocus,primary:(0,P.gx)(2089,2084),weight:100},contextMenuOpts:{when:T.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_e,Ce){return y(this,void 0,void 0,function*(){if(!Ce.hasModel())return;const Ee=_e.get(f.TG),le=Ce.getModel(),Y=Ce.getSelections().map(G=>G.isEmpty()?new s.e(G.startLineNumber,1,G.startLineNumber,le.getLineMaxColumn(G.startLineNumber)):G);yield _e.get(_.e).showWhile(Ee.invokeFunction(H.x$,Ce,Y,1,_.E.None,O.T.None),250)})}}(0,J._K)(v.ID,v),(0,J._K)(B.ID,B),(0,J.Qr)(j),(0,J.Qr)(te),C.P.registerCommand("editor.action.format",ce=>y(void 0,void 0,void 0,function*(){const _e=ce.get(R.$).getFocusedCodeEditor();if(!_e||!_e.hasModel())return;const Ce=ce.get(C.H);_e.getSelection().isEmpty()?yield Ce.executeCommand("editor.action.formatDocument"):yield Ce.executeCommand("editor.action.formatSelection")}))},69939:function(ti,Ge,c){"use strict";c.d(Ge,{V:function(){return Q}});var D=c(69386),O=c(24314);class Q{static _handleEolEdits(L,J){let R,W=[];for(let s of J)typeof s.eol=="number"&&(R=s.eol),s.range&&typeof s.text=="string"&&W.push(s);return typeof R=="number"&&L.hasModel()&&L.getModel().pushEOL(R),W}static _isFullModelReplaceEdit(L,J){if(!L.hasModel())return!1;const R=L.getModel(),W=R.validateRange(J.range);return R.getFullModelRange().equalsRange(W)}static execute(L,J,R){R&&L.pushUndoStop();const W=Q._handleEolEdits(L,J);W.length===1&&Q._isFullModelReplaceEdit(L,W[0])?L.executeEdits("formatEditsCommand",W.map(s=>D.h.replace(O.e.lift(s.range),s.text))):L.executeEdits("formatEditsCommand",W.map(s=>D.h.replaceMove(O.e.lift(s.range),s.text))),R&&L.pushUndoStop()}}},17369:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{ModesHoverController:function(){return Dr}});var D=c(22258),O=c(5976),Q=c(16830),P=c(24314),L=c(29102),J=c(71531),R=c(15393),W=c(17301),s=c(59365),T=c(98401),g=c(55812),E=c(50187),H=c(10351),r=c(88216),N=c(4669),C=c(1432);function x(we,a){return!!we[a]}class f{constructor(a,I){this.target=a.target,this.hasTriggerModifier=x(a.event,I.triggerModifier),this.hasSideBySideModifier=x(a.event,I.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}class _{constructor(a,I){this.keyCodeIsTriggerKey=a.keyCode===I.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===I.triggerSideBySideKey,this.hasTriggerModifier=x(a,I.triggerModifier)}}class S{constructor(a,I,z,oe){this.triggerKey=a,this.triggerModifier=I,this.triggerSideBySideKey=z,this.triggerSideBySideModifier=oe}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}function h(we){return we==="altKey"?C.dz?new S(57,"metaKey",6,"altKey"):new S(5,"ctrlKey",6,"altKey"):C.dz?new S(6,"altKey",57,"metaKey"):new S(6,"altKey",5,"ctrlKey")}class y extends O.JT{constructor(a){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new N.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new N.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new N.Q5),this.onCancel=this._onCancel.event,this._editor=a,this._opts=h(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(I=>{if(I.hasChanged(69)){const z=h(this._editor.getOption(69));if(this._opts.equals(z))return;this._opts=z,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(I=>this._onEditorMouseMove(new f(I,this._opts)))),this._register(this._editor.onMouseDown(I=>this._onEditorMouseDown(new f(I,this._opts)))),this._register(this._editor.onMouseUp(I=>this._onEditorMouseUp(new f(I,this._opts)))),this._register(this._editor.onKeyDown(I=>this._onEditorKeyDown(new _(I,this._opts)))),this._register(this._editor.onKeyUp(I=>this._onEditorKeyUp(new _(I,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(I=>this._onDidChangeCursorSelection(I))),this._register(this._editor.onDidChangeModel(I=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(I=>{(I.scrollTopChanged||I.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const I=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===I&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var v=c(65321),B=c(90317),j=c(74741),te=c(73046),ce=c(41264),_e=c(36248),Ce=c(11640),Ee=c(84527),le=c(83080),Y=c(44742),$=c(24979);const G=new ce.Il(new ce.VS(0,122,204)),ee={showArrow:!0,showFrame:!0,className:"",frameColor:G,arrowColor:G,keepEditorSelection:!1},m="vs.editor.contrib.zoneWidget";class w{constructor(a,I,z,oe,se,Se){this.id="",this.domNode=a,this.afterLineNumber=I,this.afterColumn=z,this.heightInLines=oe,this._onDomNodeTop=se,this._onComputedHeight=Se}onDomNodeTop(a){this._onDomNodeTop(a)}onComputedHeight(a){this._onComputedHeight(a)}}class F{constructor(a,I){this._id=a,this._domNode=I}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class ie{constructor(a){this._editor=a,this._ruleName=ie._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),v.uN(this._ruleName)}set color(a){this._color!==a&&(this._color=a,this._updateStyle())}set height(a){this._height!==a&&(this._height=a,this._updateStyle())}_updateStyle(){v.uN(this._ruleName),v.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(a){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:P.e.fromPositions(a),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}ie._IdGenerator=new Y.R(".arrow-decoration-");class pe{constructor(a,I={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new O.SL,this.container=null,this._isShowing=!1,this.editor=a,this.options=_e.I8(I),_e.jB(this.options,ee,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(z=>{const oe=this._getWidth(z);this.domNode.style.width=oe+"px",this.domNode.style.left=this._getLeft(z)+"px",this._onWidth(oe)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new ie(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(a){a.frameColor&&(this.options.frameColor=a.frameColor),a.arrowColor&&(this.options.arrowColor=a.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let a=this.options.frameColor.toString();this.container.style.borderTopColor=a,this.container.style.borderBottomColor=a}if(this._arrow&&this.options.arrowColor){let a=this.options.arrowColor.toString();this._arrow.color=a}}_getWidth(a){return a.width-a.minimap.minimapWidth-a.verticalScrollbarWidth}_getLeft(a){return a.minimap.minimapWidth>0&&a.minimap.minimapLeft===0?a.minimap.minimapWidth:0}_onViewZoneTop(a){this.domNode.style.top=a+"px"}_onViewZoneHeight(a){if(this.domNode.style.height=`${a}px`,this.container){let I=a-this._decoratingElementsHeight();this.container.style.height=`${I}px`;const z=this.editor.getLayoutInfo();this._doLayout(I,this._getWidth(z))}this._resizeSash&&this._resizeSash.layout()}get position(){const[a]=this._positionMarkerId;if(!a)return;const I=this.editor.getModel();if(!I)return;const z=I.getDecorationRange(a);if(z)return z.getStartPosition()}show(a,I){const z=P.e.isIRange(a)?P.e.lift(a):P.e.fromPositions(a);this._isShowing=!0,this._showImpl(z,I),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:z,options:$.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let a=this.editor.getOption(58),I=0;if(this.options.showArrow){let z=Math.round(a/3);I+=2*z}if(this.options.showFrame){let z=Math.round(a/9);I+=2*z}return I}_showImpl(a,I){const z=a.getStartPosition(),oe=this.editor.getLayoutInfo(),se=this._getWidth(oe);this.domNode.style.width=`${se}px`,this.domNode.style.left=this._getLeft(oe)+"px";const Se=document.createElement("div");Se.style.overflow="hidden";const Ye=this.editor.getOption(58),Vt=Math.max(12,this.editor.getLayoutInfo().height/Ye*.8);I=Math.min(I,Vt);let Ht=0,Dt=0;if(this._arrow&&this.options.showArrow&&(Ht=Math.round(Ye/3),this._arrow.height=Ht,this._arrow.show(z)),this.options.showFrame&&(Dt=Math.round(Ye/9)),this.editor.changeViewZones(mn=>{this._viewZone&&mn.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new w(Se,z.lineNumber,z.column,I,Bn=>this._onViewZoneTop(Bn),Bn=>this._onViewZoneHeight(Bn)),this._viewZone.id=mn.addZone(this._viewZone),this._overlayWidget=new F(m+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const mn=this.options.frameWidth?this.options.frameWidth:Dt;this.container.style.borderTopWidth=mn+"px",this.container.style.borderBottomWidth=mn+"px"}let ui=I*Ye-this._decoratingElementsHeight();this.container&&(this.container.style.top=Ht+"px",this.container.style.height=ui+"px",this.container.style.overflow="hidden"),this._doLayout(ui,se),this.options.keepEditorSelection||this.editor.setSelection(a);const Yi=this.editor.getModel();if(Yi){const mn=a.endLineNumber+1;mn<=Yi.getLineCount()?this.revealLine(mn,!1):this.revealLine(Yi.getLineCount(),!0)}}revealLine(a,I){I?this.editor.revealLineInCenter(a,0):this.editor.revealLine(a,0)}setCssClass(a,I){this.container&&(I&&this.container.classList.remove(I),this.container.classList.add(a))}_onWidth(a){}_doLayout(a,I){}_relayout(a){this._viewZone&&this._viewZone.heightInLines!==a&&this.editor.changeViewZones(I=>{this._viewZone&&(this._viewZone.heightInLines=a,I.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new le.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let a;this._disposables.add(this._resizeSash.onDidStart(I=>{this._viewZone&&(a={startY:I.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{a=void 0})),this._disposables.add(this._resizeSash.onDidChange(I=>{if(a){let z=(I.currentY-a.startY)/this.editor.getOption(58),oe=z<0?Math.ceil(z):Math.floor(z),se=a.heightInLines+oe;se>5&&se<35&&this._relayout(se)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const a=this.editor.getLayoutInfo();return a.width-a.minimap.minimapWidth}}var ue=c(63580),ke=c(42499),Te=c(38819),rt=c(65026),Rt=c(72065),mt=c(73910),Mt=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},it=function(we,a){return function(I,z){a(I,z,we)}};const Je=(0,Rt.yh)("IPeekViewService");(0,rt.z)(Je,class{constructor(){this._widgets=new Map}addExclusiveWidget(we,a){const I=this._widgets.get(we);I&&(I.listener.dispose(),I.widget.dispose());const z=()=>{const oe=this._widgets.get(we);oe&&oe.widget===a&&(oe.listener.dispose(),this._widgets.delete(we))};this._widgets.set(we,{widget:a,listener:a.onDidClose(z)})}});var Ae;(function(we){we.inPeekEditor=new Te.uy("inReferenceSearchEditor",!0,ue.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),we.notInPeekEditor=we.inPeekEditor.toNegated()})(Ae||(Ae={}));let ge=class{constructor(a,I){a instanceof Ee.H&&Ae.inPeekEditor.bindTo(I)}dispose(){}};ge.ID="editor.contrib.referenceController",ge=Mt([it(1,Te.i6)],ge),(0,Q._K)(ge.ID,ge);function Re(we){let a=we.get(Ce.$).getFocusedCodeEditor();return a instanceof Ee.H?a.getParentEditor():a}const ot={headerBackgroundColor:ce.Il.white,primaryHeadingColor:ce.Il.fromHex("#333333"),secondaryHeadingColor:ce.Il.fromHex("#6c6c6cb3")};let dt=class extends pe{constructor(a,I,z){super(a,I),this.instantiationService=z,this._onDidClose=new N.Q5,this.onDidClose=this._onDidClose.event,_e.jB(this.options,ot,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(a){let I=this.options;a.headerBackgroundColor&&(I.headerBackgroundColor=a.headerBackgroundColor),a.primaryHeadingColor&&(I.primaryHeadingColor=a.primaryHeadingColor),a.secondaryHeadingColor&&(I.secondaryHeadingColor=a.secondaryHeadingColor),super.style(a)}_applyStyles(){super._applyStyles();let a=this.options;this._headElement&&a.headerBackgroundColor&&(this._headElement.style.backgroundColor=a.headerBackgroundColor.toString()),this._primaryHeading&&a.primaryHeadingColor&&(this._primaryHeading.style.color=a.primaryHeadingColor.toString()),this._secondaryHeading&&a.secondaryHeadingColor&&(this._secondaryHeading.style.color=a.secondaryHeadingColor.toString()),this._bodyElement&&a.frameColor&&(this._bodyElement.style.borderColor=a.frameColor.toString())}_fillContainer(a){this.setCssClass("peekview-widget"),this._headElement=v.$(".head"),this._bodyElement=v.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),a.appendChild(this._headElement),a.appendChild(this._bodyElement)}_fillHead(a,I){const z=v.$(".peekview-title");this.options.supportOnTitleClick&&(z.classList.add("clickable"),v.mu(z,"click",Se=>this._onTitleClick(Se))),v.R3(this._headElement,z),this._fillTitleIcon(z),this._primaryHeading=v.$("span.filename"),this._secondaryHeading=v.$("span.dirname"),this._metaHeading=v.$("span.meta"),v.R3(z,this._primaryHeading,this._secondaryHeading,this._metaHeading);const oe=v.$(".peekview-actions");v.R3(this._headElement,oe);const se=this._getActionBarOptions();this._actionbarWidget=new B.o(oe,se),this._disposables.add(this._actionbarWidget),I||this._actionbarWidget.push(new j.aU("peekview.close",ue.N("label.close","Close"),te.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(a){}_getActionBarOptions(){return{actionViewItemProvider:ke.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(a){}setTitle(a,I){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=a,this._primaryHeading.setAttribute("title",a),I?this._secondaryHeading.innerText=I:v.PO(this._secondaryHeading))}setMetaTitle(a){this._metaHeading&&(a?(this._metaHeading.innerText=a,v.$Z(this._metaHeading)):v.Cp(this._metaHeading))}_doLayout(a,I){if(!this._isShowing&&a<0){this.dispose();return}const z=Math.ceil(this.editor.getOption(58)*1.2),oe=Math.round(a-(z+2));this._doLayoutHead(z,I),this._doLayoutBody(oe,I)}_doLayoutHead(a,I){this._headElement&&(this._headElement.style.height=`${a}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(a,I){this._bodyElement&&(this._bodyElement.style.height=`${a}px`)}};dt=Mt([it(2,Rt.TG)],dt);const lt=(0,mt.P6)("peekViewTitle.background",{dark:(0,mt.Zn)(mt.c6,.1),light:(0,mt.Zn)(mt.c6,.1),hc:null},ue.N("peekViewTitleBackground","Background color of the peek view title area.")),Ie=(0,mt.P6)("peekViewTitleLabel.foreground",{dark:ce.Il.white,light:ce.Il.black,hc:ce.Il.white},ue.N("peekViewTitleForeground","Color of the peek view title.")),Pe=(0,mt.P6)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},ue.N("peekViewTitleInfoForeground","Color of the peek view title info.")),ye=(0,mt.P6)("peekView.border",{dark:mt.c6,light:mt.c6,hc:mt.lR},ue.N("peekViewBorder","Color of the peek view borders and arrow.")),Xe=(0,mt.P6)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:ce.Il.black},ue.N("peekViewResultsBackground","Background color of the peek view result list.")),st=(0,mt.P6)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:ce.Il.white},ue.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Pt=(0,mt.P6)("peekViewResult.fileForeground",{dark:ce.Il.white,light:"#1E1E1E",hc:ce.Il.white},ue.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),qt=(0,mt.P6)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},ue.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Ci=(0,mt.P6)("peekViewResult.selectionForeground",{dark:ce.Il.white,light:"#6C6C6C",hc:ce.Il.white},ue.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),ii=(0,mt.P6)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:ce.Il.black},ue.N("peekViewEditorBackground","Background color of the peek view editor.")),At=(0,mt.P6)("peekViewEditorGutter.background",{dark:ii,light:ii,hc:ii},ue.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Qi=(0,mt.P6)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},ue.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),ci=(0,mt.P6)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},ue.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),je=(0,mt.P6)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:mt.xL},ue.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var at=c(97781),Ni=c(16268),fi=c(35996),Wi=c(70666),Rn=c(65520),zi=c(94565),as=c(33108),Fn=c(49989),An=c(38097),$i=c(48894),Nn=c(87060),sn=c(43702),$e=c(95935),It=c(97295),xt=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};class Qe{constructor(a,I,z,oe){this.isProviderFirst=a,this.parent=I,this.link=z,this._rangeCallback=oe,this.id=Y.a.nextId()}get uri(){return this.link.uri}get range(){var a,I;return(I=(a=this._range)!==null&&a!==void 0?a:this.link.targetSelectionRange)!==null&&I!==void 0?I:this.link.range}set range(a){this._range=a,this._rangeCallback(this)}get ariaMessage(){var a;const I=(a=this.parent.getPreview(this))===null||a===void 0?void 0:a.preview(this.range);return I?(0,ue.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,$e.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,I.value):(0,ue.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,$e.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class tt{constructor(a){this._modelReference=a}dispose(){this._modelReference.dispose()}preview(a,I=8){const z=this._modelReference.object.textEditorModel;if(!z)return;const{startLineNumber:oe,startColumn:se,endLineNumber:Se,endColumn:Ye}=a,Vt=z.getWordUntilPosition({lineNumber:oe,column:se-I}),Ht=new P.e(oe,Vt.startColumn,oe,se),Dt=new P.e(Se,Ye,Se,1073741824),ui=z.getValueInRange(Ht).replace(/^\s+/,""),Yi=z.getValueInRange(a),mn=z.getValueInRange(Dt).replace(/\s+$/,"");return{value:ui+Yi+mn,highlight:{start:ui.length,end:ui.length+Yi.length}}}}class Nt{constructor(a,I){this.parent=a,this.uri=I,this.children=[],this._previews=new sn.Y9}dispose(){(0,O.B9)(this._previews.values()),this._previews.clear()}getPreview(a){return this._previews.get(a.uri)}get ariaMessage(){const a=this.children.length;return a===1?(0,ue.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,$e.EZ)(this.uri),this.uri.fsPath):(0,ue.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",a,(0,$e.EZ)(this.uri),this.uri.fsPath)}resolve(a){return xt(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let I of this.children)if(!this._previews.has(I.uri))try{const z=yield a.createModelReference(I.uri);this._previews.set(I.uri,new tt(z))}catch(z){(0,W.dL)(z)}return this})}}class Tt{constructor(a,I){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new N.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=a,this._title=I;const[z]=a;a.sort(Tt._compareReferences);let oe;for(let se of a)if((!oe||!$e.SF.isEqual(oe.uri,se.uri,!0))&&(oe=new Nt(this,se.uri),this.groups.push(oe)),oe.children.length===0||Tt._compareReferences(se,oe.children[oe.children.length-1])!==0){const Se=new Qe(z===se,oe,se,Ye=>this._onDidChangeReferenceRange.fire(Ye));this.references.push(Se),oe.children.push(Se)}}dispose(){(0,O.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Tt(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,ue.N)("aria.result.0","No results found"):this.references.length===1?(0,ue.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,ue.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,ue.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(a,I){let{parent:z}=a,oe=z.children.indexOf(a),se=z.children.length,Se=z.parent.groups.length;return Se===1||I&&oe+1<se||!I&&oe>0?(I?oe=(oe+1)%se:oe=(oe+se-1)%se,z.children[oe]):(oe=z.parent.groups.indexOf(z),I?(oe=(oe+1)%Se,z.parent.groups[oe].children[0]):(oe=(oe+Se-1)%Se,z.parent.groups[oe].children[z.parent.groups[oe].children.length-1]))}nearestReference(a,I){const z=this.references.map((oe,se)=>({idx:se,prefixLen:It.Mh(oe.uri.toString(),a.toString()),offsetDist:Math.abs(oe.range.startLineNumber-I.lineNumber)*100+Math.abs(oe.range.startColumn-I.column)})).sort((oe,se)=>oe.prefixLen>se.prefixLen?-1:oe.prefixLen<se.prefixLen?1:oe.offsetDist<se.offsetDist?-1:oe.offsetDist>se.offsetDist?1:0)[0];if(z)return this.references[z.idx]}referenceAt(a,I){for(const z of this.references)if(z.uri.toString()===a.toString()&&P.e.containsPosition(z.range,I))return z}firstReference(){for(const a of this.references)if(a.isProviderFirst)return a;return this.references[0]}static _compareReferences(a,I){return $e.SF.compare(a.uri,I.uri)||P.e.compareRangesUsingStarts(a.range,I.range)}}var Yt=c(33225),ai=c(66663),Si=c(94660),qi=c(85207),ji=c(34650),Zn=c(26974),Vi=c(75392),Xi=c(68843),wt=c(91847),ht=c(44349),Et=c(88810),He=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},nt=function(we,a){return function(I,z){a(I,z,we)}};let pt=class{constructor(a){this._resolverService=a}hasChildren(a){return a instanceof Tt||a instanceof Nt}getChildren(a){if(a instanceof Tt)return a.groups;if(a instanceof Nt)return a.resolve(this._resolverService).then(I=>I.children);throw new Error("bad tree")}};pt=He([nt(0,r.S)],pt);class ft{getHeight(){return 23}getTemplateId(a){return a instanceof Nt?Ii.id:dn.id}}let oi=class{constructor(a){this._keybindingService=a}getKeyboardNavigationLabel(a){var I;if(a instanceof Qe){const z=(I=a.parent.getPreview(a))===null||I===void 0?void 0:I.preview(a.range);if(z)return z.value}return(0,$e.EZ)(a.uri)}};oi=He([nt(0,wt.d)],oi);class Hi{getId(a){return a instanceof Qe?a.id:a.uri}}let vi=class extends O.JT{constructor(a,I,z){super(),this._uriLabel=I;const oe=document.createElement("div");oe.classList.add("reference-file"),this.file=this._register(new Zn.g(oe,{supportHighlights:!0})),this.badge=new qi.Z(v.R3(oe,v.$(".count"))),this._register((0,Et.WZ)(this.badge,z)),a.appendChild(oe)}set(a,I){let z=(0,$e.XX)(a.uri);this.file.setLabel((0,Xi.p)(a.uri),this._uriLabel.getUriLabel(z,{relative:!0}),{title:this._uriLabel.getUriLabel(a.uri),matches:I});const oe=a.children.length;this.badge.setCount(oe),oe>1?this.badge.setTitleFormat((0,ue.N)("referencesCount","{0} references",oe)):this.badge.setTitleFormat((0,ue.N)("referenceCount","{0} reference",oe))}};vi=He([nt(1,ht.e),nt(2,at.XE)],vi);let Ii=class mu{constructor(a){this._instantiationService=a,this.templateId=mu.id}renderTemplate(a){return this._instantiationService.createInstance(vi,a)}renderElement(a,I,z){z.set(a.element,(0,Vi.mB)(a.filterData))}disposeTemplate(a){a.dispose()}};Ii.id="FileReferencesRenderer",Ii=He([nt(0,Rt.TG)],Ii);class Ui{constructor(a){this.label=new ji.q(a,!1)}set(a,I){var z;const oe=(z=a.parent.getPreview(a))===null||z===void 0?void 0:z.preview(a.range);if(!oe||!oe.value)this.label.set(`${(0,$e.EZ)(a.uri)}:${a.range.startLineNumber+1}:${a.range.startColumn+1}`);else{const{value:se,highlight:Se}=oe;I&&!Vi.CL.isDefault(I)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(se,(0,Vi.mB)(I))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(se,[Se]))}}}class dn{constructor(){this.templateId=dn.id}renderTemplate(a){return new Ui(a)}renderElement(a,I,z){z.set(a.element,a.filterData)}disposeTemplate(){}}dn.id="OneReferenceRenderer";class gn{getWidgetAriaLabel(){return(0,ue.N)("treeAriaLabel","References")}getAriaLabel(a){return a.ariaMessage}}var Ri=c(64862),_i=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},hn=function(we,a){return function(I,z){a(I,z,we)}},wn=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};class Qn{constructor(a,I){this._editor=a,this._model=I,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new O.SL,this._callOnModelChange=new O.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const a=this._editor.getModel();if(a){for(let I of this._model.references)if(I.uri.toString()===a.uri.toString()){this._addDecorations(I.parent);return}}}_addDecorations(a){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const I=[],z=[];for(let se=0,Se=a.children.length;se<Se;se++){let Ye=a.children[se];this._decorationIgnoreSet.has(Ye.id)||Ye.uri.toString()===this._editor.getModel().uri.toString()&&(I.push({range:Ye.range,options:Qn.DecorationOptions}),z.push(se))}const oe=this._editor.deltaDecorations([],I);for(let se=0;se<oe.length;se++)this._decorations.set(oe[se],a.children[z[se]])}_onDecorationChanged(){const a=[],I=this._editor.getModel();if(I){for(let[z,oe]of this._decorations){const se=I.getDecorationRange(z);if(!se)continue;let Se=!1;if(!P.e.equalsRange(se,oe.range)){if(P.e.spansMultipleLines(se))Se=!0;else{const Ye=oe.range.endColumn-oe.range.startColumn,Vt=se.endColumn-se.startColumn;Ye!==Vt&&(Se=!0)}Se?(this._decorationIgnoreSet.add(oe.id),a.push(z)):oe.range=se}}for(let z=0,oe=a.length;z<oe;z++)this._decorations.delete(a[z]);this._editor.deltaDecorations(a,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Qn.DecorationOptions=$.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class os{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(a){let I,z;try{const oe=JSON.parse(a);I=oe.ratio,z=oe.heightInLines}catch(oe){}return{ratio:I||.7,heightInLines:z||18}}}class Yn extends An.ls{}let Ts=class extends dt{constructor(a,I,z,oe,se,Se,Ye,Vt,Ht,Dt,ui,Yi){super(a,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Se),this._defaultTreeKeyboardSupport=I,this.layoutData=z,this._textModelResolverService=se,this._instantiationService=Se,this._peekViewService=Ye,this._uriLabel=Vt,this._undoRedoService=Ht,this._keybindingService=Dt,this._modeService=ui,this._languageConfigurationService=Yi,this._disposeOnNewModel=new O.SL,this._callOnDispose=new O.SL,this._onDidSelectReference=new N.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new v.Ro(0,0),this._applyTheme(oe.getColorTheme()),this._callOnDispose.add(oe.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(a,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,O.B9)(this._preview),(0,O.B9)(this._previewNotAvailableMessage),(0,O.B9)(this._tree),(0,O.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(a){const I=a.getColor(ye)||ce.Il.transparent;this.style({arrowColor:I,frameColor:I,headerBackgroundColor:a.getColor(lt)||ce.Il.transparent,primaryHeadingColor:a.getColor(Ie),secondaryHeadingColor:a.getColor(Pe)})}show(a){this.editor.revealRangeInCenterIfOutsideViewport(a,0),super.show(a,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(a){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:a.ctrlKey||a.metaKey||a.altKey?"side":"open",source:"title"})}_fillBody(a){this.setCssClass("reference-zone-widget"),this._messageContainer=v.R3(a,v.$("div.messages")),v.Cp(this._messageContainer),this._splitView=new Yt.z(a,{orientation:1}),this._previewContainer=v.R3(a,v.$("div.preview.inline"));let I={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Ee.H,this._previewContainer,I,this.editor),v.Cp(this._previewContainer),this._previewNotAvailableMessage=new $.yO(ue.N("missingPreviewMessage","no preview available"),$.yO.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=v.R3(a,v.$("div.ref-tree.inline"));const z={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new gn,keyboardNavigationLabelProvider:this._instantiationService.createInstance(oi),identityProvider:new Hi,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Xe}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(v.mu(this._treeContainer,"keydown",se=>{se.equals(9)&&(this._keybindingService.dispatchEvent(se,se.target),se.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Yn,"ReferencesWidget",this._treeContainer,new ft,[this._instantiationService.createInstance(Ii),this._instantiationService.createInstance(dn)],this._instantiationService.createInstance(pt),z),this._splitView.addView({onDidChange:N.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:se=>{this._preview.layout({height:this._dim.height,width:se})}},Yt.M.Distribute),this._splitView.addView({onDidChange:N.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:se=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${se}px`,this._tree.layout(this._dim.height,se)}},Yt.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let oe=(se,Se)=>{se instanceof Qe&&(Se==="show"&&this._revealReference(se,!1),this._onDidSelectReference.fire({element:se,kind:Se,source:"tree"}))};this._tree.onDidOpen(se=>{se.sideBySide?oe(se.element,"side"):se.editorOptions.pinned?oe(se.element,"goto"):oe(se.element,"show")}),v.Cp(this._treeContainer)}_onWidth(a){this._dim&&this._doLayoutBody(this._dim.height,a)}_doLayoutBody(a,I){super._doLayoutBody(a,I),this._dim=new v.Ro(I,a),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(I),this._splitView.resizeView(0,I*this.layoutData.ratio)}setSelection(a){return this._revealReference(a,!0).then(()=>{this._model&&(this._tree.setSelection([a]),this._tree.setFocus([a]))})}setModel(a){return this._disposeOnNewModel.clear(),this._model=a,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=ue.N("noResults","No results"),v.$Z(this._messageContainer),Promise.resolve(void 0)):(v.Cp(this._messageContainer),this._decorationsManager=new Qn(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(a=>this._tree.rerender(a))),this._disposeOnNewModel.add(this._preview.onMouseDown(a=>{const{event:I,target:z}=a;if(I.detail!==2)return;const oe=this._getFocusedReference();oe&&this._onDidSelectReference.fire({element:{uri:oe.uri,range:z.range},kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),v.$Z(this._treeContainer),v.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[a]=this._tree.getFocus();if(a instanceof Qe)return a;if(a instanceof Nt&&a.children.length>0)return a.children[0]}revealReference(a){return wn(this,void 0,void 0,function*(){yield this._revealReference(a,!1),this._onDidSelectReference.fire({element:a,kind:"goto",source:"tree"})})}_revealReference(a,I){return wn(this,void 0,void 0,function*(){if(this._revealedReference===a)return;this._revealedReference=a,a.uri.scheme!==ai.lg.inMemory?this.setTitle((0,$e.Hx)(a.uri),this._uriLabel.getUriLabel((0,$e.XX)(a.uri))):this.setTitle(ue.N("peekView.alternateTitle","References"));const z=this._textModelResolverService.createModelReference(a.uri);this._tree.getInput()===a.parent?this._tree.reveal(a):(I&&this._tree.reveal(a.parent),yield this._tree.expand(a.parent),this._tree.reveal(a));const oe=yield z;if(!this._model){oe.dispose();return}(0,O.B9)(this._previewModelReference);const se=oe.object;if(se){const Se=this._preview.getModel()===se.textEditorModel?0:1,Ye=P.e.lift(a.range).collapseToStart();this._previewModelReference=oe,this._preview.setModel(se.textEditorModel),this._preview.setSelection(Ye),this._preview.revealRangeInCenter(Ye,Se)}else this._preview.setModel(this._previewNotAvailableMessage),oe.dispose()})}};Ts=_i([hn(3,at.XE),hn(4,r.S),hn(5,Rt.TG),hn(6,Je),hn(7,ht.e),hn(8,Ri.tJ),hn(9,wt.d),hn(10,J.h),hn(11,Si.c_)],Ts),(0,at.Ic)((we,a)=>{const I=we.getColor(Qi);I&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${I}; }`);const z=we.getColor(ci);z&&a.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${z}; }`);const oe=we.getColor(je);oe&&a.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${oe}; box-sizing: border-box; }`);const se=we.getColor(mt.xL);se&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${se}; box-sizing: border-box; }`);const Se=we.getColor(Xe);Se&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${Se}; }`);const Ye=we.getColor(st);Ye&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${Ye}; }`);const Vt=we.getColor(Pt);Vt&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${Vt}; }`);const Ht=we.getColor(qt);Ht&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${Ht}; }`);const Dt=we.getColor(Ci);Dt&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${Dt} !important; }`);const ui=we.getColor(ii);ui&&a.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${ui};}`);const Yi=we.getColor(At);Yi&&a.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${Yi};}`)});var Co=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Vs=function(we,a){return function(I,z){a(I,z,we)}},cs=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};const oo=new Te.uy("referenceSearchVisible",!1,ue.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let to=class wd{constructor(a,I,z,oe,se,Se,Ye,Vt){this._defaultTreeKeyboardSupport=a,this._editor=I,this._editorService=oe,this._notificationService=se,this._instantiationService=Se,this._storageService=Ye,this._configurationService=Vt,this._disposables=new O.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=oo.bindTo(z)}static get(a){return a.getContribution(wd.ID)}dispose(){var a,I;this._referenceSearchVisible.reset(),this._disposables.dispose(),(a=this._widget)===null||a===void 0||a.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(a,I,z){let oe;if(this._widget&&(oe=this._widget.position),this.closeWidget(),oe&&a.containsPosition(oe))return;this._peekMode=z,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const se="peekViewLayout",Se=os.fromJSON(this._storageService.get(se,0,"{}"));this._widget=this._instantiationService.createInstance(Ts,this._editor,this._defaultTreeKeyboardSupport,Se),this._widget.setTitle(ue.N("labelLoading","Loading...")),this._widget.show(a),this._disposables.add(this._widget.onDidClose(()=>{I.cancel(),this._widget&&(this._storageService.store(se,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Vt=>{let{element:Ht,kind:Dt}=Vt;if(Ht)switch(Dt){case"open":(Vt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Ht,!1,!1);break;case"side":this.openReference(Ht,!0,!1);break;case"goto":z?this._gotoReference(Ht):this.openReference(Ht,!1,!0);break}}));const Ye=++this._requestIdPool;I.then(Vt=>{var Ht;if(Ye!==this._requestIdPool||!this._widget){Vt.dispose();return}return(Ht=this._model)===null||Ht===void 0||Ht.dispose(),this._model=Vt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(ue.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let Dt=this._editor.getModel().uri,ui=new E.L(a.startLineNumber,a.startColumn),Yi=this._model.nearestReference(Dt,ui);if(Yi)return this._widget.setSelection(Yi).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},Vt=>{this._notificationService.error(Vt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(a){return cs(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const I=this._widget.position;if(!I)return;const z=this._model.nearestReference(this._editor.getModel().uri,I);if(!z)return;const oe=this._model.nextOrPreviousReference(z,a),se=this._editor.hasTextFocus(),Se=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(oe),yield this._gotoReference(oe),se?this._editor.focus():this._widget&&Se&&this._widget.focusOnPreviewEditor()})}revealReference(a){return cs(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(a))})}closeWidget(a=!0){var I,z;(I=this._widget)===null||I===void 0||I.dispose(),(z=this._model)===null||z===void 0||z.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,a&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(a){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const I=P.e.lift(a.range).collapseToStart();return this._editorService.openCodeEditor({resource:a.uri,options:{selection:I}},this._editor).then(z=>{var oe;if(this._ignoreModelChangeEvent=!1,!z||!this._widget){this.closeWidget();return}if(this._editor===z)this._widget.show(I),this._widget.focusOnReferenceTree();else{const se=wd.get(z),Se=this._model.clone();this.closeWidget(),z.focus(),se.toggleWidget(I,(0,R.PG)(Ye=>Promise.resolve(Se)),(oe=this._peekMode)!==null&&oe!==void 0?oe:!1)}},z=>{this._ignoreModelChangeEvent=!1,(0,W.dL)(z)})}openReference(a,I,z){I||this.closeWidget();const{uri:oe,range:se}=a;this._editorService.openCodeEditor({resource:oe,options:{selection:se,pinned:z}},this._editor,I)}};to.ID="editor.contrib.referencesController",to=Co([Vs(2,Te.i6),Vs(3,Ce.$),Vs(4,$i.lT),Vs(5,Rt.TG),Vs(6,Nn.Uy),Vs(7,as.Ui)],to);function Gs(we,a){const I=Re(we);if(!I)return;let z=to.get(I);z&&a(z)}Fn.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,D.gx)(2089,60),when:Te.Ao.or(oo,Ae.inPeekEditor),handler(we){Gs(we,a=>{a.changeFocusBetweenPreviewAndReferences()})}}),Fn.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Te.Ao.or(oo,Ae.inPeekEditor),handler(we){Gs(we,a=>{a.goToNextOrPreviousReference(!0)})}}),Fn.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:Te.Ao.or(oo,Ae.inPeekEditor),handler(we){Gs(we,a=>{a.goToNextOrPreviousReference(!1)})}}),zi.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),zi.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),zi.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),zi.P.registerCommand("closeReferenceSearch",we=>Gs(we,a=>a.closeWidget())),Fn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:Te.Ao.and(Ae.inPeekEditor,Te.Ao.not("config.editor.stablePeek"))}),Fn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:Te.Ao.and(oo,Te.Ao.not("config.editor.stablePeek"))}),Fn.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Te.Ao.and(oo,An.CQ),handler(we){var a;const z=(a=we.get(An.Lw).lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(z)&&z[0]instanceof Qe&&Gs(we,oe=>oe.revealReference(z[0]))}}),Fn.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Te.Ao.and(oo,An.CQ),handler(we){var a;const z=(a=we.get(An.Lw).lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(z)&&z[0]instanceof Qe&&Gs(we,oe=>oe.openReference(z[0],!0,!0))}}),zi.P.registerCommand("openReference",we=>{var a;const z=(a=we.get(An.Lw).lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(z)&&z[0]instanceof Qe&&Gs(we,oe=>oe.openReference(z[0],!1,!0))});var Ss=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Rs=function(we,a){return function(I,z){a(I,z,we)}};const Hs=new Te.uy("hasSymbols",!1,(0,ue.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),io=(0,Rt.yh)("ISymbolNavigationService");let Ks=class{constructor(a,I,z,oe){this._editorService=I,this._notificationService=z,this._keybindingService=oe,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Hs.bindTo(a)}reset(){var a,I;this._ctxHasSymbols.reset(),(a=this._currentState)===null||a===void 0||a.dispose(),(I=this._currentMessage)===null||I===void 0||I.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(a){const I=a.parent.parent;if(I.references.length<=1){this.reset();return}this._currentModel=I,this._currentIdx=I.references.indexOf(a),this._ctxHasSymbols.set(!0),this._showMessage();const z=new zs(this._editorService),oe=z.onDidChange(se=>{if(this._ignoreEditorChange)return;const Se=this._editorService.getActiveCodeEditor();if(!Se)return;const Ye=Se.getModel(),Vt=Se.getPosition();if(!Ye||!Vt)return;let Ht=!1,Dt=!1;for(const ui of I.references)if((0,$e.Xy)(ui.uri,Ye.uri))Ht=!0,Dt=Dt||P.e.containsPosition(ui.range,Vt);else if(Ht)break;(!Ht||!Dt)&&this.reset()});this._currentState=(0,O.F8)(z,oe)}revealNext(a){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const I=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:I.uri,options:{selection:P.e.collapseToStart(I.range),selectionRevealType:3}},a).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var a;(a=this._currentMessage)===null||a===void 0||a.dispose();const I=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),z=I?(0,ue.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,I.getLabel()):(0,ue.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(z)}};Ks=Ss([Rs(0,Te.i6),Rs(1,Ce.$),Rs(2,$i.lT),Rs(3,wt.d)],Ks),(0,rt.z)(io,Ks,!0),(0,Q.fK)(new class extends Q._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Hs,kbOpts:{weight:100,primary:70}})}runEditorCommand(we,a){return we.get(io).revealNext(a)}}),Fn.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Hs,primary:9,handler(we){we.get(io).reset()}});let zs=class{constructor(a){this._listener=new Map,this._disposables=new O.SL,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(a.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(a.onCodeEditorAdd(this._onDidAddEditor,this)),a.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,O.B9)(this._listener.values())}_onDidAddEditor(a){this._listener.set(a,(0,O.F8)(a.onDidChangeCursorPosition(I=>this._onDidChange.fire({editor:a})),a.onDidChangeModelContent(I=>this._onDidChange.fire({editor:a}))))}_onDidRemoveEditor(a){var I;(I=this._listener.get(a))===null||I===void 0||I.dispose(),this._listener.delete(a)}};zs=Ss([Rs(0,Ce.$)],zs);var ho=c(92321),jn=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},lo=function(we,a){return function(I,z){a(I,z,we)}};let ts=class Sd{constructor(a,I){this._messageWidget=new O.XK,this._messageListeners=new O.SL,this._editor=a,this._visible=Sd.MESSAGE_VISIBLE.bindTo(I),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(a){return a.getContribution(Sd.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(a,I){(0,fi.Z9)(a),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Zs(this._editor,I,a),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new R._F(()=>this.closeMessage(),3e3));let z;this._messageListeners.add(this._editor.onMouseMove(oe=>{oe.target.position&&(z?z.containsPosition(oe.target.position)||this.closeMessage():z=new P.e(I.lineNumber-3,1,oe.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Zs.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(ue.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};ts.ID="editor.contrib.messageController",ts.MESSAGE_VISIBLE=new Te.uy("messageVisible",!1,ue.N("messageVisible","Whether the editor is currently showing an inline message")),ts=jn([lo(1,Te.i6)],ts);const Un=Q._l.bindToContribution(ts.get);(0,Q.fK)(new Un({id:"leaveEditorMessage",precondition:ts.MESSAGE_VISIBLE,handler:we=>we.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class Zs{constructor(a,{lineNumber:I,column:z},oe){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=a,this._editor.revealLinesInCenterIfOutsideViewport(I,I,0),this._position={lineNumber:I,column:z-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const se=document.createElement("div");se.classList.add("anchor","top"),this._domNode.appendChild(se);const Se=document.createElement("div");Se.classList.add("message"),Se.textContent=oe,this._domNode.appendChild(Se);const Ye=document.createElement("div");Ye.classList.add("anchor","below"),this._domNode.appendChild(Ye),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(a){let I;const z=()=>{a.dispose(),clearTimeout(I),a.getDomNode().removeEventListener("animationend",z)};return I=setTimeout(z,110),a.getDomNode().addEventListener("animationend",z),a.getDomNode().classList.add("fadeOut"),{dispose:z}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(a){this._domNode.classList.toggle("below",a===2)}}(0,Q._K)(ts.ID,ts),(0,at.Ic)((we,a)=>{const I=we.getColor(mt.EP);if(I){let se=we.type===ho.e.HIGH_CONTRAST?2:1;a.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${I}; }`),a.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${I}; }`),a.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${se}px solid ${I}; }`)}const z=we.getColor(mt._l);z&&a.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${z}; }`);const oe=we.getColor(mt.YI);oe&&a.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${oe}; }`)});var Xn=c(84144),Ys=c(90535),xs=c(71050),Xs=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};function pi(we,a,I,z){const se=I.ordered(we).map(Se=>Promise.resolve(z(Se,we,a)).then(void 0,Ye=>{(0,W.Cp)(Ye)}));return Promise.all(se).then(Se=>{const Ye=[];for(let Vt of Se)Array.isArray(Vt)?Ye.push(...Vt):Vt&&Ye.push(Vt);return Ye})}function me(we,a,I){return pi(we,a,H.Ct,(z,oe,se)=>z.provideDefinition(oe,se,I))}function ct(we,a,I){return pi(we,a,H.RN,(z,oe,se)=>z.provideDeclaration(oe,se,I))}function gt(we,a,I){return pi(we,a,H.vI,(z,oe,se)=>z.provideImplementation(oe,se,I))}function Bt(we,a,I){return pi(we,a,H.tA,(z,oe,se)=>z.provideTypeDefinition(oe,se,I))}function Gt(we,a,I,z){return pi(we,a,H.FL,(oe,se,Se)=>Xs(this,void 0,void 0,function*(){const Ye=yield oe.provideReferences(se,Se,{includeDeclaration:!0},z);if(!I||!Ye||Ye.length!==2)return Ye;const Vt=yield oe.provideReferences(se,Se,{includeDeclaration:!1},z);return Vt&&Vt.length===1?Vt:Ye}))}function bi(we){return Xs(this,void 0,void 0,function*(){const a=yield we(),I=new Tt(a,""),z=I.references.map(oe=>oe.link);return I.dispose(),z})}(0,Q.sb)("_executeDefinitionProvider",(we,a)=>bi(()=>me(we,a,xs.T.None))),(0,Q.sb)("_executeDeclarationProvider",(we,a)=>bi(()=>ct(we,a,xs.T.None))),(0,Q.sb)("_executeImplementationProvider",(we,a)=>bi(()=>gt(we,a,xs.T.None))),(0,Q.sb)("_executeTypeDefinitionProvider",(we,a)=>bi(()=>Bt(we,a,xs.T.None))),(0,Q.sb)("_executeReferenceProvider",(we,a)=>bi(()=>Gt(we,a,!1,xs.T.None)));var li=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})},ei,ki,Di,Pn,kt,V,ae,Ne;Xn.BH.appendMenuItem(Xn.eH.EditorContext,{submenu:Xn.eH.EditorContextPeek,title:ue.N("peek.submenu","Peek"),group:"navigation",order:100});const qe=new Set;function bt(we){const a=new we;return(0,Q.QG)(a),qe.add(a.id),a}class $t extends Q.R6{constructor(a,I){super(I),this._configuration=a}run(a,I){if(!I.hasModel())return Promise.resolve(void 0);const z=a.get($i.lT),oe=a.get(Ce.$),se=a.get(Ys.e),Se=a.get(io),Ye=I.getModel(),Vt=I.getPosition(),Ht=new g.Dl(I,5),Dt=(0,R.eP)(this._getLocationModel(Ye,Vt,Ht.token),Ht.token).then(ui=>li(this,void 0,void 0,function*(){if(!ui||Ht.token.isCancellationRequested)return;(0,fi.Z9)(ui.ariaMessage);let Yi;if(ui.referenceAt(Ye.uri,Vt)){const Bn=this._getAlternativeCommand(I);Bn!==this.id&&qe.has(Bn)&&(Yi=I.getAction(Bn))}const mn=ui.references.length;if(mn===0){if(!this._configuration.muteMessage){const Bn=Ye.getWordAtPosition(Vt);ts.get(I).showMessage(this._getNoResultFoundMessage(Bn),Vt)}}else if(mn===1&&Yi)Yi.run();else return this._onResult(oe,Se,I,ui)}),ui=>{z.error(ui)}).finally(()=>{Ht.dispose()});return se.showWhile(Dt,250),Dt}_onResult(a,I,z,oe){return li(this,void 0,void 0,function*(){const se=this._getGoToPreference(z);if(!(z instanceof Ee.H)&&(this._configuration.openInPeek||se==="peek"&&oe.references.length>1))this._openInPeek(z,oe);else{const Se=oe.firstReference(),Ye=oe.references.length>1&&se==="gotoAndPeek",Vt=yield this._openReference(z,a,Se,this._configuration.openToSide,!Ye);Ye&&Vt?this._openInPeek(Vt,oe):oe.dispose(),se==="goto"&&I.put(Se)}})}_openReference(a,I,z,oe,se){return li(this,void 0,void 0,function*(){let Se;if((0,H.vx)(z)&&(Se=z.targetSelectionRange),Se||(Se=z.range),!Se)return;const Ye=yield I.openCodeEditor({resource:z.uri,options:{selection:P.e.collapseToStart(Se),selectionRevealType:3}},a,oe);if(Ye){if(se){const Vt=Ye.getModel(),Ht=Ye.deltaDecorations([],[{range:Se,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Ye.getModel()===Vt&&Ye.deltaDecorations(Ht,[])},350)}return Ye}})}_openInPeek(a,I){let z=to.get(a);z&&a.hasModel()?z.toggleWidget(a.getSelection(),(0,R.PG)(oe=>Promise.resolve(I)),this._configuration.openInPeek):I.dispose()}}class ni extends $t{_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(yield me(a,I,z),ue.N("def.title","Definitions"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("noResultWord","No definition found for '{0}'",a.word):ue.N("generic.noResults","No definition found")}_getAlternativeCommand(a){return a.getOption(50).alternativeDefinitionCommand}_getGoToPreference(a){return a.getOption(50).multipleDefinitions}}const mi=C.$L&&!Ni.$W?2118:70;bt((ei=class yd extends ni{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:yd.id,label:ue.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Te.Ao.and(L.u.hasDefinitionProvider,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:mi,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),zi.P.registerCommandAlias("editor.action.goToDeclaration",yd.id)}},ei.id="editor.action.revealDefinition",ei)),bt((ki=class Ld extends ni{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Ld.id,label:ue.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Te.Ao.and(L.u.hasDefinitionProvider,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:(0,D.gx)(2089,mi),weight:100}}),zi.P.registerCommandAlias("editor.action.openDeclarationToTheSide",Ld.id)}},ki.id="editor.action.revealDefinitionAside",ki)),bt((Di=class Dd extends ni{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Dd.id,label:ue.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Te.Ao.and(L.u.hasDefinitionProvider,Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Xn.eH.EditorContextPeek,group:"peek",order:2}}),zi.P.registerCommandAlias("editor.action.previewDeclaration",Dd.id)}},Di.id="editor.action.peekDefinition",Di));class Ai extends $t{_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(yield ct(a,I,z),ue.N("decl.title","Declarations"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("decl.noResultWord","No declaration found for '{0}'",a.word):ue.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(a){return a.getOption(50).alternativeDeclarationCommand}_getGoToPreference(a){return a.getOption(50).multipleDeclarations}}bt((Pn=class pu extends Ai{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:pu.id,label:ue.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Te.Ao.and(L.u.hasDeclarationProvider,L.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("decl.noResultWord","No declaration found for '{0}'",a.word):ue.N("decl.generic.noResults","No declaration found")}},Pn.id="editor.action.revealDeclaration",Pn)),bt(class extends Ai{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:ue.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Te.Ao.and(L.u.hasDeclarationProvider,Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Xn.eH.EditorContextPeek,group:"peek",order:3}})}});class Ei extends $t{_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(yield Bt(a,I,z),ue.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",a.word):ue.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(a){return a.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(a){return a.getOption(50).multipleTypeDefinitions}}bt((kt=class _u extends Ei{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:_u.ID,label:ue.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Te.Ao.and(L.u.hasTypeDefinitionProvider,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},kt.ID="editor.action.goToTypeDefinition",kt)),bt((V=class vu extends Ei{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:vu.ID,label:ue.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Te.Ao.and(L.u.hasTypeDefinitionProvider,Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Xn.eH.EditorContextPeek,group:"peek",order:4}})}},V.ID="editor.action.peekTypeDefinition",V));class Bi extends $t{_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(yield gt(a,I,z),ue.N("impl.title","Implementations"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("goToImplementation.noResultWord","No implementation found for '{0}'",a.word):ue.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(a){return a.getOption(50).alternativeImplementationCommand}_getGoToPreference(a){return a.getOption(50).multipleImplementations}}bt((ae=class Cu extends Bi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Cu.ID,label:ue.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Te.Ao.and(L.u.hasImplementationProvider,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},ae.ID="editor.action.goToImplementation",ae)),bt((Ne=class bu extends Bi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:bu.ID,label:ue.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Te.Ao.and(L.u.hasImplementationProvider,Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Xn.eH.EditorContextPeek,group:"peek",order:5}})}},Ne.ID="editor.action.peekImplementation",Ne));class ln extends $t{_getNoResultFoundMessage(a){return a?ue.N("references.no","No references found for '{0}'",a.word):ue.N("references.noGeneric","No references found")}_getAlternativeCommand(a){return a.getOption(50).alternativeReferenceCommand}_getGoToPreference(a){return a.getOption(50).multipleReferences}}bt(class extends ln{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:ue.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:Te.Ao.and(L.u.hasReferenceProvider,Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:L.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(yield Gt(a,I,!0,z),ue.N("ref.title","References"))})}}),bt(class extends ln{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:ue.N("references.action.label","Peek References"),alias:"Peek References",precondition:Te.Ao.and(L.u.hasReferenceProvider,Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Xn.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(yield Gt(a,I,!1,z),ue.N("ref.title","References"))})}});class Ti extends $t{constructor(a,I,z){super(a,{id:"editor.action.goToLocation",label:ue.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Te.Ao.and(Ae.notInPeekEditor,L.u.isInWalkThroughSnippet.toNegated())}),this._references=I,this._gotoMultipleBehaviour=z}_getLocationModel(a,I,z){return li(this,void 0,void 0,function*(){return new Tt(this._references,ue.N("generic.title","Locations"))})}_getNoResultFoundMessage(a){return a&&ue.N("generic.noResult","No results for '{0}'",a.word)||""}_getGoToPreference(a){var I;return(I=this._gotoMultipleBehaviour)!==null&&I!==void 0?I:a.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}zi.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Wi.o},{name:"position",description:"The position at which to start",constraint:E.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(we,a,I,z,oe,se,Se)=>li(void 0,void 0,void 0,function*(){(0,T.p_)(Wi.o.isUri(a)),(0,T.p_)(E.L.isIPosition(I)),(0,T.p_)(Array.isArray(z)),(0,T.p_)(typeof oe=="undefined"||typeof oe=="string"),(0,T.p_)(typeof Se=="undefined"||typeof Se=="boolean");const Ye=we.get(Ce.$),Vt=yield Ye.openCodeEditor({resource:a},Ye.getFocusedCodeEditor());if((0,Rn.CL)(Vt))return Vt.setPosition(I),Vt.revealPositionInCenterIfOutsideViewport(I,0),Vt.invokeWithinContext(Ht=>{const Dt=new class extends Ti{_getNoResultFoundMessage(ui){return se||super._getNoResultFoundMessage(ui)}}({muteMessage:!se,openInPeek:!!Se,openToSide:!1},z,oe);Ht.get(Rt.TG).invokeFunction(Dt.run.bind(Dt),Vt)})})}),zi.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Wi.o},{name:"position",description:"The position at which to start",constraint:E.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(we,a,I,z,oe)=>li(void 0,void 0,void 0,function*(){we.get(zi.H).executeCommand("editor.action.goToLocations",a,I,z,oe,void 0,!0)})}),zi.P.registerCommand({id:"editor.action.findReferences",handler:(we,a,I)=>{(0,T.p_)(Wi.o.isUri(a)),(0,T.p_)(E.L.isIPosition(I));const z=we.get(Ce.$);return z.openCodeEditor({resource:a},z.getFocusedCodeEditor()).then(oe=>{if(!(0,Rn.CL)(oe)||!oe.hasModel())return;const se=to.get(oe);if(!se)return;const Se=(0,R.PG)(Vt=>Gt(oe.getModel(),E.L.lift(I),!1,Vt).then(Ht=>new Tt(Ht,ue.N("ref.title","References")))),Ye=new P.e(I.lineNumber,I.column,I.lineNumber,I.column);return Promise.resolve(se.toggleWidget(Ye,Se,!1))})}}),zi.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Xn.BH.appendMenuItems([{id:Xn.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:ue.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Xn.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:ue.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Xn.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:ue.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Xn.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:ue.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Xn.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:ue.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var on=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},en=function(we,a){return function(I,z){a(I,z,we)}};let pn=class Ka{constructor(a,I,z){this.textModelResolverService=I,this.modeService=z,this.toUnhook=new O.SL,this.toUnhookForKeyboard=new O.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=a;let oe=new y(a);this.toUnhook.add(oe),this.toUnhook.add(oe.onMouseMoveOrRelevantKeyDown(([se,Se])=>{this.startFindDefinitionFromMouse(se,(0,T.f6)(Se))})),this.toUnhook.add(oe.onExecute(se=>{this.isEnabled(se)&&this.gotoDefinition(se.target.position,se.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},Se=>{this.removeLinkDecorations(),(0,W.dL)(Se)})})),this.toUnhook.add(oe.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(a){return a.getContribution(Ka.ID)}startFindDefinitionFromCursor(a){return this.startFindDefinition(a).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(I=>{I&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(a,I){if(a.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(a,I)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const z=a.target.position;this.startFindDefinition(z)}startFindDefinition(a){var I;this.toUnhookForKeyboard.clear();const z=a?(I=this.editor.getModel())===null||I===void 0?void 0:I.getWordAtPosition(a):null;if(!z)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===z.startColumn&&this.currentWordAtPosition.endColumn===z.endColumn&&this.currentWordAtPosition.word===z.word)return Promise.resolve(0);this.currentWordAtPosition=z;let oe=new g.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,R.PG)(se=>this.findDefinition(a,se)),this.previousPromise.then(se=>{if(!se||!se.length||!oe.validate(this.editor)){this.removeLinkDecorations();return}if(se.length>1)this.addDecoration(new P.e(a.lineNumber,z.startColumn,a.lineNumber,z.endColumn),new s.W5().appendText(ue.N("multipleResults","Click to show {0} definitions.",se.length)));else{let Se=se[0];if(!Se.uri)return;this.textModelResolverService.createModelReference(Se.uri).then(Ye=>{if(!Ye.object||!Ye.object.textEditorModel){Ye.dispose();return}const{object:{textEditorModel:Vt}}=Ye,{startLineNumber:Ht}=Se.range;if(Ht<1||Ht>Vt.getLineCount()){Ye.dispose();return}const Dt=this.getPreviewValue(Vt,Ht,Se);let ui;Se.originSelectionRange?ui=P.e.lift(Se.originSelectionRange):ui=new P.e(a.lineNumber,z.startColumn,a.lineNumber,z.endColumn);const Yi=this.modeService.getModeIdByFilepathOrFirstLine(Vt.uri);this.addDecoration(ui,new s.W5().appendCodeblock(Yi||"",Dt)),Ye.dispose()})}}).then(void 0,W.dL)}getPreviewValue(a,I,z){let oe=z.targetSelectionRange?z.range:this.getPreviewRangeBasedOnBrackets(a,I);return oe.endLineNumber-oe.startLineNumber>=Ka.MAX_SOURCE_PREVIEW_LINES&&(oe=this.getPreviewRangeBasedOnIndentation(a,I)),this.stripIndentationFromPreviewRange(a,I,oe)}stripIndentationFromPreviewRange(a,I,z){let se=a.getLineFirstNonWhitespaceColumn(I);for(let Ye=I+1;Ye<z.endLineNumber;Ye++){const Vt=a.getLineFirstNonWhitespaceColumn(Ye);se=Math.min(se,Vt)}return a.getValueInRange(z).replace(new RegExp(`^\\s{${se-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(a,I){const z=a.getLineFirstNonWhitespaceColumn(I),oe=Math.min(a.getLineCount(),I+Ka.MAX_SOURCE_PREVIEW_LINES);let se=I+1;for(;se<oe;se++){let Se=a.getLineFirstNonWhitespaceColumn(se);if(z===Se)break}return new P.e(I,1,se+1,1)}getPreviewRangeBasedOnBrackets(a,I){const z=Math.min(a.getLineCount(),I+Ka.MAX_SOURCE_PREVIEW_LINES),oe=[];let se=!0,Se=a.findNextBracket(new E.L(I,1));for(;Se!==null;){if(oe.length===0)oe.push(Se);else{const Dt=oe[oe.length-1];if(Dt.open[0]===Se.open[0]&&Dt.isOpen&&!Se.isOpen?oe.pop():oe.push(Se),oe.length===0)if(se)se=!1;else return new P.e(I,1,Se.range.endLineNumber+1,1)}const Ye=a.getLineMaxColumn(I);let Vt=Se.range.endLineNumber,Ht=Se.range.endColumn;if(Ye===Se.range.endColumn&&(Vt++,Ht=1),Vt>z)return new P.e(I,1,z+1,1);Se=a.findNextBracket(new E.L(Vt,Ht))}return new P.e(I,1,z+1,1)}addDecoration(a,I){const z={range:a,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:I}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[z])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(a,I){return this.editor.hasModel()&&a.isNoneOrSingleMouseDown&&a.target.type===6&&(a.hasTriggerModifier||(I?I.keyCodeIsTriggerKey:!1))&&H.Ct.has(this.editor.getModel())}findDefinition(a,I){const z=this.editor.getModel();return z?me(z,a,I):Promise.resolve(null)}gotoDefinition(a,I){return this.editor.setPosition(a),this.editor.invokeWithinContext(z=>{const oe=!I&&this.editor.getOption(77)&&!this.isInPeekEditor(z);return new ni({openToSide:I,openInPeek:oe,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(z,this.editor)})}isInPeekEditor(a){const I=a.get(Te.i6);return Ae.inPeekEditor.getValue(I)}dispose(){this.toUnhook.dispose()}};pn.ID="editor.contrib.gotodefinitionatposition",pn.MAX_SOURCE_PREVIEW_LINES=8,pn=on([en(1,r.S),en(2,J.h)],pn),(0,Q._K)(pn.ID,pn),(0,at.Ic)((we,a)=>{const I=we.getColor(mt._Y);I&&a.addRule(`.monaco-editor .goto-definition-link { color: ${I} !important; }`)});var $n=c(13433);const Ds=v.$;class Cn extends O.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new $n.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class Kt extends O.JT{constructor(a,I,z){super(),this.actionContainer=v.R3(a,Ds("div.action-container")),this.action=v.R3(this.actionContainer,Ds("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),I.iconClass&&v.R3(this.action,Ds(`span.icon.${I.iconClass}`));const oe=v.R3(this.action,Ds("span"));oe.textContent=z?`${I.label} (${z})`:I.label,this._register(v.nm(this.actionContainer,v.tw.MOUSE_DOWN,se=>{se.stopPropagation(),se.preventDefault(),I.run(this.actionContainer)})),this.setEnabled(!0)}static render(a,I,z){return new Kt(a,I,z)}setEnabled(a){a?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var ve=c(93794),Me=c(9488),Ue=c(51200);function vt(we,a){const I=[],oe=H.OH.ordered(we).reverse().map(se=>Promise.resolve(se.provideDocumentColors(we,a)).then(Se=>{if(Array.isArray(Se))for(let Ye of Se)I.push({colorInfo:Ye,provider:se})}));return Promise.all(oe).then(()=>I)}function yt(we,a,I,z){return Promise.resolve(I.provideColorPresentations(we,a,z))}zi.P.registerCommand("_executeDocumentColorProvider",function(we,...a){const[I]=a;if(!(I instanceof Wi.o))throw(0,W.b1)();const z=we.get(Ue.q).getModel(I);if(!z)throw(0,W.b1)();const oe=[],Se=H.OH.ordered(z).reverse().map(Ye=>Promise.resolve(Ye.provideDocumentColors(z,xs.T.None)).then(Vt=>{if(Array.isArray(Vt))for(let Ht of Vt)oe.push({range:Ht.range,color:[Ht.color.red,Ht.color.green,Ht.color.blue,Ht.color.alpha]})}));return Promise.all(Se).then(()=>oe)}),zi.P.registerCommand("_executeColorPresentationProvider",function(we,...a){const[I,z]=a,{uri:oe,range:se}=z;if(!(oe instanceof Wi.o)||!Array.isArray(I)||I.length!==4||!P.e.isIRange(se))throw(0,W.b1)();const[Se,Ye,Vt,Ht]=I,Dt=we.get(Ue.q).getModel(oe);if(!Dt)throw(0,W.b1)();const ui={range:se,color:{red:Se,green:Ye,blue:Vt,alpha:Ht}},Yi=[],Bn=H.OH.ordered(Dt).reverse().map(ao=>Promise.resolve(ao.provideColorPresentations(Dt,ui,xs.T.None)).then(Lo=>{Array.isArray(Lo)&&Yi.push(...Lo)}));return Promise.all(Bn).then(()=>Yi)});var si=c(89954),Jt=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},un=function(we,a){return function(I,z){a(I,z,we)}};const xn=500;let Pi=class wu extends O.JT{constructor(a,I,z){super(),this._editor=a,this._codeEditorService=I,this._configurationService=z,this._localToDispose=this._register(new O.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(a.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(a.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(H.OH.onDidChange(()=>this.onModelChanged())),this._register(a.onDidChangeConfiguration(()=>{let oe=this._isEnabled;this._isEnabled=this.isEnabled(),oe!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const a=this._editor.getModel();if(!a)return!1;const I=a.getLanguageId(),z=this._configurationService.getValue(I);if(z&&typeof z=="object"){const oe=z.colorDecorators;if(oe&&oe.enable!==void 0&&!oe.enable)return oe.enable}return this._editor.getOption(17)}static get(a){return a.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const a=this._editor.getModel();!a||!H.OH.has(a)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new R._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},wu.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,R.PG)(a=>{const I=this._editor.getModel();return I?vt(I,a):Promise.resolve([])}),this._computePromise.then(a=>{this.updateDecorations(a),this.updateColorDecorators(a),this._computePromise=null},W.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(a){const I=a.map(z=>({range:{startLineNumber:z.colorInfo.range.startLineNumber,startColumn:z.colorInfo.range.startColumn,endLineNumber:z.colorInfo.range.endLineNumber,endColumn:z.colorInfo.range.endColumn},options:$.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,I),this._colorDatas=new Map,this._decorationsIds.forEach((z,oe)=>this._colorDatas.set(z,a[oe]))}updateColorDecorators(a){let I=[],z={};for(let oe=0;oe<a.length&&I.length<xn;oe++){const{red:se,green:Se,blue:Ye,alpha:Vt}=a[oe].colorInfo.color,Ht=new ce.VS(Math.round(se*255),Math.round(Se*255),Math.round(Ye*255),Vt);let Dt=(0,si.vp)(`rgba(${Ht.r},${Ht.g},${Ht.b},${Ht.a})`).toString(16),ui=`rgba(${Ht.r}, ${Ht.g}, ${Ht.b}, ${Ht.a})`,Yi="colorBox-"+Dt;!this._decorationsTypes.has(Yi)&&!z[Yi]&&this._codeEditorService.registerDecorationType("color-detector-color",Yi,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:ui},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),z[Yi]=!0,I.push({range:{startLineNumber:a[oe].colorInfo.range.startLineNumber,startColumn:a[oe].colorInfo.range.startColumn,endLineNumber:a[oe].colorInfo.range.endLineNumber,endColumn:a[oe].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(Yi,!0)})}this._decorationsTypes.forEach(oe=>{z[oe]||this._codeEditorService.removeDecorationType(oe)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,I)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(a=>{this._codeEditorService.removeDecorationType(a)})}getColorData(a){const I=this._editor.getModel();if(!I)return null;const z=I.getDecorationsInRange(P.e.fromPositions(a,a)).filter(oe=>this._colorDatas.has(oe.id));return z.length===0?null:this._colorDatas.get(z[0].id)}};Pi.ID="editor.contrib.colorDetector",Pi.RECOMPUTE_TIME=1e3,Pi=Jt([un(1,Ce.$),un(2,as.Ui)],Pi),(0,Q._K)(Pi.ID,Pi);class Ji{constructor(a,I,z){this.presentationIndex=z,this._onColorFlushed=new N.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new N.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new N.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=a,this._color=a,this._colorPresentations=I}get color(){return this._color}set color(a){this._color.equals(a)||(this._color=a,this._onDidChangeColor.fire(a))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(a){this._colorPresentations=a,this.presentationIndex>a.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(a,I){for(let z=0;z<this.colorPresentations.length;z++)if(I.toLowerCase()===this.colorPresentations[z].label){this.presentationIndex=z,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var _n=c(57974);const Gi=v.$;class jt extends O.JT{constructor(a,I,z){super(),this.model=I,this.domNode=Gi(".colorpicker-header"),v.R3(a,this.domNode),this.pickedColorNode=v.R3(this.domNode,Gi(".picked-color"));const oe=(0,ue.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",oe);const se=v.R3(this.domNode,Gi(".original-color"));se.style.backgroundColor=ce.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=z.getColorTheme().getColor(mt.yJ)||ce.Il.white,this._register((0,at.Ic)((Se,Ye)=>{this.backgroundColor=Se.getColor(mt.yJ)||ce.Il.white})),this._register(v.nm(this.pickedColorNode,v.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(v.nm(se,v.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(I.onDidChangeColor(this.onDidChangeColor,this)),this._register(I.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=ce.Il.Format.CSS.format(I.color)||"",this.pickedColorNode.classList.toggle("light",I.color.rgba.a<.5?this.backgroundColor.isLighter():I.color.isLighter())}onDidChangeColor(a){this.pickedColorNode.style.backgroundColor=ce.Il.Format.CSS.format(a)||"",this.pickedColorNode.classList.toggle("light",a.rgba.a<.5?this.backgroundColor.isLighter():a.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Gi(".codicon.codicon-color-mode"))}}class wi extends O.JT{constructor(a,I,z){super(),this.model=I,this.pixelRatio=z,this.domNode=Gi(".colorpicker-body"),v.R3(a,this.domNode),this.saturationBox=new Ki(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new ls(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Cs(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:a,v:I}){const z=this.model.color.hsva;this.model.color=new ce.Il(new ce.tx(z.h,a,I,z.a))}onDidOpacityChange(a){const I=this.model.color.hsva;this.model.color=new ce.Il(new ce.tx(I.h,I.s,I.v,a))}onDidHueChange(a){const I=this.model.color.hsva,z=(1-a)*360;this.model.color=new ce.Il(new ce.tx(z===360?0:z,I.s,I.v,I.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ki extends O.JT{constructor(a,I,z){super(),this.model=I,this.pixelRatio=z,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new N.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Gi(".saturation-wrap"),v.R3(a,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",v.R3(this.domNode,this.canvas),this.selection=Gi(".saturation-selection"),v.R3(this.domNode,this.selection),this.layout(),this._register(v.Lo(this.domNode,oe=>this.onMouseDown(oe))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(a){this.monitor=this._register(new _n.Z);const I=v.i(this.domNode);a.target!==this.selection&&this.onDidChangePosition(a.offsetX,a.offsetY),this.monitor.startMonitoring(a.target,a.buttons,_n.e,oe=>this.onDidChangePosition(oe.posx-I.left,oe.posy-I.top),()=>null);const z=v.qV(document,()=>{this._onColorFlushed.fire(),z.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(a,I){const z=Math.max(0,Math.min(1,a/this.width)),oe=Math.max(0,Math.min(1,1-I/this.height));this.paintSelection(z,oe),this._onDidChange.fire({s:z,v:oe})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const a=this.model.color.hsva;this.paintSelection(a.s,a.v)}paint(){const a=this.model.color.hsva,I=new ce.Il(new ce.tx(a.h,1,1,1)),z=this.canvas.getContext("2d"),oe=z.createLinearGradient(0,0,this.canvas.width,0);oe.addColorStop(0,"rgba(255, 255, 255, 1)"),oe.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),oe.addColorStop(1,"rgba(255, 255, 255, 0)");const se=z.createLinearGradient(0,0,0,this.canvas.height);se.addColorStop(0,"rgba(0, 0, 0, 0)"),se.addColorStop(1,"rgba(0, 0, 0, 1)"),z.rect(0,0,this.canvas.width,this.canvas.height),z.fillStyle=ce.Il.Format.CSS.format(I),z.fill(),z.fillStyle=oe,z.fill(),z.fillStyle=se,z.fill()}paintSelection(a,I){this.selection.style.left=`${a*this.width}px`,this.selection.style.top=`${this.height-I*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class qn extends O.JT{constructor(a,I){super(),this.model=I,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new N.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=v.R3(a,Gi(".strip")),this.overlay=v.R3(this.domNode,Gi(".overlay")),this.slider=v.R3(this.domNode,Gi(".slider")),this.slider.style.top="0px",this._register(v.Lo(this.domNode,z=>this.onMouseDown(z))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const a=this.getValue(this.model.color);this.updateSliderPosition(a)}onMouseDown(a){const I=this._register(new _n.Z),z=v.i(this.domNode);this.domNode.classList.add("grabbing"),a.target!==this.slider&&this.onDidChangeTop(a.offsetY),I.startMonitoring(a.target,a.buttons,_n.e,se=>this.onDidChangeTop(se.posy-z.top),()=>null);const oe=v.qV(document,()=>{this._onColorFlushed.fire(),oe.dispose(),I.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(a){const I=Math.max(0,Math.min(1,1-a/this.height));this.updateSliderPosition(I),this._onDidChange.fire(I)}updateSliderPosition(a){this.slider.style.top=`${(1-a)*this.height}px`}}class ls extends qn{constructor(a,I){super(a,I),this.domNode.classList.add("opacity-strip"),this._register(I.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(a){const{r:I,g:z,b:oe}=a.rgba,se=new ce.Il(new ce.VS(I,z,oe,1)),Se=new ce.Il(new ce.VS(I,z,oe,0));this.overlay.style.background=`linear-gradient(to bottom, ${se} 0%, ${Se} 100%)`}getValue(a){return a.hsva.a}}class Cs extends qn{constructor(a,I){super(a,I),this.domNode.classList.add("hue-strip")}getValue(a){return 1-a.hsva.h/360}}class Be extends ve.${constructor(a,I,z,oe){super(),this.model=I,this.pixelRatio=z,this._register((0,Ni.fX)(()=>this.layout()));const se=Gi(".colorpicker-widget");a.appendChild(se);const Se=new jt(se,this.model,oe);this.body=new wi(se,this.model,this.pixelRatio),this._register(Se),this._register(this.body)}layout(){this.body.layout()}}var d=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},M=function(we,a){return function(I,z){a(I,z,we)}},U=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};class re{constructor(a,I,z,oe){this.owner=a,this.range=I,this.model=z,this.provider=oe,this.forceShowAtRange=!0}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}let fe=class{constructor(a,I,z){this._editor=a,this._hover=I,this._themeService=z}computeSync(a,I){return[]}computeAsync(a,I,z){return U(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const oe=Pi.get(this._editor);for(const se of I){if(se.options.description!=="color-detector-color")continue;const Se=oe.getColorData(se.range.getStartPosition());if(Se)return[yield this._createColorHover(this._editor.getModel(),Se.colorInfo,Se.provider)]}return[]})}_createColorHover(a,I,z){return U(this,void 0,void 0,function*(){const oe=a.getValueInRange(I.range),{red:se,green:Se,blue:Ye,alpha:Vt}=I.color,Ht=new ce.VS(Math.round(se*255),Math.round(Se*255),Math.round(Ye*255),Vt),Dt=new ce.Il(Ht),ui=yield yt(a,I,z,xs.T.None),Yi=new Ji(Dt,[],0);return Yi.colorPresentations=ui||[],Yi.guessColorPresentation(Dt,oe),new re(this,P.e.lift(I.range),Yi,z)})}renderHoverParts(a,I,z){if(a.length===0||!this._editor.hasModel())return O.JT.None;const oe=new O.SL,se=a[0],Se=this._editor.getModel(),Ye=se.model,Vt=oe.add(new Be(I,Ye,this._editor.getOption(127),this._themeService));let Ht=new P.e(se.range.startLineNumber,se.range.startColumn,se.range.endLineNumber,se.range.endColumn);const Dt=()=>{let Yi,mn;if(Ye.presentation.textEdit){Yi=[Ye.presentation.textEdit],mn=new P.e(Ye.presentation.textEdit.range.startLineNumber,Ye.presentation.textEdit.range.startColumn,Ye.presentation.textEdit.range.endLineNumber,Ye.presentation.textEdit.range.endColumn);const Bn=this._editor.getModel()._setTrackedRange(null,mn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Yi),mn=this._editor.getModel()._getTrackedRange(Bn)||mn}else Yi=[{identifier:null,range:Ht,text:Ye.presentation.label,forceMoveMarkers:!1}],mn=Ht.setEndPosition(Ht.endLineNumber,Ht.startColumn+Ye.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Yi);Ye.presentation.additionalTextEdits&&(Yi=[...Ye.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Yi),this._hover.hide()),this._editor.pushUndoStop(),Ht=mn},ui=Yi=>yt(Se,{range:Ht,color:{red:Yi.rgba.r/255,green:Yi.rgba.g/255,blue:Yi.rgba.b/255,alpha:Yi.rgba.a}},se.provider,xs.T.None).then(mn=>{Ye.colorPresentations=mn||[]});return oe.add(Ye.onColorFlushed(Yi=>{ui(Yi).then(Dt)})),oe.add(Ye.onDidChangeColor(ui)),this._hover.setColorPicker(Vt),oe}};fe=d([M(2,at.XE)],fe);class Le{constructor(a,I,z,oe,se){this._computer=a,this._state=0,this._hoverTime=se,this._firstWaitScheduler=new R.pY(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new R.pY(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new R.pY(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=I,this._errorCallback=z,this._progressCallback=oe}setHoverTime(a){this._hoverTime=a}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,R.PG)(a=>this._computer.computeAsync(a)),this._asyncComputationPromise.then(a=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(a)},a=>this._onError(a))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(a){a&&this._computer.onResult(a,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(a){this._completeCallback(a)}_onError(a){this._errorCallback?this._errorCallback(a):(0,W.dL)(a)}_onProgress(a){this._progressCallback(a)}start(a){if(a===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}class We{constructor(a,I){this.priority=a,this.range=I,this.type=1}equals(a){return a.type===1&&this.range.equalsRange(a.range)}canAdoptVisibleHover(a,I){return a.type===1&&I.lineNumber===this.range.startLineNumber}}class ut{constructor(a,I,z){this.priority=a,this.owner=I,this.range=z,this.type=2}equals(a){return a.type===2&&this.owner===a.owner}canAdoptVisibleHover(a,I){return a.type===2&&this.owner===a.owner}}var Ot=c(53430);function X(we,a,I){const oe=H.xp.ordered(we).map(se=>Promise.resolve(se.provideHover(we,a,I)).then(Se=>Se&&de(Se)?Se:void 0,Se=>{(0,W.Cp)(Se)}));return Promise.all(oe).then(Me.kX)}(0,Q.sb)("_executeHoverProvider",(we,a)=>X(we,a,xs.T.None));function de(we){const a=typeof we.range!="undefined",I=typeof we.contents!="undefined"&&we.contents&&we.contents.length>0;return a&&I}var Ve=c(50988),Ze=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},ze=function(we,a){return function(I,z){a(I,z,we)}},St=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};const zt=v.$;class Wt{constructor(a,I,z){this.owner=a,this.range=I,this.contents=z}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}let hi=class{constructor(a,I,z,oe,se){this._editor=a,this._hover=I,this._modeService=z,this._openerService=oe,this._configurationService=se}createLoadingMessage(a){return new Wt(this,a.range,[new s.W5().appendText(ue.N("modesContentHover.loading","Loading..."))])}computeSync(a,I){if(!this._editor.hasModel()||a.type!==1)return[];const z=this._editor.getModel(),oe=a.range.startLineNumber,se=z.getLineMaxColumn(oe),Se=[];for(const Dt of I){const ui=Dt.range.startLineNumber===oe?Dt.range.startColumn:1,Yi=Dt.range.endLineNumber===oe?Dt.range.endColumn:se,mn=Dt.options.hoverMessage;if(!mn||(0,s.CP)(mn))continue;const Bn=new P.e(a.range.startLineNumber,ui,a.range.startLineNumber,Yi);Se.push(new Wt(this,Bn,(0,Me._2)(mn)))}const Ye=z.getLineLength(oe),Vt=z.getLanguageIdAtPosition(a.range.startLineNumber,a.range.startColumn),Ht=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:Vt});return typeof Ht=="number"&&Ye>=Ht&&Se.push(new Wt(this,a.range,[{value:ue.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),Se}computeAsync(a,I,z){return St(this,void 0,void 0,function*(){if(!this._editor.hasModel()||a.type!==1)return Promise.resolve([]);const oe=this._editor.getModel();if(!H.xp.has(oe))return Promise.resolve([]);const se=yield X(oe,new E.L(a.range.startLineNumber,a.range.startColumn),z),Se=[];for(const Ye of se){if((0,s.CP)(Ye.contents))continue;const Vt=Ye.range?P.e.lift(Ye.range):a.range;Se.push(new Wt(this,Vt,Ye.contents))}return Se})}renderHoverParts(a,I,z){const oe=new O.SL;for(const se of a)for(const Se of se.contents){if((0,s.CP)(Se))continue;const Ye=zt("div.hover-row.markdown-hover"),Vt=v.R3(Ye,zt("div.hover-contents")),Ht=oe.add(new Ot.$({editor:this._editor},this._modeService,this._openerService));oe.add(Ht.onDidRenderAsync(()=>{Vt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const Dt=oe.add(Ht.render(Se));Vt.appendChild(Dt.element),I.appendChild(Ye)}return oe}};hi=Ze([ze(2,J.h),ze(3,Ve.v4),ze(4,as.Ui)],hi);var gi=c(26479),ri=c(3860);class Qt{constructor(a){this.value=a}equals(a){return this.value===a.value}contains(a){return this.equals(a)||this.value===""||a.value.startsWith(this.value+Qt.sep)}intersects(a){return this.contains(a)||a.contains(this)}append(a){return new Qt(this.value+Qt.sep+a)}}Qt.sep=".",Qt.None=new Qt("@@none@@"),Qt.Empty=new Qt(""),Qt.QuickFix=new Qt("quickfix"),Qt.Refactor=new Qt("refactor"),Qt.Source=new Qt("source"),Qt.SourceOrganizeImports=Qt.Source.append("organizeImports"),Qt.SourceFixAll=Qt.Source.append("fixAll");function Zi(we,a){return!(we.include&&!we.include.intersects(a)||we.excludes&&we.excludes.some(I=>Fi(a,I,we.include))||!we.includeSourceActions&&Qt.Source.contains(a))}function Li(we,a){const I=a.kind?new Qt(a.kind):void 0;return!(we.include&&(!I||!we.include.contains(I))||we.excludes&&I&&we.excludes.some(z=>Fi(I,z,we.include))||!we.includeSourceActions&&I&&Qt.Source.contains(I)||we.onlyIncludePreferredActions&&!a.isPreferred)}function Fi(we,a,I){return!(!a.contains(we)||I&&a.contains(I))}class tn{constructor(a,I,z){this.kind=a,this.apply=I,this.preferred=z}static fromUser(a,I){return!a||typeof a!="object"?new tn(I.kind,I.apply,!1):new tn(tn.getKindFromUser(a,I.kind),tn.getApplyFromUser(a,I.apply),tn.getPreferredUser(a))}static getApplyFromUser(a,I){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return I}}static getKindFromUser(a,I){return typeof a.kind=="string"?new Qt(a.kind):I}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}}var Tn=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};const kn="editor.action.codeAction",Vn="editor.action.refactor",ns="editor.action.sourceAction",Ms="editor.action.organizeImports",fs="editor.action.fixAll";class Jn{constructor(a,I){this.action=a,this.provider=I}resolve(a){var I;return Tn(this,void 0,void 0,function*(){if(!((I=this.provider)===null||I===void 0)&&I.resolveCodeAction&&!this.action.edit){let z;try{z=yield this.provider.resolveCodeAction(this.action,a)}catch(oe){(0,W.Cp)(oe)}z&&(this.action.edit=z.edit)}return this})}}class Is extends O.JT{constructor(a,I,z){super(),this.documentation=I,this._register(z),this.allActions=[...a].sort(Is.codeActionsComparator),this.validActions=this.allActions.filter(({action:oe})=>!oe.disabled)}static codeActionsComparator({action:a},{action:I}){return a.isPreferred&&!I.isPreferred?-1:!a.isPreferred&&I.isPreferred?1:(0,Me.Of)(a.diagnostics)?(0,Me.Of)(I.diagnostics)?a.diagnostics[0].message.localeCompare(I.diagnostics[0].message):-1:(0,Me.Of)(I.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:a})=>!!a.kind&&Qt.QuickFix.contains(new Qt(a.kind))&&!!a.isPreferred)}}const Es={actions:[],documentation:void 0};function es(we,a,I,z,oe){var se;const Se=I.filter||{},Ye={only:(se=Se.include)===null||se===void 0?void 0:se.value,trigger:I.type},Vt=new g.YQ(we,oe),Ht=Ns(we,Se),Dt=new O.SL,ui=Ht.map(mn=>Tn(this,void 0,void 0,function*(){try{z.report(mn);const Bn=yield mn.provideCodeActions(we,a,Ye,Vt.token);if(Bn&&Dt.add(Bn),Vt.token.isCancellationRequested)return Es;const ao=((Bn==null?void 0:Bn.actions)||[]).filter(Bo=>Bo&&Li(Se,Bo)),Lo=Qs(mn,ao,Se.include);return{actions:ao.map(Bo=>new Jn(Bo,mn)),documentation:Lo}}catch(Bn){if((0,W.VV)(Bn))throw Bn;return(0,W.Cp)(Bn),Es}})),Yi=H.H9.onDidChange(()=>{const mn=H.H9.all(we);(0,Me.fS)(mn,Ht)||Vt.cancel()});return Promise.all(ui).then(mn=>{const Bn=(0,Me.xH)(mn.map(Lo=>Lo.actions)),ao=(0,Me.kX)(mn.map(Lo=>Lo.documentation));return new Is(Bn,ao,Dt)}).finally(()=>{Yi.dispose(),Vt.dispose()})}function Ns(we,a){return H.H9.all(we).filter(I=>I.providedCodeActionKinds?I.providedCodeActionKinds.some(z=>Zi(a,new Qt(z))):!0)}function Qs(we,a,I){if(!we.documentation)return;const z=we.documentation.map(oe=>({kind:new Qt(oe.kind),command:oe.command}));if(I){let oe;for(const se of z)se.kind.contains(I)&&(oe?oe.kind.contains(se.kind)&&(oe=se):oe=se);if(oe)return oe==null?void 0:oe.command}for(const oe of a)if(oe.kind){for(const se of z)if(se.kind.contains(new Qt(oe.kind)))return se.command}}zi.P.registerCommand("_executeCodeActionProvider",function(we,a,I,z,oe){return Tn(this,void 0,void 0,function*(){if(!(a instanceof Wi.o))throw(0,W.b1)();const se=we.get(Ue.q).getModel(a);if(!se)throw(0,W.b1)();const Se=ri.Y.isISelection(I)?ri.Y.liftSelection(I):P.e.isIRange(I)?se.validateRange(I):void 0;if(!Se)throw(0,W.b1)();const Ye=typeof z=="string"?new Qt(z):void 0,Vt=yield es(se,Se,{type:1,filter:{includeSourceActions:!0,include:Ye}},Ys.E.None,xs.T.None),Ht=[],Dt=Math.min(Vt.validActions.length,typeof oe=="number"?oe:0);for(let ui=0;ui<Dt;ui++)Ht.push(Vt.validActions[ui].resolve(xs.T.None));try{return yield Promise.all(Ht),Vt.validActions.map(ui=>ui.action)}finally{setTimeout(()=>Vt.dispose(),100)}})});class ds{constructor(a){this.executor=a,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(a){this._error=a}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var ks=c(66007),Fs=c(5606),js=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},yn=function(we,a){return function(I,z){a(I,z,we)}},ys=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};class ps extends j.aU{constructor(a,I){super(a.command?a.command.id:a.title,Os(a.title),void 0,!a.disabled,I),this.action=a}}function Os(we){return we.replace(/\r\n|\r|\n/g," ")}let po=class extends O.JT{constructor(a,I,z,oe){super(),this._editor=a,this._delegate=I,this._contextMenuService=z,this._visible=!1,this._showingActions=this._register(new O.XK),this._keybindingResolver=new _o({getKeybindings:()=>oe.getKeybindings()})}get isVisible(){return this._visible}show(a,I,z,oe){return ys(this,void 0,void 0,function*(){const se=oe.includeDisabledActions?I.allActions:I.validActions;if(!se.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,W.F0)();this._visible=!0,this._showingActions.value=I;const Se=this.getMenuActions(a,se,I.documentation),Ye=E.L.isIPosition(z)?this._toCoords(z):z||{x:0,y:0},Vt=this._keybindingResolver.getResolver(),Ht=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:Ht?this._editor.getDomNode():void 0,getAnchor:()=>Ye,getActions:()=>Se,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:Dt=>Dt instanceof ps?Vt(Dt.action):void 0})})}getMenuActions(a,I,z){var oe,se;const Se=Dt=>new ps(Dt.action,()=>this._delegate.onSelectCodeAction(Dt)),Ye=I.map(Se),Vt=[...z],Ht=this._editor.getModel();if(Ht&&Ye.length)for(const Dt of H.H9.all(Ht))Dt._getAdditionalMenuItems&&Vt.push(...Dt._getAdditionalMenuItems({trigger:a.type,only:(se=(oe=a.filter)===null||oe===void 0?void 0:oe.include)===null||se===void 0?void 0:se.value},I.map(ui=>ui.action)));return Vt.length&&Ye.push(new j.Z0,...Vt.map(Dt=>Se(new Jn({title:Dt.title,command:Dt},void 0)))),Ye}_toCoords(a){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(a,1),this._editor.render();const I=this._editor.getScrolledVisiblePosition(a),z=(0,v.i)(this._editor.getDomNode()),oe=z.left+I.left,se=z.top+I.top+I.height;return{x:oe,y:se}}};po=js([yn(2,Fs.i),yn(3,wt.d)],po);class _o{constructor(a){this._keybindingProvider=a}getResolver(){const a=new ds(()=>this._keybindingProvider.getKeybindings().filter(I=>_o.codeActionCommands.indexOf(I.command)>=0).filter(I=>I.resolvedKeybinding).map(I=>{let z=I.commandArgs;return I.command===Ms?z={kind:Qt.SourceOrganizeImports.value}:I.command===fs&&(z={kind:Qt.SourceFixAll.value}),Object.assign({resolvedKeybinding:I.resolvedKeybinding},tn.fromUser(z,{kind:Qt.None,apply:"never"}))}));return I=>{if(I.kind){const z=this.bestKeybindingForCodeAction(I,a.getValue());return z==null?void 0:z.resolvedKeybinding}}}bestKeybindingForCodeAction(a,I){if(!a.kind)return;const z=new Qt(a.kind);return I.filter(oe=>oe.kind.contains(z)).filter(oe=>oe.preferred?a.isPreferred:!0).reduceRight((oe,se)=>oe?oe.kind.contains(se.kind)?se:oe:se,void 0)}}_o.codeActionCommands=[Vn,kn,ns,Ms,fs];var bo=c(10553),So=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},no=function(we,a){return function(I,z){a(I,z,we)}},xo;(function(we){we.Hidden={type:0};class a{constructor(z,oe,se,Se){this.actions=z,this.trigger=oe,this.editorPosition=se,this.widgetPosition=Se,this.type=1}}we.Showing=a})(xo||(xo={}));let Vo=class Su extends O.JT{constructor(a,I,z,oe){super(),this._editor=a,this._quickFixActionId=I,this._preferredFixActionId=z,this._keybindingService=oe,this._onClick=this._register(new N.Q5),this.onClick=this._onClick.event,this._state=xo.Hidden,this._domNode=document.createElement("div"),this._domNode.className=te.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(se=>{const Se=this._editor.getModel();(this.state.type!==1||!Se||this.state.editorPosition.lineNumber>=Se.getLineCount())&&this.hide()})),bo.o.ignoreTarget(this._domNode),this._register(v.Gw(this._domNode,se=>{if(this.state.type!==1)return;this._editor.focus(),se.preventDefault();const{top:Se,height:Ye}=v.i(this._domNode),Vt=this._editor.getOption(58);let Ht=Math.floor(Vt/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Ht+=Vt),this._onClick.fire({x:se.posx,y:Se+Ye+Ht,actions:this.state.actions,trigger:this.state.trigger})})),this._register(v.nm(this._domNode,"mouseenter",se=>{if((se.buttons&1)!==1)return;this.hide();const Se=new _n.Z;Se.startMonitoring(se.target,se.buttons,_n.e,()=>{},()=>{Se.dispose()})})),this._register(this._editor.onDidChangeConfiguration(se=>{se.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(a,I,z){if(a.validActions.length<=0)return this.hide();const oe=this._editor.getOptions();if(!oe.get(56).enabled)return this.hide();const se=this._editor.getModel();if(!se)return this.hide();const{lineNumber:Se,column:Ye}=se.validatePosition(z),Vt=se.getOptions().tabSize,Ht=oe.get(43),Dt=se.getLineContent(Se),ui=$.yO.computeIndentLevel(Dt,Vt),Yi=Ht.spaceWidth*ui>22,mn=ao=>ao>2&&this._editor.getTopForLineNumber(ao)===this._editor.getTopForLineNumber(ao-1);let Bn=Se;if(!Yi){if(Se>1&&!mn(Se-1))Bn-=1;else if(!mn(Se+1))Bn+=1;else if(Ye*Ht.spaceWidth<22)return this.hide()}this.state=new xo.Showing(a,I,z,{position:{lineNumber:Bn,column:1},preference:Su._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=xo.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(a){this._state=a,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...te.lA.lightBulb.classNamesArray),this._domNode.classList.add(...te.lA.lightbulbAutofix.classNamesArray);const I=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(I){this.title=ue.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",I.getLabel());return}}this._domNode.classList.remove(...te.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...te.lA.lightBulb.classNamesArray);const a=this._keybindingService.lookupKeybinding(this._quickFixActionId);a?this.title=ue.N("codeActionWithKb","Show Code Actions ({0})",a.getLabel()):this.title=ue.N("codeAction","Show Code Actions")}set title(a){this._domNode.title=a}};Vo._posPref=[0],Vo=So([no(3,wt.d)],Vo),(0,at.Ic)((we,a)=>{var I;const z=(I=we.getColor(mt.cv))===null||I===void 0?void 0:I.transparent(.7),oe=we.getColor(mt.Fu);oe&&a.addRule(`
		.monaco-editor .contentWidgets ${te.lA.lightBulb.cssSelector} {
			color: ${oe};
			background-color: ${z};
		}`);const se=we.getColor(mt.sK);se&&a.addRule(`
		.monaco-editor .contentWidgets ${te.lA.lightbulbAutofix.cssSelector} {
			color: ${se};
			background-color: ${z};
		}`)});var bs=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},is=function(we,a){return function(I,z){a(I,z,we)}},Ls=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})},ro=function(we,a,I,z,oe){if(z==="m")throw new TypeError("Private method is not writable");if(z==="a"&&!oe)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?we!==a||!oe:!a.has(we))throw new TypeError("Cannot write private member to an object whose class did not declare it");return z==="a"?oe.call(we,I):oe?oe.value=I:a.set(we,I),I},Us=function(we,a,I,z){if(I==="a"&&!z)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?we!==a||!z:!a.has(we))throw new TypeError("Cannot read private member from an object whose class did not declare it");return I==="m"?z:I==="a"?z.call(we):z?z.value:a.get(we)},Bs;let gs=class extends O.JT{constructor(a,I,z,oe,se){super(),this._editor=a,this.delegate=oe,this._activeCodeActions=this._register(new O.XK),Bs.set(this,!1),this._codeActionWidget=new ds(()=>this._register(se.createInstance(po,this._editor,{onSelectCodeAction:Se=>Ls(this,void 0,void 0,function*(){this.delegate.applyCodeAction(Se,!0)})}))),this._lightBulbWidget=new ds(()=>{const Se=this._register(se.createInstance(Vo,this._editor,I,z));return this._register(Se.onClick(Ye=>this.showCodeActionList(Ye.trigger,Ye.actions,Ye,{includeDisabledActions:!1}))),Se})}dispose(){ro(this,Bs,!0,"f"),super.dispose()}update(a){var I,z,oe;return Ls(this,void 0,void 0,function*(){if(a.type!==1){(I=this._lightBulbWidget.rawValue)===null||I===void 0||I.hide();return}let se;try{se=yield a.actions}catch(Se){(0,W.dL)(Se);return}if(!Us(this,Bs,"f"))if(this._lightBulbWidget.getValue().update(se,a.trigger,a.position),a.trigger.type===1){if(!((z=a.trigger.filter)===null||z===void 0)&&z.include){const Ye=this.tryGetValidActionToApply(a.trigger,se);if(Ye){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(Ye,!1)}finally{se.dispose()}return}if(a.trigger.context){const Vt=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,se);if(Vt&&Vt.action.disabled){ts.get(this._editor).showMessage(Vt.action.disabled,a.trigger.context.position),se.dispose();return}}}const Se=!!(!((oe=a.trigger.filter)===null||oe===void 0)&&oe.include);if(a.trigger.context&&(!se.allActions.length||!Se&&!se.validActions.length)){ts.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=se,se.dispose();return}this._activeCodeActions.value=se,this._codeActionWidget.getValue().show(a.trigger,se,a.position,{includeDisabledActions:Se})}else this._codeActionWidget.getValue().isVisible?se.dispose():this._activeCodeActions.value=se})}getInvalidActionThatWouldHaveBeenApplied(a,I){if(I.allActions.length&&(a.autoApply==="first"&&I.validActions.length===0||a.autoApply==="ifSingle"&&I.allActions.length===1))return I.allActions.find(({action:z})=>z.disabled)}tryGetValidActionToApply(a,I){if(I.validActions.length&&(a.autoApply==="first"&&I.validActions.length>0||a.autoApply==="ifSingle"&&I.validActions.length===1))return I.validActions[0]}showCodeActionList(a,I,z,oe){return Ls(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,I,z,oe)})}};Bs=new WeakMap,gs=bs([is(4,Rt.TG)],gs);var rs=c(98674),$s=c(10829),fo=function(we,a,I,z){if(I==="a"&&!z)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?we!==a||!z:!a.has(we))throw new TypeError("Cannot read private member from an object whose class did not declare it");return I==="m"?z:I==="a"?z.call(we):z?z.value:a.get(we)},uo=function(we,a,I,z,oe){if(z==="m")throw new TypeError("Private method is not writable");if(z==="a"&&!oe)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?we!==a||!oe:!a.has(we))throw new TypeError("Cannot write private member to an object whose class did not declare it");return z==="a"?oe.call(we,I):oe?oe.value=I:a.set(we,I),I},fn;const _s=new Te.uy("supportedCodeAction","");class so extends O.JT{constructor(a,I,z,oe=250){super(),this._editor=a,this._markerService=I,this._signalChange=z,this._delay=oe,this._autoTriggerTimer=this._register(new R._F),this._register(this._markerService.onMarkerChanged(se=>this._onMarkerChanges(se))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const I=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,I)}_onMarkerChanges(a){const I=this._editor.getModel();I&&a.some(z=>(0,$e.Xy)(z,I.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(a){const I=this._editor.getModel();if(I)for(const z of this._markerService.read({resource:I.uri})){const oe=I.validateRange(z);if(P.e.intersectRanges(oe,a))return P.e.lift(oe)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const I=this._editor.getModel(),z=this._editor.getSelection();if(z.isEmpty()&&a.type===2){const{lineNumber:oe,column:se}=z.getPosition(),Se=I.getLineContent(oe);if(Se.length===0)return;if(se===1){if(/\s/.test(Se[0]))return}else if(se===I.getLineMaxColumn(oe)){if(/\s/.test(Se[Se.length-1]))return}else if(/\s/.test(Se[se-2])&&/\s/.test(Se[se-1]))return}return z}_createEventAndSignalChange(a,I){const z=this._editor.getModel();if(!I||!z){this._signalChange(void 0);return}const oe=this._getRangeOfMarker(I),se=oe?oe.getStartPosition():I.getStartPosition(),Se={trigger:a,selection:I,position:se};return this._signalChange(Se),Se}}var Js;(function(we){we.Empty={type:0};class a{constructor(z,oe,se,Se){this.trigger=z,this.rangeOrSelection=oe,this.position=se,this._cancellablePromise=Se,this.type=1,this.actions=Se.catch(Ye=>{if((0,W.VV)(Ye))return nr;throw Ye})}cancel(){this._cancellablePromise.cancel()}}we.Triggered=a})(Js||(Js={}));const nr={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class vr extends O.JT{constructor(a,I,z,oe){super(),this._editor=a,this._markerService=I,this._progressService=oe,this._codeActionOracle=this._register(new O.XK),this._state=Js.Empty,this._onDidChangeState=this._register(new N.Q5),this.onDidChangeState=this._onDidChangeState.event,fn.set(this,!1),this._supportedCodeActions=_s.bindTo(z),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(H.H9.onDidChange(()=>this._update())),this._update()}dispose(){fo(this,fn,"f")||(uo(this,fn,!0,"f"),super.dispose(),this.setState(Js.Empty,!0))}_update(){if(fo(this,fn,"f"))return;this._codeActionOracle.value=void 0,this.setState(Js.Empty);const a=this._editor.getModel();if(a&&H.H9.has(a)&&!this._editor.getOption(80)){const I=[];for(const z of H.H9.all(a))Array.isArray(z.providedCodeActionKinds)&&I.push(...z.providedCodeActionKinds);this._supportedCodeActions.set(I.join(" ")),this._codeActionOracle.value=new so(this._editor,this._markerService,z=>{var oe;if(!z){this.setState(Js.Empty);return}const se=(0,R.PG)(Se=>es(a,z.selection,z.trigger,Ys.E.None,Se));z.trigger.type===1&&((oe=this._progressService)===null||oe===void 0||oe.showWhile(se,250)),this.setState(new Js.Triggered(z.trigger,z.selection,z.position,se))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(a){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(a)}setState(a,I){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!I&&!fo(this,fn,"f")&&this._onDidChangeState.fire(a))}}fn=new WeakMap;var lr=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Ro=function(we,a){return function(I,z){a(I,z,we)}},Io=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};function yo(we){return Te.Ao.regex(_s.keys()[0],new RegExp("(\\s|^)"+(0,It.ec)(we.value)+"\\b"))}const Ho={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:ue.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:ue.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[ue.N("args.schema.apply.first","Always apply the first returned code action."),ue.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),ue.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:ue.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Ko=class yu extends O.JT{constructor(a,I,z,oe,se){super(),this._instantiationService=se,this._editor=a,this._model=this._register(new vr(this._editor,I,z,oe)),this._register(this._model.onDidChangeState(Se=>this.update(Se))),this._ui=new ds(()=>this._register(new gs(a,dr.Id,Zo.Id,{applyCodeAction:(Se,Ye)=>Io(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Se)}finally{Ye&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(a){return a.getContribution(yu.ID)}update(a){this._ui.getValue().update(a)}showCodeActions(a,I,z){return this._ui.getValue().showCodeActionList(a,I,z,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(a,I,z){if(!this._editor.hasModel())return;ts.get(this._editor).closeMessage();const oe=this._editor.getPosition();this._trigger({type:1,filter:I,autoApply:z,context:{notAvailableMessage:a,position:oe}})}_trigger(a){return this._model.trigger(a)}_applyCodeAction(a){return this._instantiationService.invokeFunction(jo,a,this._editor)}};Ko.ID="editor.contrib.quickFixController",Ko=lr([Ro(1,rs.lT),Ro(2,Te.i6),Ro(3,Ys.e),Ro(4,Rt.TG)],Ko);function jo(we,a,I){return Io(this,void 0,void 0,function*(){const z=we.get(ks.vu),oe=we.get(zi.H),se=we.get($s.b),Se=we.get($i.lT);if(se.publicLog2("codeAction.applyCodeAction",{codeActionTitle:a.action.title,codeActionKind:a.action.kind,codeActionIsPreferred:!!a.action.isPreferred}),yield a.resolve(xs.T.None),a.action.edit&&(yield z.apply(ks.fo.convert(a.action.edit),{editor:I,label:a.action.title})),a.action.command)try{yield oe.executeCommand(a.action.command.id,...a.action.command.arguments||[])}catch(Ye){const Vt=qo(Ye);Se.error(typeof Vt=="string"?Vt:ue.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function qo(we){return typeof we=="string"?we:we instanceof Error&&typeof we.message=="string"?we.message:void 0}function Go(we,a,I,z){if(we.hasModel()){const oe=Ko.get(we);oe&&oe.manualTriggerAtCurrentPosition(a,I,z)}}class dr extends Q.R6{constructor(){super({id:dr.Id,label:ue.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Te.Ao.and(L.u.writable,L.u.hasCodeActionsProvider),kbOpts:{kbExpr:L.u.editorTextFocus,primary:2132,weight:100}})}run(a,I){return Go(I,ue.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}dr.Id="editor.action.quickFix";class Fr extends null{constructor(){super({id:codeActionCommandId,precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Ho}]}})}runEditorCommand(a,I,z){const oe=CodeActionCommandArgs.fromUser(z,{kind:CodeActionKind.Empty,apply:"ifSingle"});return Go(I,typeof(z==null?void 0:z.kind)=="string"?oe.preferred?nls.localize("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",z.kind):nls.localize("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",z.kind):oe.preferred?nls.localize("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):nls.localize("editor.action.codeAction.noneMessage","No code actions available"),{include:oe.kind,includeSourceActions:!0,onlyIncludePreferredActions:oe.preferred},oe.apply)}}class ur extends null{constructor(){super({id:refactorCommandId,label:nls.localize("refactor.label","Refactor..."),alias:"Refactor...",precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ContextKeyExpr.and(EditorContextKeys.writable,yo(CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Ho}]}})}run(a,I,z){const oe=CodeActionCommandArgs.fromUser(z,{kind:CodeActionKind.Refactor,apply:"never"});return Go(I,typeof(z==null?void 0:z.kind)=="string"?oe.preferred?nls.localize("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",z.kind):nls.localize("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",z.kind):oe.preferred?nls.localize("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):nls.localize("editor.action.refactor.noneMessage","No refactorings available"),{include:CodeActionKind.Refactor.contains(oe.kind)?oe.kind:CodeActionKind.None,onlyIncludePreferredActions:oe.preferred},oe.apply)}}class Br extends null{constructor(){super({id:sourceActionCommandId,label:nls.localize("source.label","Source Action..."),alias:"Source Action...",precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ContextKeyExpr.and(EditorContextKeys.writable,yo(CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Ho}]}})}run(a,I,z){const oe=CodeActionCommandArgs.fromUser(z,{kind:CodeActionKind.Source,apply:"never"});return Go(I,typeof(z==null?void 0:z.kind)=="string"?oe.preferred?nls.localize("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",z.kind):nls.localize("editor.action.source.noneMessage.kind","No source actions for '{0}' available",z.kind):oe.preferred?nls.localize("editor.action.source.noneMessage.preferred","No preferred source actions available"):nls.localize("editor.action.source.noneMessage","No source actions available"),{include:CodeActionKind.Source.contains(oe.kind)?oe.kind:CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:oe.preferred},oe.apply)}}class No extends null{constructor(){super({id:organizeImportsCommandId,label:nls.localize("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ContextKeyExpr.and(EditorContextKeys.writable,yo(CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}run(a,I){return Go(I,nls.localize("editor.action.organize.noneMessage","No organize imports action available"),{include:CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class xr extends null{constructor(){super({id:fixAllCommandId,label:nls.localize("fixAll.label","Fix All"),alias:"Fix All",precondition:ContextKeyExpr.and(EditorContextKeys.writable,yo(CodeActionKind.SourceFixAll))})}run(a,I){return Go(I,nls.localize("fixAll.noneMessage","No fix all action available"),{include:CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class Zo extends Q.R6{constructor(){super({id:Zo.Id,label:ue.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Te.Ao.and(L.u.writable,yo(Qt.QuickFix)),kbOpts:{kbExpr:L.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(a,I){return Go(I,ue.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Qt.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}Zo.Id="editor.action.autoFix";var sr=c(91741),Uo=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},er=function(we,a){return function(I,z){a(I,z,we)}};class Ir{constructor(a,I,z){this.marker=a,this.index=I,this.total=z}}let cr=class Lu{constructor(a,I){this._markerService=I,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new O.SL,this._markers=[],this._nextIdx=-1,Wi.o.isUri(a)?this._resourceFilter=oe=>oe.toString()===a.toString():a&&(this._resourceFilter=a);const z=()=>{this._markers=this._markerService.read({resource:Wi.o.isUri(a)?a:void 0,severities:rs.ZL.Error|rs.ZL.Warning|rs.ZL.Info}),typeof a=="function"&&(this._markers=this._markers.filter(oe=>this._resourceFilter(oe.resource))),this._markers.sort(Lu._compareMarker)};z(),this._dispoables.add(I.onMarkerChanged(oe=>{(!this._resourceFilter||oe.some(se=>this._resourceFilter(se)))&&(z(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(a){return!this._resourceFilter&&!a?!0:!this._resourceFilter||!a?!1:this._resourceFilter(a)}get selected(){const a=this._markers[this._nextIdx];return a&&new Ir(a,this._nextIdx+1,this._markers.length)}_initIdx(a,I,z){let oe=!1,se=this._markers.findIndex(Se=>Se.resource.toString()===a.uri.toString());se<0&&(se=(0,Me.ry)(this._markers,{resource:a.uri},(Se,Ye)=>(0,It.qu)(Se.resource.toString(),Ye.resource.toString())),se<0&&(se=~se));for(let Se=se;Se<this._markers.length;Se++){let Ye=P.e.lift(this._markers[Se]);if(Ye.isEmpty()){const Vt=a.getWordAtPosition(Ye.getStartPosition());Vt&&(Ye=new P.e(Ye.startLineNumber,Vt.startColumn,Ye.startLineNumber,Vt.endColumn))}if(I&&(Ye.containsPosition(I)||I.isBeforeOrEqual(Ye.getStartPosition()))){this._nextIdx=Se,oe=!0;break}if(this._markers[Se].resource.toString()!==a.uri.toString())break}oe||(this._nextIdx=z?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(a,I,z){if(this._markers.length===0)return!1;let oe=this._nextIdx;return this._nextIdx===-1?this._initIdx(I,z,a):a?this._nextIdx=(this._nextIdx+1)%this._markers.length:a||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),oe!==this._nextIdx}find(a,I){let z=this._markers.findIndex(oe=>oe.resource.toString()===a.toString());if(!(z<0)){for(;z<this._markers.length;z++)if(P.e.containsPosition(this._markers[z],I))return new Ir(this._markers[z],z+1,this._markers.length)}}static _compareMarker(a,I){let z=(0,It.qu)(a.resource.toString(),I.resource.toString());return z===0&&(z=rs.ZL.compare(a.severity,I.severity)),z===0&&(z=P.e.compareRangesUsingStarts(a,I)),z}};cr=Uo([er(1,rs.lT)],cr);const mr=(0,Rt.yh)("IMarkerNavigationService");let Cr=class{constructor(a){this._markerService=a,this._provider=new sr.S}getMarkerList(a){for(let I of this._provider){const z=I.getMarkerList(a);if(z)return z}return new cr(a,this._markerService)}};Cr=Uo([er(0,rs.lT)],Cr),(0,rt.z)(mr,Cr,!0);var Rr=c(59554),ms=c(14603),Wn;(function(we){function a(I){switch(I){case ms.Z.Ignore:return"severity-ignore "+te.lA.info.classNames;case ms.Z.Info:return te.lA.info.classNames;case ms.Z.Warning:return te.lA.warning.classNames;case ms.Z.Error:return te.lA.error.classNames;default:return""}}we.className=a})(Wn||(Wn={})),(0,at.Ic)((we,a)=>{const I=we.getColor(mt.Jp);if(I){const se=te.lA.error.cssSelector;a.addRule(`
			.monaco-editor .zone-widget ${se},
			.markers-panel .marker-icon${se},
			.text-search-provider-messages .providerMessage ${se},
			.extensions-viewlet > .extensions ${se} {
				color: ${I};
			}
		`)}const z=we.getColor(mt.BO);if(z){const se=te.lA.warning.cssSelector;a.addRule(`
			.monaco-editor .zone-widget ${se},
			.markers-panel .marker-icon${se},
			.extensions-viewlet > .extensions ${se},
			.extension-editor ${se},
			.text-search-provider-messages .providerMessage ${se},
			.preferences-editor ${se} {
				color: ${z};
			}
		`)}const oe=we.getColor(mt.OL);if(oe){const se=te.lA.info.cssSelector;a.addRule(`
			.monaco-editor .zone-widget ${se},
			.markers-panel .marker-icon${se},
			.extensions-viewlet > .extensions ${se},
			.text-search-provider-messages .providerMessage ${se},
			.extension-editor ${se} {
				color: ${oe};
			}
		`)}});var hs=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},vs=function(we,a){return function(I,z){a(I,z,we)}};class qs{constructor(a,I,z,oe,se){this._openerService=oe,this._labelService=se,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new O.SL,this._editor=I;const Se=document.createElement("div");Se.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Se.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Se.appendChild(this._relatedBlock),this._disposables.add(v.mu(this._relatedBlock,"click",Ye=>{Ye.preventDefault();const Vt=this._relatedDiagnostics.get(Ye.target);Vt&&z(Vt)})),this._scrollable=new $n.NB(Se,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),a.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Ye=>{Se.style.left=`-${Ye.scrollLeft}px`,Se.style.top=`-${Ye.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,O.B9)(this._disposables)}update(a){const{source:I,message:z,relatedInformation:oe,code:se}=a;let Se=((I==null?void 0:I.length)||0)+2;se&&(typeof se=="string"?Se+=se.length:Se+=se.value.length);const Ye=(0,It.uq)(z);this._lines=Ye.length,this._longestLineLength=0;for(const Yi of Ye)this._longestLineLength=Math.max(Yi.length+Se,this._longestLineLength);v.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(a)),this._editor.applyFontInfo(this._messageBlock);let Vt=this._messageBlock;for(const Yi of Ye)Vt=document.createElement("div"),Vt.innerText=Yi,Yi===""&&(Vt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Vt);if(I||se){const Yi=document.createElement("span");if(Yi.classList.add("details"),Vt.appendChild(Yi),I){const mn=document.createElement("span");mn.innerText=I,mn.classList.add("source"),Yi.appendChild(mn)}if(se)if(typeof se=="string"){const mn=document.createElement("span");mn.innerText=`(${se})`,mn.classList.add("code"),Yi.appendChild(mn)}else{this._codeLink=v.$("a.code-link"),this._codeLink.setAttribute("href",`${se.target.toString()}`),this._codeLink.onclick=Bn=>{this._openerService.open(se.target,{allowCommands:!0}),Bn.preventDefault(),Bn.stopPropagation()};const mn=v.R3(this._codeLink,v.$("span"));mn.innerText=se.value,Yi.appendChild(this._codeLink)}}if(v.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,Me.Of)(oe)){const Yi=this._relatedBlock.appendChild(document.createElement("div"));Yi.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const mn of oe){let Bn=document.createElement("div"),ao=document.createElement("a");ao.classList.add("filename"),ao.innerText=`${(0,Xi.p)(mn.resource)}(${mn.startLineNumber}, ${mn.startColumn}): `,ao.title=this._labelService.getUriLabel(mn.resource),this._relatedDiagnostics.set(ao,mn);let Lo=document.createElement("span");Lo.innerText=mn.message,Bn.appendChild(ao),Bn.appendChild(Lo),this._lines+=1,Yi.appendChild(Bn)}}const Ht=this._editor.getOption(43),Dt=Math.ceil(Ht.typicalFullwidthCharacterWidth*this._longestLineLength*.75),ui=Ht.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Dt,scrollHeight:ui})}layout(a,I){this._scrollable.getDomNode().style.height=`${a}px`,this._scrollable.getDomNode().style.width=`${I}px`,this._scrollable.setScrollDimensions({width:I,height:a})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(a){let I="";switch(a.severity){case rs.ZL.Error:I=ue.N("Error","Error");break;case rs.ZL.Warning:I=ue.N("Warning","Warning");break;case rs.ZL.Info:I=ue.N("Info","Info");break;case rs.ZL.Hint:I=ue.N("Hint","Hint");break}let z=ue.N("marker aria","{0} at {1}. ",I,a.startLineNumber+":"+a.startColumn);const oe=this._editor.getModel();return oe&&a.startLineNumber<=oe.getLineCount()&&a.startLineNumber>=1&&(z=`${oe.getLineContent(a.startLineNumber)}, ${z}`),z}}let go=class Du extends dt{constructor(a,I,z,oe,se,Se,Ye){super(a,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},se),this._themeService=I,this._openerService=z,this._menuService=oe,this._contextKeyService=Se,this._labelService=Ye,this._callOnDispose=new O.SL,this._onDidSelectRelatedInformation=new N.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=rs.ZL.Warning,this._backgroundColor=ce.Il.white,this._applyTheme(I.getColorTheme()),this._callOnDispose.add(I.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(a){this._backgroundColor=a.getColor(rr);let I=Do,z=hr;this._severity===rs.ZL.Warning?(I=ir,z=or):this._severity===rs.ZL.Info&&(I=Fo,z=Yo);const oe=a.getColor(I),se=a.getColor(z);this.style({arrowColor:oe,frameColor:oe,headerBackgroundColor:se,primaryHeadingColor:a.getColor(Ie),secondaryHeadingColor:a.getColor(Pe)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(a){super._fillHead(a),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(oe=>this.editor.focus()));const I=[],z=this._menuService.createMenu(Du.TitleMenu,this._contextKeyService);(0,ke.vr)(z,void 0,I),this._actionbarWidget.push(I,{label:!1,icon:!0,index:0}),z.dispose()}_fillTitleIcon(a){this._icon=v.R3(a,v.$(""))}_fillBody(a){this._parentContainer=a,a.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),a.appendChild(this._container),this._message=new qs(this._container,this.editor,I=>this._onDidSelectRelatedInformation.fire(I),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(a,I,z){this._container.classList.remove("stale"),this._message.update(a),this._severity=a.severity,this._applyTheme(this._themeService.getColorTheme());let oe=P.e.lift(a);const se=this.editor.getPosition();let Se=se&&oe.containsPosition(se)?se:oe.getStartPosition();super.show(Se,this.computeRequiredHeight());const Ye=this.editor.getModel();if(Ye){const Vt=z>1?ue.N("problems","{0} of {1} problems",I,z):ue.N("change","{0} of {1} problem",I,z);this.setTitle((0,$e.EZ)(Ye.uri),Vt)}this._icon.className=`codicon ${Wn.className(rs.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Se,0),this.editor.focus()}updateMarker(a){this._container.classList.remove("stale"),this._message.update(a)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(a,I){super._doLayoutBody(a,I),this._heightInPixel=a,this._message.layout(a,I),this._container.style.height=`${a}px`}_onWidth(a){this._message.layout(this._heightInPixel,a)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};go.TitleMenu=new Xn.eH("gotoErrorTitleMenu"),go=hs([vs(1,at.XE),vs(2,Ve.v4),vs(3,Xn.co),vs(4,Rt.TG),vs(5,Te.i6),vs(6,ht.e)],go);let Po=(0,mt.kw)(mt.lX,mt.b6),tr=(0,mt.kw)(mt.uo,mt.pW),$o=(0,mt.kw)(mt.c6,mt.T8);const Do=(0,mt.P6)("editorMarkerNavigationError.background",{dark:Po,light:Po,hc:mt.lR},ue.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),hr=(0,mt.P6)("editorMarkerNavigationError.headerBackground",{dark:(0,mt.Zn)(Do,.1),light:(0,mt.Zn)(Do,.1),hc:null},ue.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),ir=(0,mt.P6)("editorMarkerNavigationWarning.background",{dark:tr,light:tr,hc:mt.lR},ue.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),or=(0,mt.P6)("editorMarkerNavigationWarning.headerBackground",{dark:(0,mt.Zn)(ir,.1),light:(0,mt.Zn)(ir,.1),hc:"#0C141F"},ue.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Fo=(0,mt.P6)("editorMarkerNavigationInfo.background",{dark:$o,light:$o,hc:mt.lR},ue.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Yo=(0,mt.P6)("editorMarkerNavigationInfo.headerBackground",{dark:(0,mt.Zn)(Fo,.1),light:(0,mt.Zn)(Fo,.1),hc:null},ue.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),rr=(0,mt.P6)("editorMarkerNavigation.background",{dark:mt.cv,light:mt.cv,hc:mt.cv},ue.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,at.Ic)((we,a)=>{const I=we.getColor(mt.ur);I&&a.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${I}; }`);const z=we.getColor(mt.sg);z&&a.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${z}; }`)});var Wr=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Vr=function(we,a){return function(I,z){a(I,z,we)}},yr=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};let Qo=class Il{constructor(a,I,z,oe,se){this._markerNavigationService=I,this._contextKeyService=z,this._editorService=oe,this._instantiationService=se,this._sessionDispoables=new O.SL,this._editor=a,this._widgetVisible=k.bindTo(this._contextKeyService)}static get(a){return a.getContribution(Il.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(a){if(this._model&&this._model.matches(a))return this._model;let I=!1;return this._model&&(I=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(a),I&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(go,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(z=>{var oe,se,Se;(!(!((oe=this._model)===null||oe===void 0)&&oe.selected)||!P.e.containsPosition((se=this._model)===null||se===void 0?void 0:se.selected.marker,z.position))&&((Se=this._model)===null||Se===void 0||Se.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const z=this._model.find(this._editor.getModel().uri,this._widget.position);z?this._widget.updateMarker(z.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(z=>{this._editorService.openCodeEditor({resource:z.resource,options:{pinned:!0,revealIfOpened:!0,selection:P.e.lift(z).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(a=!0){this._cleanUp(),a&&this._editor.focus()}showAtMarker(a){if(this._editor.hasModel()){const I=this._getOrCreateModel(this._editor.getModel().uri);I.resetIndex(),I.move(!0,this._editor.getModel(),new E.L(a.startLineNumber,a.startColumn)),I.selected&&this._widget.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}}nagivate(a,I){return yr(this,void 0,void 0,function*(){if(this._editor.hasModel()){const z=this._getOrCreateModel(I?void 0:this._editor.getModel().uri);if(z.move(a,this._editor.getModel(),this._editor.getPosition()),!z.selected)return;if(z.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const oe=yield this._editorService.openCodeEditor({resource:z.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:z.selected.marker}},this._editor);oe&&(Il.get(oe).close(),Il.get(oe).nagivate(a,I))}else this._widget.showAtMarker(z.selected.marker,z.selected.index,z.selected.total)}})}};Qo.ID="editor.contrib.markerController",Qo=Wr([Vr(1,mr),Vr(2,Te.i6),Vr(3,Ce.$),Vr(4,Rt.TG)],Qo);class Ct extends Q.R6{constructor(a,I,z){super(z),this._next=a,this._multiFile=I}run(a,I){return yr(this,void 0,void 0,function*(){I.hasModel()&&Qo.get(I).nagivate(this._next,this._multiFile)})}}class e extends Ct{constructor(){super(!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:578,weight:100},menuOpts:{menuId:go.TitleMenu,title:e.LABEL,icon:(0,Rr.q5)("marker-navigation-next",te.lA.arrowDown,ue.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}e.ID="editor.action.marker.next",e.LABEL=ue.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class n extends Ct{constructor(){super(!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:1602,weight:100},menuOpts:{menuId:go.TitleMenu,title:e.LABEL,icon:(0,Rr.q5)("marker-navigation-previous",te.lA.arrowUp,ue.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}n.ID="editor.action.marker.prev",n.LABEL=ue.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class l extends Ct{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:ue.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:66,weight:100},menuOpts:{menuId:Xn.eH.MenubarGoMenu,title:ue.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class b extends Ct{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:ue.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:1090,weight:100},menuOpts:{menuId:Xn.eH.MenubarGoMenu,title:ue.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,Q._K)(Qo.ID,Qo),(0,Q.Qr)(e),(0,Q.Qr)(n),(0,Q.Qr)(l),(0,Q.Qr)(b);const k=new Te.uy("markersNavigationVisible",!1),Z=Q._l.bindToContribution(Qo.get);(0,Q.fK)(new Z({id:"closeMarkersNavigation",precondition:k,handler:we=>we.close(),kbOpts:{weight:100+50,kbExpr:L.u.focus,primary:9,secondary:[1033]}}));var ne=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},he=function(we,a){return function(I,z){a(I,z,we)}};const De=v.$;class Oe{constructor(a,I,z){this.owner=a,this.range=I,this.marker=z}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}const Ke={type:1,filter:{include:Qt.QuickFix}};let Lt=class{constructor(a,I,z,oe){this._editor=a,this._hover=I,this._markerDecorationsService=z,this._openerService=oe,this.recentMarkerCodeActionsInfo=void 0}computeSync(a,I){if(!this._editor.hasModel()||a.type!==1)return[];const z=this._editor.getModel(),oe=a.range.startLineNumber,se=z.getLineMaxColumn(oe),Se=[];for(const Ye of I){const Vt=Ye.range.startLineNumber===oe?Ye.range.startColumn:1,Ht=Ye.range.endLineNumber===oe?Ye.range.endColumn:se,Dt=this._markerDecorationsService.getMarker(z.uri,Ye);if(!Dt)continue;const ui=new P.e(a.range.startLineNumber,Vt,a.range.startLineNumber,Ht);Se.push(new Oe(this,ui,Dt))}return Se}renderHoverParts(a,I,z){if(!a.length)return O.JT.None;const oe=new O.SL;a.forEach(Se=>I.appendChild(this.renderMarkerHover(Se,oe)));const se=a.length===1?a[0]:a.sort((Se,Ye)=>rs.ZL.compare(Se.marker.severity,Ye.marker.severity))[0];return this.renderMarkerStatusbar(se,z,oe),oe}renderMarkerHover(a,I){const z=De("div.hover-row"),oe=v.R3(z,De("div.marker.hover-contents")),{source:se,message:Se,code:Ye,relatedInformation:Vt}=a.marker;this._editor.applyFontInfo(oe);const Ht=v.R3(oe,De("span"));if(Ht.style.whiteSpace="pre-wrap",Ht.innerText=Se,se||Ye)if(Ye&&typeof Ye!="string"){const Dt=De("span");if(se){const Bn=v.R3(Dt,De("span"));Bn.innerText=se}const ui=v.R3(Dt,De("a.code-link"));ui.setAttribute("href",Ye.target.toString()),I.add(v.nm(ui,"click",Bn=>{this._openerService.open(Ye.target,{allowCommands:!0}),Bn.preventDefault(),Bn.stopPropagation()}));const Yi=v.R3(ui,De("span"));Yi.innerText=Ye.value;const mn=v.R3(oe,Dt);mn.style.opacity="0.6",mn.style.paddingLeft="6px"}else{const Dt=v.R3(oe,De("span"));Dt.style.opacity="0.6",Dt.style.paddingLeft="6px",Dt.innerText=se&&Ye?`${se}(${Ye})`:se||`(${Ye})`}if((0,Me.Of)(Vt))for(const{message:Dt,resource:ui,startLineNumber:Yi,startColumn:mn}of Vt){const Bn=v.R3(oe,De("div"));Bn.style.marginTop="8px";const ao=v.R3(Bn,De("a"));ao.innerText=`${(0,$e.EZ)(ui)}(${Yi}, ${mn}): `,ao.style.cursor="pointer",I.add(v.nm(ao,"click",Bo=>{Bo.stopPropagation(),Bo.preventDefault(),this._openerService&&this._openerService.open(ui,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Yi,startColumn:mn}}}).catch(W.dL)}));const Lo=v.R3(Bn,De("span"));Lo.innerText=Dt,this._editor.applyFontInfo(Lo)}return z}renderMarkerStatusbar(a,I,z){if((a.marker.severity===rs.ZL.Error||a.marker.severity===rs.ZL.Warning||a.marker.severity===rs.ZL.Info)&&I.addAction({label:ue.N("view problem","View Problem"),commandId:e.ID,run:()=>{this._hover.hide(),Qo.get(this._editor).showAtMarker(a.marker),this._editor.focus()}}),!this._editor.getOption(80)){const oe=I.append(De("div"));this.recentMarkerCodeActionsInfo&&(rs.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===rs.H0.makeKey(a.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(oe.textContent=ue.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const se=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?O.JT.None:z.add((0,R.Vg)(()=>oe.textContent=ue.N("checkingForQuickFixes","Checking for quick fixes..."),200));oe.textContent||(oe.textContent=String.fromCharCode(160));const Se=this.getCodeActions(a.marker);z.add((0,O.OF)(()=>Se.cancel())),Se.then(Ye=>{if(se.dispose(),this.recentMarkerCodeActionsInfo={marker:a.marker,hasCodeActions:Ye.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Ye.dispose(),oe.textContent=ue.N("noQuickFixes","No quick fixes available");return}oe.style.display="none";let Vt=!1;z.add((0,O.OF)(()=>{Vt||Ye.dispose()})),I.addAction({label:ue.N("quick fixes","Quick Fix..."),commandId:dr.Id,run:Ht=>{Vt=!0;const Dt=Ko.get(this._editor),ui=v.i(Ht);this._hover.hide(),Dt.showCodeActions(Ke,Ye,{x:ui.left+6,y:ui.top+ui.height+6})}})},W.dL)}}getCodeActions(a){return(0,R.PG)(I=>es(this._editor.getModel(),new P.e(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn),Ke,Ys.E.None,I))}};Lt=ne([he(2,gi.i),he(3,Ve.v4)],Lt),(0,at.Ic)((we,a)=>{const I=we.getColor(mt.ur);I&&a.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${I}; }`);const z=we.getColor(mt.sg);z&&a.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${z}; }`)});var _t=c(47707);const Ft="editor.action.inlineSuggest.commit";var Zt=c(89495),Xt=c(69386);class di{constructor(a,I,z=0){this.lineNumber=a,this.parts=I,this.additionalReservedLineCount=z}renderForScreenReader(a){if(this.parts.length===0)return"";const I=this.parts[this.parts.length-1],z=a.substr(0,I.column-1);return yi(z,this.parts.map(se=>({range:{startLineNumber:1,endLineNumber:1,startColumn:se.column,endColumn:se.column},text:se.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class xi{constructor(a){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let I=0;I<a.length;I++)a.charAt(I)===`
`&&this.lineStartOffsetByLineIdx.push(I+1)}getOffset(a){return this.lineStartOffsetByLineIdx[a.lineNumber-1]+a.column-1}}function yi(we,a){const I=new xi(we),z=a.map(oe=>{const se=P.e.lift(oe.range);return{startOffset:I.getOffset(se.getStartPosition()),endOffset:I.getOffset(se.getEndPosition()),text:oe.text}});z.sort((oe,se)=>se.startOffset-oe.startOffset);for(const oe of z)we=we.substring(0,oe.startOffset)+oe.text+we.substring(oe.endOffset);return we}class cn{constructor(a,I,z){this.column=a,this.lines=I,this.preview=z}}class an extends O.JT{constructor(a){super(),this.editor=a,this._expanded=void 0,this.onDidChangeEmitter=new N.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(a.onDidChangeConfiguration(I=>{I.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(a){this._expanded=!0,this.onDidChangeEmitter.fire()}}var En=c(22571);function Ln(we,a){return we===a?!0:!we||!a?!1:we.range.equalsRange(a.range)&&we.text===a.text&&we.command===a.command}function rn(we,a,I,z,oe=0){if(we.range.startLineNumber!==we.range.endLineNumber)return;const se=a.getLineContent(we.range.startLineNumber),Se=It.V8(se).length;if(we.range.startColumn-1<=Se){const mn=It.V8(we.text).length,Bn=se.substring(we.range.startColumn-1,Se),ao=P.e.fromPositions(we.range.getStartPosition().delta(0,Bn.length),we.range.getEndPosition()),Lo=we.text.startsWith(Bn)?we.text.substring(Bn.length):we.text.substring(mn);we={range:ao,text:Lo,command:we.command}}const Vt=a.getValueInRange(we.range),Ht=bn(Vt,we.text);if(!Ht)return;const Dt=we.range.startLineNumber,ui=new Array;if(I==="prefix"){const mn=Ht.filter(Bn=>Bn.originalLength===0);if(mn.length>1||mn.length===1&&mn[0].originalStart!==Vt.length)return}const Yi=we.text.length-oe;for(const mn of Ht){const Bn=we.range.startColumn+mn.originalStart+mn.originalLength;if(I==="subwordSmart"&&z&&z.lineNumber===we.range.startLineNumber&&Bn<z.column||mn.originalLength>0)return;if(mn.modifiedLength===0)continue;const ao=mn.modifiedStart+mn.modifiedLength,Lo=Math.max(mn.modifiedStart,Math.min(ao,Yi)),Bo=we.text.substring(mn.modifiedStart,Lo),Xo=we.text.substring(Lo,Math.max(mn.modifiedStart,ao));if(Bo.length>0){const pr=It.uq(Bo);ui.push(new cn(Bn,pr,!1))}if(Xo.length>0){const pr=It.uq(Xo);ui.push(new cn(Bn,pr,!0))}}return new di(Dt,ui,0)}let vn;function bn(we,a){if((vn==null?void 0:vn.originalValue)===we&&(vn==null?void 0:vn.newValue)===a)return vn==null?void 0:vn.changes;{const I=Gn(we,a);return vn={originalValue:we,newValue:a,changes:I},I}}function Gn(we,a){if(we.length>5e3||a.length>5e3)return;function I(Vt){let Ht=0;for(let Dt=0,ui=Vt.length;Dt<ui;Dt++){const Yi=Vt.charCodeAt(Dt);Yi>Ht&&(Ht=Yi)}return Ht}const z=Math.max(I(we),I(a));function oe(Vt){if(Vt<0)throw new Error("unexpected");return z+Vt+1}function se(Vt){let Ht=0,Dt=0;const ui=new Int32Array(Vt.length);for(let Yi=0,mn=Vt.length;Yi<mn;Yi++){const Bn=Dt*100+Ht;Vt[Yi]==="("?(ui[Yi]=oe(2*Bn),Ht++):Vt[Yi]===")"?(ui[Yi]=oe(2*Bn+1),Ht===1&&Dt++,Ht=Math.max(Ht-1,0)):ui[Yi]=Vt.charCodeAt(Yi)}return ui}const Se=se(we),Ye=se(a);return new En.Hs({getElements:()=>Se},{getElements:()=>Ye}).ComputeDiff(!1).changes}var mo=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},vo=function(we,a){return function(I,z){a(I,z,we)}},co=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};let Ps=class extends O.JT{constructor(a,I,z){super(),this.editor=a,this.cache=I,this.commandService=z,this.onDidChangeEmitter=new N.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new O.XK),this.active=!1,this.disposed=!1,this._register(z.onDidExecuteCommand(oe=>{new Set([Q.n_.id,Q.kz.id,Zt.CoreEditingCommands.Tab.id,Zt.CoreEditingCommands.DeleteLeft.id,Zt.CoreEditingCommands.DeleteRight.id,Ft,"acceptSelectedSuggestion"]).has(oe.commandId)&&a.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(oe=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(oe=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,O.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var a;return(a=this.session)===null||a===void 0?void 0:a.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(a){var I;(I=this.session)===null||I===void 0||I.setExpanded(a)}setActive(a){var I;this.active=a,a&&((I=this.session)===null||I===void 0||I.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(H.bw.Automatic))}trigger(a){if(this.completionSession.value){a===H.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new ko(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,a),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var a;(a=this.session)===null||a===void 0||a.commitCurrentCompletion()}showNext(){var a;(a=this.session)===null||a===void 0||a.showNextInlineCompletion()}showPrevious(){var a;(a=this.session)===null||a===void 0||a.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var a;return co(this,void 0,void 0,function*(){const I=yield(a=this.session)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return I!==void 0?I:!1})}};Ps=mo([vo(2,zi.H)],Ps);class ko extends an{constructor(a,I,z,oe,se,Se){super(a),this.triggerPosition=I,this.shouldUpdate=z,this.commandService=oe,this.cache=se,this.initialTriggerKind=Se,this.minReservedLineCount=0,this.updateOperation=this._register(new O.XK),this.updateSoon=this._register(new R.pY(()=>{let Vt=this.initialTriggerKind;return this.initialTriggerKind=H.bw.Automatic,this.update(Vt)},50)),this.currentlySelectedCompletionId=void 0;let Ye;this._register(this.onDidChange(()=>{const Vt=this.currentCompletion;if(Vt&&Vt.sourceInlineCompletion!==Ye){Ye=Vt.sourceInlineCompletion;const Ht=Vt.sourceProvider;Ht.handleItemDidShow&&Ht.handleItemDidShow(Vt.sourceInlineCompletions,Ye)}})),this._register((0,O.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(Vt=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(Vt=>{this.scheduleAutomaticUpdate()})),this._register(H.zu.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const a=this.cache.value.completions.findIndex(I=>I.semanticId===this.currentlySelectedCompletionId);return a===-1?(this.currentlySelectedCompletionId=void 0,0):a}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var a;return co(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const I=((a=this.cache.value)===null||a===void 0?void 0:a.completions)||[];if(I.length>0){const z=(this.fixAndGetIndexOfCurrentSelection()+1)%I.length;this.currentlySelectedCompletionId=I[z].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var a;return co(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const I=((a=this.cache.value)===null||a===void 0?void 0:a.completions)||[];if(I.length>0){const z=(this.fixAndGetIndexOfCurrentSelection()+I.length-1)%I.length;this.currentlySelectedCompletionId=I[z].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var a;return co(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===H.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(H.bw.Explicit):((a=this.cache.value)===null||a===void 0?void 0:a.triggerKind)!==H.bw.Explicit&&(yield this.update(H.bw.Explicit))})}hasMultipleInlineCompletions(){var a;return co(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((a=this.cache.value)===null||a===void 0?void 0:a.completions.length)||0)>1})}get ghostText(){const a=this.currentCompletion,I=this.editor.getOptions().get(54).mode;return a?rn(a,this.editor.getModel(),I,this.editor.getPosition()):void 0}get currentCompletion(){const a=this.currentCachedCompletion;if(a)return a.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(a){return co(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const I=this.editor.getPosition(),z=(0,R.PG)(se=>co(this,void 0,void 0,function*(){let Se;try{Se=yield Hr(I,this.editor.getModel(),{triggerKind:a,selectedSuggestionInfo:void 0},se)}catch(Ye){(0,W.dL)(Ye);return}se.isCancellationRequested||(this.cache.setValue(this.editor,Se,a),this.onDidChangeEmitter.fire())})),oe=new Eo(z,a);this.updateOperation.value=oe,yield z,this.updateOperation.value===oe&&this.updateOperation.clear()})}takeOwnership(a){this._register(a)}commitCurrentCompletion(){if(!this.ghostText)return;const a=this.currentCompletion;a&&this.commit(a)}commit(a){const I=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[Xt.h.replaceMove(a.range,a.text)]),a.command?this.commandService.executeCommand(a.command.id,...a.command.arguments||[]).finally(()=>{I==null||I.dispose()}).then(void 0,W.Cp):I==null||I.dispose(),this.onDidChangeEmitter.fire()}}class Eo{constructor(a,I){this.promise=a,this.triggerKind=I}dispose(){this.promise.cancel()}}class To extends O.JT{constructor(a,I,z,oe){super(),this.triggerKind=oe;const se=a.deltaDecorations([],I.items.map(Se=>({range:Se.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,O.OF)(()=>{a.deltaDecorations(se,[])})),this.completions=I.items.map((Se,Ye)=>new zo(Se,se[Ye])),this._register(a.onDidChangeModelContent(()=>{let Se=!1;const Ye=a.getModel();for(const Vt of this.completions){const Ht=Ye.getDecorationRange(Vt.decorationId);if(!Ht){(0,W.dL)(new Error("Decoration has no range"));continue}Vt.synchronizedRange.equalsRange(Ht)||(Se=!0,Vt.synchronizedRange=Ht)}Se&&z()})),this._register(I)}}class zo{constructor(a,I){this.inlineCompletion=a,this.decorationId=I,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=a.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function sa(we,a){const I=a.getWordAtPosition(we),z=a.getLineMaxColumn(we.lineNumber);return I?new P.e(we.lineNumber,I.startColumn,we.lineNumber,z):P.e.fromPositions(we,we.with(void 0,z))}function Hr(we,a,I,z=xs.T.None){return co(this,void 0,void 0,function*(){const oe=sa(we,a),se=H.zu.all(a),Se=yield Promise.all(se.map(Vt=>co(this,void 0,void 0,function*(){const Ht=yield Vt.provideInlineCompletions(a,we,I,z);return{completions:Ht,provider:Vt,dispose:()=>{Ht&&Vt.freeInlineCompletions(Ht)}}}))),Ye=new Map;for(const Vt of Se){const Ht=Vt.completions;if(Ht)for(const Dt of Ht.items.map(ui=>({text:ui.text,range:ui.range?P.e.lift(ui.range):oe,command:ui.command,sourceProvider:Vt.provider,sourceInlineCompletions:Ht,sourceInlineCompletion:ui})))Dt.range.startLineNumber===Dt.range.endLineNumber&&Ye.set(JSON.stringify({text:Dt.text,range:Dt.range}),Dt)}return{items:[...Ye.values()],dispose:()=>{for(const Vt of Se)Vt.dispose()}}})}function _a(we,a){if(!a)return a;const I=we.getValueInRange(a.range),z=(0,It.Mh)(I,a.text),oe=we.getOffsetAt(a.range.getStartPosition())+z,se=we.getPositionAt(oe),Se=I.substr(z),Ye=(0,It.P1)(Se,a.text),Vt=we.getPositionAt(Math.max(oe,we.getOffsetAt(a.range.getEndPosition())-Ye));return{range:P.e.fromPositions(se,Vt),text:a.text.substr(z,a.text.length-z-Ye)}}var oa=c(63472),Za=c(44951),zr=c(73707);function Lr(we,a){return{object:we,dispose:()=>a==null?void 0:a.dispose()}}function Rl(we,a){return(I,z)=>a(we(I),we(z))}function Qr(){return(we,a)=>we-a}function Ya(we,a){let I;for(const z of we)(I===void 0||a(z,I)>0)&&(I=z);return I}class kl extends O.JT{constructor(a,I){super(),this.editor=a,this.suggestControllerPreselector=I,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new N.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new R.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(oe=>{oe.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(oe=>{oe.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const z=zr.SuggestController.get(this.editor);if(z){this._register(z.registerSelector({priority:100,select:(Se,Ye,Vt)=>{const Ht=this.editor.getModel(),Dt=_a(Ht,this.suggestControllerPreselector());if(!Dt)return-1;const ui=E.L.lift(Ye),Yi=Vt.map((Bn,ao)=>{const Lo=va(z,ui,Bn,this.isShiftKeyPressed),Bo=_a(Ht,Lo);if(!Bo)return;const Xo=Ma(Dt.range,Bo.range)&&Dt.text.startsWith(Bo.text);return{index:ao,valid:Xo,prefixLength:Bo.text.length,suggestItem:Bn}}).filter(Bn=>Bn&&Bn.valid),mn=Ya(Yi,Rl(Bn=>Bn.prefixLength,Qr()));return mn?mn.index:-1}}));let oe=!1;const se=()=>{oe||(oe=!0,this._register(z.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(z.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(z.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.ju.once(z.model.onDidTrigger)(Se=>{se()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(a){const I=this.getInlineCompletion();let z=!1;Ln(this._currentInlineCompletion,I)||(this._currentInlineCompletion=I,z=!0),this._isActive!==a&&(this._isActive=a,z=!0),z&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const a=zr.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const I=a.widget.value.getFocusedItem();if(I)return va(a,this.editor.getPosition(),I.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=zr.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=zr.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}function Ma(we,a){return we.startLineNumber===a.startLineNumber&&we.startColumn===a.startColumn&&(we.endLineNumber<a.endLineNumber||we.endLineNumber===a.endLineNumber&&we.endColumn<=a.endColumn)}function va(we,a,I,z){if(Array.isArray(I.completion.additionalTextEdits)&&I.completion.additionalTextEdits.length>0)return{text:"",range:P.e.fromPositions(a,a)};let{insertText:oe}=I.completion;if(I.completion.insertTextRules&4){const Se=new oa.Yj().parse(oe),Ye=we.editor.getModel();if(Se.children.length>100)return;Za.l.adjustWhitespace(Ye,a,Se,!0,!0),oe=Se.toString()}const se=we.getOverwriteInfo(I,z);return{text:oe,range:P.e.fromPositions(a.delta(0,-se.overwriteBefore),a.delta(0,Math.max(se.overwriteAfter,0)))}}var Qa=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};class Al extends an{constructor(a,I){super(a),this.cache=I,this.suggestionInlineCompletionSource=this._register(new kl(this.editor,()=>{var z,oe;return(oe=(z=this.cache.value)===null||z===void 0?void 0:z.completions[0])===null||oe===void 0?void 0:oe.toLiveInlineCompletion()})),this.updateOperation=this._register(new O.XK),this.updateCacheSoon=this._register(new R.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const oe=this.ghostText;oe&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,kr(oe.parts.map(se=>se.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(z=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register((0,O.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Qa(this,void 0,void 0,function*(){const a=this.suggestionInlineCompletionSource.state;if(!a||!a.selectedItemAsInlineCompletion)return;const I={text:a.selectedItemAsInlineCompletion.text,range:a.selectedItemAsInlineCompletion.range},z=this.editor.getPosition(),oe=(0,R.PG)(Se=>Qa(this,void 0,void 0,function*(){let Ye;try{Ye=yield Hr(z,this.editor.getModel(),{triggerKind:H.bw.Automatic,selectedSuggestionInfo:I},Se)}catch(Vt){(0,W.dL)(Vt);return}Se.isCancellationRequested||(this.cache.setValue(this.editor,Ye,H.bw.Automatic),this.onDidChangeEmitter.fire())})),se=new Eo(oe,H.bw.Automatic);this.updateOperation.value=se,yield oe,this.updateOperation.value===se&&this.updateOperation.clear()})}get ghostText(){var a,I;if(!this.isSuggestionPreviewEnabled())return;const z=this.suggestionInlineCompletionSource.state,oe=_a(this.editor.getModel(),z==null?void 0:z.selectedItemAsInlineCompletion),se=_a(this.editor.getModel(),(I=(a=this.cache.value)===null||a===void 0?void 0:a.completions[0])===null||I===void 0?void 0:I.toLiveInlineCompletion()),Se=se&&oe&&se.text.startsWith(oe.text)&&se.range.equalsRange(oe.range)?se:oe||se,Ye=oe?((Se==null?void 0:Se.text.length)||0)-oe.text.length:0;return(Dt=>{const ui=this.editor.getOptions().get(105).previewMode;return Dt?rn(Dt,this.editor.getModel(),ui,this.editor.getPosition(),Ye)||new di(Dt.range.endLineNumber,[],this.minReservedLineCount):void 0})(Se)}}function kr(we){return we.reduce((a,I)=>a+I,0)}var Ol=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Pl=function(we,a){return function(I,z){a(I,z,we)}},Fl=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};class Xa extends O.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new N.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new O.XK)}get targetModel(){var a;return(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object}setTargetModel(a){var I;((I=this.currentModelRef.value)===null||I===void 0?void 0:I.object)!==a&&(this.currentModelRef.clear(),this.currentModelRef.value=a?Lr(a,a.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var a,I;return this.hasCachedGhostText||(this.cachedGhostText=(I=(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object)===null||I===void 0?void 0:I.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(a){var I;(I=this.targetModel)===null||I===void 0||I.setExpanded(a)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Ra=class extends Xa{constructor(a,I){super(),this.editor=a,this.commandService=I,this.sharedCache=this._register(new Ur),this.suggestWidgetAdapterModel=this._register(new Al(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new Ps(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(a){var I;const z=(I=this.activeInlineCompletionsModel)===null||I===void 0?void 0:I.ghostText;return z?z.parts.some(oe=>a.containsPosition(new E.L(z.lineNumber,oe.column))):!1}triggerInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.trigger(H.bw.Explicit)}commitInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.commitCurrentSuggestion()}hideInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.hide()}showNextInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showNext()}showPreviousInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showPrevious()}hasMultipleInlineCompletions(){var a;return Fl(this,void 0,void 0,function*(){const I=yield(a=this.activeInlineCompletionsModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return I!==void 0?I:!1})}};Ra=Ol([Pl(1,zi.H)],Ra);class Ur extends O.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new N.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new O.XK)}get value(){return this.cache.value}setValue(a,I,z){this.cache.value=new To(a,I,()=>this.onDidChangeEmitter.fire(),z)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var ra=c(87917),Ja=c(64141),Bl=c(33181),qa=c(78411),Wl=c(50072),aa=c(27869),el=c(92550),tl=c(77736),Vl=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Xr=function(we,a){return function(I,z){a(I,z,we)}},Ca;const il=(Ca=window.trustedTypes)===null||Ca===void 0?void 0:Ca.createPolicy("editorGhostText",{createHTML:we=>we});let Ar=class extends O.JT{constructor(a,I,z,oe){super(),this.editor=a,this.model=I,this.instantiationService=z,this.modeService=oe,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Nr,this.editor)),this.additionalLinesWidget=this._register(new Hl(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(se=>{(se.hasChanged(29)||se.hasChanged(104)||se.hasChanged(87)||se.hasChanged(82)||se.hasChanged(44)||se.hasChanged(43)||se.hasChanged(58))&&this.update()})),this._register((0,O.OF)(()=>{var se;this.disposed=!0,this.update(),(se=this.viewMoreContentWidget)===null||se===void 0||se.dispose(),this.viewMoreContentWidget=void 0})),this._register(I.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(a){return this.additionalLinesWidget.viewZoneId===a}update(){var a;const I=this.model.ghostText;if(!this.editor.hasModel()||!I||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const z=new Array,oe=new Array;function se(Ht,Dt){if(oe.length>0){const ui=oe[oe.length-1];Dt&&ui.decorations.push(new el.Kp(ui.content.length+1,ui.content.length+1+Ht[0].length,Dt,0)),ui.content+=Ht[0],Ht=Ht.slice(1)}for(const ui of Ht)oe.push({content:ui,decorations:Dt?[new el.Kp(1,ui.length+1,Dt,0)]:[]})}const Se=this.editor.getModel().getLineContent(I.lineNumber);this.editor.getModel().getLineTokens(I.lineNumber);let Ye,Vt=0;for(const Ht of I.parts){let Dt=Ht.lines;Ye===void 0?(z.push({column:Ht.column,text:Dt[0],preview:Ht.preview}),Dt=Dt.slice(1)):se([Se.substring(Vt,Ht.column-1)],void 0),Dt.length>0&&(se(Dt,"ghost-text"),Ye===void 0&&Ht.column<=Se.length&&(Ye=Ht.column)),Vt=Ht.column-1}Ye!==void 0&&se([Se.substring(Vt)],void 0),this.partsWidget.setParts(I.lineNumber,z,Ye!==void 0?{column:Ye,length:Se.length+1-Ye}:void 0),this.additionalLinesWidget.updateLines(I.lineNumber,oe,I.additionalReservedLineCount),I.parts.some(Ht=>Ht.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new E.L(I.lineNumber,this.editor.getModel().getLineMaxColumn(I.lineNumber)),"",0):((a=this.viewMoreContentWidget)===null||a===void 0||a.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(a,I,z){const oe=this.editor.getOption(43),se=document.createElement("div");se.className="suggest-preview-additional-widget",ra.V.applyFontInfoSlow(se,oe);const Se=document.createElement("span");Se.className="content-spacer",Se.append(I),se.append(Se);const Ye=document.createElement("span");Ye.className="content-newline suggest-preview-text",Ye.append("\u23CE  "),se.append(Ye);const Vt=new O.SL,Ht=document.createElement("div");return Ht.className="button suggest-preview-text",Ht.append(`+${z} lines\u2026`),Vt.add(v.mu(Ht,"mousedown",Dt=>{var ui;(ui=this.model)===null||ui===void 0||ui.setExpanded(!0),Dt.preventDefault(),this.editor.focus()})),se.append(Ht),new nl(this.editor,a,se,Vt)}};Ar=Vl([Xr(2,Rt.TG),Xr(3,J.h)],Ar);let Nr=class{constructor(a,I,z,oe){this.editor=a,this.codeEditorService=I,this.themeService=z,this.contextKeyService=oe,this.decorationIds=[],this.disposableStore=new O.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(a,I,z){this.disposableStore.clear();const oe=this.themeService.getColorTheme(),se=oe.getColor(aa.N5);let Se,Ye;se&&(Se=String(se.rgba.a),Ye=ce.Il.Format.CSS.format(ka(se)));const Vt=oe.getColor(aa.x3);let Ht;Vt&&(Ht=`2px dashed ${Vt}`);const Dt=this.editor.getModel();if(!Dt)return;const{tabSize:ui}=Dt.getOptions(),Yi=Dt.getLineContent(a)||"";let mn=0,Bn="";const ao=new Array;z&&ao.push({range:P.e.fromPositions(new E.L(a,z.column),new E.L(a,z.column+z.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const Lo=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),Bo=Lo===void 0?!0:!!Lo;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,I.map(Xo=>{Bn+=Yi.substring(mn,Xo.column-1),mn=Xo.column-1;const pr=Bo?Xo.text:this.renderSingleLineText(Xo.text,Bn,ui,!1),La=this.disposableStore.add(ba(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:pr,opacity:Se,color:Ye,border:Ht,fontWeight:Xo.preview?"bold":"normal"}}));return{range:P.e.fromPositions(new E.L(a,Xo.column)),options:Bo?{description:"ghost-text",after:{content:pr,inlineClassName:Xo.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},La.resolve())}}).concat(ao))}renderSingleLineText(a,I,z,oe){const se=I+a,Se=Bl.io.visibleColumnsByColumns(se,z);let Ye="",Vt=I.length+1;for(const Ht of a){if(Ht==="	"){const Dt=Se[Vt+1]-Se[Vt];if(oe){Ye+="\u2192";for(let ui=1;ui<Dt;ui++)Ye+="\xA0"}else for(let ui=0;ui<Dt;ui++)Ye+="\xA0"}else Ht===" "?oe?Ye+="\xB7":Ye+="\xA0":Ye+=Ht;Vt+=1}return Ye}};Nr=Vl([Xr(1,Ce.$),Xr(2,at.XE),Xr(3,Te.i6)],Nr);function ka(we){const{r:a,b:I,g:z}=we.rgba;return new ce.Il(new ce.VS(a,z,I,255))}class Hl{constructor(a,I){this.editor=a,this.languageIdCodec=I,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(a=>{this._viewZoneId&&(a.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(a,I,z){const oe=this.editor.getModel();if(!oe)return;const{tabSize:se}=oe.getOptions();this.editor.changeViewZones(Se=>{this._viewZoneId&&(Se.removeZone(this._viewZoneId),this._viewZoneId=void 0);const Ye=Math.max(I.length,z);if(Ye>0){const Vt=document.createElement("div");zl(Vt,se,I,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Se.addZone({afterLineNumber:a,heightInLines:Ye,domNode:Vt})}})}}function zl(we,a,I,z,oe){const se=z.get(29),Se=z.get(104),Ye="none",Vt=z.get(82),Ht=z.get(44),Dt=z.get(43),ui=z.get(58),Yi=(0,Wl.l$)(1e4);Yi.appendASCIIString('<div class="suggest-preview-text">');for(let ao=0,Lo=I.length;ao<Lo;ao++){const Bo=I[ao],Xo=Bo.content;Yi.appendASCIIString('<div class="view-line'),Yi.appendASCIIString('" style="top:'),Yi.appendASCIIString(String(ao*ui)),Yi.appendASCIIString('px;width:1000000px;">');const pr=It.$i(Xo),La=It.Ut(Xo),dl=qa.A.createEmpty(Xo,oe);(0,tl.d1)(new tl.IJ(Dt.isMonospace&&!se,Dt.canUseHalfwidthRightwardsArrow,Xo,!1,pr,La,0,dl,Bo.decorations,a,0,Dt.spaceWidth,Dt.middotWidth,Dt.wsmiddotWidth,Se,Ye,Vt,Ht!==Ja.n0.OFF,null),Yi),Yi.appendASCIIString("</div>")}Yi.appendASCIIString("</div>"),ra.V.applyFontInfoSlow(we,Dt);const mn=Yi.build(),Bn=il?il.createHTML(mn):mn;we.innerHTML=Bn}let Ul=0;function ba(we,a,I,z){const oe=I+Ul++;return we.registerDecorationType(a,oe,z),{dispose(){we.removeDecorationType(oe)},resolve(){return we.resolveDecorationOptions(oe,!0)}}}class nl extends O.JT{constructor(a,I,z,oe){super(),this.editor=a,this.position=I,this.domNode=z,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(oe),this._register((0,O.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,at.Ic)((we,a)=>{const I=we.getColor(aa.N5);if(I){const oe=String(I.rgba.a),se=ce.Il.Format.CSS.format(ka(I));a.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${oe} !important; color: ${se} !important; }`),a.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${I.toString()} !important; }`),a.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${oe} !important; color: ${se} !important; }`)}const z=we.getColor(aa.x3);z&&(a.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${z}; }`),a.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${z}; }`),a.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${z}; }`))});var Aa=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Oa=function(we,a){return function(I,z){a(I,z,we)}},wa=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};let Wo=class Eu extends O.JT{constructor(a,I){super(),this.editor=a,this.instantiationService=I,this.triggeredExplicitly=!1,this.activeController=this._register(new O.XK),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(z=>{z.hasChanged(105)&&this.updateModelController(),z.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(a){return a.getContribution(Eu.ID)}get activeModel(){var a;return(a=this.activeController.value)===null||a===void 0?void 0:a.model}updateModelController(){const a=this.editor.getOption(105),I=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(a.preview||I.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Tr,this.editor):void 0}shouldShowHoverAt(a){var I;return((I=this.activeModel)===null||I===void 0?void 0:I.shouldShowHoverAt(a))||!1}shouldShowHoverAtViewZone(a){var I,z;return((z=(I=this.activeController.value)===null||I===void 0?void 0:I.widget)===null||z===void 0?void 0:z.shouldShowHoverAtViewZone(a))||!1}trigger(){var a;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(a=this.activeModel)===null||a===void 0||a.triggerInlineCompletion()}commit(){var a;(a=this.activeModel)===null||a===void 0||a.commitInlineCompletion()}hide(){var a;(a=this.activeModel)===null||a===void 0||a.hideInlineCompletion()}showNextInlineCompletion(){var a;(a=this.activeModel)===null||a===void 0||a.showNextInlineCompletion()}showPreviousInlineCompletion(){var a;(a=this.activeModel)===null||a===void 0||a.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var a;return wa(this,void 0,void 0,function*(){const I=yield(a=this.activeModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return I!==void 0?I:!1})}};Wo.inlineSuggestionVisible=new Te.uy("inlineSuggestionVisible",!1,ue.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),Wo.inlineSuggestionHasIndentation=new Te.uy("inlineSuggestionHasIndentation",!1,ue.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Wo.inlineSuggestionHasIndentationLessThanTabSize=new Te.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,ue.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Wo.ID="editor.contrib.ghostTextController",Wo=Aa([Oa(1,Rt.TG)],Wo);class Gr{constructor(a){this.contextKeyService=a,this.inlineCompletionVisible=Wo.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Wo.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Wo.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Tr=class extends O.JT{constructor(a,I,z){super(),this.editor=a,this.instantiationService=I,this.contextKeyService=z,this.contextKeys=new Gr(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Ra,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Ar,this.editor,this.model)),this._register((0,O.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var a;this.contextKeys.inlineCompletionVisible.set(((a=this.model.activeInlineCompletionsModel)===null||a===void 0?void 0:a.ghostText)!==void 0);let I=!1,z=!0;const oe=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&oe&&oe.parts.length>0){const{column:se,lines:Se}=oe.parts[0],Ye=Se[0],Vt=this.editor.getModel().getLineIndentColumn(oe.lineNumber);if(se<=Vt){let Dt=(0,It.LC)(Ye);Dt===-1&&(Dt=Ye.length-1),I=Dt>0;const ui=this.editor.getModel().getOptions().tabSize;z=_t.i.visibleColumnFromColumn(Ye,Dt+1,ui)<ui}}this.contextKeys.inlineCompletionSuggestsIndentation.set(I),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(z)}};Tr=Aa([Oa(1,Rt.TG),Oa(2,Te.i6)],Tr);const sl=Q._l.bindToContribution(Wo.get),la=new sl({id:Ft,precondition:Wo.inlineSuggestionVisible,handler(we){we.commit(),we.editor.focus()}});(0,Q.fK)(la),Fn.W.registerKeybindingRule({primary:2,weight:200,id:la.id,when:Te.Ao.and(la.precondition,L.u.tabMovesFocus.toNegated(),Wo.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Q.fK)(new sl({id:"editor.action.inlineSuggest.hide",precondition:Wo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(we){we.hide()}}));class Jr extends Q.R6{constructor(){super({id:Jr.ID,label:ue.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Te.Ao.and(L.u.writable,Wo.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(a,I){return wa(this,void 0,void 0,function*(){const z=Wo.get(I);z&&(z.showNextInlineCompletion(),I.focus())})}}Jr.ID="editor.action.inlineSuggest.showNext";class qr extends Q.R6{constructor(){super({id:qr.ID,label:ue.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Te.Ao.and(L.u.writable,Wo.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(a,I){return wa(this,void 0,void 0,function*(){const z=Wo.get(I);z&&(z.showPreviousInlineCompletion(),I.focus())})}}qr.ID="editor.action.inlineSuggest.showPrevious";class $l extends Q.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:ue.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:L.u.writable})}run(a,I){return wa(this,void 0,void 0,function*(){const z=Wo.get(I);z&&z.trigger()})}}(0,Q._K)(Wo.ID,Wo),(0,Q.Qr)($l),(0,Q.Qr)(Jr),(0,Q.Qr)(qr);var ol=c(31106),Kl=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},ea=function(we,a){return function(I,z){a(I,z,we)}};class jl{constructor(a,I,z){this.owner=a,this.range=I,this.controller=z}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let da=class{constructor(a,I,z,oe,se,Se,Ye,Vt){this._editor=a,this._hover=I,this._commandService=z,this._menuService=oe,this._contextKeyService=se,this._modeService=Se,this._openerService=Ye,this.accessibilityService=Vt}suggestHoverAnchor(a){const I=Wo.get(this._editor);if(!I)return null;if(a.target.type===8){const z=a.target.detail;if(I.shouldShowHoverAtViewZone(z.viewZoneId))return new ut(1e3,this,P.e.fromPositions(z.positionBefore||z.position,z.positionBefore||z.position))}return a.target.type===7&&a.target.range&&I.shouldShowHoverAt(a.target.range)?new ut(1e3,this,a.target.range):a.target.type===6&&a.target.range&&a.target.detail&&a.target.detail.mightBeForeignElement&&I.shouldShowHoverAt(a.target.range)?new ut(1e3,this,a.target.range):null}computeSync(a,I){const z=Wo.get(this._editor);return z&&z.shouldShowHoverAt(a.range)?[new jl(this,a.range,z)]:[]}renderHoverParts(a,I,z){const oe=new O.SL,se=a[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(se,I,oe);const Se=oe.add(this._menuService.createMenu(Xn.eH.InlineCompletionsActions,this._contextKeyService)),Ye=z.addAction({label:ue.N("showNextInlineSuggestion","Next"),commandId:Jr.ID,run:()=>this._commandService.executeCommand(Jr.ID)}),Vt=z.addAction({label:ue.N("showPreviousInlineSuggestion","Previous"),commandId:qr.ID,run:()=>this._commandService.executeCommand(qr.ID)});z.addAction({label:ue.N("acceptInlineSuggestion","Accept"),commandId:la.id,run:()=>this._commandService.executeCommand(la.id)});const Ht=[Ye,Vt];for(const Dt of Ht)Dt.setEnabled(!1);se.hasMultipleSuggestions().then(Dt=>{for(const ui of Ht)ui.setEnabled(Dt)});for(const[Dt,ui]of Se.getActions())for(const Yi of ui)Yi instanceof Xn.U8&&z.addAction({label:Yi.label,commandId:Yi.item.id,run:()=>this._commandService.executeCommand(Yi.item.id)});return oe}renderScreenReaderText(a,I,z){var oe,se;const Se=v.$,Ye=Se("div.hover-row.markdown-hover"),Vt=v.R3(Ye,Se("div.hover-contents")),Ht=z.add(new Ot.$({editor:this._editor},this._modeService,this._openerService)),Dt=Yi=>{z.add(Ht.onDidRenderAsync(()=>{Vt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const mn=ue.N("inlineSuggestionFollows","Suggestion:"),Bn=z.add(Ht.render(new s.W5().appendText(mn).appendCodeblock("text",Yi)));Vt.replaceChildren(Bn.element)},ui=(se=(oe=a.controller.activeModel)===null||oe===void 0?void 0:oe.inlineCompletionsModel)===null||se===void 0?void 0:se.ghostText;if(ui){const Yi=this._editor.getModel().getLineContent(ui.lineNumber);Dt(ui.renderForScreenReader(Yi))}I.appendChild(Ye)}};da=Kl([ea(2,zi.H),ea(3,Xn.co),ea(4,Te.i6),ea(5,J.h),ea(6,Ve.v4),ea(7,ol.F)],da);var Pa=c(79599),rl=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},Sa=function(we,a){return function(I,z){a(I,z,we)}},al=function(we,a,I,z){function oe(se){return se instanceof I?se:new I(function(Se){Se(se)})}return new(I||(I=Promise))(function(se,Se){function Ye(Dt){try{Ht(z.next(Dt))}catch(ui){Se(ui)}}function Vt(Dt){try{Ht(z.throw(Dt))}catch(ui){Se(ui)}}function Ht(Dt){Dt.done?se(Dt.value):oe(Dt.value).then(Ye,Vt)}Ht((z=z.apply(we,a||[])).next())})};const ll=v.$;let ua=class extends O.JT{constructor(a){super(),this._keybindingService=a,this._hasContent=!1,this.hoverElement=ll("div.hover-row.status-bar"),this.actionsElement=v.R3(this.hoverElement,ll("div.actions"))}get hasContent(){return this._hasContent}addAction(a){const I=this._keybindingService.lookupKeybinding(a.commandId),z=I?I.getLabel():null;return this._hasContent=!0,this._register(Kt.render(this.actionsElement,a,z))}append(a){const I=v.R3(this.actionsElement,a);return this._hasContent=!0,I}};ua=rl([Sa(0,wt.d)],ua);class ya{constructor(a,I){this._participants=I,this._editor=a,this._result=[],this._anchor=null}setAnchor(a){this._anchor=a,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(a,I){if(I.type!==1)return[];const z=a.getModel(),oe=I.range.startLineNumber,se=z.getLineMaxColumn(oe);return a.getLineDecorations(oe).filter(Se=>{if(Se.options.isWholeLine)return!0;const Ye=Se.range.startLineNumber===oe?Se.range.startColumn:1,Vt=Se.range.endLineNumber===oe?Se.range.endColumn:se;return!(Ye>I.range.startColumn||I.range.endColumn>Vt)})}computeAsync(a){return al(this,void 0,void 0,function*(){const I=this._anchor;if(!this._editor.hasModel()||!I)return Promise.resolve([]);const z=ya._getLineDecorations(this._editor,I),oe=yield Promise.all(this._participants.map(se=>this._computeAsync(se,z,I,a)));return(0,Me.xH)(oe)})}_computeAsync(a,I,z,oe){return al(this,void 0,void 0,function*(){return a.computeAsync?a.computeAsync(z,I,oe):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const a=ya._getLineDecorations(this._editor,this._anchor);let I=[];for(const z of this._participants)I=I.concat(z.computeSync(this._anchor,a));return(0,Me.kX)(I)}onResult(a,I){I?this._result=a.concat(this._result):this._result=this._result.concat(a)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const a of this._participants)if(a.createLoadingMessage){const I=a.createLoadingMessage(this._anchor);if(I)return this._result.slice(0).concat([I])}}return this._result.slice(0)}}let fr=class Ed extends ve.${constructor(a,I,z,oe,se){super(),this._hoverVisibleKey=I,this._keybindingService=oe,this._contextKeyService=se,this.allowEditorOverflow=!0,this._participants=[z.createInstance(fe,a,this),z.createInstance(hi,a,this),z.createInstance(da,a,this),z.createInstance(Lt,a,this)],this._editor=a,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new Cn),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,Se=>{Se.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(Se=>{Se.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new ya(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new Le(this._computer,Se=>this._withResult(Se,!0),null,Se=>this._withResult(Se,!1),this._editor.getOption(52).delay),this._register(v.mu(this.getDomNode(),v.tw.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(v.mu(this.getDomNode(),v.tw.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(a.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(H.RW.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return Ed.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(a){const I=a.target.type;if(I===6)return!0;if(I===7){const z=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,oe=a.target.detail;if(oe&&!oe.isAfterLines&&typeof oe.horizontalDistanceToText=="number"&&oe.horizontalDistanceToText<z)return!0}return!1}maybeShowAt(a){var I;const z=[];for(const oe of this._participants)if(typeof oe.suggestHoverAnchor=="function"){const se=oe.suggestHoverAnchor(a);se&&z.push(se)}if(this._shouldShowAt(a)&&a.target.range){const se=[...((I=a.target.element)===null||I===void 0?void 0:I.classList.values())||[]].find(Se=>Se.startsWith("ced-colorBox"))&&a.target.range.endColumn-a.target.range.startColumn===1?new P.e(a.target.range.startLineNumber,a.target.range.startColumn+1,a.target.range.endLineNumber,a.target.range.endColumn+1):a.target.range;z.push(new We(0,se))}return z.length===0?!1:(z.sort((oe,se)=>se.priority-oe.priority),this._startShowingAt(z[0],0,!1),!0)}_showAt(a,I,z){this._showAtPosition=a,this._showAtRange=I,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=z,z&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let a=this._preferAbove;return!a&&this._contextKeyService.getContextKeyValue(Pa._y.Visible.key)&&(a=!0),{position:this._showAtPosition,range:this._showAtRange,preference:a?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(I=>this._editor.applyFontInfo(I))}_updateContents(a){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(a),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const a=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:I,lineHeight:z}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${I}px`,this._hover.contentsDomNode.style.lineHeight=`${z/I}`,this._hover.contentsDomNode.style.maxHeight=`${a}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(a,I,z){this._startShowingAt(new We(0,a),I,z)}_startShowingAt(a,I,z){if(!(this._lastAnchor&&this._lastAnchor.equals(a))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!a.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const oe=this._messages.filter(se=>se.isValidForHoverAnchor(a));if(oe.length===0)this.hide();else{if(oe.length===this._messages.length)return;this._renderMessages(a,oe)}}this._lastAnchor=a,this._computer.setAnchor(a),this._shouldFocus=z,this._hoverOperation.start(I)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(a){this._colorPicker=a}onContentsChanged(){this._hover.onContentsChanged()}_withResult(a,I){this._messages=a,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):I&&this.hide()}_renderMessages(a,I){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let z=1073741824,oe=I[0].range,se=null,Se=document.createDocumentFragment();const Ye=new O.SL,Vt=new Map;for(const Dt of I)z=Math.min(z,Dt.range.startColumn),oe=P.e.plusRange(oe,Dt.range),Dt.forceShowAtRange&&(se=Dt.range),Vt.has(Dt.owner)||Vt.set(Dt.owner,[]),Vt.get(Dt.owner).push(Dt);const Ht=Ye.add(new ua(this._keybindingService));for(const[Dt,ui]of Vt)Ye.add(Dt.renderHoverParts(ui,Se,Ht));Ht.hasContent&&Se.appendChild(Ht.hoverElement),this._renderDisposable=Ye,Se.hasChildNodes()&&(se?this._showAt(se.getStartPosition(),se,this._shouldFocus):this._showAt(new E.L(a.range.startLineNumber,z),oe,this._shouldFocus),this._updateContents(Se)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,oe?[{range:oe,options:Ed._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};fr.ID="editor.contrib.modesContentHoverWidget",fr._DECORATION_OPTIONS=$.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),fr=rl([Sa(2,Rt.TG),Sa(3,wt.d),Sa(4,Te.i6)],fr);const ca=v.$;class ta{constructor(a){this._editor=a,this._lineNumber=-1,this._result=[]}setLineNumber(a){this._lineNumber=a,this._result=[]}clearResult(){this._result=[]}computeSync(){const a=oe=>({value:oe}),I=this._editor.getLineDecorations(this._lineNumber),z=[];if(!I)return z;for(const oe of I){if(!oe.options.glyphMarginClassName)continue;const se=oe.options.glyphMarginHoverMessage;!se||(0,s.CP)(se)||z.push(...(0,Me._2)(se).map(a))}return z}onResult(a,I){this._result=this._result.concat(a)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class Zr extends ve.${constructor(a,I,z=Ve.SW){super(),this._renderDisposeables=this._register(new O.SL),this._editor=a,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new Cn),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Ot.$({editor:this._editor},I,z)),this._computer=new ta(this._editor),this._hoverOperation=new Le(this._computer,oe=>this._withResult(oe),void 0,oe=>this._withResult(oe),300),this._register(this._editor.onDidChangeConfiguration(oe=>{oe.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Zr.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(a){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const I=this._editor.getLayoutInfo(),z=this._editor.getTopForLineNumber(a),oe=this._editor.getScrollTop(),se=this._editor.getOption(58),Se=this._hover.containerDomNode.clientHeight,Ye=z-oe-(Se-se)/2;this._hover.containerDomNode.style.left=`${I.glyphMarginLeft+I.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Ye),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(I=>this._editor.applyFontInfo(I))}_updateContents(a){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(a),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(a){this._lastLineNumber!==a&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=a,this._computer.setLineNumber(a),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(a,I){this._renderDisposeables.clear();const z=document.createDocumentFragment();for(const oe of I){const se=ca("div.hover-row.markdown-hover"),Se=v.R3(se,ca("div.hover-contents")),Ye=this._renderDisposeables.add(this._markdownRenderer.render(oe.value));Se.appendChild(Ye.element),z.appendChild(se)}this._updateContents(z),this._showAt(a)}}Zr.ID="editor.contrib.modesGlyphHoverWidget";var Gl=function(we,a,I,z){var oe=arguments.length,se=oe<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(we,a,I,z);else for(var Ye=we.length-1;Ye>=0;Ye--)(Se=we[Ye])&&(se=(oe<3?Se(se):oe>3?Se(a,I,se):Se(a,I))||se);return oe>3&&se&&Object.defineProperty(a,I,se),se},ha=function(we,a){return function(I,z){a(I,z,we)}};let Dr=class xu{constructor(a,I,z,oe,se){this._editor=a,this._instantiationService=I,this._openerService=z,this._modeService=oe,this._toUnhook=new O.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Se=>{Se.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=L.u.hoverVisible.bindTo(se)}static get(a){return a.getContribution(xu.ID)}_hookEvents(){const a=()=>this._hideWidgets(),I=this._editor.getOption(52);this._isHoverEnabled=I.enabled,this._isHoverSticky=I.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(z=>this._onEditorMouseDown(z))),this._toUnhook.add(this._editor.onMouseUp(z=>this._onEditorMouseUp(z))),this._toUnhook.add(this._editor.onMouseMove(z=>this._onEditorMouseMove(z))),this._toUnhook.add(this._editor.onKeyDown(z=>this._onKeyDown(z))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(z=>this._onEditorMouseMove(z))),this._toUnhook.add(this._editor.onKeyDown(z=>this._onKeyDown(z)))),this._toUnhook.add(this._editor.onMouseLeave(a)),this._toUnhook.add(this._editor.onDidChangeModel(a)),this._toUnhook.add(this._editor.onDidScrollChange(z=>this._onEditorScrollChanged(z)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var a,I;(a=this._contentWidget)===null||a===void 0||a.onModelDecorationsChanged(),(I=this._glyphWidget)===null||I===void 0||I.onModelDecorationsChanged()}_onEditorScrollChanged(a){(a.scrollTopChanged||a.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(a){this._isMouseDown=!0;const I=a.target.type;if(I===9&&a.target.detail===fr.ID){this._hoverClicked=!0;return}I===12&&a.target.detail===Zr.ID||(I!==12&&a.target.detail!==Zr.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(a){this._isMouseDown=!1}_onEditorMouseMove(a){var I,z,oe,se,Se;let Ye=a.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&Ye===9&&a.target.detail===fr.ID||this._isHoverSticky&&!(!((z=(I=a.event.browserEvent.view)===null||I===void 0?void 0:I.getSelection())===null||z===void 0)&&z.isCollapsed)||!this._isHoverSticky&&Ye===9&&a.target.detail===fr.ID&&(!((oe=this._contentWidget)===null||oe===void 0)&&oe.isColorPickerVisible())||this._isHoverSticky&&Ye===12&&a.target.detail===Zr.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(a)){(se=this._glyphWidget)===null||se===void 0||se.hide();return}if(Ye===2&&a.target.position){(Se=this._contentWidget)===null||Se===void 0||Se.hide(),this._glyphWidget||(this._glyphWidget=new Zr(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(a.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(a){a.keyCode!==5&&a.keyCode!==6&&a.keyCode!==57&&a.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var a,I,z;this._isMouseDown&&this._hoverClicked&&(!((a=this._contentWidget)===null||a===void 0)&&a.isColorPickerVisible())||(this._hoverClicked=!1,(I=this._glyphWidget)===null||I===void 0||I.hide(),(z=this._contentWidget)===null||z===void 0||z.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(fr,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var a;return((a=this._contentWidget)===null||a===void 0?void 0:a.isColorPickerVisible())||!1}showContentHover(a,I,z){this._getOrCreateContentWidget().startShowingAtRange(a,I,z)}dispose(){var a,I;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(a=this._glyphWidget)===null||a===void 0||a.dispose(),(I=this._contentWidget)===null||I===void 0||I.dispose()}};Dr.ID="editor.contrib.hover",Dr=Gl([ha(1,Rt.TG),ha(2,Ve.v4),ha(3,J.h),ha(4,Te.i6)],Dr);class Fa extends Q.R6{constructor(){super({id:"editor.action.showHover",label:ue.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:(0,D.gx)(2089,2087),weight:100}})}run(a,I){if(!I.hasModel())return;let z=Dr.get(I);if(!z)return;const oe=I.getPosition(),se=new P.e(oe.lineNumber,oe.column,oe.lineNumber,oe.column),Se=I.getOption(2)===2;z.showContentHover(se,1,Se)}}class Ba extends Q.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:ue.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(a,I){let z=Dr.get(I);if(!z)return;const oe=I.getPosition();if(!oe)return;const se=new P.e(oe.lineNumber,oe.column,oe.lineNumber,oe.column);pn.get(I).startFindDefinitionFromCursor(oe).then(()=>{z.showContentHover(se,1,!0)})}}(0,Q._K)(Dr.ID,Dr),(0,Q.Qr)(Fa),(0,Q.Qr)(Ba),(0,at.Ic)((we,a)=>{const I=we.getColor(mt.pt);I&&a.addRule(`.monaco-editor .hoverHighlight { background-color: ${I}; }`);const z=we.getColor(mt.yJ);z&&a.addRule(`.monaco-editor .monaco-hover { background-color: ${z}; }`);const oe=we.getColor(mt.CN);oe&&(a.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${oe}; }`),a.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${oe.transparent(.5)}; }`),a.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${oe.transparent(.5)}; }`),a.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${oe.transparent(.5)}; }`));const se=we.getColor(mt.ur);se&&a.addRule(`.monaco-editor .monaco-hover a { color: ${se}; }`);const Se=we.getColor(mt.sg);Se&&a.addRule(`.monaco-editor .monaco-hover a:hover { color: ${Se}; }`);const Ye=we.getColor(mt.Sb);Ye&&a.addRule(`.monaco-editor .monaco-hover { color: ${Ye}; }`);const Vt=we.getColor(mt.Lo);Vt&&a.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Vt}; }`);const Ht=we.getColor(mt.Sw);Ht&&a.addRule(`.monaco-editor .monaco-hover code { background-color: ${Ht}; }`)})},80689:function(ti,Ge,c){"use strict";c.d(Ge,{x:function(){return L}});var D=c(91741),O=c(50187),Q=c(24314),P=function(J,R,W,s){function T(g){return g instanceof W?g:new W(function(E){E(g)})}return new(W||(W=Promise))(function(g,E){function H(C){try{N(s.next(C))}catch(x){E(x)}}function r(C){try{N(s.throw(C))}catch(x){E(x)}}function N(C){C.done?g(C.value):T(C.value).then(H,r)}N((s=s.apply(J,R||[])).next())})};class L{provideSelectionRanges(R,W){return P(this,void 0,void 0,function*(){const s=[];for(const T of W){const g=[];s.push(g);const E=new Map;yield new Promise(H=>L._bracketsRightYield(H,0,R,T,E)),yield new Promise(H=>L._bracketsLeftYield(H,0,R,T,E,g))}return s})}static _bracketsRightYield(R,W,s,T,g){const E=new Map,H=Date.now();for(;;){if(W>=L._maxRounds){R();break}if(!T){R();break}let r=s.findNextBracket(T);if(!r){R();break}if(Date.now()-H>L._maxDuration){setTimeout(()=>L._bracketsRightYield(R,W+1,s,T,g));break}const C=r.close[0];if(r.isOpen){let x=E.has(C)?E.get(C):0;E.set(C,x+1)}else{let x=E.has(C)?E.get(C):0;if(x-=1,E.set(C,Math.max(0,x)),x<0){let f=g.get(C);f||(f=new D.S,g.set(C,f)),f.push(r.range)}}T=r.range.getEndPosition()}}static _bracketsLeftYield(R,W,s,T,g,E){const H=new Map,r=Date.now();for(;;){if(W>=L._maxRounds&&g.size===0){R();break}if(!T){R();break}let N=s.findPrevBracket(T);if(!N){R();break}if(Date.now()-r>L._maxDuration){setTimeout(()=>L._bracketsLeftYield(R,W+1,s,T,g,E));break}const x=N.close[0];if(N.isOpen){let f=H.has(x)?H.get(x):0;if(f-=1,H.set(x,Math.max(0,f)),f<0){let _=g.get(x);if(_){let S=_.shift();_.size===0&&g.delete(x);const h=Q.e.fromPositions(N.range.getEndPosition(),S.getStartPosition()),y=Q.e.fromPositions(N.range.getStartPosition(),S.getEndPosition());E.push({range:h}),E.push({range:y}),L._addBracketLeading(s,y,E)}}}else{let f=H.has(x)?H.get(x):0;H.set(x,f+1)}T=N.range.getStartPosition()}}static _addBracketLeading(R,W,s){if(W.startLineNumber===W.endLineNumber)return;const T=W.startLineNumber,g=R.getLineFirstNonWhitespaceColumn(T);g!==0&&g!==W.startColumn&&(s.push({range:Q.e.fromPositions(new O.L(T,g),W.getEndPosition())}),s.push({range:Q.e.fromPositions(new O.L(T,1),W.getEndPosition())}));const E=T-1;if(E>0){const H=R.getLineFirstNonWhitespaceColumn(E);H===W.startColumn&&H!==R.getLineLastNonWhitespaceColumn(E)&&(s.push({range:Q.e.fromPositions(new O.L(E,H),W.getEndPosition())}),s.push({range:Q.e.fromPositions(new O.L(E,1),W.getEndPosition())}))}}}L._maxDuration=30,L._maxRounds=2},375:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{provideSelectionRanges:function(){return y}});var D=c(9488),O=c(71050),Q=c(17301),P=c(16830),L=c(50187),J=c(24314),R=c(3860),W=c(29102),s=c(10351),T=c(80689),g=c(97295);class E{provideSelectionRanges(B,j){const te=[];for(const ce of j){const _e=[];te.push(_e),this._addInWordRanges(_e,B,ce),this._addWordRanges(_e,B,ce),this._addWhitespaceLine(_e,B,ce),_e.push({range:B.getFullModelRange()})}return te}_addInWordRanges(B,j,te){const ce=j.getWordAtPosition(te);if(!ce)return;let{word:_e,startColumn:Ce}=ce,Ee=te.column-Ce,le=Ee,Y=Ee,$=0;for(;le>=0;le--){let G=_e.charCodeAt(le);if(le!==Ee&&(G===95||G===45))break;if((0,g.mK)(G)&&(0,g.df)($))break;$=G}for(le+=1;Y<_e.length;Y++){let G=_e.charCodeAt(Y);if((0,g.df)(G)&&(0,g.mK)($))break;if(G===95||G===45)break;$=G}le<Y&&B.push({range:new J.e(te.lineNumber,Ce+le,te.lineNumber,Ce+Y)})}_addWordRanges(B,j,te){const ce=j.getWordAtPosition(te);ce&&B.push({range:new J.e(te.lineNumber,ce.startColumn,te.lineNumber,ce.endColumn)})}_addWhitespaceLine(B,j,te){j.getLineLength(te.lineNumber)>0&&j.getLineFirstNonWhitespaceColumn(te.lineNumber)===0&&j.getLineLastNonWhitespaceColumn(te.lineNumber)===0&&B.push({range:new J.e(te.lineNumber,1,te.lineNumber,j.getLineMaxColumn(te.lineNumber))})}}var H=c(63580),r=c(84144),N=c(94565),C=function(v,B,j,te){function ce(_e){return _e instanceof j?_e:new j(function(Ce){Ce(_e)})}return new(j||(j=Promise))(function(_e,Ce){function Ee($){try{Y(te.next($))}catch(G){Ce(G)}}function le($){try{Y(te.throw($))}catch(G){Ce(G)}}function Y($){$.done?_e($.value):ce($.value).then(Ee,le)}Y((te=te.apply(v,B||[])).next())})};class x{constructor(B,j){this.index=B,this.ranges=j}mov(B){let j=this.index+(B?1:-1);if(j<0||j>=this.ranges.length)return this;const te=new x(j,this.ranges);return te.ranges[j].equalsRange(this.ranges[this.index])?te.mov(B):te}}class f{constructor(B){this._editor=B,this._ignoreSelection=!1}static get(B){return B.getContribution(f.ID)}dispose(){var B;(B=this._selectionListener)===null||B===void 0||B.dispose()}run(B){return C(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const j=this._editor.getSelections(),te=this._editor.getModel();if(!s.AC.has(te)||(this._state||(yield y(te,j.map(_e=>_e.getPosition()),this._editor.getOption(101),O.T.None).then(_e=>{var Ce;if(!(!D.Of(_e)||_e.length!==j.length)&&!(!this._editor.hasModel()||!D.fS(this._editor.getSelections(),j,(Ee,le)=>Ee.equalsSelection(le)))){for(let Ee=0;Ee<_e.length;Ee++)_e[Ee]=_e[Ee].filter(le=>le.containsPosition(j[Ee].getStartPosition())&&le.containsPosition(j[Ee].getEndPosition())),_e[Ee].unshift(j[Ee]);this._state=_e.map(Ee=>new x(0,Ee)),(Ce=this._selectionListener)===null||Ce===void 0||Ce.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var Ee;this._ignoreSelection||((Ee=this._selectionListener)===null||Ee===void 0||Ee.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(_e=>_e.mov(B));const ce=this._state.map(_e=>R.Y.fromPositions(_e.ranges[_e.index].getStartPosition(),_e.ranges[_e.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(ce)}finally{this._ignoreSelection=!1}})}}f.ID="editor.contrib.smartSelectController";class _ extends P.R6{constructor(B,j){super(j),this._forward=B}run(B,j){return C(this,void 0,void 0,function*(){let te=f.get(j);te&&(yield te.run(this._forward))})}}class S extends _{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:H.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:W.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:H.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}N.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class h extends _{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:H.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:W.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:H.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,P._K)(f.ID,f),(0,P.Qr)(S),(0,P.Qr)(h),s.AC.register("*",new E);function y(v,B,j,te){return C(this,void 0,void 0,function*(){const ce=s.AC.all(v);ce.length===1&&ce.unshift(new T.x);let _e=[],Ce=[];for(const Ee of ce)_e.push(Promise.resolve(Ee.provideSelectionRanges(v,B,te)).then(le=>{if(D.Of(le)&&le.length===B.length)for(let Y=0;Y<B.length;Y++){Ce[Y]||(Ce[Y]=[]);for(const $ of le[Y])J.e.isIRange($.range)&&J.e.containsPosition($.range,B[Y])&&Ce[Y].push(J.e.lift($.range))}},Q.Cp));return yield Promise.all(_e),Ce.map(Ee=>{if(Ee.length===0)return[];Ee.sort((G,ee)=>L.L.isBefore(G.getStartPosition(),ee.getStartPosition())?1:L.L.isBefore(ee.getStartPosition(),G.getStartPosition())||L.L.isBefore(G.getEndPosition(),ee.getEndPosition())?-1:L.L.isBefore(ee.getEndPosition(),G.getEndPosition())?1:0);let le=[],Y;for(const G of Ee)(!Y||J.e.containsRange(G,Y)&&!J.e.equalsRange(G,Y))&&(le.push(G),Y=G);if(!j.selectLeadingAndTrailingWhitespace)return le;let $=[le[0]];for(let G=1;G<le.length;G++){const ee=le[G-1],m=le[G];if(m.startLineNumber!==ee.startLineNumber||m.endLineNumber!==ee.endLineNumber){const w=new J.e(ee.startLineNumber,v.getLineFirstNonWhitespaceColumn(ee.startLineNumber),ee.endLineNumber,v.getLineLastNonWhitespaceColumn(ee.endLineNumber));w.containsRange(ee)&&!w.equalsRange(ee)&&m.containsRange(w)&&!m.equalsRange(w)&&$.push(w);const F=new J.e(ee.startLineNumber,1,ee.endLineNumber,v.getLineMaxColumn(ee.endLineNumber));F.containsRange(ee)&&!F.equalsRange(w)&&m.containsRange(F)&&!m.equalsRange(F)&&$.push(F)}$.push(m)}return $})})}(0,P.f)("_executeSelectionRangeProvider",function(v,...B){const[j]=B;return y(v,j,{selectLeadingAndTrailingWhitespace:!0},O.T.None)})},22860:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{SnippetController2:function(){return r}});var D=c(5976),O=c(16830),Q=c(24314),P=c(3860),L=c(29102),J=c(79599),R=c(63580),W=c(38819),s=c(43557),T=c(44951),g=function(C,x,f,_){var S=arguments.length,h=S<3?x:_===null?_=Object.getOwnPropertyDescriptor(x,f):_,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(C,x,f,_);else for(var v=C.length-1;v>=0;v--)(y=C[v])&&(h=(S<3?y(h):S>3?y(x,f,h):y(x,f))||h);return S>3&&h&&Object.defineProperty(x,f,h),h},E=function(C,x){return function(f,_){x(f,_,C)}};const H={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class ja{constructor(x,f,_){this._editor=x,this._logService=f,this._snippetListener=new D.SL,this._modelVersionId=-1,this._inSnippet=ja.InSnippetMode.bindTo(_),this._hasNextTabstop=ja.HasNextTabstop.bindTo(_),this._hasPrevTabstop=ja.HasPrevTabstop.bindTo(_)}static get(x){return x.getContribution(ja.ID)}dispose(){var x;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(x=this._session)===null||x===void 0||x.dispose(),this._snippetListener.dispose()}insert(x,f){try{this._doInsert(x,typeof f=="undefined"?H:Object.assign(Object.assign({},H),f))}catch(_){this.cancel(),this._logService.error(_),this._logService.error("snippet_error"),this._logService.error("insert_template=",x),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(x,f){this._editor.hasModel()&&(this._snippetListener.clear(),f.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(x,f):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new T.l(this._editor,x,f),this._session.insert()),f.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(_=>_.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:x}=this._session;if(!x){this._currentChoice=void 0;return}if(this._currentChoice!==x){this._currentChoice=x,this._editor.setSelections(this._editor.getSelections().map(_=>P.Y.fromPositions(_.getStartPosition())));const[f]=x.options;(0,J.i5)(this._editor,x.options.map((_,S)=>({kind:13,label:_.value,insertText:_.value,sortText:"a".repeat(S+1),range:Q.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,f.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(x=!1){var f;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(f=this._session)===null||f===void 0||f.dispose(),this._session=void 0,this._modelVersionId=-1,x&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};r.ID="snippetController2",r.InSnippetMode=new W.uy("inSnippetMode",!1,(0,R.N)("inSnippetMode","Whether the editor in current in snippet mode")),r.HasNextTabstop=new W.uy("hasNextTabstop",!1,(0,R.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),r.HasPrevTabstop=new W.uy("hasPrevTabstop",!1,(0,R.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),r=g([E(1,s.VZ),E(2,W.i6)],r),(0,O._K)(r.ID,r);const N=O._l.bindToContribution(r.get);(0,O.fK)(new N({id:"jumpToNextSnippetPlaceholder",precondition:W.Ao.and(r.InSnippetMode,r.HasNextTabstop),handler:C=>C.next(),kbOpts:{weight:100+30,kbExpr:L.u.editorTextFocus,primary:2}})),(0,O.fK)(new N({id:"jumpToPrevSnippetPlaceholder",precondition:W.Ao.and(r.InSnippetMode,r.HasPrevTabstop),handler:C=>C.prev(),kbOpts:{weight:100+30,kbExpr:L.u.editorTextFocus,primary:1026}})),(0,O.fK)(new N({id:"leaveSnippet",precondition:r.InSnippetMode,handler:C=>C.cancel(!0),kbOpts:{weight:100+30,kbExpr:L.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,O.fK)(new N({id:"acceptSnippet",precondition:r.InSnippetMode,handler:C=>C.finish()}))},63472:function(ti,Ge,c){"use strict";c.d(Ge,{Lv:function(){return J},Vm:function(){return L},Yj:function(){return E},xv:function(){return Q}});class D{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let r=this.pos,N=0,C=this.value.charCodeAt(r),x;if(x=D._table[C],typeof x=="number")return this.pos+=1,{type:x,pos:r,len:1};if(D.isDigitCharacter(C)){x=8;do N+=1,C=this.value.charCodeAt(r+N);while(D.isDigitCharacter(C));return this.pos+=N,{type:x,pos:r,len:N}}if(D.isVariableCharacter(C)){x=9;do C=this.value.charCodeAt(r+ ++N);while(D.isVariableCharacter(C)||D.isDigitCharacter(C));return this.pos+=N,{type:x,pos:r,len:N}}x=10;do N+=1,C=this.value.charCodeAt(r+N);while(!isNaN(C)&&typeof D._table[C]=="undefined"&&!D.isDigitCharacter(C)&&!D.isVariableCharacter(C));return this.pos+=N,{type:x,pos:r,len:N}}}D._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class O{constructor(){this._children=[]}appendChild(r){return r instanceof Q&&this._children[this._children.length-1]instanceof Q?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,N){const{parent:C}=r,x=C.children.indexOf(r),f=C.children.slice(0);f.splice(x,1,...N),C._children=f,function _(S,h){for(const y of S)y.parent=h,_(y.children,y)}(N,C)}get children(){return this._children}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof g)return r;r=r.parent}}toString(){return this.children.reduce((r,N)=>r+N.toString(),"")}len(){return 0}}class Q extends O{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new Q(this.value)}}class P extends O{}class L extends P{constructor(r){super(),this.index=r}static compareByIndex(r,N){return r.index===N.index?0:r.isFinalTabstop?1:N.isFinalTabstop||r.index<N.index?-1:r.index>N.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof J?this._children[0]:void 0}clone(){let r=new L(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(N=>N.clone()),r}}class J extends O{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof Q&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let r=new J;return this.options.forEach(r.appendChild,r),r}}class R extends O{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const N=this;let C=!1,x=r.replace(this.regexp,function(){return C=!0,N._replace(Array.prototype.slice.call(arguments,0,-2))});return!C&&this._children.some(f=>f instanceof W&&!!f.elseValue)&&(x=this._replace([])),x}_replace(r){let N="";for(const C of this._children)if(C instanceof W){let x=r[C.index]||"";x=C.resolve(x),N+=x}else N+=C.toString();return N}toString(){return""}clone(){let r=new R;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(N=>N.clone()),r}}class W extends O{constructor(r,N,C,x){super(),this.index=r,this.shorthandName=N,this.ifValue=C,this.elseValue=x}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":r&&typeof this.ifValue=="string"?this.ifValue:!r&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const N=r.match(/[a-z0-9]+/gi);return N?N.map(C=>C.charAt(0).toUpperCase()+C.substr(1).toLowerCase()).join(""):r}_toCamelCase(r){const N=r.match(/[a-z0-9]+/gi);return N?N.map((C,x)=>x===0?C.toLowerCase():C.charAt(0).toUpperCase()+C.substr(1).toLowerCase()).join(""):r}clone(){return new W(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class s extends P{constructor(r){super(),this.name=r}resolve(r){let N=r.resolve(this);return this.transform&&(N=this.transform.resolve(N||"")),N!==void 0?(this._children=[new Q(N)],!0):!1}clone(){const r=new s(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(N=>N.clone()),r}}function T(H,r){const N=[...H];for(;N.length>0;){const C=N.shift();if(!r(C))break;N.unshift(...C.children)}}class g extends O{get placeholderInfo(){if(!this._placeholders){let r=[],N;this.walk(function(C){return C instanceof L&&(r.push(C),N=!N||N.index<C.index?C:N),!0}),this._placeholders={all:r,last:N}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let N=0,C=!1;return this.walk(x=>x===r?(C=!0,!1):(N+=x.len(),!0)),C?N:-1}fullLen(r){let N=0;return T([r],C=>(N+=C.len(),!0)),N}enclosingPlaceholders(r){let N=[],{parent:C}=r;for(;C;)C instanceof L&&N.push(C),C=C.parent;return N}resolveVariables(r){return this.walk(N=>(N instanceof s&&N.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,N){return this._placeholders=void 0,super.replace(r,N)}clone(){let r=new g;return this._children=this.children.map(N=>N.clone()),r}walk(r){T(this.children,r)}}class E{constructor(){this._scanner=new D,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,N,C){this._scanner.text(r),this._token=this._scanner.next();const x=new g;for(;this._parse(x););const f=new Map,_=[];let S=0;x.walk(h=>(h instanceof L&&(S+=1,h.isFinalTabstop?f.set(0,void 0):!f.has(h.index)&&h.children.length>0?f.set(h.index,h.children):_.push(h)),!0));for(const h of _){const y=f.get(h.index);if(y){const v=new L(h.index);v.transform=h.transform;for(const B of y)v.appendChild(B.clone());x.replace(h,[v])}}return C||(C=S>0&&N),!f.has(0)&&C&&x.appendChild(new L(0)),x}_accept(r,N){if(r===void 0||this._token.type===r){let C=N?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),C}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const N=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const x=this._scanner.next();if(x.type!==0&&x.type!==4&&x.type!==5)return!1}this._token=this._scanner.next()}const C=this._scanner.value.substring(N.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),C}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let N;return(N=this._accept(5,!0))?(N=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||N,r.appendChild(new Q(N)),!0):!1}_parseTabstopOrVariableName(r){let N;const C=this._token;return this._accept(0)&&(N=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(N)?new L(Number(N)):new s(N)),!0):this._backTo(C)}_parseComplexPlaceholder(r){let N;const C=this._token;if(!(this._accept(0)&&this._accept(3)&&(N=this._accept(8,!0))))return this._backTo(C);const f=new L(Number(N));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(f),!0;if(!this._parse(f))return r.appendChild(new Q("${"+N+":")),f.children.forEach(r.appendChild,r),!0}else if(f.index>0&&this._accept(7)){const _=new J;for(;;){if(this._parseChoiceElement(_)){if(this._accept(2))continue;if(this._accept(7)&&(f.appendChild(_),this._accept(4)))return r.appendChild(f),!0}return this._backTo(C),!1}}else return this._accept(6)?this._parseTransform(f)?(r.appendChild(f),!0):(this._backTo(C),!1):this._accept(4)?(r.appendChild(f),!0):this._backTo(C)}_parseChoiceElement(r){const N=this._token,C=[];for(;!(this._token.type===2||this._token.type===7);){let x;if((x=this._accept(5,!0))?x=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||x:x=this._accept(void 0,!0),!x)return this._backTo(N),!1;C.push(x)}return C.length===0?(this._backTo(N),!1):(r.appendChild(new Q(C.join(""))),!0)}_parseComplexVariable(r){let N;const C=this._token;if(!(this._accept(0)&&this._accept(3)&&(N=this._accept(9,!0))))return this._backTo(C);const f=new s(N);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(f),!0;if(!this._parse(f))return r.appendChild(new Q("${"+N+":")),f.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(f)?(r.appendChild(f),!0):(this._backTo(C),!1):this._accept(4)?(r.appendChild(f),!0):this._backTo(C)}_parseTransform(r){let N=new R,C="",x="";for(;!this._accept(6);){let f;if(f=this._accept(5,!0)){f=this._accept(6,!0)||f,C+=f;continue}if(this._token.type!==14){C+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let f;if(f=this._accept(5,!0)){f=this._accept(5,!0)||this._accept(6,!0)||f,N.appendChild(new Q(f));continue}if(!(this._parseFormatString(N)||this._parseAnything(N)))return!1}for(;!this._accept(4);){if(this._token.type!==14){x+=this._accept(void 0,!0);continue}return!1}try{N.regexp=new RegExp(C,x)}catch(f){return!1}return r.transform=N,!0}_parseFormatString(r){const N=this._token;if(!this._accept(0))return!1;let C=!1;this._accept(3)&&(C=!0);let x=this._accept(8,!0);if(x)if(C){if(this._accept(4))return r.appendChild(new W(Number(x))),!0;if(!this._accept(1))return this._backTo(N),!1}else return r.appendChild(new W(Number(x))),!0;else return this._backTo(N),!1;if(this._accept(6)){let f=this._accept(9,!0);return!f||!this._accept(4)?(this._backTo(N),!1):(r.appendChild(new W(Number(x),f)),!0)}else if(this._accept(11)){let f=this._until(4);if(f)return r.appendChild(new W(Number(x),void 0,f,void 0)),!0}else if(this._accept(12)){let f=this._until(4);if(f)return r.appendChild(new W(Number(x),void 0,void 0,f)),!0}else if(this._accept(13)){let f=this._until(1);if(f){let _=this._until(4);if(_)return r.appendChild(new W(Number(x),void 0,f,_)),!0}}else{let f=this._until(4);if(f)return r.appendChild(new W(Number(x),void 0,void 0,f)),!0}return this._backTo(N),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new Q(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},44951:function(ti,Ge,c){"use strict";c.d(Ge,{l:function(){return m}});var D=c(9488),O=c(5976),Q=c(97295),P=c(69386),L=c(24314),J=c(3860),R=c(24979),W=c(44349),s=c(73910),T=c(97781),g=c(40382),E=c(63472),H=c(68843),r=c(55336),N=c(95935);const C=new Uint8Array(16),x=[];for(let w=0;w<256;w++)x.push(w.toString(16).padStart(2,"0"));let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(w){for(let F=0;F<w.length;F++)w[F]=Math.floor(Math.random()*256);return w};function _(){f(C),C[6]=C[6]&15|64,C[8]=C[8]&63|128;let w=0,F="";return F+=x[C[w++]],F+=x[C[w++]],F+=x[C[w++]],F+=x[C[w++]],F+="-",F+=x[C[w++]],F+=x[C[w++]],F+="-",F+=x[C[w++]],F+=x[C[w++]],F+="-",F+=x[C[w++]],F+=x[C[w++]],F+="-",F+=x[C[w++]],F+=x[C[w++]],F+=x[C[w++]],F+=x[C[w++]],F+=x[C[w++]],F+=x[C[w++]],F}var S=c(94660),h=c(63580),y=c(70666);const v="code-workspace";function B(w){const F=w;return typeof(F==null?void 0:F.id)=="string"&&y.o.isUri(F.uri)}function j(w){if(w.configuration)return{id:w.id,configPath:w.configuration};if(w.folders.length===1)return{id:w.id,uri:w.folders[0].uri}}class te{constructor(F){this._delegates=F}resolve(F){for(const ie of this._delegates){let pe=ie.resolve(F);if(pe!==void 0)return pe}}}class ce{constructor(F,ie,pe,ue){this._model=F,this._selection=ie,this._selectionIdx=pe,this._overtypingCapturer=ue}resolve(F){const{name:ie}=F;if(ie==="SELECTION"||ie==="TM_SELECTED_TEXT"){let pe=this._model.getValueInRange(this._selection)||void 0,ue=this._selection.startLineNumber!==this._selection.endLineNumber;if(!pe&&this._overtypingCapturer){const ke=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);ke&&(pe=ke.value,ue=ke.multiline)}if(pe&&ue&&F.snippet){const ke=this._model.getLineContent(this._selection.startLineNumber),Te=(0,Q.V8)(ke,0,this._selection.startColumn-1);let rt=Te;F.snippet.walk(mt=>mt===F?!1:(mt instanceof E.xv&&(rt=(0,Q.V8)((0,Q.uq)(mt.value).pop())),!0));const Rt=(0,Q.Mh)(rt,Te);pe=pe.replace(/(\r\n|\r|\n)(.*)/g,(mt,Mt,it)=>`${Mt}${rt.substr(Rt)}${it}`)}return pe}else{if(ie==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(ie==="TM_CURRENT_WORD"){const pe=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return pe&&pe.word||void 0}else{if(ie==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(ie==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class _e{constructor(F,ie){this._labelService=F,this._model=ie}resolve(F){const{name:ie}=F;if(ie==="TM_FILENAME")return r.EZ(this._model.uri.fsPath);if(ie==="TM_FILENAME_BASE"){const pe=r.EZ(this._model.uri.fsPath),ue=pe.lastIndexOf(".");return ue<=0?pe:pe.slice(0,ue)}else{if(ie==="TM_DIRECTORY")return r.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,N.XX)(this._model.uri));if(ie==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(ie==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class Ce{constructor(F,ie,pe,ue){this._readClipboardText=F,this._selectionIdx=ie,this._selectionCount=pe,this._spread=ue}resolve(F){if(F.name!=="CLIPBOARD")return;const ie=this._readClipboardText();if(ie){if(this._spread){const pe=ie.split(/\r\n|\n|\r/).filter(ue=>!(0,Q.m5)(ue));if(pe.length===this._selectionCount)return pe[this._selectionIdx]}return ie}}}class Ee{constructor(F,ie){this._model=F,this._selection=ie}resolve(F){const{name:ie}=F,pe=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),ue=S.zu.getComments(pe);if(ue){if(ie==="LINE_COMMENT")return ue.lineCommentToken||void 0;if(ie==="BLOCK_COMMENT_START")return ue.blockCommentStartToken||void 0;if(ie==="BLOCK_COMMENT_END")return ue.blockCommentEndToken||void 0}}}class le{constructor(){this._date=new Date}resolve(F){const{name:ie}=F;if(ie==="CURRENT_YEAR")return String(this._date.getFullYear());if(ie==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(ie==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(ie==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(ie==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(ie==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(ie==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(ie==="CURRENT_DAY_NAME")return le.dayNames[this._date.getDay()];if(ie==="CURRENT_DAY_NAME_SHORT")return le.dayNamesShort[this._date.getDay()];if(ie==="CURRENT_MONTH_NAME")return le.monthNames[this._date.getMonth()];if(ie==="CURRENT_MONTH_NAME_SHORT")return le.monthNamesShort[this._date.getMonth()];if(ie==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}le.dayNames=[h.N("Sunday","Sunday"),h.N("Monday","Monday"),h.N("Tuesday","Tuesday"),h.N("Wednesday","Wednesday"),h.N("Thursday","Thursday"),h.N("Friday","Friday"),h.N("Saturday","Saturday")],le.dayNamesShort=[h.N("SundayShort","Sun"),h.N("MondayShort","Mon"),h.N("TuesdayShort","Tue"),h.N("WednesdayShort","Wed"),h.N("ThursdayShort","Thu"),h.N("FridayShort","Fri"),h.N("SaturdayShort","Sat")],le.monthNames=[h.N("January","January"),h.N("February","February"),h.N("March","March"),h.N("April","April"),h.N("May","May"),h.N("June","June"),h.N("July","July"),h.N("August","August"),h.N("September","September"),h.N("October","October"),h.N("November","November"),h.N("December","December")],le.monthNamesShort=[h.N("JanuaryShort","Jan"),h.N("FebruaryShort","Feb"),h.N("MarchShort","Mar"),h.N("AprilShort","Apr"),h.N("MayShort","May"),h.N("JuneShort","Jun"),h.N("JulyShort","Jul"),h.N("AugustShort","Aug"),h.N("SeptemberShort","Sep"),h.N("OctoberShort","Oct"),h.N("NovemberShort","Nov"),h.N("DecemberShort","Dec")];class Y{constructor(F){this._workspaceService=F}resolve(F){if(!this._workspaceService)return;const ie=j(this._workspaceService.getWorkspace());if(ie){if(F.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(ie);if(F.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(ie)}}_resolveWorkspaceName(F){if(B(F))return r.EZ(F.uri.path);let ie=r.EZ(F.configPath.path);return ie.endsWith(v)&&(ie=ie.substr(0,ie.length-v.length-1)),ie}_resoveWorkspacePath(F){if(B(F))return(0,H.D)(F.uri.fsPath);let ie=r.EZ(F.configPath.path),pe=F.configPath.fsPath;return pe.endsWith(ie)&&(pe=pe.substr(0,pe.length-ie.length-1)),pe?(0,H.D)(pe):"/"}}class ${resolve(F){const{name:ie}=F;if(ie==="RANDOM")return Math.random().toString().slice(-6);if(ie==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(ie==="UUID")return _()}}(0,T.Ic)((w,F)=>{function ie(pe){const ue=w.getColor(pe);return ue?ue.toString():"transparent"}F.addRule(`.monaco-editor .snippet-placeholder { background-color: ${ie(s.u2)}; outline-color: ${ie(s.Pk)}; }`),F.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${ie(s.I1)}; outline-color: ${ie(s.U6)}; }`)});class G{constructor(F,ie,pe,ue){this._editor=F,this._snippet=ie,this._offset=pe,this._snippetLineLeadingWhitespace=ue,this._nestingLevel=1,this._placeholderGroups=(0,D.vM)(ie.placeholders,E.Vm.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const F=this._editor.getModel();this._editor.changeDecorations(ie=>{for(const pe of this._snippet.placeholders){const ue=this._snippet.offset(pe),ke=this._snippet.fullLen(pe),Te=L.e.fromPositions(F.getPositionAt(this._offset+ue),F.getPositionAt(this._offset+ue+ke)),rt=pe.isFinalTabstop?G._decor.inactiveFinal:G._decor.inactive,Rt=ie.addDecoration(Te,rt);this._placeholderDecorations.set(pe,Rt)}})}move(F){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let ue=[];for(const ke of this._placeholderGroups[this._placeholderGroupsIdx])if(ke.transform){const Te=this._placeholderDecorations.get(ke),rt=this._editor.getModel().getDecorationRange(Te),Rt=this._editor.getModel().getValueInRange(rt),mt=ke.transform.resolve(Rt).split(/\r\n|\r|\n/);for(let Mt=1;Mt<mt.length;Mt++)mt[Mt]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+mt[Mt]);ue.push(P.h.replace(rt,mt.join(this._editor.getModel().getEOL())))}ue.length>0&&this._editor.executeEdits("snippet.placeholderTransform",ue)}let ie=!1;F===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,ie=!0):F===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,ie=!0);const pe=this._editor.getModel().changeDecorations(ue=>{const ke=new Set,Te=[];for(const rt of this._placeholderGroups[this._placeholderGroupsIdx]){const Rt=this._placeholderDecorations.get(rt),mt=this._editor.getModel().getDecorationRange(Rt);Te.push(new J.Y(mt.startLineNumber,mt.startColumn,mt.endLineNumber,mt.endColumn)),ie=ie&&this._hasPlaceholderBeenCollapsed(rt),ue.changeDecorationOptions(Rt,rt.isFinalTabstop?G._decor.activeFinal:G._decor.active),ke.add(rt);for(const Mt of this._snippet.enclosingPlaceholders(rt)){const it=this._placeholderDecorations.get(Mt);ue.changeDecorationOptions(it,Mt.isFinalTabstop?G._decor.activeFinal:G._decor.active),ke.add(Mt)}}for(const[rt,Rt]of this._placeholderDecorations)ke.has(rt)||ue.changeDecorationOptions(Rt,rt.isFinalTabstop?G._decor.inactiveFinal:G._decor.inactive);return Te});return ie?this.move(F):pe!=null?pe:[]}_hasPlaceholderBeenCollapsed(F){let ie=F;for(;ie;){if(ie instanceof E.Vm){const pe=this._placeholderDecorations.get(ie);if(this._editor.getModel().getDecorationRange(pe).isEmpty()&&ie.toString().length>0)return!0}ie=ie.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const F=new Map;for(const ie of this._placeholderGroups){let pe;for(const ue of ie){if(ue.isFinalTabstop)break;pe||(pe=[],F.set(ue.index,pe));const ke=this._placeholderDecorations.get(ue),Te=this._editor.getModel().getDecorationRange(ke);if(!Te){F.delete(ue.index);break}pe.push(Te)}}return F}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(F){const ie=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(pe=>{for(const ue of this._placeholderGroups[this._placeholderGroupsIdx]){const ke=F.shift();console.assert(!ke._placeholderDecorations);const Te=ke._snippet.placeholderInfo.last.index;for(const Rt of ke._snippet.placeholderInfo.all)Rt.isFinalTabstop?Rt.index=ue.index+(Te+1)/this._nestingLevel:Rt.index=ue.index+Rt.index/this._nestingLevel;this._snippet.replace(ue,ke._snippet.children);const rt=this._placeholderDecorations.get(ue);pe.removeDecoration(rt),this._placeholderDecorations.delete(ue);for(const Rt of ke._snippet.placeholders){const mt=ke._snippet.offset(Rt),Mt=ke._snippet.fullLen(Rt),it=L.e.fromPositions(ie.getPositionAt(ke._offset+mt),ie.getPositionAt(ke._offset+mt+Mt)),Je=pe.addDecoration(it,G._decor.inactive);this._placeholderDecorations.set(Rt,Je)}}this._placeholderGroups=(0,D.vM)(this._snippet.placeholders,E.Vm.compareByIndex)})}}G._decor={active:R.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:R.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:R.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:R.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const ee={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class m{constructor(F,ie,pe=ee){this._templateMerges=[],this._snippets=[],this._editor=F,this._template=ie,this._options=pe}static adjustWhitespace(F,ie,pe,ue,ke){const Te=F.getLineContent(ie.lineNumber),rt=(0,Q.V8)(Te,0,ie.column-1);let Rt;return pe.walk(mt=>{if(!(mt instanceof E.xv)||mt.parent instanceof E.Lv)return!0;const Mt=mt.value.split(/\r\n|\r|\n/);if(ue){const Je=pe.offset(mt);if(Je===0)Mt[0]=F.normalizeIndentation(Mt[0]);else{Rt=Rt!=null?Rt:pe.toString();let Ae=Rt.charCodeAt(Je-1);(Ae===10||Ae===13)&&(Mt[0]=F.normalizeIndentation(rt+Mt[0]))}for(let Ae=1;Ae<Mt.length;Ae++)Mt[Ae]=F.normalizeIndentation(rt+Mt[Ae])}const it=Mt.join(F.getEOL());return it!==mt.value&&(mt.parent.replace(mt,[new E.xv(it)]),Rt=void 0),!0}),rt}static adjustSelection(F,ie,pe,ue){if(pe!==0||ue!==0){const{positionLineNumber:ke,positionColumn:Te}=ie,rt=Te-pe,Rt=Te+ue,mt=F.validateRange({startLineNumber:ke,startColumn:rt,endLineNumber:ke,endColumn:Rt});ie=J.Y.createWithDirection(mt.startLineNumber,mt.startColumn,mt.endLineNumber,mt.endColumn,ie.getDirection())}return ie}static createEditsAndSnippets(F,ie,pe,ue,ke,Te,rt,Rt){const mt=[],Mt=[];if(!F.hasModel())return{edits:mt,snippets:Mt};const it=F.getModel(),Je=F.invokeWithinContext(Pe=>Pe.get(g.ec)),Ae=F.invokeWithinContext(Pe=>new _e(Pe.get(W.e),it)),ge=()=>rt;let Re=0,ot=it.getValueInRange(m.adjustSelection(it,F.getSelection(),pe,0)),dt=it.getValueInRange(m.adjustSelection(it,F.getSelection(),0,ue)),lt=it.getLineFirstNonWhitespaceColumn(F.getSelection().positionLineNumber);const Ie=F.getSelections().map((Pe,ye)=>({selection:Pe,idx:ye})).sort((Pe,ye)=>L.e.compareRangesUsingStarts(Pe.selection,ye.selection));for(const{selection:Pe,idx:ye}of Ie){let Xe=m.adjustSelection(it,Pe,pe,0),st=m.adjustSelection(it,Pe,0,ue);ot!==it.getValueInRange(Xe)&&(Xe=Pe),dt!==it.getValueInRange(st)&&(st=Pe);const Pt=Pe.setStartPosition(Xe.startLineNumber,Xe.startColumn).setEndPosition(st.endLineNumber,st.endColumn),qt=new E.Yj().parse(ie,!0,ke),Ci=Pt.getStartPosition(),ii=m.adjustWhitespace(it,Ci,qt,Te||ye>0&&lt!==it.getLineFirstNonWhitespaceColumn(Pe.positionLineNumber),!0);qt.resolveVariables(new te([Ae,new Ce(ge,ye,Ie.length,F.getOption(70)==="spread"),new ce(it,Pe,ye,Rt),new Ee(it,Pe),new le,new Y(Je),new $]));const At=it.getOffsetAt(Ci)+Re;Re+=qt.toString().length-it.getValueLengthInRange(Pt),mt[ye]=P.h.replace(Pt,qt.toString()),mt[ye].identifier={major:ye,minor:0},Mt[ye]=new G(F,qt,At,ii)}return{edits:mt,snippets:Mt}}dispose(){(0,O.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:F,snippets:ie}=m.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=ie,this._editor.executeEdits("snippet",F,pe=>this._snippets[0].hasPlaceholder?this._move(!0):pe.filter(ue=>!!ue.identifier).map(ue=>J.Y.fromPositions(ue.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(F,ie=ee){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,F]);const{edits:pe,snippets:ue}=m.createEditsAndSnippets(this._editor,F,ie.overwriteBefore,ie.overwriteAfter,!0,ie.adjustWhitespace,ie.clipboardText,ie.overtypingCapturer);this._editor.executeEdits("snippet",pe,ke=>{for(const Te of this._snippets)Te.merge(ue);return console.assert(ue.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):ke.filter(Te=>!!Te.identifier).map(Te=>J.Y.fromPositions(Te.range.getEndPosition()))})}next(){const F=this._move(!0);this._editor.setSelections(F),this._editor.revealPositionInCenterIfOutsideViewport(F[0].getPosition())}prev(){const F=this._move(!1);this._editor.setSelections(F),this._editor.revealPositionInCenterIfOutsideViewport(F[0].getPosition())}_move(F){const ie=[];for(const pe of this._snippets){const ue=pe.move(F);ie.push(...ue)}return ie}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const F=this._editor.getSelections();if(F.length<this._snippets.length)return!1;let ie=new Map;for(const pe of this._snippets){const ue=pe.computePossibleSelections();if(ie.size===0)for(const[ke,Te]of ue){Te.sort(L.e.compareRangesUsingStarts);for(const rt of F)if(Te[0].containsRange(rt)){ie.set(ke,[]);break}}if(ie.size===0)return!1;ie.forEach((ke,Te)=>{ke.push(...ue.get(Te))})}F.sort(L.e.compareRangesUsingStarts);for(let[pe,ue]of ie){if(ue.length!==F.length){ie.delete(pe);continue}ue.sort(L.e.compareRangesUsingStarts);for(let ke=0;ke<ue.length;ke++)if(!ue[ke].containsRange(F[ke])){ie.delete(pe);continue}}return ie.size>0}}},79599:function(ti,Ge,c){"use strict";c.d(Ge,{A9:function(){return h},GI:function(){return _},ZJ:function(){return v},_y:function(){return f},i5:function(){return Y},kL:function(){return j},wg:function(){return Ee}});var D=c(71050),O=c(17301),Q=c(75392),P=c(5976),L=c(84013),J=c(98401),R=c(70666),W=c(50187),s=c(24314),T=c(10351),g=c(88216),E=c(63472),H=c(63580),r=c(84144),N=c(94565),C=c(38819),x=function($,G,ee,m){function w(F){return F instanceof ee?F:new ee(function(ie){ie(F)})}return new(ee||(ee=Promise))(function(F,ie){function pe(Te){try{ke(m.next(Te))}catch(rt){ie(rt)}}function ue(Te){try{ke(m.throw(Te))}catch(rt){ie(rt)}}function ke(Te){Te.done?F(Te.value):w(Te.value).then(pe,ue)}ke((m=m.apply($,G||[])).next())})};const f={Visible:new C.uy("suggestWidgetVisible",!1,(0,H.N)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new C.uy("suggestWidgetDetailsVisible",!1,(0,H.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new C.uy("suggestWidgetMultipleSuggestions",!1,(0,H.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new C.uy("suggestionMakesTextEdit",!0,(0,H.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new C.uy("acceptSuggestionOnEnter",!0,(0,H.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new C.uy("suggestionHasInsertAndReplaceRange",!1,(0,H.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new C.uy("suggestionInsertMode",void 0,{type:"string",description:(0,H.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new C.uy("suggestionCanResolve",!1,(0,H.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},_=new r.eH("suggestWidgetStatusBar");class S{constructor(G,ee,m,w){this.position=G,this.completion=ee,this.container=m,this.provider=w,this.isInvalid=!1,this.score=Q.CL.Default,this.distance=0,this.textLabel=typeof ee.label=="string"?ee.label:ee.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=ee.sortText&&ee.sortText.toLowerCase(),this.filterTextLow=ee.filterText&&ee.filterText.toLowerCase(),s.e.isIRange(ee.range)?(this.editStart=new W.L(ee.range.startLineNumber,ee.range.startColumn),this.editInsertEnd=new W.L(ee.range.endLineNumber,ee.range.endColumn),this.editReplaceEnd=new W.L(ee.range.endLineNumber,ee.range.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(ee.range)||ee.range.startLineNumber!==G.lineNumber):(this.editStart=new W.L(ee.range.insert.startLineNumber,ee.range.insert.startColumn),this.editInsertEnd=new W.L(ee.range.insert.endLineNumber,ee.range.insert.endColumn),this.editReplaceEnd=new W.L(ee.range.replace.endLineNumber,ee.range.replace.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(ee.range.insert)||s.e.spansMultipleLines(ee.range.replace)||ee.range.insert.startLineNumber!==G.lineNumber||ee.range.replace.startLineNumber!==G.lineNumber||ee.range.insert.startColumn!==ee.range.replace.startColumn),typeof w.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(G){return x(this,void 0,void 0,function*(){if(!this._resolveCache){const ee=G.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,G)).then(m=>{Object.assign(this.completion,m),this._isResolved=!0,ee.dispose()},m=>{(0,O.VV)(m)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class h{constructor(G=2,ee=new Set,m=new Set,w=!0){this.snippetSortOrder=G,this.kindFilter=ee,this.providerFilter=m,this.showDeprecated=w}}h.default=new h;let y;function v(){return y}class B{constructor(G,ee,m,w){this.items=G,this.needsClipboard=ee,this.durations=m,this.disposable=w}}function j($,G,ee=h.default,m={triggerKind:0},w=D.T.None){return x(this,void 0,void 0,function*(){const F=new L.G(!0);G=G.clone();const ie=$.getWordAtPosition(G),pe=ie?new s.e(G.lineNumber,ie.startColumn,G.lineNumber,ie.endColumn):s.e.fromPositions(G),ue={replace:pe,insert:pe.setEndPosition(G.lineNumber,G.column)},ke=[],Te=new P.SL,rt=[];let Rt=!1;const mt=(it,Je,Ae)=>{var ge,Re,ot;if(Je){for(let dt of Je.suggestions)if(!ee.kindFilter.has(dt.kind)){if(!ee.showDeprecated&&(!((ge=dt==null?void 0:dt.tags)===null||ge===void 0)&&ge.includes(1)))continue;dt.range||(dt.range=ue),dt.sortText||(dt.sortText=typeof dt.label=="string"?dt.label:dt.label.label),!Rt&&dt.insertTextRules&&dt.insertTextRules&4&&(Rt=E.Yj.guessNeedsClipboard(dt.insertText)),ke.push(new S(G,dt,Je,it))}(0,P.Wf)(Je)&&Te.add(Je),rt.push({providerName:(Re=it._debugDisplayName)!==null&&Re!==void 0?Re:"unkown_provider",elapsedProvider:(ot=Je.duration)!==null&&ot!==void 0?ot:-1,elapsedOverall:Ae.elapsed()})}},Mt=(()=>x(this,void 0,void 0,function*(){if(!y||ee.kindFilter.has(27)||ee.providerFilter.size>0&&!ee.providerFilter.has(y))return;const it=new L.G(!0),Je=yield y.provideCompletionItems($,G,m,w);mt(y,Je,it)}))();for(let it of T.KZ.orderedGroups($)){let Je=ke.length;if(yield Promise.all(it.map(Ae=>x(this,void 0,void 0,function*(){if(!(ee.providerFilter.size>0&&!ee.providerFilter.has(Ae)))try{const ge=new L.G(!0),Re=yield Ae.provideCompletionItems($,G,m,w);mt(Ae,Re,ge)}catch(ge){(0,O.Cp)(ge)}}))),Je!==ke.length||w.isCancellationRequested)break}return yield Mt,w.isCancellationRequested?(Te.dispose(),Promise.reject((0,O.F0)())):new B(ke.sort(Ee(ee.snippetSortOrder)),Rt,{entries:rt,elapsed:F.elapsed()},Te)})}function te($,G){if($.sortTextLow&&G.sortTextLow){if($.sortTextLow<G.sortTextLow)return-1;if($.sortTextLow>G.sortTextLow)return 1}return $.completion.label<G.completion.label?-1:$.completion.label>G.completion.label?1:$.completion.kind-G.completion.kind}function ce($,G){if($.completion.kind!==G.completion.kind){if($.completion.kind===27)return-1;if(G.completion.kind===27)return 1}return te($,G)}function _e($,G){if($.completion.kind!==G.completion.kind){if($.completion.kind===27)return 1;if(G.completion.kind===27)return-1}return te($,G)}const Ce=new Map;Ce.set(0,ce),Ce.set(2,_e),Ce.set(1,te);function Ee($){return Ce.get($)}N.P.registerCommand("_executeCompletionItemProvider",($,...G)=>x(void 0,void 0,void 0,function*(){const[ee,m,w,F]=G;(0,J.p_)(R.o.isUri(ee)),(0,J.p_)(W.L.isIPosition(m)),(0,J.p_)(typeof w=="string"||!w),(0,J.p_)(typeof F=="number"||!F);const ie=yield $.get(g.S).createModelReference(ee);try{const pe={incomplete:!1,suggestions:[]},ue=[],ke=yield j(ie.object.textEditorModel,W.L.lift(m),void 0,{triggerCharacter:w,triggerKind:w?1:0});for(const Te of ke.items)ue.length<(F!=null?F:0)&&ue.push(Te.resolve(D.T.None)),pe.incomplete=pe.incomplete||Te.container.incomplete,pe.suggestions.push(Te.completion);try{return yield Promise.all(ue),pe}finally{setTimeout(()=>ke.disposable.dispose(),100)}}finally{ie.dispose()}}));const le=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let G={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,G}};T.KZ.register("*",le);function Y($,G){setTimeout(()=>{le.onlyOnceSuggestions.push(...G),$.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(le))},0)}},73707:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{SuggestController:function(){return en},TriggerSuggestAction:function(){return $n}});var D=c(35996),O=c(9488),Q=c(15393),P=c(71050),L=c(17301),J=c(4669),R=c(8313),W=c(5976),s=c(1432),T=c(84013),g=c(98401),E=c(55812),H=c(16830),r=c(69386),N=c(50187),C=c(24314),x=c(29102),f=c(22860),_=c(63472),S=c(43702),h=c(10351),y=c(33108),v=c(65026),B=c(72065),j=c(87060),te=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},ce=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}};class _e{constructor(ve){this.name=ve}select(ve,Me,Ue){if(Ue.length===0)return 0;let vt=Ue[0].score[0];for(let yt=0;yt<Ue.length;yt++){const{score:si,completion:Jt}=Ue[yt];if(si[0]!==vt)break;if(Jt.preselect)return yt}return 0}}class Ce extends _e{constructor(){super("first")}memorize(ve,Me,Ue){}toJSON(){}fromJSON(){}}class Ee extends _e{constructor(){super("recentlyUsed"),this._cache=new S.z6(300,.66),this._seq=0}memorize(ve,Me,Ue){const vt=`${ve.getLanguageId()}/${Ue.textLabel}`;this._cache.set(vt,{touch:this._seq++,type:Ue.completion.kind,insertText:Ue.completion.insertText})}select(ve,Me,Ue){if(Ue.length===0)return 0;const vt=ve.getLineContent(Me.lineNumber).substr(Me.column-10,Me.column-1);if(/\s$/.test(vt))return super.select(ve,Me,Ue);let yt=Ue[0].score[0],si=-1,Jt=-1,un=-1;for(let xn=0;xn<Ue.length&&Ue[xn].score[0]===yt;xn++){const Pi=`${ve.getLanguageId()}/${Ue[xn].textLabel}`,Ji=this._cache.peek(Pi);if(Ji&&Ji.touch>un&&Ji.type===Ue[xn].completion.kind&&Ji.insertText===Ue[xn].completion.insertText&&(un=Ji.touch,Jt=xn),Ue[xn].completion.preselect&&si===-1)return si=xn}return Jt!==-1?Jt:si!==-1?si:0}toJSON(){return this._cache.toJSON()}fromJSON(ve){this._cache.clear();let Me=0;for(const[Ue,vt]of ve)vt.touch=Me,vt.type=typeof vt.type=="number"?vt.type:(0,h.jr)(vt.type),this._cache.set(Ue,vt);this._seq=this._cache.size}}class le extends _e{constructor(){super("recentlyUsedByPrefix"),this._trie=S.Id.forStrings(),this._seq=0}memorize(ve,Me,Ue){const{word:vt}=ve.getWordUntilPosition(Me),yt=`${ve.getLanguageId()}/${vt}`;this._trie.set(yt,{type:Ue.completion.kind,insertText:Ue.completion.insertText,touch:this._seq++})}select(ve,Me,Ue){let{word:vt}=ve.getWordUntilPosition(Me);if(!vt)return super.select(ve,Me,Ue);let yt=`${ve.getLanguageId()}/${vt}`,si=this._trie.get(yt);if(si||(si=this._trie.findSubstr(yt)),si)for(let Jt=0;Jt<Ue.length;Jt++){let{kind:un,insertText:xn}=Ue[Jt].completion;if(un===si.type&&xn===si.insertText)return Jt}return super.select(ve,Me,Ue)}toJSON(){let ve=[];return this._trie.forEach((Me,Ue)=>ve.push([Ue,Me])),ve.sort((Me,Ue)=>-(Me[1].touch-Ue[1].touch)).forEach((Me,Ue)=>Me[1].touch=Ue),ve.slice(0,200)}fromJSON(ve){if(this._trie.clear(),ve.length>0){this._seq=ve[0][1].touch+1;for(const[Me,Ue]of ve)Ue.type=typeof Ue.type=="number"?Ue.type:(0,h.jr)(Ue.type),this._trie.set(Me,Ue)}}}let Y=class Nl{constructor(ve,Me){this._storageService=ve,this._configService=Me,this._disposables=new W.SL,this._persistSoon=new Q.pY(()=>this._saveState(),500),this._disposables.add(ve.onWillSaveState(Ue=>{Ue.reason===j.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(ve,Me,Ue){this._withStrategy(ve,Me).memorize(ve,Me,Ue),this._persistSoon.schedule()}select(ve,Me,Ue){return this._withStrategy(ve,Me).select(ve,Me,Ue)}_withStrategy(ve,Me){var Ue;const vt=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:ve.getLanguageIdAtPosition(Me.lineNumber,Me.column),resource:ve.uri});if(((Ue=this._strategy)===null||Ue===void 0?void 0:Ue.name)!==vt){this._saveState();const yt=Nl._strategyCtors.get(vt)||Ce;this._strategy=new yt;try{const Jt=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,un=this._storageService.get(`${Nl._storagePrefix}/${vt}`,Jt);un&&this._strategy.fromJSON(JSON.parse(un))}catch(si){}}return this._strategy}_saveState(){if(this._strategy){const Me=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Ue=JSON.stringify(this._strategy);this._storageService.store(`${Nl._storagePrefix}/${this._strategy.name}`,Ue,Me,1)}}};Y._strategyCtors=new Map([["recentlyUsedByPrefix",le],["recentlyUsed",Ee],["first",Ce]]),Y._storagePrefix="suggest/memories",Y=te([ce(0,j.Uy),ce(1,y.Ui)],Y);const $=(0,B.yh)("ISuggestMemories");(0,v.z)($,Y,!0);var G=c(38819),ee=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},m=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}};let w=class Iu{constructor(ve,Me){this._editor=ve,this._enabled=!1,this._ckAtEnd=Iu.AtEnd.bindTo(Me),this._configListener=this._editor.onDidChangeConfiguration(Ue=>Ue.hasChanged(110)&&this._update()),this._update()}dispose(){var ve;this._configListener.dispose(),(ve=this._selectionListener)===null||ve===void 0||ve.dispose(),this._ckAtEnd.reset()}_update(){const ve=this._editor.getOption(110)==="on";if(this._enabled!==ve)if(this._enabled=ve,this._enabled){const Me=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Ue=this._editor.getModel(),vt=this._editor.getSelection(),yt=Ue.getWordAtPosition(vt.getStartPosition());if(!yt){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(yt.endColumn===vt.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Me),Me()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};w.AtEnd=new G.uy("atEndOfWord",!1),w=ee([m(1,G.i6)],w);var F=c(63580),ie=c(84144),pe=c(94565),ue=c(49989),ke=c(43557),Te=c(79599),rt=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},Rt=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}};let mt=class Tl{constructor(ve,Me){this._editor=ve,this._index=0,this._ckOtherSuggestions=Tl.OtherSuggestions.bindTo(Me)}dispose(){this.reset()}reset(){var ve;this._ckOtherSuggestions.reset(),(ve=this._listener)===null||ve===void 0||ve.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:ve,index:Me},Ue){if(ve.items.length===0){this.reset();return}if(Tl._moveIndex(!0,ve,Me)===Me){this.reset();return}this._acceptNext=Ue,this._model=ve,this._index=Me,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(ve,Me,Ue){let vt=Ue;for(;vt=(vt+Me.items.length+(ve?1:-1))%Me.items.length,!(vt===Ue||!Me.items[vt].completion.additionalTextEdits););return vt}next(){this._move(!0)}prev(){this._move(!1)}_move(ve){if(this._model)try{this._ignore=!0,this._index=Tl._moveIndex(ve,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};mt.OtherSuggestions=new G.uy("hasOtherSuggestions",!1),mt=rt([Rt(1,G.i6)],mt);var Mt=c(44906);class it{constructor(ve,Me,Ue){this._disposables=new W.SL,this._disposables.add(Me.onDidShow(()=>this._onItem(Me.getFocusedItem()))),this._disposables.add(Me.onDidFocus(this._onItem,this)),this._disposables.add(Me.onDidHide(this.reset,this)),this._disposables.add(ve.onWillType(vt=>{if(this._active&&!Me.isFrozen()){const yt=vt.charCodeAt(vt.length-1);this._active.acceptCharacters.has(yt)&&ve.getOption(0)&&Ue(this._active.item)}}))}_onItem(ve){if(!ve||!(0,O.Of)(ve.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===ve.item)return;const Me=new Mt.q;for(const Ue of ve.item.completion.commitCharacters)Ue.length>0&&Me.add(Ue.charCodeAt(0));this._active={acceptCharacters:Me,item:ve}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var Je=c(97295),Ae=c(3860),ge=c(90469),Re=c(80689),ot=function(Kt,ve,Me,Ue){function vt(yt){return yt instanceof Me?yt:new Me(function(si){si(yt)})}return new(Me||(Me=Promise))(function(yt,si){function Jt(Pi){try{xn(Ue.next(Pi))}catch(Ji){si(Ji)}}function un(Pi){try{xn(Ue.throw(Pi))}catch(Ji){si(Ji)}}function xn(Pi){Pi.done?yt(Pi.value):vt(Pi.value).then(Jt,un)}xn((Ue=Ue.apply(Kt,ve||[])).next())})};class dt{static create(ve,Me){return ot(this,void 0,void 0,function*(){if(!Me.getOption(105).localityBonus||!Me.hasModel())return dt.None;const Ue=Me.getModel(),vt=Me.getPosition();if(!ve.canComputeWordRanges(Ue.uri))return dt.None;const[yt]=yield new Re.x().provideSelectionRanges(Ue,[vt]);if(yt.length===0)return dt.None;const si=yield ve.computeWordRanges(Ue.uri,yt[0].range);if(!si)return dt.None;const Jt=Ue.getWordUntilPosition(vt);return delete si[Jt.word],new class extends dt{distance(un,xn){if(!vt.equals(Me.getPosition()))return 0;if(xn.kind===17)return 2<<20;let Pi=typeof xn.label=="string"?xn.label:xn.label.label,Ji=si[Pi];if((0,O.XY)(Ji))return 2<<20;let _n=(0,O.ry)(Ji,C.e.fromPositions(un),C.e.compareRangesUsingStarts),Gi=_n>=0?Ji[_n]:Ji[Math.max(0,~_n-1)],jt=yt.length;for(const wi of yt){if(!C.e.containsRange(wi.range,Gi))break;jt-=1}return jt}}})}}dt.None=new class extends dt{distance(){return 0}};var lt=c(84972),Ie=c(10829),Pe=c(75392);class ye{constructor(ve,Me){this.leadingLineContent=ve,this.characterCountDelta=Me}}class Xe{constructor(ve,Me,Ue,vt,yt,si,Jt){this.clipboardText=Jt,this._snippetCompareFn=Xe._compareCompletionItems,this._items=ve,this._column=Me,this._wordDistance=vt,this._options=yt,this._refilterKind=1,this._lineContext=Ue,si==="top"?this._snippetCompareFn=Xe._compareCompletionItemsSnippetsUp:si==="bottom"&&(this._snippetCompareFn=Xe._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(ve){(this._lineContext.leadingLineContent!==ve.leadingLineContent||this._lineContext.characterCountDelta!==ve.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<ve.characterCountDelta&&this._filteredItems?2:1,this._lineContext=ve)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const ve=new Set;for(let[Me,Ue]of this._providerInfo)Ue&&ve.add(Me);return ve}adopt(ve){let Me=[];for(let Ue=0;Ue<this._items.length;)ve.has(this._items[Ue].provider)?Ue++:(Me.push(this._items[Ue]),this._items[Ue]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,Me}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const ve=[],{leadingLineContent:Me,characterCountDelta:Ue}=this._lineContext;let vt="",yt="";const si=this._refilterKind===1?this._items:this._filteredItems,Jt=[],un=!this._options.filterGraceful||si.length>2e3?Pe.EW:Pe.l7;for(let xn=0;xn<si.length;xn++){const Pi=si[xn];if(Pi.isInvalid)continue;this._providerInfo.set(Pi.provider,!!Pi.container.incomplete);const Ji=Pi.position.column-Pi.editStart.column,_n=Ji+Ue-(Pi.position.column-this._column);if(vt.length!==_n&&(vt=_n===0?"":Me.slice(-_n),yt=vt.toLowerCase()),Pi.word=vt,_n===0)Pi.score=Pe.CL.Default;else{let Gi=0;for(;Gi<Ji;){const jt=vt.charCodeAt(Gi);if(jt===32||jt===9)Gi+=1;else break}if(Gi>=_n)Pi.score=Pe.CL.Default;else if(typeof Pi.completion.filterText=="string"){let jt=un(vt,yt,Gi,Pi.completion.filterText,Pi.filterTextLow,0,!1);if(!jt)continue;(0,Je.zY)(Pi.completion.filterText,Pi.textLabel)===0?Pi.score=jt:(Pi.score=(0,Pe.jB)(vt,yt,Gi,Pi.textLabel,Pi.labelLow,0),Pi.score[0]=jt[0])}else{let jt=un(vt,yt,Gi,Pi.textLabel,Pi.labelLow,0,!1);if(!jt)continue;Pi.score=jt}}Pi.idx=xn,Pi.distance=this._wordDistance.distance(Pi.position,Pi.completion),Jt.push(Pi),ve.push(Pi.textLabel.length)}this._filteredItems=Jt.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:ve.length?(0,O.HW)(ve.length-.85,ve,(xn,Pi)=>xn-Pi):0}}static _compareCompletionItems(ve,Me){return ve.score[0]>Me.score[0]?-1:ve.score[0]<Me.score[0]?1:ve.distance<Me.distance?-1:ve.distance>Me.distance?1:ve.idx<Me.idx?-1:ve.idx>Me.idx?1:0}static _compareCompletionItemsSnippetsDown(ve,Me){if(ve.completion.kind!==Me.completion.kind){if(ve.completion.kind===27)return 1;if(Me.completion.kind===27)return-1}return Xe._compareCompletionItems(ve,Me)}static _compareCompletionItemsSnippetsUp(ve,Me){if(ve.completion.kind!==Me.completion.kind){if(ve.completion.kind===27)return-1;if(Me.completion.kind===27)return 1}return Xe._compareCompletionItems(ve,Me)}}var st=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},Pt=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}},qt=function(Kt,ve,Me,Ue){function vt(yt){return yt instanceof Me?yt:new Me(function(si){si(yt)})}return new(Me||(Me=Promise))(function(yt,si){function Jt(Pi){try{xn(Ue.next(Pi))}catch(Ji){si(Ji)}}function un(Pi){try{xn(Ue.throw(Pi))}catch(Ji){si(Ji)}}function xn(Pi){Pi.done?yt(Pi.value):vt(Pi.value).then(Jt,un)}xn((Ue=Ue.apply(Kt,ve||[])).next())})};class Ci{constructor(ve,Me,Ue,vt){this.leadingLineContent=ve.getLineContent(Me.lineNumber).substr(0,Me.column-1),this.leadingWord=ve.getWordUntilPosition(Me),this.lineNumber=Me.lineNumber,this.column=Me.column,this.auto=Ue,this.shy=vt}static shouldAutoTrigger(ve){if(!ve.hasModel())return!1;const Me=ve.getModel(),Ue=ve.getPosition();Me.tokenizeIfCheap(Ue.lineNumber);const vt=Me.getWordAtPosition(Ue);return!(!vt||vt.endColumn!==Ue.column||!isNaN(Number(vt.word)))}}function ii(Kt){return Kt.getOption(105).preview}function At(Kt,ve,Me){if(!ve.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ue=Me.getValue("editor.inlineSuggest.allowQuickSuggestions");return Ue!==void 0?!!Ue:!1}function Qi(Kt,ve,Me){if(!ve.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ue=Me.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return Ue!==void 0?!!Ue:!1}let ci=class Nu{constructor(ve,Me,Ue,vt,yt,si,Jt){this._editor=ve,this._editorWorkerService=Me,this._clipboardService=Ue,this._telemetryService=vt,this._logService=yt,this._contextKeyService=si,this._configurationService=Jt,this._toDispose=new W.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new W.SL,this._triggerQuickSuggest=new Q._F,this._state=0,this._completionDisposables=new W.SL,this._onDidCancel=new J.Q5,this._onDidTrigger=new J.Q5,this._onDidSuggest=new J.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ae.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(h.KZ.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(xn=>{this._onCursorChange(xn)}));let un=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{un=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{un=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{un||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,W.B9)(this._triggerCharacterListener),(0,W.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const ve=new Map;for(const Ue of h.KZ.all(this._editor.getModel()))for(const vt of Ue.triggerCharacters||[]){let yt=ve.get(vt);yt||(yt=new Set,yt.add((0,Te.ZJ)()),ve.set(vt,yt)),yt.add(Ue)}const Me=Ue=>{if(!Qi(this._editor,this._contextKeyService,this._configurationService)||Ci.shouldAutoTrigger(this._editor))return;if(!Ue){const si=this._editor.getPosition();Ue=this._editor.getModel().getLineContent(si.lineNumber).substr(0,si.column-1)}let vt="";(0,Je.YK)(Ue.charCodeAt(Ue.length-1))?(0,Je.ZG)(Ue.charCodeAt(Ue.length-2))&&(vt=Ue.substr(Ue.length-2)):vt=Ue.charAt(Ue.length-1);const yt=ve.get(vt);if(yt){const si=this._completionModel?{items:this._completionModel.adopt(yt),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:vt},!!this._completionModel,yt,si)}};this._triggerCharacterListener.add(this._editor.onDidType(Me)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(Me))}get state(){return this._state}cancel(ve=!1){var Me;this._state!==0&&(this._triggerQuickSuggest.cancel(),(Me=this._requestToken)===null||Me===void 0||Me.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:ve}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!h.KZ.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(ve){if(!this._editor.hasModel())return;const Me=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!ve.selection.isEmpty()||ve.reason!==0&&ve.reason!==3||ve.source!=="keyboard"&&ve.source!=="deleteLeft"){this.cancel();return}this._state===0&&ve.reason===0?(Me.containsRange(this._currentSelection)||Me.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&ve.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&f.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!Ci.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const ve=this._editor.getModel(),Me=this._editor.getPosition(),Ue=this._editor.getOption(78);if(Ue!==!1){if(Ue!==!0){ve.tokenizeIfCheap(Me.lineNumber);const vt=ve.getLineTokens(Me.lineNumber),yt=vt.getStandardTokenType(vt.findTokenIndexAtOffset(Math.max(Me.column-1-1,0)));if(!(Ue.other&&yt===0||Ue.comments&&yt===1||Ue.strings&&yt===2))return}At(this._editor,this._contextKeyService,this._configurationService)&&h.KZ.has(ve)&&this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const ve=this._editor.getModel(),Me=this._editor.getPosition(),Ue=new Ci(ve,Me,this._state===2,!1);this._onNewContext(Ue)})}trigger(ve,Me=!1,Ue,vt){var yt;if(!this._editor.hasModel())return;const si=this._editor.getModel(),Jt=ve.auto,un=new Ci(si,this._editor.getPosition(),Jt,ve.shy);this.cancel(Me),this._state=Jt?2:1,this._onDidTrigger.fire({auto:Jt,shy:ve.shy,position:this._editor.getPosition()}),this._context=un;let xn={triggerKind:(yt=ve.triggerKind)!==null&&yt!==void 0?yt:0};ve.triggerCharacter&&(xn={triggerKind:1,triggerCharacter:ve.triggerCharacter}),this._requestToken=new P.A;const Pi=this._editor.getOption(100);let Ji=1;switch(Pi){case"top":Ji=0;break;case"bottom":Ji=2;break}const{itemKind:_n,showDeprecated:Gi}=Nu._createSuggestFilter(this._editor),jt=dt.create(this._editorWorkerService,this._editor),wi=(0,Te.kL)(si,this._editor.getPosition(),new Te.A9(Ji,_n,Ue,Gi),xn,this._requestToken.token);Promise.all([wi,jt]).then(([Ki,qn])=>qt(this,void 0,void 0,function*(){var ls;if((ls=this._requestToken)===null||ls===void 0||ls.dispose(),!this._editor.hasModel())return;let Cs=vt==null?void 0:vt.clipboardText;if(!Cs&&Ki.needsClipboard&&(Cs=yield this._clipboardService.readText()),this._state===0)return;const Be=this._editor.getModel();let d=Ki.items;if(vt){const U=(0,Te.wg)(Ji);d=d.concat(vt.items).sort(U)}const M=new Ci(Be,this._editor.getPosition(),Jt,ve.shy);this._completionModel=new Xe(d,this._context.column,{leadingLineContent:M.leadingLineContent,characterCountDelta:M.column-this._context.column},qn,this._editor.getOption(105),this._editor.getOption(100),Cs),this._completionDisposables.add(Ki.disposable),this._onNewContext(M),this._reportDurationsTelemetry(Ki.durations)})).catch(L.dL)}_reportDurationsTelemetry(ve){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(ve)}),this._logService.debug("suggest.durations.json",ve)})}static _createSuggestFilter(ve){const Me=new Set;ve.getOption(100)==="none"&&Me.add(27);const vt=ve.getOption(105);return vt.showMethods||Me.add(0),vt.showFunctions||Me.add(1),vt.showConstructors||Me.add(2),vt.showFields||Me.add(3),vt.showVariables||Me.add(4),vt.showClasses||Me.add(5),vt.showStructs||Me.add(6),vt.showInterfaces||Me.add(7),vt.showModules||Me.add(8),vt.showProperties||Me.add(9),vt.showEvents||Me.add(10),vt.showOperators||Me.add(11),vt.showUnits||Me.add(12),vt.showValues||Me.add(13),vt.showConstants||Me.add(14),vt.showEnums||Me.add(15),vt.showEnumMembers||Me.add(16),vt.showKeywords||Me.add(17),vt.showWords||Me.add(18),vt.showColors||Me.add(19),vt.showFiles||Me.add(20),vt.showReferences||Me.add(21),vt.showColors||Me.add(22),vt.showFolders||Me.add(23),vt.showTypeParameters||Me.add(24),vt.showSnippets||Me.add(27),vt.showUsers||Me.add(25),vt.showIssues||Me.add(26),{itemKind:Me,showDeprecated:vt.showDeprecated}}_onNewContext(ve){if(this._context){if(ve.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,Je.V8)(ve.leadingLineContent)!==(0,Je.V8)(this._context.leadingLineContent)){this.cancel();return}if(ve.column<this._context.column){ve.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(ve.leadingWord.word.length!==0&&ve.leadingWord.startColumn>this._context.leadingWord.startColumn){const Me=new Set(h.KZ.all(this._editor.getModel()));for(let vt of this._completionModel.allProvider)Me.delete(vt);const Ue=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,Me,{items:Ue,clipboardText:this._completionModel.clipboardText});return}if(ve.column>this._context.column&&this._completionModel.incomplete.size>0&&ve.leadingWord.word.length!==0){const{incomplete:Me}=this._completionModel,Ue=this._completionModel.adopt(Me);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,Me,{items:Ue,clipboardText:this._completionModel.clipboardText})}else{let Me=this._completionModel.lineContext,Ue=!1;if(this._completionModel.lineContext={leadingLineContent:ve.leadingLineContent,characterCountDelta:ve.column-this._context.column},this._completionModel.items.length===0){if(Ci.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<ve.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=Me,Ue=this._completionModel.items.length>0,Ue&&ve.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:Ue})}}}}};ci=st([Pt(1,ge.p),Pt(2,lt.p),Pt(3,Ie.b),Pt(4,ke.VZ),Pt(5,G.i6),Pt(6,y.Ui)],ci);class je{constructor(ve,Me){this._disposables=new W.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(ve.onWillType(()=>{if(!this._empty||!ve.hasModel())return;const Ue=ve.getSelections(),vt=Ue.length;let yt=!1;for(let Jt=0;Jt<vt;Jt++)if(!Ue[Jt].isEmpty()){yt=!0;break}if(!yt)return;this._lastOvertyped=[];const si=ve.getModel();for(let Jt=0;Jt<vt;Jt++){const un=Ue[Jt];if(si.getValueLengthInRange(un)>je._maxSelectionLength)return;this._lastOvertyped[Jt]={value:si.getValueInRange(un),multiline:un.startLineNumber!==un.endLineNumber}}this._empty=!1})),this._disposables.add(Me.onDidCancel(Ue=>{!this._empty&&!Ue.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(ve){if(!this._empty&&ve>=0&&ve<this._lastOvertyped.length)return this._lastOvertyped[ve]}dispose(){this._disposables.dispose()}}je._maxSelectionLength=51200;var at=c(65321),Ni=c(15375),fi=c(69047),Wi=c(59870),Rn=c(84527),zi=c(90317),as=c(42499),Fn=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},An=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}};class $i extends as.Mm{updateLabel(){const ve=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!ve)return super.updateLabel();this.label&&(this.label.textContent=(0,F.N)("ddd","{0} ({1})",this._action.label,$i.symbolPrintEnter(ve)))}static symbolPrintEnter(ve){var Me;return(Me=ve.getLabel())===null||Me===void 0?void 0:Me.replace(/\benter\b/gi,"\u23CE")}}let Nn=class{constructor(ve,Me,Ue,vt){this._menuService=Ue,this._contextKeyService=vt,this._menuDisposables=new W.SL,this.element=at.R3(ve,at.$(".suggest-status-bar"));const yt=si=>si instanceof ie.U8?Me.createInstance($i,si,void 0):void 0;this._leftActions=new zi.o(this.element,{actionViewItemProvider:yt}),this._rightActions=new zi.o(this.element,{actionViewItemProvider:yt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const ve=this._menuService.createMenu(Te.GI,this._contextKeyService),Me=()=>{const Ue=[],vt=[];for(let[yt,si]of ve.getActions())yt==="left"?Ue.push(...si):vt.push(...si);this._leftActions.clear(),this._leftActions.push(Ue),this._rightActions.clear(),this._rightActions.push(vt)};this._menuDisposables.add(ve.onDidChange(()=>Me())),this._menuDisposables.add(ve)}hide(){this._menuDisposables.clear()}};Nn=Fn([An(1,B.TG),An(2,ie.co),An(3,G.i6)],Nn);var sn=c(73046),$e=c(73910),It=c(97781);const xt=(0,$e.P6)("symbolIcon.arrayForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qe=(0,$e.P6)("symbolIcon.booleanForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tt=(0,$e.P6)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,F.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nt=(0,$e.P6)("symbolIcon.colorForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tt=(0,$e.P6)("symbolIcon.constantForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yt=(0,$e.P6)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,F.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ai=(0,$e.P6)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,F.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Si=(0,$e.P6)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qi=(0,$e.P6)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,F.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ji=(0,$e.P6)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zn=(0,$e.P6)("symbolIcon.fileForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vi=(0,$e.P6)("symbolIcon.folderForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xi=(0,$e.P6)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,F.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wt=(0,$e.P6)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ht=(0,$e.P6)("symbolIcon.keyForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Et=(0,$e.P6)("symbolIcon.keywordForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),He=(0,$e.P6)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,F.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nt=(0,$e.P6)("symbolIcon.moduleForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pt=(0,$e.P6)("symbolIcon.namespaceForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ft=(0,$e.P6)("symbolIcon.nullForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oi=(0,$e.P6)("symbolIcon.numberForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hi=(0,$e.P6)("symbolIcon.objectForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vi=(0,$e.P6)("symbolIcon.operatorForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ii=(0,$e.P6)("symbolIcon.packageForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ui=(0,$e.P6)("symbolIcon.propertyForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dn=(0,$e.P6)("symbolIcon.referenceForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gn=(0,$e.P6)("symbolIcon.snippetForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ri=(0,$e.P6)("symbolIcon.stringForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_i=(0,$e.P6)("symbolIcon.structForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hn=(0,$e.P6)("symbolIcon.textForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wn=(0,$e.P6)("symbolIcon.typeParameterForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qn=(0,$e.P6)("symbolIcon.unitForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),os=(0,$e.P6)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,It.Ic)((Kt,ve)=>{const Me=Kt.getColor(xt);Me&&ve.addRule(`${sn.lA.symbolArray.cssSelector} { color: ${Me}; }`);const Ue=Kt.getColor(Qe);Ue&&ve.addRule(`${sn.lA.symbolBoolean.cssSelector} { color: ${Ue}; }`);const vt=Kt.getColor(tt);vt&&ve.addRule(`${sn.lA.symbolClass.cssSelector} { color: ${vt}; }`);const yt=Kt.getColor(He);yt&&ve.addRule(`${sn.lA.symbolMethod.cssSelector} { color: ${yt}; }`);const si=Kt.getColor(Nt);si&&ve.addRule(`${sn.lA.symbolColor.cssSelector} { color: ${si}; }`);const Jt=Kt.getColor(Tt);Jt&&ve.addRule(`${sn.lA.symbolConstant.cssSelector} { color: ${Jt}; }`);const un=Kt.getColor(Yt);un&&ve.addRule(`${sn.lA.symbolConstructor.cssSelector} { color: ${un}; }`);const xn=Kt.getColor(ai);xn&&ve.addRule(`
			${sn.lA.symbolValue.cssSelector},${sn.lA.symbolEnum.cssSelector} { color: ${xn}; }`);const Pi=Kt.getColor(Si);Pi&&ve.addRule(`${sn.lA.symbolEnumMember.cssSelector} { color: ${Pi}; }`);const Ji=Kt.getColor(qi);Ji&&ve.addRule(`${sn.lA.symbolEvent.cssSelector} { color: ${Ji}; }`);const _n=Kt.getColor(ji);_n&&ve.addRule(`${sn.lA.symbolField.cssSelector} { color: ${_n}; }`);const Gi=Kt.getColor(Zn);Gi&&ve.addRule(`${sn.lA.symbolFile.cssSelector} { color: ${Gi}; }`);const jt=Kt.getColor(Vi);jt&&ve.addRule(`${sn.lA.symbolFolder.cssSelector} { color: ${jt}; }`);const wi=Kt.getColor(Xi);wi&&ve.addRule(`${sn.lA.symbolFunction.cssSelector} { color: ${wi}; }`);const Ki=Kt.getColor(wt);Ki&&ve.addRule(`${sn.lA.symbolInterface.cssSelector} { color: ${Ki}; }`);const qn=Kt.getColor(ht);qn&&ve.addRule(`${sn.lA.symbolKey.cssSelector} { color: ${qn}; }`);const ls=Kt.getColor(Et);ls&&ve.addRule(`${sn.lA.symbolKeyword.cssSelector} { color: ${ls}; }`);const Cs=Kt.getColor(nt);Cs&&ve.addRule(`${sn.lA.symbolModule.cssSelector} { color: ${Cs}; }`);const Be=Kt.getColor(pt);Be&&ve.addRule(`${sn.lA.symbolNamespace.cssSelector} { color: ${Be}; }`);const d=Kt.getColor(ft);d&&ve.addRule(`${sn.lA.symbolNull.cssSelector} { color: ${d}; }`);const M=Kt.getColor(oi);M&&ve.addRule(`${sn.lA.symbolNumber.cssSelector} { color: ${M}; }`);const U=Kt.getColor(Hi);U&&ve.addRule(`${sn.lA.symbolObject.cssSelector} { color: ${U}; }`);const re=Kt.getColor(vi);re&&ve.addRule(`${sn.lA.symbolOperator.cssSelector} { color: ${re}; }`);const fe=Kt.getColor(Ii);fe&&ve.addRule(`${sn.lA.symbolPackage.cssSelector} { color: ${fe}; }`);const Le=Kt.getColor(Ui);Le&&ve.addRule(`${sn.lA.symbolProperty.cssSelector} { color: ${Le}; }`);const We=Kt.getColor(dn);We&&ve.addRule(`${sn.lA.symbolReference.cssSelector} { color: ${We}; }`);const ut=Kt.getColor(gn);ut&&ve.addRule(`${sn.lA.symbolSnippet.cssSelector} { color: ${ut}; }`);const Ot=Kt.getColor(Ri);Ot&&ve.addRule(`${sn.lA.symbolString.cssSelector} { color: ${Ot}; }`);const X=Kt.getColor(_i);X&&ve.addRule(`${sn.lA.symbolStruct.cssSelector} { color: ${X}; }`);const de=Kt.getColor(hn);de&&ve.addRule(`${sn.lA.symbolText.cssSelector} { color: ${de}; }`);const Ve=Kt.getColor(wn);Ve&&ve.addRule(`${sn.lA.symbolTypeParameter.cssSelector} { color: ${Ve}; }`);const Ze=Kt.getColor(Qn);Ze&&ve.addRule(`${sn.lA.symbolUnit.cssSelector} { color: ${Ze}; }`);const ze=Kt.getColor(os);ze&&ve.addRule(`${sn.lA.symbolVariable.cssSelector} { color: ${ze}; }`)});var Yn=c(88810),Ts=c(83080);class Co{constructor(){this._onDidWillResize=new J.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new J.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new W.SL,this._size=new at.Ro(0,0),this._minSize=new at.Ro(0,0),this._maxSize=new at.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Ts.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Ts.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Ts.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Ts.l.North}),this._southSash=new Ts.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Ts.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let ve,Me=0,Ue=0;this._sashListener.add(J.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{ve===void 0&&(this._onDidWillResize.fire(),ve=this._size,Me=0,Ue=0)})),this._sashListener.add(J.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{ve!==void 0&&(ve=void 0,Me=0,Ue=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(vt=>{ve&&(Ue=vt.currentX-vt.startX,this.layout(ve.height+Me,ve.width+Ue),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(vt=>{ve&&(Ue=-(vt.currentX-vt.startX),this.layout(ve.height+Me,ve.width+Ue),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(vt=>{ve&&(Me=-(vt.currentY-vt.startY),this.layout(ve.height+Me,ve.width+Ue),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(vt=>{ve&&(Me=vt.currentY-vt.startY,this.layout(ve.height+Me,ve.width+Ue),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(J.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(vt=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(J.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(vt=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(ve,Me,Ue,vt){this._northSash.state=ve?3:0,this._eastSash.state=Me?3:0,this._southSash.state=Ue?3:0,this._westSash.state=vt?3:0}layout(ve=this.size.height,Me=this.size.width){const{height:Ue,width:vt}=this._minSize,{height:yt,width:si}=this._maxSize;ve=Math.max(Ue,Math.min(yt,ve)),Me=Math.max(vt,Math.min(si,Me));const Jt=new at.Ro(Me,ve);at.Ro.equals(Jt,this._size)||(this.domNode.style.height=ve+"px",this.domNode.style.width=Me+"px",this._size=Jt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(ve){this._maxSize=ve}get maxSize(){return this._maxSize}set minSize(ve){this._minSize=ve}get minSize(){return this._minSize}set preferredSize(ve){this._preferredSize=ve}get preferredSize(){return this._preferredSize}}var Vs=c(16268),cs=c(13433),oo=c(59365),to=c(53430),Gs=c(64141),Ss=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},Rs=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}};function Hs(Kt){return!!Kt&&!!(Kt.completion.documentation||Kt.completion.detail&&Kt.completion.detail!==Kt.completion.label)}let io=class{constructor(ve,Me){this._editor=ve,this._onDidClose=new J.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new J.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new W.SL,this._renderDisposeable=new W.SL,this._borderWidth=1,this._size=new at.Ro(330,0),this.domNode=at.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Me.createInstance(to.$,{editor:ve}),this._body=at.$(".body"),this._scrollbar=new cs.s$(this._body,{}),at.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=at.R3(this._body,at.$(".header")),this._close=at.R3(this._header,at.$("span"+sn.lA.close.cssSelector)),this._close.title=F.N("details.close","Close"),this._type=at.R3(this._header,at.$("p.type")),this._docs=at.R3(this._body,at.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Ue=>{Ue.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const ve=this._editor.getOptions(),Me=ve.get(43),Ue=Me.getMassagedFontFamily(Vs.G6?Gs.hL.fontFamily:null),vt=ve.get(106)||Me.fontSize,yt=ve.get(107)||Me.lineHeight,si=Me.fontWeight,Jt=`${vt}px`,un=`${yt}px`;this.domNode.style.fontSize=Jt,this.domNode.style.lineHeight=`${yt/vt}`,this.domNode.style.fontWeight=si,this.domNode.style.fontFeatureSettings=Me.fontFeatureSettings,this._type.style.fontFamily=Ue,this._close.style.height=un,this._close.style.width=un}getLayoutInfo(){const ve=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,Me=this._borderWidth,Ue=Me*2;return{lineHeight:ve,borderWidth:Me,borderHeight:Ue,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=F.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(ve,Me){var Ue,vt;this._renderDisposeable.clear();let{detail:yt,documentation:si}=ve.completion;if(Me){let Jt="";Jt+=`score: ${ve.score[0]}
`,Jt+=`prefix: ${(Ue=ve.word)!==null&&Ue!==void 0?Ue:"(no prefix)"}
`,Jt+=`word: ${ve.completion.filterText?ve.completion.filterText+" (filterText)":ve.textLabel}
`,Jt+=`distance: ${ve.distance} (localityBonus-setting)
`,Jt+=`index: ${ve.idx}, based on ${ve.completion.sortText&&`sortText: "${ve.completion.sortText}"`||"label"}
`,Jt+=`commit_chars: ${(vt=ve.completion.commitCharacters)===null||vt===void 0?void 0:vt.join("")}
`,si=new oo.W5().appendCodeblock("empty",Jt),yt=`Provider: ${ve.provider._debugDisplayName}`}if(!Me&&!Hs(ve)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),yt){const Jt=yt.length>1e5?`${yt.substr(0,1e5)}\u2026`:yt;this._type.textContent=Jt,this._type.title=Jt,at.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(Jt))}else at.PO(this._type),this._type.title="",at.Cp(this._type),this.domNode.classList.add("no-type");if(at.PO(this._docs),typeof si=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=si;else if(si){this._docs.classList.add("markdown-docs"),at.PO(this._docs);const Jt=this._markdownRenderer.render(si);this._docs.appendChild(Jt.element),this._renderDisposeable.add(Jt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Jt=>{Jt.preventDefault(),Jt.stopPropagation()},this._close.onclick=Jt=>{Jt.preventDefault(),Jt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(ve,Me){const Ue=new at.Ro(ve,Me);at.Ro.equals(Ue,this._size)||(this._size=Ue,at.dp(this.domNode,ve,Me)),this._scrollbar.scanDomNode()}scrollDown(ve=8){this._body.scrollTop+=ve}scrollUp(ve=8){this._body.scrollTop-=ve}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(ve){this._borderWidth=ve}get borderWidth(){return this._borderWidth}};io=Ss([Rs(1,B.TG)],io);class Ks{constructor(ve,Me){this.widget=ve,this._editor=Me,this._disposables=new W.SL,this._added=!1,this._resizable=new Co,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(ve.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Ue,vt,yt=0,si=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Ue=this._topLeft,vt=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Jt=>{if(Ue&&vt){this.widget.layout(Jt.dimension.width,Jt.dimension.height);let un=!1;Jt.west&&(si=vt.width-Jt.dimension.width,un=!0),Jt.north&&(yt=vt.height-Jt.dimension.height,un=!0),un&&this._applyTopLeft({top:Ue.top+yt,left:Ue.left+si})}Jt.done&&(Ue=void 0,vt=void 0,yt=0,si=0,this._userSize=Jt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Jt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(Jt=this._userSize)!==null&&Jt!==void 0?Jt:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(ve=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),ve&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(ve){var Me;const Ue=at.i(ve);this._anchorBox=Ue,this._placeAtAnchor(this._anchorBox,(Me=this._userSize)!==null&&Me!==void 0?Me:this.widget.size)}_placeAtAnchor(ve,Me){var Ue;const vt=at.D6(document.body),yt=this.widget.getLayoutInfo(),si=new at.Ro(220,2*yt.lineHeight),Jt=ve.top,un=function(){const ls=vt.width-(ve.left+ve.width+yt.borderWidth+yt.horizontalPadding),Cs=-yt.borderWidth+ve.left+ve.width,Be=new at.Ro(ls,vt.height-ve.top-yt.borderHeight-yt.verticalPadding),d=Be.with(void 0,ve.top+ve.height-yt.borderHeight-yt.verticalPadding);return{top:Jt,left:Cs,fit:ls-Me.width,maxSizeTop:Be,maxSizeBottom:d,minSize:si.with(Math.min(ls,si.width))}}(),xn=function(){const ls=ve.left-yt.borderWidth-yt.horizontalPadding,Cs=Math.max(yt.horizontalPadding,ve.left-Me.width-yt.borderWidth),Be=new at.Ro(ls,vt.height-ve.top-yt.borderHeight-yt.verticalPadding),d=Be.with(void 0,ve.top+ve.height-yt.borderHeight-yt.verticalPadding);return{top:Jt,left:Cs,fit:ls-Me.width,maxSizeTop:Be,maxSizeBottom:d,minSize:si.with(Math.min(ls,si.width))}}(),Pi=function(){const ls=ve.left,Cs=-yt.borderWidth+ve.top+ve.height,Be=new at.Ro(ve.width-yt.borderHeight,vt.height-ve.top-ve.height-yt.verticalPadding);return{top:Cs,left:ls,fit:Be.height-Me.height,maxSizeBottom:Be,maxSizeTop:Be,minSize:si.with(Be.width)}}(),Ji=[un,xn,Pi],_n=(Ue=Ji.find(ls=>ls.fit>=0))!==null&&Ue!==void 0?Ue:Ji.sort((ls,Cs)=>Cs.fit-ls.fit)[0],Gi=ve.top+ve.height-yt.borderHeight;let jt,wi=Me.height;const Ki=Math.max(_n.maxSizeTop.height,_n.maxSizeBottom.height);wi>Ki&&(wi=Ki);let qn;wi<=_n.maxSizeTop.height?(jt=!0,qn=_n.maxSizeTop):(jt=!1,qn=_n.maxSizeBottom),this._applyTopLeft({left:_n.left,top:jt?_n.top:Gi-wi}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!jt,_n===un,jt,_n!==un),this._resizable.minSize=_n.minSize,this._resizable.maxSize=qn,this._resizable.layout(wi,Math.min(qn.width,Me.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(ve){this._topLeft=ve,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var zs=c(26974),ho=c(70666),jn=c(66663),lo=c(95935),ts=c(71144),Un;(function(Kt){Kt[Kt.FILE=0]="FILE",Kt[Kt.FOLDER=1]="FOLDER",Kt[Kt.ROOT_FOLDER=2]="ROOT_FOLDER"})(Un||(Un={}));function Zs(Kt,ve,Me,Ue){const vt=Ue===Un.ROOT_FOLDER?["rootfolder-icon"]:Ue===Un.FOLDER?["folder-icon"]:["file-icon"];if(Me){let yt;if(Me.scheme===jn.lg.data?yt=lo.Vb.parseMetaData(Me).get(lo.Vb.META_DATA_LABEL):yt=Ys((0,lo.Hx)(Me).toLowerCase()),Ue===Un.FOLDER)vt.push(`${yt}-name-folder-icon`);else{if(yt){if(vt.push(`${yt}-name-file-icon`),yt.length<=255){const Jt=yt.split(".");for(let un=1;un<Jt.length;un++)vt.push(`${Jt.slice(un).join(".")}-ext-file-icon`)}vt.push("ext-file-icon")}const si=Xn(Kt,ve,Me);si&&vt.push(`${Ys(si)}-lang-file-icon`)}}return vt}function Xn(Kt,ve,Me){if(!Me)return null;let Ue=null;if(Me.scheme===jn.lg.data){const yt=lo.Vb.parseMetaData(Me).get(lo.Vb.META_DATA_MIME);yt&&(Ue=ve.getModeId(yt))}else{const vt=Kt.getModel(Me);vt&&(Ue=vt.getLanguageId())}return Ue&&Ue!==ts.XT?Ue:ve.getModeIdByFilepathOrFirstLine(Me)}function Ys(Kt){return Kt.replace(/[\11\12\14\15\40]/g,"/")}var xs=c(51200),Xs=c(71531),pi=c(59554),me=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},ct=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}},gt;function Bt(Kt){return`suggest-aria-id:${Kt}`}const Gt=(0,pi.q5)("suggest-more-info",sn.lA.chevronRight,F.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),bi=new(gt=class Ml{extract(ve,Me){if(ve.textLabel.match(Ml._regexStrict))return Me[0]=ve.textLabel,!0;if(ve.completion.detail&&ve.completion.detail.match(Ml._regexStrict))return Me[0]=ve.completion.detail,!0;if(typeof ve.completion.documentation=="string"){const Ue=Ml._regexRelaxed.exec(ve.completion.documentation);if(Ue&&(Ue.index===0||Ue.index+Ue[0].length===ve.completion.documentation.length))return Me[0]=Ue[0],!0}return!1}},gt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,gt._regexStrict=new RegExp(`^${gt._regexRelaxed.source}$`,"i"),gt);let li=class{constructor(ve,Me,Ue,vt){this._editor=ve,this._modelService=Me,this._modeService=Ue,this._themeService=vt,this._onDidToggleDetails=new J.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(ve){const Me=Object.create(null);Me.disposables=new W.SL,Me.root=ve,Me.root.classList.add("show-file-icons"),Me.icon=(0,at.R3)(ve,(0,at.$)(".icon")),Me.colorspan=(0,at.R3)(Me.icon,(0,at.$)("span.colorspan"));const Ue=(0,at.R3)(ve,(0,at.$)(".contents")),vt=(0,at.R3)(Ue,(0,at.$)(".main"));Me.iconContainer=(0,at.R3)(vt,(0,at.$)(".icon-label.codicon")),Me.left=(0,at.R3)(vt,(0,at.$)("span.left")),Me.right=(0,at.R3)(vt,(0,at.$)("span.right")),Me.iconLabel=new zs.g(Me.left,{supportHighlights:!0,supportIcons:!0}),Me.disposables.add(Me.iconLabel),Me.parametersLabel=(0,at.R3)(Me.left,(0,at.$)("span.signature-label")),Me.qualifierLabel=(0,at.R3)(Me.left,(0,at.$)("span.qualifier-label")),Me.detailsLabel=(0,at.R3)(Me.right,(0,at.$)("span.details-label")),Me.readMore=(0,at.R3)(Me.right,(0,at.$)("span.readMore"+It.kS.asCSSSelector(Gt))),Me.readMore.title=F.N("readMore","Read More");const yt=()=>{const si=this._editor.getOptions(),Jt=si.get(43),un=Jt.getMassagedFontFamily(Vs.G6?Gs.hL.fontFamily:null),xn=Jt.fontFeatureSettings,Pi=si.get(106)||Jt.fontSize,Ji=si.get(107)||Jt.lineHeight,_n=Jt.fontWeight,Gi=`${Pi}px`,jt=`${Ji}px`;Me.root.style.fontSize=Gi,Me.root.style.fontWeight=_n,vt.style.fontFamily=un,vt.style.fontFeatureSettings=xn,vt.style.lineHeight=jt,Me.icon.style.height=jt,Me.icon.style.width=jt,Me.readMore.style.height=jt,Me.readMore.style.width=jt};return yt(),Me.disposables.add(this._editor.onDidChangeConfiguration(si=>{(si.hasChanged(43)||si.hasChanged(106)||si.hasChanged(107))&&yt()})),Me}renderElement(ve,Me,Ue){const{completion:vt}=ve;Ue.root.id=Bt(Me),Ue.colorspan.style.backgroundColor="";const yt={labelEscapeNewLines:!0,matches:(0,Pe.mB)(ve.score)};let si=[];if(vt.kind===19&&bi.extract(ve,si))Ue.icon.className="icon customcolor",Ue.iconContainer.className="icon hide",Ue.colorspan.style.backgroundColor=si[0];else if(vt.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Ue.icon.className="icon hide",Ue.iconContainer.className="icon hide";const Jt=Zs(this._modelService,this._modeService,ho.o.from({scheme:"fake",path:ve.textLabel}),Un.FILE),un=Zs(this._modelService,this._modeService,ho.o.from({scheme:"fake",path:vt.detail}),Un.FILE);yt.extraClasses=Jt.length>un.length?Jt:un}else vt.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Ue.icon.className="icon hide",Ue.iconContainer.className="icon hide",yt.extraClasses=(0,O.xH)([Zs(this._modelService,this._modeService,ho.o.from({scheme:"fake",path:ve.textLabel}),Un.FOLDER),Zs(this._modelService,this._modeService,ho.o.from({scheme:"fake",path:vt.detail}),Un.FOLDER)])):(Ue.icon.className="icon hide",Ue.iconContainer.className="",Ue.iconContainer.classList.add("suggest-icon",...(0,h.Sy)(vt.kind).split(" ")));vt.tags&&vt.tags.indexOf(1)>=0&&(yt.extraClasses=(yt.extraClasses||[]).concat(["deprecated"]),yt.matches=[]),Ue.iconLabel.setLabel(ve.textLabel,void 0,yt),typeof vt.label=="string"?(Ue.parametersLabel.textContent="",Ue.detailsLabel.textContent=ei(vt.detail||""),Ue.root.classList.add("string-label")):(Ue.parametersLabel.textContent=ei(vt.label.detail||""),Ue.detailsLabel.textContent=ei(vt.label.description||""),Ue.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,at.$Z)(Ue.detailsLabel):(0,at.Cp)(Ue.detailsLabel),Hs(ve)?(Ue.right.classList.add("can-expand-details"),(0,at.$Z)(Ue.readMore),Ue.readMore.onmousedown=Jt=>{Jt.stopPropagation(),Jt.preventDefault()},Ue.readMore.onclick=Jt=>{Jt.stopPropagation(),Jt.preventDefault(),this._onDidToggleDetails.fire()}):(Ue.right.classList.remove("can-expand-details"),(0,at.Cp)(Ue.readMore),Ue.readMore.onmousedown=null,Ue.readMore.onclick=null)}disposeTemplate(ve){ve.disposables.dispose()}};li=me([ct(1,xs.q),ct(2,Xs.h),ct(3,It.XE)],li);function ei(Kt){return Kt.replace(/\r\n|\r|\n/g,"")}var ki=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},Di=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}},Pn=function(Kt,ve,Me,Ue){function vt(yt){return yt instanceof Me?yt:new Me(function(si){si(yt)})}return new(Me||(Me=Promise))(function(yt,si){function Jt(Pi){try{xn(Ue.next(Pi))}catch(Ji){si(Ji)}}function un(Pi){try{xn(Ue.throw(Pi))}catch(Ji){si(Ji)}}function xn(Pi){Pi.done?yt(Pi.value):vt(Pi.value).then(Jt,un)}xn((Ue=Ue.apply(Kt,ve||[])).next())})};const kt=(0,$e.P6)("editorSuggestWidget.background",{dark:$e.D0,light:$e.D0,hc:$e.D0},F.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),V=(0,$e.P6)("editorSuggestWidget.border",{dark:$e.D1,light:$e.D1,hc:$e.D1},F.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),ae=(0,$e.P6)("editorSuggestWidget.foreground",{dark:$e.NO,light:$e.NO,hc:$e.NO},F.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Ne=(0,$e.P6)("editorSuggestWidget.selectedForeground",{dark:$e.NP,light:$e.NP,hc:$e.NP},F.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),qe=(0,$e.P6)("editorSuggestWidget.selectedIconForeground",{dark:$e.cb,light:$e.cb,hc:$e.cb},F.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),bt=(0,$e.P6)("editorSuggestWidget.selectedBackground",{dark:$e.Vq,light:$e.Vq,hc:$e.Vq},F.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),$t=(0,$e.P6)("editorSuggestWidget.highlightForeground",{dark:$e.Gw,light:$e.Gw,hc:$e.Gw},F.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),ni=(0,$e.P6)("editorSuggestWidget.focusHighlightForeground",{dark:$e.PX,light:$e.PX,hc:$e.PX},F.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class mi{constructor(ve,Me){this._service=ve,this._key=`suggestWidget.size/${Me.getEditorType()}/${Me instanceof Rn.H}`}restore(){var ve;const Me=(ve=this._service.get(this._key,0))!==null&&ve!==void 0?ve:"";try{const Ue=JSON.parse(Me);if(at.Ro.is(Ue))return at.Ro.lift(Ue)}catch(Ue){}}store(ve){this._service.store(this._key,JSON.stringify(ve),0,1)}reset(){this._service.remove(this._key,0)}}let Ai=class xd{constructor(ve,Me,Ue,vt,yt){this.editor=ve,this._storageService=Me,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Q._F,this._disposables=new W.SL,this._onDidSelect=new J.Q5,this._onDidFocus=new J.Q5,this._onDidHide=new J.Q5,this._onDidShow=new J.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new J.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Co,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ei(this,ve),this._persistedSize=new mi(Me,ve);class si{constructor(Gi,jt,wi=!1,Ki=!1){this.persistedSize=Gi,this.currentSize=jt,this.persistHeight=wi,this.persistWidth=Ki}}let Jt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Jt=new si(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(_n=>{var Gi,jt,wi,Ki;if(this._resize(_n.dimension.width,_n.dimension.height),Jt&&(Jt.persistHeight=Jt.persistHeight||!!_n.north||!!_n.south,Jt.persistWidth=Jt.persistWidth||!!_n.east||!!_n.west),!!_n.done){if(Jt){const{itemHeight:qn,defaultSize:ls}=this.getLayoutInfo(),Cs=Math.round(qn/2);let{width:Be,height:d}=this.element.size;(!Jt.persistHeight||Math.abs(Jt.currentSize.height-d)<=Cs)&&(d=(jt=(Gi=Jt.persistedSize)===null||Gi===void 0?void 0:Gi.height)!==null&&jt!==void 0?jt:ls.height),(!Jt.persistWidth||Math.abs(Jt.currentSize.width-Be)<=Cs)&&(Be=(Ki=(wi=Jt.persistedSize)===null||wi===void 0?void 0:wi.width)!==null&&Ki!==void 0?Ki:ls.width),this._persistedSize.store(new at.Ro(Be,d))}this._contentWidget.unlockPreference(),Jt=void 0}})),this._messageElement=at.R3(this.element.domNode,at.$(".message")),this._listElement=at.R3(this.element.domNode,at.$(".tree"));const un=yt.createInstance(io,this.editor);un.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Ks(un,this.editor);const xn=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);xn();const Pi=yt.createInstance(li,this.editor);this._disposables.add(Pi),this._disposables.add(Pi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new fi.aV("SuggestWidget",this._listElement,{getHeight:_n=>this.getLayoutInfo().itemHeight,getTemplateId:_n=>"suggestion"},[Pi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:_n=>{if(_n.isResolved&&this._isDetailsVisible()){const{documentation:Gi,detail:jt}=_n.completion,wi=Je.WU("{0}{1}",jt||"",Gi?typeof Gi=="string"?Gi:Gi.value:"");return F.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",_n.textLabel,wi)}else return _n.textLabel},getWidgetAriaLabel:()=>F.N("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=yt.createInstance(Nn,this.element.domNode);const Ji=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);Ji(),this._disposables.add((0,Yn.Jl)(this._list,vt,{listInactiveFocusBackground:bt,listInactiveFocusOutline:$e.xL})),this._disposables.add(vt.onDidColorThemeChange(_n=>this._onThemeChange(_n))),this._onThemeChange(vt.getColorTheme()),this._disposables.add(this._list.onMouseDown(_n=>this._onListMouseDownOrTap(_n))),this._disposables.add(this._list.onTap(_n=>this._onListMouseDownOrTap(_n))),this._disposables.add(this._list.onDidChangeSelection(_n=>this._onListSelection(_n))),this._disposables.add(this._list.onDidChangeFocus(_n=>this._onListFocus(_n))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(_n=>{_n.hasChanged(105)&&(Ji(),xn())})),this._ctxSuggestWidgetVisible=Te._y.Visible.bindTo(Ue),this._ctxSuggestWidgetDetailsVisible=Te._y.DetailsVisible.bindTo(Ue),this._ctxSuggestWidgetMultipleSuggestions=Te._y.MultipleSuggestions.bindTo(Ue),this._disposables.add(at.mu(this._details.widget.domNode,"keydown",_n=>{this._onDetailsKeydown.fire(_n)})),this._disposables.add(this.editor.onMouseDown(_n=>this._onEditorMouseDown(_n)))}dispose(){var ve;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(ve=this._loadingTimeout)===null||ve===void 0||ve.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(ve){this._details.widget.domNode.contains(ve.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(ve.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(ve){typeof ve.element=="undefined"||typeof ve.index=="undefined"||(ve.browserEvent.preventDefault(),ve.browserEvent.stopPropagation(),this._select(ve.element,ve.index))}_onListSelection(ve){ve.elements.length&&this._select(ve.elements[0],ve.indexes[0])}_select(ve,Me){const Ue=this._completionModel;Ue&&(this._onDidSelect.fire({item:ve,index:Me,model:Ue}),this.editor.focus())}_onThemeChange(ve){const Me=ve.getColor(kt);Me&&(this.element.domNode.style.backgroundColor=Me.toString(),this._messageElement.style.backgroundColor=Me.toString(),this._details.widget.domNode.style.backgroundColor=Me.toString());const Ue=ve.getColor(V);Ue&&(this.element.domNode.style.borderColor=Ue.toString(),this._messageElement.style.borderColor=Ue.toString(),this._status.element.style.borderTopColor=Ue.toString(),this._details.widget.domNode.style.borderColor=Ue.toString(),this._detailsBorderColor=Ue.toString());const vt=ve.getColor($e.R8);vt&&(this._detailsFocusBorderColor=vt.toString()),this._details.widget.borderWidth=ve.type==="hc"?2:1}_onListFocus(ve){var Me;if(this._ignoreFocusEvents)return;if(!ve.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const Ue=ve.elements[0],vt=ve.indexes[0];Ue!==this._focusedItem&&((Me=this._currentSuggestionDetails)===null||Me===void 0||Me.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Ue,this._list.reveal(vt),this._currentSuggestionDetails=(0,Q.PG)(yt=>Pn(this,void 0,void 0,function*(){const si=(0,Q.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);yt.onCancellationRequested(()=>si.dispose());const Jt=yield Ue.resolve(yt);return si.dispose(),Jt})),this._currentSuggestionDetails.then(()=>{vt>=this._list.length||Ue!==this._list.element(vt)||(this._ignoreFocusEvents=!0,this._list.splice(vt,1,[Ue]),this._list.setFocus([vt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Bt(vt)}))}).catch(L.dL)),this._onDidFocus.fire({item:Ue,index:vt,model:this._completionModel})}_setState(ve){if(this._state!==ve)switch(this._state=ve,this.element.domNode.classList.toggle("frozen",ve===4),this.element.domNode.classList.remove("message"),ve){case 0:at.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=xd.LOADING_MESSAGE,at.Cp(this._listElement,this._status.element),at.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=xd.NO_SUGGESTIONS_MESSAGE,at.Cp(this._listElement,this._status.element),at.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:at.Cp(this._messageElement),at.$Z(this._listElement,this._status.element),this._show();break;case 4:at.Cp(this._messageElement),at.$Z(this._listElement,this._status.element),this._show();break;case 5:at.Cp(this._messageElement),at.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(ve,Me){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!ve,this._isAuto||(this._loadingTimeout=(0,Q.Vg)(()=>this._setState(1),Me)))}showSuggestions(ve,Me,Ue,vt){var yt,si;if(this._contentWidget.setPosition(this.editor.getPosition()),(yt=this._loadingTimeout)===null||yt===void 0||yt.dispose(),(si=this._currentSuggestionDetails)===null||si===void 0||si.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==ve&&(this._completionModel=ve),Ue&&this._state!==2&&this._state!==0){this._setState(4);return}const Jt=this._completionModel.items.length,un=Jt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(Jt>1),un){this._setState(vt?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Ue?4:3),this._list.reveal(Me,0),this._list.setFocus([Me]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Hs(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(ve){this._details.show(),ve?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var ve;(ve=this._loadingTimeout)===null||ve===void 0||ve.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Me=this._persistedSize.restore(),Ue=Math.ceil(this.getLayoutInfo().itemHeight*4.3);Me&&Me.height<Ue&&this._persistedSize.store(Me.with(void 0,Ue))}isFrozen(){return this._state===4}_afterRender(ve){if(ve===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(ve){var Me,Ue,vt;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const yt=at.D6(document.body),si=this.getLayoutInfo();ve||(ve=si.defaultSize);let Jt=ve.height,un=ve.width;if(this._status.element.style.lineHeight=`${si.itemHeight}px`,this._state===2||this._state===1)Jt=si.itemHeight+si.borderHeight,un=si.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new at.Ro(un,Jt),this._contentWidget.setPreference(2);else{const xn=yt.width-si.borderHeight-2*si.horizontalPadding;un>xn&&(un=xn);const Pi=this._completionModel?this._completionModel.stats.pLabelLen*si.typicalHalfwidthCharacterWidth:un,Ji=si.statusBarHeight+this._list.contentHeight+si.borderHeight,_n=si.itemHeight+si.statusBarHeight,Gi=at.i(this.editor.getDomNode()),jt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),wi=Gi.top+jt.top+jt.height,Ki=Math.min(yt.height-wi-si.verticalPadding,Ji),qn=Gi.top+jt.top-si.verticalPadding,ls=Math.min(qn,Ji);let Cs=Math.min(Math.max(ls,Ki)+si.borderHeight,Ji);Jt===((Me=this._cappedHeight)===null||Me===void 0?void 0:Me.capped)&&(Jt=this._cappedHeight.wanted),Jt<_n&&(Jt=_n),Jt>Cs&&(Jt=Cs);const Be=150;Jt>Ki||this._forceRenderingAbove&&qn>Be?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Cs=ls):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Cs=Ki),this.element.preferredSize=new at.Ro(Pi,si.defaultSize.height),this.element.maxSize=new at.Ro(xn,Cs),this.element.minSize=new at.Ro(220,_n),this._cappedHeight=Jt===Ji?{wanted:(vt=(Ue=this._cappedHeight)===null||Ue===void 0?void 0:Ue.wanted)!==null&&vt!==void 0?vt:ve.height,capped:Jt}:void 0}this._resize(un,Jt)}_resize(ve,Me){const{width:Ue,height:vt}=this.element.maxSize;ve=Math.min(Ue,ve),Me=Math.min(vt,Me);const{statusBarHeight:yt}=this.getLayoutInfo();this._list.layout(Me-yt,ve),this._listElement.style.height=`${Me-yt}px`,this.element.layout(Me,ve),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const ve=this.editor.getOption(43),Me=(0,Wi.u)(this.editor.getOption(107)||ve.lineHeight,8,1e3),Ue=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:Me,vt=this._details.widget.borderWidth,yt=2*vt;return{itemHeight:Me,statusBarHeight:Ue,borderWidth:vt,borderHeight:yt,typicalHalfwidthCharacterWidth:ve.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new at.Ro(430,Ue+12*Me+yt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(ve){this._storageService.store("expandSuggestionDocs",ve,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Ai.LOADING_MESSAGE=F.N("suggestWidget.loading","Loading..."),Ai.NO_SUGGESTIONS_MESSAGE=F.N("suggestWidget.noSuggestions","No suggestions."),Ai=ki([Di(1,j.Uy),Di(2,G.i6),Di(3,It.XE),Di(4,B.TG)],Ai);class Ei{constructor(ve,Me){this._widget=ve,this._editor=Me,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:ve,width:Me}=this._widget.element.size,{borderWidth:Ue,horizontalPadding:vt}=this._widget.getLayoutInfo();return new at.Ro(Me+2*Ue+vt,ve+2*Ue)}afterRender(ve){this._widget._afterRender(ve)}setPreference(ve){this._preferenceLocked||(this._preference=ve)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(ve){this._position=ve}}(0,It.Ic)((Kt,ve)=>{const Me=Kt.getColor($t);Me&&ve.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${Me}; }`);const Ue=Kt.getColor(ni);Me&&ve.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${Ue}; }`);const vt=Kt.getColor(ae);vt&&ve.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${vt}; }`);const yt=Kt.getColor(Ne);yt&&ve.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${yt}; }`);const si=Kt.getColor(qe);si&&ve.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${si}; }`);const Jt=Kt.getColor($e.ur);Jt&&ve.addRule(`.monaco-editor .suggest-details a { color: ${Jt}; }`);const un=Kt.getColor($e.sg);un&&ve.addRule(`.monaco-editor .suggest-details a:hover { color: ${un}; }`);const xn=Kt.getColor($e.Sw);xn&&ve.addRule(`.monaco-editor .suggest-details code { background-color: ${xn}; }`)});var Bi=function(Kt,ve,Me,Ue){var vt=arguments.length,yt=vt<3?ve:Ue===null?Ue=Object.getOwnPropertyDescriptor(ve,Me):Ue,si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(Kt,ve,Me,Ue);else for(var Jt=Kt.length-1;Jt>=0;Jt--)(si=Kt[Jt])&&(yt=(vt<3?si(yt):vt>3?si(ve,Me,yt):si(ve,Me))||yt);return vt>3&&yt&&Object.defineProperty(ve,Me,yt),yt},ln=function(Kt,ve){return function(Me,Ue){ve(Me,Ue,Kt)}};let Ti=!1;class on{constructor(ve,Me){if(this._model=ve,this._position=Me,ve.getLineMaxColumn(Me.lineNumber)!==Me.column){const vt=ve.getOffsetAt(Me),yt=ve.getPositionAt(vt+1);this._marker=ve.deltaDecorations([],[{range:C.e.fromPositions(Me,yt),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ve){if(this._model.isDisposed()||this._position.lineNumber!==ve.lineNumber)return 0;if(this._marker){const Me=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Me.getStartPosition())-this._model.getOffsetAt(ve)}else return this._model.getLineMaxColumn(ve.lineNumber)-ve.column}}let en=class Tu{constructor(ve,Me,Ue,vt,yt,si){this._memoryService=Me,this._commandService=Ue,this._contextKeyService=vt,this._instantiationService=yt,this._logService=si,this._lineSuffix=new W.XK,this._toDispose=new W.SL,this._selectors=new pn(Pi=>Pi.priority),this.editor=ve,this.model=yt.createInstance(ci,this.editor);const Jt=Te._y.InsertMode.bindTo(vt);Jt.set(ve.getOption(105).insertMode),this.model.onDidTrigger(()=>Jt.set(ve.getOption(105).insertMode)),this.widget=this._toDispose.add(new Q.Ue(()=>{const Pi=this._instantiationService.createInstance(Ai,this.editor);this._toDispose.add(Pi),this._toDispose.add(Pi.onDidSelect(wi=>this._insertSuggestion(wi,0),this));const Ji=new it(this.editor,Pi,wi=>this._insertSuggestion(wi,2));this._toDispose.add(Ji),this._toDispose.add(this.model.onDidSuggest(wi=>{wi.completionModel.items.length===0&&Ji.reset()}));const _n=Te._y.MakesTextEdit.bindTo(this._contextKeyService),Gi=Te._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),jt=Te._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,W.OF)(()=>{_n.reset(),Gi.reset(),jt.reset()})),this._toDispose.add(Pi.onDidFocus(({item:wi})=>{const Ki=this.editor.getPosition(),qn=wi.editStart.column,ls=Ki.column;let Cs=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!wi.completion.additionalTextEdits&&!(wi.completion.insertTextRules&4)&&ls-qn===wi.completion.insertText.length&&(Cs=this.editor.getModel().getValueInRange({startLineNumber:Ki.lineNumber,startColumn:qn,endLineNumber:Ki.lineNumber,endColumn:ls})!==wi.completion.insertText),_n.set(Cs),Gi.set(!N.L.equals(wi.editInsertEnd,wi.editReplaceEnd)),jt.set(!!wi.provider.resolveCompletionItem||!!wi.completion.documentation||wi.completion.detail!==wi.completion.label)})),this._toDispose.add(Pi.onDetailsKeyDown(wi=>{if(wi.toKeybinding().equals(new R.QC(!0,!1,!1,!1,33))||s.dz&&wi.toKeybinding().equals(new R.QC(!1,!1,!1,!0,33))){wi.stopPropagation();return}wi.toKeybinding().isModifierKey()||this.editor.focus()})),Pi})),this._overtypingCapturer=this._toDispose.add(new Q.Ue(()=>this._toDispose.add(new je(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Q.Ue(()=>this._toDispose.add(new mt(this.editor,this._contextKeyService)))),this._toDispose.add(yt.createInstance(w,ve)),this._toDispose.add(this.model.onDidTrigger(Pi=>{this.widget.value.showTriggered(Pi.auto,Pi.shy?250:50),this._lineSuffix.value=new on(this.editor.getModel(),Pi.position)})),this._toDispose.add(this.model.onDidSuggest(Pi=>{if(!Pi.shy){let Ji=-1;for(const _n of this._selectors.itemsOrderedByPriorityDesc)if(Ji=_n.select(this.editor.getModel(),this.editor.getPosition(),Pi.completionModel.items),Ji!==-1)break;Ji===-1&&(Ji=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Pi.completionModel.items)),this.widget.value.showSuggestions(Pi.completionModel,Ji,Pi.isFrozen,Pi.auto)}})),this._toDispose.add(this.model.onDidCancel(Pi=>{Pi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Ti||(this.model.cancel(),this.model.clear())}));let un=Te._y.AcceptSuggestionsOnEnter.bindTo(vt),xn=()=>{const Pi=this.editor.getOption(1);un.set(Pi==="on"||Pi==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>xn())),xn()}static get(ve){return ve.getContribution(Tu.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ve,Me){if(!ve||!ve.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Ue=this.editor.getModel(),vt=Ue.getAlternativeVersionId(),{item:yt}=ve,si=[],Jt=new P.A;Me&1||this.editor.pushUndoStop();const un=this.getOverwriteInfo(yt,!!(Me&8));if(this._memoryService.memorize(Ue,this.editor.getPosition(),yt),Array.isArray(yt.completion.additionalTextEdits)){const Pi=E.ZF.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",yt.completion.additionalTextEdits.map(Ji=>r.h.replace(C.e.lift(Ji.range),Ji.text))),Pi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!yt.isResolved){const Pi=new T.G(!0);let Ji;const _n=Ue.onDidChangeContent(Ki=>{if(Ki.isFlush){Jt.cancel(),_n.dispose();return}for(let qn of Ki.changes){const ls=C.e.getEndPosition(qn.range);(!Ji||N.L.isBefore(ls,Ji))&&(Ji=ls)}});let Gi=Me;Me|=2;let jt=!1,wi=this.editor.onWillType(()=>{wi.dispose(),jt=!0,Gi&2||this.editor.pushUndoStop()});si.push(yt.resolve(Jt.token).then(()=>{if(!yt.completion.additionalTextEdits||Jt.token.isCancellationRequested||Ji&&yt.completion.additionalTextEdits.some(qn=>N.L.isBefore(Ji,C.e.getStartPosition(qn.range))))return!1;jt&&this.editor.pushUndoStop();const Ki=E.ZF.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",yt.completion.additionalTextEdits.map(qn=>r.h.replace(C.e.lift(qn.range),qn.text))),Ki.restoreRelativeVerticalPositionOfCursor(this.editor),(jt||!(Gi&2))&&this.editor.pushUndoStop(),!0}).then(Ki=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Pi.elapsed(),Ki),_n.dispose(),wi.dispose()}))}let{insertText:xn}=yt.completion;yt.completion.insertTextRules&4||(xn=_.Yj.escape(xn)),f.SnippetController2.get(this.editor).insert(xn,{overwriteBefore:un.overwriteBefore,overwriteAfter:un.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(yt.completion.insertTextRules&1),clipboardText:ve.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Me&2||this.editor.pushUndoStop(),yt.completion.command?yt.completion.command.id===$n.id?this.model.trigger({auto:!0,shy:!1},!0):(si.push(this._commandService.executeCommand(yt.completion.command.id,...yt.completion.command.arguments?[...yt.completion.command.arguments]:[]).catch(L.dL)),this.model.cancel()):this.model.cancel(),Me&4&&this._alternatives.value.set(ve,Pi=>{for(Jt.cancel();Ue.canUndo();){vt!==Ue.getAlternativeVersionId()&&Ue.undo(),this._insertSuggestion(Pi,3|(Me&8?8:0));break}}),this._alertCompletionItem(yt),Promise.all(si).finally(()=>{this.model.clear(),Jt.dispose()})}getOverwriteInfo(ve,Me){(0,g.p_)(this.editor.hasModel());let Ue=this.editor.getOption(105).insertMode==="replace";Me&&(Ue=!Ue);const vt=ve.position.column-ve.editStart.column,yt=(Ue?ve.editReplaceEnd.column:ve.editInsertEnd.column)-ve.position.column,si=this.editor.getPosition().column-ve.position.column,Jt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:vt+si,overwriteAfter:yt+Jt}}_alertCompletionItem(ve){if((0,O.Of)(ve.completion.additionalTextEdits)){let Me=F.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",ve.textLabel,ve.completion.additionalTextEdits.length);(0,D.Z9)(Me)}}triggerSuggest(ve){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,ve),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ve){if(!this.editor.hasModel())return;const Me=this.editor.getPosition(),Ue=()=>{Me.equals(this.editor.getPosition())&&this._commandService.executeCommand(ve.fallback)},vt=yt=>{if(yt.completion.insertTextRules&4||yt.completion.additionalTextEdits)return!0;const si=this.editor.getPosition(),Jt=yt.editStart.column,un=si.column;return un-Jt!==yt.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:si.lineNumber,startColumn:Jt,endLineNumber:si.lineNumber,endColumn:un})!==yt.completion.insertText};J.ju.once(this.model.onDidTrigger)(yt=>{let si=[];J.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,W.B9)(si),Ue()},void 0,si),this.model.onDidSuggest(({completionModel:Jt})=>{if((0,W.B9)(si),Jt.items.length===0){Ue();return}const un=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Jt.items),xn=Jt.items[un];if(!vt(xn)){Ue();return}this.editor.pushUndoStop(),this._insertSuggestion({index:un,item:xn,model:Jt},7)},void 0,si)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Me,0),this.editor.focus()}acceptSelectedSuggestion(ve,Me){const Ue=this.widget.value.getFocusedItem();let vt=0;ve&&(vt|=4),Me&&(vt|=8),this._insertSuggestion(Ue,vt)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(ve){return this._selectors.register(ve)}};en.ID="editor.contrib.suggestController",en=Bi([ln(1,$),ln(2,pe.H),ln(3,G.i6),ln(4,B.TG),ln(5,ke.VZ)],en);class pn{constructor(ve){this.prioritySelector=ve,this._items=new Array}register(ve){if(this._items.indexOf(ve)!==-1)throw new Error("Value is already registered");return this._items.push(ve),this._items.sort((Me,Ue)=>this.prioritySelector(Ue)-this.prioritySelector(Me)),{dispose:()=>{const Me=this._items.indexOf(ve);Me>=0&&this._items.splice(Me,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class $n extends H.R6{constructor(){super({id:$n.id,label:F.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:G.Ao.and(x.u.writable,x.u.hasCompletionItemProvider),kbOpts:{kbExpr:x.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(ve,Me){const Ue=en.get(Me);Ue&&Ue.triggerSuggest()}}$n.id="editor.action.triggerSuggest",(0,H._K)(en.ID,en),(0,H.Qr)($n);const Ds=100+90,Cn=H._l.bindToContribution(en.get);(0,H.fK)(new Cn({id:"acceptSelectedSuggestion",precondition:Te._y.Visible,handler(Kt){Kt.acceptSelectedSuggestion(!0,!1)}})),ue.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:G.Ao.and(Te._y.Visible,x.u.textInputFocus),primary:2,weight:Ds}),ue.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:G.Ao.and(Te._y.Visible,x.u.textInputFocus,Te._y.AcceptSuggestionsOnEnter,Te._y.MakesTextEdit),primary:3,weight:Ds}),ie.BH.appendMenuItem(Te.GI,{command:{id:"acceptSelectedSuggestion",title:F.N("accept.insert","Insert")},group:"left",order:1,when:Te._y.HasInsertAndReplaceRange.toNegated()}),ie.BH.appendMenuItem(Te.GI,{command:{id:"acceptSelectedSuggestion",title:F.N("accept.insert","Insert")},group:"left",order:1,when:G.Ao.and(Te._y.HasInsertAndReplaceRange,Te._y.InsertMode.isEqualTo("insert"))}),ie.BH.appendMenuItem(Te.GI,{command:{id:"acceptSelectedSuggestion",title:F.N("accept.replace","Replace")},group:"left",order:1,when:G.Ao.and(Te._y.HasInsertAndReplaceRange,Te._y.InsertMode.isEqualTo("replace"))}),(0,H.fK)(new Cn({id:"acceptAlternativeSelectedSuggestion",precondition:G.Ao.and(Te._y.Visible,x.u.textInputFocus),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:1027,secondary:[1026]},handler(Kt){Kt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Te.GI,group:"left",order:2,when:G.Ao.and(Te._y.HasInsertAndReplaceRange,Te._y.InsertMode.isEqualTo("insert")),title:F.N("accept.replace","Replace")},{menuId:Te.GI,group:"left",order:2,when:G.Ao.and(Te._y.HasInsertAndReplaceRange,Te._y.InsertMode.isEqualTo("replace")),title:F.N("accept.insert","Insert")}]})),pe.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,H.fK)(new Cn({id:"hideSuggestWidget",precondition:Te._y.Visible,handler:Kt=>Kt.cancelSuggestWidget(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})),(0,H.fK)(new Cn({id:"selectNextSuggestion",precondition:G.Ao.and(Te._y.Visible,Te._y.MultipleSuggestions),handler:Kt=>Kt.selectNextSuggestion(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,H.fK)(new Cn({id:"selectNextPageSuggestion",precondition:G.Ao.and(Te._y.Visible,Te._y.MultipleSuggestions),handler:Kt=>Kt.selectNextPageSuggestion(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:12,secondary:[2060]}})),(0,H.fK)(new Cn({id:"selectLastSuggestion",precondition:G.Ao.and(Te._y.Visible,Te._y.MultipleSuggestions),handler:Kt=>Kt.selectLastSuggestion()})),(0,H.fK)(new Cn({id:"selectPrevSuggestion",precondition:G.Ao.and(Te._y.Visible,Te._y.MultipleSuggestions),handler:Kt=>Kt.selectPrevSuggestion(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,H.fK)(new Cn({id:"selectPrevPageSuggestion",precondition:G.Ao.and(Te._y.Visible,Te._y.MultipleSuggestions),handler:Kt=>Kt.selectPrevPageSuggestion(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:11,secondary:[2059]}})),(0,H.fK)(new Cn({id:"selectFirstSuggestion",precondition:G.Ao.and(Te._y.Visible,Te._y.MultipleSuggestions),handler:Kt=>Kt.selectFirstSuggestion()})),(0,H.fK)(new Cn({id:"toggleSuggestionDetails",precondition:Te._y.Visible,handler:Kt=>Kt.toggleSuggestionDetails(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Te.GI,group:"right",order:1,when:G.Ao.and(Te._y.DetailsVisible,Te._y.CanResolve),title:F.N("detail.more","show less")},{menuId:Te.GI,group:"right",order:1,when:G.Ao.and(Te._y.DetailsVisible.toNegated(),Te._y.CanResolve),title:F.N("detail.less","show more")}]})),(0,H.fK)(new Cn({id:"toggleExplainMode",precondition:Te._y.Visible,handler:Kt=>Kt.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,H.fK)(new Cn({id:"toggleSuggestionFocus",precondition:Te._y.Visible,handler:Kt=>Kt.toggleSuggestionFocus(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,H.fK)(new Cn({id:"insertBestCompletion",precondition:G.Ao.and(x.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),w.AtEnd,Te._y.Visible.toNegated(),mt.OtherSuggestions.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:(Kt,ve)=>{Kt.triggerSuggestAndAcceptBest((0,g.Kn)(ve)?Object.assign({fallback:"tab"},ve):{fallback:"tab"})},kbOpts:{weight:Ds,primary:2}})),(0,H.fK)(new Cn({id:"insertNextSuggestion",precondition:G.Ao.and(x.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),mt.OtherSuggestions,Te._y.Visible.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:Kt=>Kt.acceptNextSuggestion(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:2}})),(0,H.fK)(new Cn({id:"insertPrevSuggestion",precondition:G.Ao.and(x.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),mt.OtherSuggestions,Te._y.Visible.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:Kt=>Kt.acceptPrevSuggestion(),kbOpts:{weight:Ds,kbExpr:x.u.textInputFocus,primary:1026}})),(0,H.Qr)(class extends H.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:F.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Kt,ve){en.get(ve).resetWidgetSize()}})},96480:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{CancellationTokenSource:function(){return Ah},Emitter:function(){return Oh},KeyCode:function(){return Ph},KeyMod:function(){return Fh},MarkerSeverity:function(){return zh},MarkerTag:function(){return Uh},Position:function(){return Bh},Range:function(){return Wh},Selection:function(){return Vh},SelectionDirection:function(){return Hh},Token:function(){return Kh},Uri:function(){return $h},editor:function(){return jh},languages:function(){return Gh}});var D=c(64141),O=c(71050),Q=c(4669),P=c(22258),L=c(70666),J=c(50187),R=c(24314),W=c(3860),s=c(85600),T;(function(u){u[u.Unknown=0]="Unknown",u[u.Disabled=1]="Disabled",u[u.Enabled=2]="Enabled"})(T||(T={}));var g;(function(u){u[u.KeepWhitespace=1]="KeepWhitespace",u[u.InsertAsSnippet=4]="InsertAsSnippet"})(g||(g={}));var E;(function(u){u[u.Method=0]="Method",u[u.Function=1]="Function",u[u.Constructor=2]="Constructor",u[u.Field=3]="Field",u[u.Variable=4]="Variable",u[u.Class=5]="Class",u[u.Struct=6]="Struct",u[u.Interface=7]="Interface",u[u.Module=8]="Module",u[u.Property=9]="Property",u[u.Event=10]="Event",u[u.Operator=11]="Operator",u[u.Unit=12]="Unit",u[u.Value=13]="Value",u[u.Constant=14]="Constant",u[u.Enum=15]="Enum",u[u.EnumMember=16]="EnumMember",u[u.Keyword=17]="Keyword",u[u.Text=18]="Text",u[u.Color=19]="Color",u[u.File=20]="File",u[u.Reference=21]="Reference",u[u.Customcolor=22]="Customcolor",u[u.Folder=23]="Folder",u[u.TypeParameter=24]="TypeParameter",u[u.User=25]="User",u[u.Issue=26]="Issue",u[u.Snippet=27]="Snippet"})(E||(E={}));var H;(function(u){u[u.Deprecated=1]="Deprecated"})(H||(H={}));var r;(function(u){u[u.Invoke=0]="Invoke",u[u.TriggerCharacter=1]="TriggerCharacter",u[u.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(r||(r={}));var N;(function(u){u[u.EXACT=0]="EXACT",u[u.ABOVE=1]="ABOVE",u[u.BELOW=2]="BELOW"})(N||(N={}));var C;(function(u){u[u.NotSet=0]="NotSet",u[u.ContentFlush=1]="ContentFlush",u[u.RecoverFromMarkers=2]="RecoverFromMarkers",u[u.Explicit=3]="Explicit",u[u.Paste=4]="Paste",u[u.Undo=5]="Undo",u[u.Redo=6]="Redo"})(C||(C={}));var x;(function(u){u[u.LF=1]="LF",u[u.CRLF=2]="CRLF"})(x||(x={}));var f;(function(u){u[u.Text=0]="Text",u[u.Read=1]="Read",u[u.Write=2]="Write"})(f||(f={}));var _;(function(u){u[u.None=0]="None",u[u.Keep=1]="Keep",u[u.Brackets=2]="Brackets",u[u.Advanced=3]="Advanced",u[u.Full=4]="Full"})(_||(_={}));var S;(function(u){u[u.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",u[u.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",u[u.accessibilitySupport=2]="accessibilitySupport",u[u.accessibilityPageSize=3]="accessibilityPageSize",u[u.ariaLabel=4]="ariaLabel",u[u.autoClosingBrackets=5]="autoClosingBrackets",u[u.autoClosingDelete=6]="autoClosingDelete",u[u.autoClosingOvertype=7]="autoClosingOvertype",u[u.autoClosingQuotes=8]="autoClosingQuotes",u[u.autoIndent=9]="autoIndent",u[u.automaticLayout=10]="automaticLayout",u[u.autoSurround=11]="autoSurround",u[u.bracketPairColorization=12]="bracketPairColorization",u[u.guides=13]="guides",u[u.codeLens=14]="codeLens",u[u.codeLensFontFamily=15]="codeLensFontFamily",u[u.codeLensFontSize=16]="codeLensFontSize",u[u.colorDecorators=17]="colorDecorators",u[u.columnSelection=18]="columnSelection",u[u.comments=19]="comments",u[u.contextmenu=20]="contextmenu",u[u.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",u[u.cursorBlinking=22]="cursorBlinking",u[u.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",u[u.cursorStyle=24]="cursorStyle",u[u.cursorSurroundingLines=25]="cursorSurroundingLines",u[u.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",u[u.cursorWidth=27]="cursorWidth",u[u.disableLayerHinting=28]="disableLayerHinting",u[u.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",u[u.domReadOnly=30]="domReadOnly",u[u.dragAndDrop=31]="dragAndDrop",u[u.emptySelectionClipboard=32]="emptySelectionClipboard",u[u.extraEditorClassName=33]="extraEditorClassName",u[u.fastScrollSensitivity=34]="fastScrollSensitivity",u[u.find=35]="find",u[u.fixedOverflowWidgets=36]="fixedOverflowWidgets",u[u.folding=37]="folding",u[u.foldingStrategy=38]="foldingStrategy",u[u.foldingHighlight=39]="foldingHighlight",u[u.foldingImportsByDefault=40]="foldingImportsByDefault",u[u.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",u[u.fontFamily=42]="fontFamily",u[u.fontInfo=43]="fontInfo",u[u.fontLigatures=44]="fontLigatures",u[u.fontSize=45]="fontSize",u[u.fontWeight=46]="fontWeight",u[u.formatOnPaste=47]="formatOnPaste",u[u.formatOnType=48]="formatOnType",u[u.glyphMargin=49]="glyphMargin",u[u.gotoLocation=50]="gotoLocation",u[u.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",u[u.hover=52]="hover",u[u.inDiffEditor=53]="inDiffEditor",u[u.inlineSuggest=54]="inlineSuggest",u[u.letterSpacing=55]="letterSpacing",u[u.lightbulb=56]="lightbulb",u[u.lineDecorationsWidth=57]="lineDecorationsWidth",u[u.lineHeight=58]="lineHeight",u[u.lineNumbers=59]="lineNumbers",u[u.lineNumbersMinChars=60]="lineNumbersMinChars",u[u.linkedEditing=61]="linkedEditing",u[u.links=62]="links",u[u.matchBrackets=63]="matchBrackets",u[u.minimap=64]="minimap",u[u.mouseStyle=65]="mouseStyle",u[u.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",u[u.mouseWheelZoom=67]="mouseWheelZoom",u[u.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",u[u.multiCursorModifier=69]="multiCursorModifier",u[u.multiCursorPaste=70]="multiCursorPaste",u[u.occurrencesHighlight=71]="occurrencesHighlight",u[u.overviewRulerBorder=72]="overviewRulerBorder",u[u.overviewRulerLanes=73]="overviewRulerLanes",u[u.padding=74]="padding",u[u.parameterHints=75]="parameterHints",u[u.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",u[u.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",u[u.quickSuggestions=78]="quickSuggestions",u[u.quickSuggestionsDelay=79]="quickSuggestionsDelay",u[u.readOnly=80]="readOnly",u[u.renameOnType=81]="renameOnType",u[u.renderControlCharacters=82]="renderControlCharacters",u[u.renderFinalNewline=83]="renderFinalNewline",u[u.renderLineHighlight=84]="renderLineHighlight",u[u.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",u[u.renderValidationDecorations=86]="renderValidationDecorations",u[u.renderWhitespace=87]="renderWhitespace",u[u.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",u[u.roundedSelection=89]="roundedSelection",u[u.rulers=90]="rulers",u[u.scrollbar=91]="scrollbar",u[u.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",u[u.scrollBeyondLastLine=93]="scrollBeyondLastLine",u[u.scrollPredominantAxis=94]="scrollPredominantAxis",u[u.selectionClipboard=95]="selectionClipboard",u[u.selectionHighlight=96]="selectionHighlight",u[u.selectOnLineNumbers=97]="selectOnLineNumbers",u[u.showFoldingControls=98]="showFoldingControls",u[u.showUnused=99]="showUnused",u[u.snippetSuggestions=100]="snippetSuggestions",u[u.smartSelect=101]="smartSelect",u[u.smoothScrolling=102]="smoothScrolling",u[u.stickyTabStops=103]="stickyTabStops",u[u.stopRenderingLineAfter=104]="stopRenderingLineAfter",u[u.suggest=105]="suggest",u[u.suggestFontSize=106]="suggestFontSize",u[u.suggestLineHeight=107]="suggestLineHeight",u[u.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",u[u.suggestSelection=109]="suggestSelection",u[u.tabCompletion=110]="tabCompletion",u[u.tabIndex=111]="tabIndex",u[u.unusualLineTerminators=112]="unusualLineTerminators",u[u.useShadowDOM=113]="useShadowDOM",u[u.useTabStops=114]="useTabStops",u[u.wordSeparators=115]="wordSeparators",u[u.wordWrap=116]="wordWrap",u[u.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",u[u.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",u[u.wordWrapColumn=119]="wordWrapColumn",u[u.wordWrapOverride1=120]="wordWrapOverride1",u[u.wordWrapOverride2=121]="wordWrapOverride2",u[u.wrappingIndent=122]="wrappingIndent",u[u.wrappingStrategy=123]="wrappingStrategy",u[u.showDeprecated=124]="showDeprecated",u[u.inlayHints=125]="inlayHints",u[u.editorClassName=126]="editorClassName",u[u.pixelRatio=127]="pixelRatio",u[u.tabFocusMode=128]="tabFocusMode",u[u.layoutInfo=129]="layoutInfo",u[u.wrappingInfo=130]="wrappingInfo"})(S||(S={}));var h;(function(u){u[u.TextDefined=0]="TextDefined",u[u.LF=1]="LF",u[u.CRLF=2]="CRLF"})(h||(h={}));var y;(function(u){u[u.LF=0]="LF",u[u.CRLF=1]="CRLF"})(y||(y={}));var v;(function(u){u[u.None=0]="None",u[u.Indent=1]="Indent",u[u.IndentOutdent=2]="IndentOutdent",u[u.Outdent=3]="Outdent"})(v||(v={}));var B;(function(u){u[u.Other=0]="Other",u[u.Type=1]="Type",u[u.Parameter=2]="Parameter"})(B||(B={}));var j;(function(u){u[u.Automatic=0]="Automatic",u[u.Explicit=1]="Explicit"})(j||(j={}));var te;(function(u){u[u.DependsOnKbLayout=-1]="DependsOnKbLayout",u[u.Unknown=0]="Unknown",u[u.Backspace=1]="Backspace",u[u.Tab=2]="Tab",u[u.Enter=3]="Enter",u[u.Shift=4]="Shift",u[u.Ctrl=5]="Ctrl",u[u.Alt=6]="Alt",u[u.PauseBreak=7]="PauseBreak",u[u.CapsLock=8]="CapsLock",u[u.Escape=9]="Escape",u[u.Space=10]="Space",u[u.PageUp=11]="PageUp",u[u.PageDown=12]="PageDown",u[u.End=13]="End",u[u.Home=14]="Home",u[u.LeftArrow=15]="LeftArrow",u[u.UpArrow=16]="UpArrow",u[u.RightArrow=17]="RightArrow",u[u.DownArrow=18]="DownArrow",u[u.Insert=19]="Insert",u[u.Delete=20]="Delete",u[u.Digit0=21]="Digit0",u[u.Digit1=22]="Digit1",u[u.Digit2=23]="Digit2",u[u.Digit3=24]="Digit3",u[u.Digit4=25]="Digit4",u[u.Digit5=26]="Digit5",u[u.Digit6=27]="Digit6",u[u.Digit7=28]="Digit7",u[u.Digit8=29]="Digit8",u[u.Digit9=30]="Digit9",u[u.KeyA=31]="KeyA",u[u.KeyB=32]="KeyB",u[u.KeyC=33]="KeyC",u[u.KeyD=34]="KeyD",u[u.KeyE=35]="KeyE",u[u.KeyF=36]="KeyF",u[u.KeyG=37]="KeyG",u[u.KeyH=38]="KeyH",u[u.KeyI=39]="KeyI",u[u.KeyJ=40]="KeyJ",u[u.KeyK=41]="KeyK",u[u.KeyL=42]="KeyL",u[u.KeyM=43]="KeyM",u[u.KeyN=44]="KeyN",u[u.KeyO=45]="KeyO",u[u.KeyP=46]="KeyP",u[u.KeyQ=47]="KeyQ",u[u.KeyR=48]="KeyR",u[u.KeyS=49]="KeyS",u[u.KeyT=50]="KeyT",u[u.KeyU=51]="KeyU",u[u.KeyV=52]="KeyV",u[u.KeyW=53]="KeyW",u[u.KeyX=54]="KeyX",u[u.KeyY=55]="KeyY",u[u.KeyZ=56]="KeyZ",u[u.Meta=57]="Meta",u[u.ContextMenu=58]="ContextMenu",u[u.F1=59]="F1",u[u.F2=60]="F2",u[u.F3=61]="F3",u[u.F4=62]="F4",u[u.F5=63]="F5",u[u.F6=64]="F6",u[u.F7=65]="F7",u[u.F8=66]="F8",u[u.F9=67]="F9",u[u.F10=68]="F10",u[u.F11=69]="F11",u[u.F12=70]="F12",u[u.F13=71]="F13",u[u.F14=72]="F14",u[u.F15=73]="F15",u[u.F16=74]="F16",u[u.F17=75]="F17",u[u.F18=76]="F18",u[u.F19=77]="F19",u[u.NumLock=78]="NumLock",u[u.ScrollLock=79]="ScrollLock",u[u.Semicolon=80]="Semicolon",u[u.Equal=81]="Equal",u[u.Comma=82]="Comma",u[u.Minus=83]="Minus",u[u.Period=84]="Period",u[u.Slash=85]="Slash",u[u.Backquote=86]="Backquote",u[u.BracketLeft=87]="BracketLeft",u[u.Backslash=88]="Backslash",u[u.BracketRight=89]="BracketRight",u[u.Quote=90]="Quote",u[u.OEM_8=91]="OEM_8",u[u.IntlBackslash=92]="IntlBackslash",u[u.Numpad0=93]="Numpad0",u[u.Numpad1=94]="Numpad1",u[u.Numpad2=95]="Numpad2",u[u.Numpad3=96]="Numpad3",u[u.Numpad4=97]="Numpad4",u[u.Numpad5=98]="Numpad5",u[u.Numpad6=99]="Numpad6",u[u.Numpad7=100]="Numpad7",u[u.Numpad8=101]="Numpad8",u[u.Numpad9=102]="Numpad9",u[u.NumpadMultiply=103]="NumpadMultiply",u[u.NumpadAdd=104]="NumpadAdd",u[u.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",u[u.NumpadSubtract=106]="NumpadSubtract",u[u.NumpadDecimal=107]="NumpadDecimal",u[u.NumpadDivide=108]="NumpadDivide",u[u.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",u[u.ABNT_C1=110]="ABNT_C1",u[u.ABNT_C2=111]="ABNT_C2",u[u.AudioVolumeMute=112]="AudioVolumeMute",u[u.AudioVolumeUp=113]="AudioVolumeUp",u[u.AudioVolumeDown=114]="AudioVolumeDown",u[u.BrowserSearch=115]="BrowserSearch",u[u.BrowserHome=116]="BrowserHome",u[u.BrowserBack=117]="BrowserBack",u[u.BrowserForward=118]="BrowserForward",u[u.MediaTrackNext=119]="MediaTrackNext",u[u.MediaTrackPrevious=120]="MediaTrackPrevious",u[u.MediaStop=121]="MediaStop",u[u.MediaPlayPause=122]="MediaPlayPause",u[u.LaunchMediaPlayer=123]="LaunchMediaPlayer",u[u.LaunchMail=124]="LaunchMail",u[u.LaunchApp2=125]="LaunchApp2",u[u.MAX_VALUE=126]="MAX_VALUE"})(te||(te={}));var ce;(function(u){u[u.Hint=1]="Hint",u[u.Info=2]="Info",u[u.Warning=4]="Warning",u[u.Error=8]="Error"})(ce||(ce={}));var _e;(function(u){u[u.Unnecessary=1]="Unnecessary",u[u.Deprecated=2]="Deprecated"})(_e||(_e={}));var Ce;(function(u){u[u.Inline=1]="Inline",u[u.Gutter=2]="Gutter"})(Ce||(Ce={}));var Ee;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.TEXTAREA=1]="TEXTAREA",u[u.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",u[u.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",u[u.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",u[u.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",u[u.CONTENT_TEXT=6]="CONTENT_TEXT",u[u.CONTENT_EMPTY=7]="CONTENT_EMPTY",u[u.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",u[u.CONTENT_WIDGET=9]="CONTENT_WIDGET",u[u.OVERVIEW_RULER=10]="OVERVIEW_RULER",u[u.SCROLLBAR=11]="SCROLLBAR",u[u.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",u[u.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(Ee||(Ee={}));var le;(function(u){u[u.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",u[u.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",u[u.TOP_CENTER=2]="TOP_CENTER"})(le||(le={}));var Y;(function(u){u[u.Left=1]="Left",u[u.Center=2]="Center",u[u.Right=4]="Right",u[u.Full=7]="Full"})(Y||(Y={}));var $;(function(u){u[u.Off=0]="Off",u[u.On=1]="On",u[u.Relative=2]="Relative",u[u.Interval=3]="Interval",u[u.Custom=4]="Custom"})($||($={}));var G;(function(u){u[u.None=0]="None",u[u.Text=1]="Text",u[u.Blocks=2]="Blocks"})(G||(G={}));var ee;(function(u){u[u.Smooth=0]="Smooth",u[u.Immediate=1]="Immediate"})(ee||(ee={}));var m;(function(u){u[u.Auto=1]="Auto",u[u.Hidden=2]="Hidden",u[u.Visible=3]="Visible"})(m||(m={}));var w;(function(u){u[u.LTR=0]="LTR",u[u.RTL=1]="RTL"})(w||(w={}));var F;(function(u){u[u.Invoke=1]="Invoke",u[u.TriggerCharacter=2]="TriggerCharacter",u[u.ContentChange=3]="ContentChange"})(F||(F={}));var ie;(function(u){u[u.File=0]="File",u[u.Module=1]="Module",u[u.Namespace=2]="Namespace",u[u.Package=3]="Package",u[u.Class=4]="Class",u[u.Method=5]="Method",u[u.Property=6]="Property",u[u.Field=7]="Field",u[u.Constructor=8]="Constructor",u[u.Enum=9]="Enum",u[u.Interface=10]="Interface",u[u.Function=11]="Function",u[u.Variable=12]="Variable",u[u.Constant=13]="Constant",u[u.String=14]="String",u[u.Number=15]="Number",u[u.Boolean=16]="Boolean",u[u.Array=17]="Array",u[u.Object=18]="Object",u[u.Key=19]="Key",u[u.Null=20]="Null",u[u.EnumMember=21]="EnumMember",u[u.Struct=22]="Struct",u[u.Event=23]="Event",u[u.Operator=24]="Operator",u[u.TypeParameter=25]="TypeParameter"})(ie||(ie={}));var pe;(function(u){u[u.Deprecated=1]="Deprecated"})(pe||(pe={}));var ue;(function(u){u[u.Hidden=0]="Hidden",u[u.Blink=1]="Blink",u[u.Smooth=2]="Smooth",u[u.Phase=3]="Phase",u[u.Expand=4]="Expand",u[u.Solid=5]="Solid"})(ue||(ue={}));var ke;(function(u){u[u.Line=1]="Line",u[u.Block=2]="Block",u[u.Underline=3]="Underline",u[u.LineThin=4]="LineThin",u[u.BlockOutline=5]="BlockOutline",u[u.UnderlineThin=6]="UnderlineThin"})(ke||(ke={}));var Te;(function(u){u[u.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",u[u.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",u[u.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",u[u.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Te||(Te={}));var rt;(function(u){u[u.None=0]="None",u[u.Same=1]="Same",u[u.Indent=2]="Indent",u[u.DeepIndent=3]="DeepIndent"})(rt||(rt={}));class Rt{static chord(t,i){return(0,P.gx)(t,i)}}Rt.CtrlCmd=2048,Rt.Shift=1024,Rt.Alt=512,Rt.WinCtrl=256;function mt(){return{editor:void 0,languages:void 0,CancellationTokenSource:O.A,Emitter:Q.Q5,KeyCode:te,KeyMod:Rt,Position:J.L,Range:R.e,Selection:W.Y,SelectionDirection:w,MarkerSeverity:ce,MarkerTag:_e,Uri:L.o,Token:s.WU}}var Mt=c(11640),it=c(65321),Je=c(91741),Ae=c(43702),ge=c(23897),Re=c(66663),ot=c(95935),dt=c(94565),lt;(function(u){u[u.API=0]="API",u[u.USER=1]="USER"})(lt||(lt={}));var Ie=c(50988),Pe=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},ye=function(u,t){return function(i,o){t(i,o,u)}},Xe=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};let st=class{constructor(t){this._commandService=t}open(t,i){return Xe(this,void 0,void 0,function*(){if(!(0,Ie.xn)(t,Re.lg.command))return!1;if(!(i!=null&&i.allowCommands))return!0;typeof t=="string"&&(t=L.o.parse(t));let o=[];try{o=(0,ge.Q)(decodeURIComponent(t.query))}catch(p){try{o=(0,ge.Q)(t.query)}catch(A){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(t.path,...o),!0})}};st=Pe([ye(0,dt.H)],st);let Pt=class{constructor(t){this._editorService=t}open(t,i){return Xe(this,void 0,void 0,function*(){typeof t=="string"&&(t=L.o.parse(t));let o;const p=/^L?(\d+)(?:,(\d+))?/.exec(t.fragment);return p&&(o={startLineNumber:parseInt(p[1]),startColumn:p[2]?parseInt(p[2]):1},t=t.with({fragment:""})),t.scheme===Re.lg.file&&(t=(0,ot.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:o,context:i!=null&&i.fromUserGesture?lt.USER:lt.API},i==null?void 0:i.editorOptions)},this._editorService.getFocusedCodeEditor(),i==null?void 0:i.openToSide),!0})}};Pt=Pe([ye(0,Mt.$)],Pt);let qt=class{constructor(t,i){this._openers=new Je.S,this._validators=new Je.S,this._resolvers=new Je.S,this._resolvedUriTargets=new Ae.Y9(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Je.S,this._defaultExternalOpener={openExternal:o=>Xe(this,void 0,void 0,function*(){return(0,Ie.xn)(o,Re.lg.http)||(0,Ie.xn)(o,Re.lg.https)?it.V3(o):window.location.href=o,!0})},this._openers.push({open:(o,p)=>Xe(this,void 0,void 0,function*(){return p!=null&&p.openExternal||(0,Ie.xn)(o,Re.lg.mailto)||(0,Ie.xn)(o,Re.lg.http)||(0,Ie.xn)(o,Re.lg.https)?(yield this._doOpenExternal(o,p),!0):!1})}),this._openers.push(new st(i)),this._openers.push(new Pt(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpener(t){return{dispose:this._externalOpeners.push(t)}}open(t,i){var o;return Xe(this,void 0,void 0,function*(){const p=typeof t=="string"?L.o.parse(t):t,A=(o=this._resolvedUriTargets.get(p))!==null&&o!==void 0?o:t;for(const K of this._validators)if(!(yield K.shouldOpen(A)))return!1;for(const K of this._openers)if(yield K.open(t,i))return!0;return!1})}resolveExternalUri(t,i){return Xe(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const p=yield o.resolveExternalUri(t,i);if(p)return this._resolvedUriTargets.has(p.resolved)||this._resolvedUriTargets.set(p.resolved,t),p}catch(p){}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,i){return Xe(this,void 0,void 0,function*(){const o=typeof t=="string"?L.o.parse(t):t;let p;try{p=(yield this.resolveExternalUri(o,i)).resolved}catch(K){p=o}let A;if(typeof t=="string"&&o.toString()===p.toString()?A=t:A=encodeURI(p.toString(!0)),i!=null&&i.allowContributedOpeners){const K=typeof(i==null?void 0:i.allowContributedOpeners)=="string"?i==null?void 0:i.allowContributedOpeners:void 0;for(const q of this._externalOpeners)if(yield q.openExternal(A,{sourceUri:o,preferredOpenerId:K},O.T.None))return!0}return this._defaultExternalOpener.openExternal(A,{sourceUri:o},O.T.None)})}dispose(){this._validators.clear()}};qt=Pe([ye(0,Mt.$),ye(1,dt.H)],qt);var Ci=c(35146),ii=c(5976),At=c(36248);const Qi={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class ci extends ii.JT{constructor(t,i={}){super(),this._onDidUpdate=this._register(new Q.Q5),this._editor=t,this._options=At.jB(i,Qi,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(o=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(o=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(o=>{this.ranges.push({rhs:!0,range:new R.e(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new R.e(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new R.e(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,o)=>R.e.compareRangesUsingStarts(i.range,o.range)),this._onDidUpdate.fire(this)}_initIdx(t){let i=!1,o=this._editor.getPosition();if(!o){this.nextIdx=0;return}for(let p=0,A=this.ranges.length;p<A&&!i;p++){let K=this.ranges[p].range;o.isBeforeOrEqual(K.getStartPosition())&&(this.nextIdx=p+(t?0:-1),i=!0)}i||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,i){if(Ci.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let o=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let p=o.range.getStartPosition();this._editor.setPosition(p),this._editor.revealRangeInCenter(o.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this._move(!0,t)}previous(t=0){this._move(!1,t)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var je=c(27374),at=c(96518),Ni=c(84973),fi=c(10351),Wi=c(28111),Rn=c(90469),zi=c(71531),as=c(88216),Fn=c(15393),An=c(17301),$i=c(1432),Nn=c(98401),sn=c(97295);const $e="$initialize";let It=!1;function xt(u){$i.$L&&(It||(It=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(u.message))}class Qe{constructor(t,i,o,p){this.vsWorker=t,this.req=i,this.method=o,this.args=p,this.type=0}}class tt{constructor(t,i,o,p){this.vsWorker=t,this.seq=i,this.res=o,this.err=p,this.type=1}}class Nt{constructor(t,i,o,p){this.vsWorker=t,this.req=i,this.eventName=o,this.arg=p,this.type=2}}class Tt{constructor(t,i,o){this.vsWorker=t,this.req=i,this.event=o,this.type=3}}class Yt{constructor(t,i){this.vsWorker=t,this.req=i,this.type=4}}class ai{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,i){const o=String(++this._lastSentReq);return new Promise((p,A)=>{this._pendingReplies[o]={resolve:p,reject:A},this._send(new Qe(this._workerId,o,t,i))})}listen(t,i){let o=null;const p=new Q.Q5({onFirstListenerAdd:()=>{o=String(++this._lastSentReq),this._pendingEmitters.set(o,p),this._send(new Nt(this._workerId,o,t,i))},onLastListenerRemove:()=>{this._pendingEmitters.delete(o),this._send(new Yt(this._workerId,o)),o=null}});return p.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}let i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let o=t.err;t.err.$isError&&(o=new Error,o.name=t.err.name,o.message=t.err.message,o.stack=t.err.stack),i.reject(o);return}i.resolve(t.res)}_handleRequestMessage(t){let i=t.req;this._handler.handleMessage(t.method,t.args).then(p=>{this._send(new tt(this._workerId,i,p,void 0))},p=>{p.detail instanceof Error&&(p.detail=(0,An.ri)(p.detail)),this._send(new tt(this._workerId,i,void 0,(0,An.ri)(p)))})}_handleSubscribeEventMessage(t){const i=t.req,o=this._handler.handleEvent(t.eventName,t.arg)(p=>{this._send(new Tt(this._workerId,i,p))});this._pendingEvents.set(i,o)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){let i=[];if(t.type===0)for(let o=0;o<t.args.length;o++)t.args[o]instanceof ArrayBuffer&&i.push(t.args[o]);else t.type===1&&t.res instanceof ArrayBuffer&&i.push(t.res);this._handler.sendMessage(t,i)}}class Si extends ii.JT{constructor(t,i,o){super();let p=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",xe=>{this._protocol.handleMessage(xe)},xe=>{p&&p(xe)})),this._protocol=new ai({sendMessage:(xe,Fe)=>{this._worker.postMessage(xe,Fe)},handleMessage:(xe,Fe)=>{if(typeof o[xe]!="function")return Promise.reject(new Error("Missing method "+xe+" on main thread host."));try{return Promise.resolve(o[xe].apply(o,Fe))}catch(et){return Promise.reject(et)}},handleEvent:(xe,Fe)=>{if(ji(xe)){const et=o[xe].call(o,Fe);if(typeof et!="function")throw new Error(`Missing dynamic event ${xe} on main thread host.`);return et}if(qi(xe)){const et=o[xe];if(typeof et!="function")throw new Error(`Missing event ${xe} on main thread host.`);return et}throw new Error(`Malformed event name ${xe}`)}}),this._protocol.setWorkerId(this._worker.getId());let A=null;typeof $i.li.require!="undefined"&&typeof $i.li.require.getConfig=="function"?A=$i.li.require.getConfig():typeof $i.li.requirejs!="undefined"&&(A=$i.li.requirejs.s.contexts._.config);const K=Nn.$E(o);this._onModuleLoaded=this._protocol.sendMessage($e,[this._worker.getId(),JSON.parse(JSON.stringify(A)),i,K]);const q=(xe,Fe)=>this._request(xe,Fe),be=(xe,Fe)=>this._protocol.listen(xe,Fe);this._lazyProxy=new Promise((xe,Fe)=>{p=Fe,this._onModuleLoaded.then(et=>{xe(Zn(et,q,be))},et=>{Fe(et),this._onError("Worker failed to load "+i,et)})})}getProxyObject(){return this._lazyProxy}_request(t,i){return new Promise((o,p)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,i).then(o,p)},p)})}_onError(t,i){console.error(t),console.info(i)}}function qi(u){return u[0]==="o"&&u[1]==="n"&&sn.df(u.charCodeAt(2))}function ji(u){return/^onDynamic/.test(u)&&sn.df(u.charCodeAt(9))}function Zn(u,t,i){const o=K=>function(){const q=Array.prototype.slice.call(arguments,0);return t(K,q)},p=K=>function(q){return i(K,q)};let A={};for(const K of u){if(ji(K)){A[K]=p(K);continue}if(qi(K)){A[K]=i(K,void 0);continue}A[K]=o(K)}return A}class Vi{constructor(t,i){this._requestHandlerFactory=i,this._requestHandler=null,this._protocol=new ai({sendMessage:(o,p)=>{t(o,p)},handleMessage:(o,p)=>this._handleMessage(o,p),handleEvent:(o,p)=>this._handleEvent(o,p)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,i){if(t===$e)return this.initialize(i[0],i[1],i[2],i[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,i))}catch(o){return Promise.reject(o)}}_handleEvent(t,i){if(!this._requestHandler)throw new Error("Missing requestHandler");if(ji(t)){const o=this._requestHandler[t].call(this._requestHandler,i);if(typeof o!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return o}if(qi(t)){const o=this._requestHandler[t];if(typeof o!="function")throw new Error(`Missing event ${t} on request handler.`);return o}throw new Error(`Malformed event name ${t}`)}initialize(t,i,o,p){this._protocol.setWorkerId(t);const q=Zn(p,(be,xe)=>this._protocol.sendMessage(be,xe),(be,xe)=>this._protocol.listen(be,xe));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(q),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(i&&(typeof i.baseUrl!="undefined"&&delete i.baseUrl,typeof i.paths!="undefined"&&typeof i.paths.vs!="undefined"&&delete i.paths.vs,typeof i.trustedTypesPolicy!==void 0&&delete i.trustedTypesPolicy,i.catchError=!0,globals.require.config(i)),new Promise((be,xe)=>{const Fe=globals.require;Fe([o],et=>{if(this._requestHandler=et.create(q),!this._requestHandler){xe(new Error("No RequestHandler!"));return}be(types.getAllMethodNames(this._requestHandler))},xe)}))}}function Xi(u){return new Vi(u,null)}var wt;const ht=(wt=window.trustedTypes)===null||wt===void 0?void 0:wt.createPolicy("defaultWorkerFactory",{createScriptURL:u=>u});function Et(u,t){if($i.li.MonacoEnvironment){if(typeof $i.li.MonacoEnvironment.getWorker=="function")return $i.li.MonacoEnvironment.getWorker(u,t);if(typeof $i.li.MonacoEnvironment.getWorkerUrl=="function"){const i=$i.li.MonacoEnvironment.getWorkerUrl(u,t);return new Worker(ht?ht.createScriptURL(i):i,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function He(u){return typeof u.then=="function"}class nt{constructor(t,i,o,p,A){this.id=i;const K=Et("workerMain.js",o);He(K)?this.worker=K:this.worker=Promise.resolve(K),this.postMessage(t,[]),this.worker.then(q=>{q.onmessage=function(be){p(be.data)},q.onmessageerror=A,typeof q.addEventListener=="function"&&q.addEventListener("error",A)})}getId(){return this.id}postMessage(t,i){this.worker&&this.worker.then(o=>o.postMessage(t,i))}dispose(){this.worker&&this.worker.then(t=>t.terminate()),this.worker=null}}class pt{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,i,o){let p=++pt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new nt(t,p,this._label||"anonymous"+p,i,A=>{xt(A),this._webWorkerFailedBeforeError=A,o(A)})}}pt.LAST_WORKER_ID=0;var ft=c(94660),oi=c(22571);const Hi=3;function vi(u,t,i,o){return new oi.Hs(u,t,i).ComputeDiff(o)}class Ii{constructor(t){const i=[],o=[];for(let p=0,A=t.length;p<A;p++)i[p]=hn(t[p],1),o[p]=wn(t[p],1);this.lines=t,this._startColumns=i,this._endColumns=o}getElements(){const t=[];for(let i=0,o=this.lines.length;i<o;i++)t[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,i,o){const p=[],A=[],K=[];let q=0;for(let be=i;be<=o;be++){const xe=this.lines[be],Fe=t?this._startColumns[be]:1,et=t?this._endColumns[be]:xe.length+1;for(let Ut=Fe;Ut<et;Ut++)p[q]=xe.charCodeAt(Ut-1),A[q]=be+1,K[q]=Ut,q++}return new Ui(p,A,K)}}class Ui{constructor(t,i,o){this._charCodes=t,this._lineNumbers=i,this._columns=o}getElements(){return this._charCodes}getStartLineNumber(t){return this._lineNumbers[t]}getStartColumn(t){return this._columns[t]}getEndLineNumber(t){return this._lineNumbers[t]}getEndColumn(t){return this._columns[t]+1}}class dn{constructor(t,i,o,p,A,K,q,be){this.originalStartLineNumber=t,this.originalStartColumn=i,this.originalEndLineNumber=o,this.originalEndColumn=p,this.modifiedStartLineNumber=A,this.modifiedStartColumn=K,this.modifiedEndLineNumber=q,this.modifiedEndColumn=be}static createFromDiffChange(t,i,o){let p,A,K,q,be,xe,Fe,et;return t.originalLength===0?(p=0,A=0,K=0,q=0):(p=i.getStartLineNumber(t.originalStart),A=i.getStartColumn(t.originalStart),K=i.getEndLineNumber(t.originalStart+t.originalLength-1),q=i.getEndColumn(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(be=0,xe=0,Fe=0,et=0):(be=o.getStartLineNumber(t.modifiedStart),xe=o.getStartColumn(t.modifiedStart),Fe=o.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),et=o.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new dn(p,A,K,q,be,xe,Fe,et)}}function gn(u){if(u.length<=1)return u;const t=[u[0]];let i=t[0];for(let o=1,p=u.length;o<p;o++){const A=u[o],K=A.originalStart-(i.originalStart+i.originalLength),q=A.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(K,q)<Hi?(i.originalLength=A.originalStart+A.originalLength-i.originalStart,i.modifiedLength=A.modifiedStart+A.modifiedLength-i.modifiedStart):(t.push(A),i=A)}return t}class Ri{constructor(t,i,o,p,A){this.originalStartLineNumber=t,this.originalEndLineNumber=i,this.modifiedStartLineNumber=o,this.modifiedEndLineNumber=p,this.charChanges=A}static createFromDiffResult(t,i,o,p,A,K,q){let be,xe,Fe,et,Ut;if(i.originalLength===0?(be=o.getStartLineNumber(i.originalStart)-1,xe=0):(be=o.getStartLineNumber(i.originalStart),xe=o.getEndLineNumber(i.originalStart+i.originalLength-1)),i.modifiedLength===0?(Fe=p.getStartLineNumber(i.modifiedStart)-1,et=0):(Fe=p.getStartLineNumber(i.modifiedStart),et=p.getEndLineNumber(i.modifiedStart+i.modifiedLength-1)),K&&i.originalLength>0&&i.originalLength<20&&i.modifiedLength>0&&i.modifiedLength<20&&A()){const Mi=o.createCharSequence(t,i.originalStart,i.originalStart+i.originalLength-1),Oi=p.createCharSequence(t,i.modifiedStart,i.modifiedStart+i.modifiedLength-1);let nn=vi(Mi,Oi,A,!0).changes;q&&(nn=gn(nn)),Ut=[];for(let Dn=0,Hn=nn.length;Dn<Hn;Dn++)Ut.push(dn.createFromDiffChange(nn[Dn],Mi,Oi))}return new Ri(be,xe,Fe,et,Ut)}}class _i{constructor(t,i,o){this.shouldComputeCharChanges=o.shouldComputeCharChanges,this.shouldPostProcessCharChanges=o.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=o.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=o.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=i,this.original=new Ii(t),this.modified=new Ii(i),this.continueLineDiff=Qn(o.maxComputationTime),this.continueCharDiff=Qn(o.maxComputationTime===0?0:Math.min(o.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const t=vi(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),i=t.changes,o=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const q=[];for(let be=0,xe=i.length;be<xe;be++)q.push(Ri.createFromDiffResult(this.shouldIgnoreTrimWhitespace,i[be],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:o,changes:q}}const p=[];let A=0,K=0;for(let q=-1,be=i.length;q<be;q++){const xe=q+1<be?i[q+1]:null,Fe=xe?xe.originalStart:this.originalLines.length,et=xe?xe.modifiedStart:this.modifiedLines.length;for(;A<Fe&&K<et;){const Ut=this.originalLines[A],Mi=this.modifiedLines[K];if(Ut!==Mi){{let Oi=hn(Ut,1),nn=hn(Mi,1);for(;Oi>1&&nn>1;){const Dn=Ut.charCodeAt(Oi-2),Hn=Mi.charCodeAt(nn-2);if(Dn!==Hn)break;Oi--,nn--}(Oi>1||nn>1)&&this._pushTrimWhitespaceCharChange(p,A+1,1,Oi,K+1,1,nn)}{let Oi=wn(Ut,1),nn=wn(Mi,1);const Dn=Ut.length+1,Hn=Mi.length+1;for(;Oi<Dn&&nn<Hn;){const Kn=Ut.charCodeAt(Oi-1),Sn=Ut.charCodeAt(nn-1);if(Kn!==Sn)break;Oi++,nn++}(Oi<Dn||nn<Hn)&&this._pushTrimWhitespaceCharChange(p,A+1,Oi,Dn,K+1,nn,Hn)}}A++,K++}xe&&(p.push(Ri.createFromDiffResult(this.shouldIgnoreTrimWhitespace,xe,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),A+=xe.originalLength,K+=xe.modifiedLength)}return{quitEarly:o,changes:p}}_pushTrimWhitespaceCharChange(t,i,o,p,A,K,q){if(this._mergeTrimWhitespaceCharChange(t,i,o,p,A,K,q))return;let be;this.shouldComputeCharChanges&&(be=[new dn(i,o,i,p,A,K,A,q)]),t.push(new Ri(i,i,A,A,be))}_mergeTrimWhitespaceCharChange(t,i,o,p,A,K,q){const be=t.length;if(be===0)return!1;const xe=t[be-1];return xe.originalEndLineNumber===0||xe.modifiedEndLineNumber===0?!1:xe.originalEndLineNumber+1===i&&xe.modifiedEndLineNumber+1===A?(xe.originalEndLineNumber=i,xe.modifiedEndLineNumber=A,this.shouldComputeCharChanges&&xe.charChanges&&xe.charChanges.push(new dn(i,o,i,p,A,K,A,q)),!0):!1}}function hn(u,t){const i=sn.LC(u);return i===-1?t:i+1}function wn(u,t){const i=sn.ow(u);return i===-1?t:i+2}function Qn(u){if(u===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<u}var os=c(3544);class Yn{constructor(t,i,o,p){this._uri=t,this._lines=i,this._eol=o,this._versionId=p,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const i=t.changes;for(const o of i)this._acceptDeleteRange(o.range),this._acceptInsertText(new J.L(o.range.startLineNumber,o.range.startColumn),o.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,i=this._lines.length,o=new Uint32Array(i);for(let p=0;p<i;p++)o[p]=this._lines[p].length+t;this._lineStarts=new os.o(o)}}_setLineText(t,i){this._lines[t]=i,this._lineStarts&&this._lineStarts.changeValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,i){if(i.length===0)return;let o=(0,sn.uq)(i);if(o.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+o[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}o[o.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+o[0]);let p=new Uint32Array(o.length-1);for(let A=1;A<o.length;A++)this._lines.splice(t.lineNumber+A-1,0,o[A]),p[A-1]=o[A].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,p)}}var Ts=c(97461),Co=c(44906);class Vs{constructor(t,i,o){const p=new Uint8Array(t*i);for(let A=0,K=t*i;A<K;A++)p[A]=o;this._data=p,this.rows=t,this.cols=i}get(t,i){return this._data[t*this.cols+i]}set(t,i,o){this._data[t*this.cols+i]=o}}class cs{constructor(t){let i=0,o=0;for(let A=0,K=t.length;A<K;A++){let[q,be,xe]=t[A];be>i&&(i=be),q>o&&(o=q),xe>o&&(o=xe)}i++,o++;let p=new Vs(o,i,0);for(let A=0,K=t.length;A<K;A++){let[q,be,xe]=t[A];p.set(q,be,xe)}this._states=p,this._maxCharCode=i}nextState(t,i){return i<0||i>=this._maxCharCode?0:this._states.get(t,i)}}let oo=null;function to(){return oo===null&&(oo=new cs([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),oo}let Gs=null;function Ss(){if(Gs===null){Gs=new Co.N(0);const u=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<u.length;i++)Gs.set(u.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)Gs.set(t.charCodeAt(i),2)}return Gs}class Rs{static _createLink(t,i,o,p,A){let K=A-1;do{const q=i.charCodeAt(K);if(t.get(q)!==2)break;K--}while(K>p);if(p>0){const q=i.charCodeAt(p-1),be=i.charCodeAt(K);(q===40&&be===41||q===91&&be===93||q===123&&be===125)&&K--}return{range:{startLineNumber:o,startColumn:p+1,endLineNumber:o,endColumn:K+2},url:i.substring(p,K+1)}}static computeLinks(t,i=to()){const o=Ss();let p=[];for(let A=1,K=t.getLineCount();A<=K;A++){const q=t.getLineContent(A),be=q.length;let xe=0,Fe=0,et=0,Ut=1,Mi=!1,Oi=!1,nn=!1,Dn=!1;for(;xe<be;){let Hn=!1;const Kn=q.charCodeAt(xe);if(Ut===13){let Sn;switch(Kn){case 40:Mi=!0,Sn=0;break;case 41:Sn=Mi?0:1;break;case 91:nn=!0,Oi=!0,Sn=0;break;case 93:nn=!1,Sn=Oi?0:1;break;case 123:Dn=!0,Sn=0;break;case 125:Sn=Dn?0:1;break;case 39:Sn=et===34||et===96?0:1;break;case 34:Sn=et===39||et===96?0:1;break;case 96:Sn=et===39||et===34?0:1;break;case 42:Sn=et===42?1:0;break;case 124:Sn=et===124?1:0;break;case 32:Sn=nn?0:1;break;default:Sn=o.get(Kn)}Sn===1&&(p.push(Rs._createLink(o,q,A,Fe,xe)),Hn=!0)}else if(Ut===12){let Sn;Kn===91?(Oi=!0,Sn=0):Sn=o.get(Kn),Sn===1?Hn=!0:Ut=13}else Ut=i.nextState(Ut,Kn),Ut===0&&(Hn=!0);Hn&&(Ut=1,Mi=!1,Oi=!1,Dn=!1,Fe=xe+1,et=Kn),xe++}Ut===13&&p.push(Rs._createLink(o,q,A,Fe,be))}return p}}function Hs(u){return!u||typeof u.getLineCount!="function"||typeof u.getLineContent!="function"?[]:Rs.computeLinks(u)}class io{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,i,o,p,A){if(t&&i){let K=this.doNavigateValueSet(i,A);if(K)return{range:t,value:K}}if(o&&p){let K=this.doNavigateValueSet(p,A);if(K)return{range:o,value:K}}return null}doNavigateValueSet(t,i){let o=this.numberReplace(t,i);return o!==null?o:this.textReplace(t,i)}numberReplace(t,i){let o=Math.pow(10,t.length-(t.lastIndexOf(".")+1)),p=Number(t),A=parseFloat(t);return!isNaN(p)&&!isNaN(A)&&p===A?p===0&&!i?null:(p=Math.floor(p*o),p+=i?o:-o,String(p/o)):null}textReplace(t,i){return this.valueSetsReplace(this._defaultValueSet,t,i)}valueSetsReplace(t,i,o){let p=null;for(let A=0,K=t.length;p===null&&A<K;A++)p=this.valueSetReplace(t[A],i,o);return p}valueSetReplace(t,i,o){let p=t.indexOf(i);return p>=0?(p+=o?1:-1,p<0?p=t.length-1:p%=t.length,t[p]):null}}io.INSTANCE=new io;var Ks=c(84013),zs=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};class ho extends Yn{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,i){let o=(0,Ts.t2)(t.column,(0,Ts.eq)(i),this._lines[t.lineNumber-1],0);return o?new R.e(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):null}words(t){const i=this._lines,o=this._wordenize.bind(this);let p=0,A="",K=0,q=[];return{*[Symbol.iterator](){for(;;)if(K<q.length){const be=A.substring(q[K].start,q[K].end);K+=1,yield be}else if(p<i.length)A=i[p],q=o(A,t),K=0,p+=1;else break}}}getLineWords(t,i){let o=this._lines[t-1],p=this._wordenize(o,i),A=[];for(const K of p)A.push({word:o.substring(K.start,K.end),startColumn:K.start+1,endColumn:K.end+1});return A}_wordenize(t,i){const o=[];let p;for(i.lastIndex=0;(p=i.exec(t))&&p[0].length!==0;)o.push({start:p.index,end:p.index+p[0].length});return o}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let i=this._eol,o=t.startLineNumber-1,p=t.endLineNumber-1,A=[];A.push(this._lines[o].substring(t.startColumn-1));for(let K=o+1;K<p;K++)A.push(this._lines[K]);return A.push(this._lines[p].substring(0,t.endColumn-1)),A.join(i)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let i=this._lineStarts.getIndexOf(t),o=this._lines[i.index].length;return{lineNumber:1+i.index,column:1+Math.min(i.remainder,o)}}_validateRange(t){const i=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),o=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return i.lineNumber!==t.startLineNumber||i.column!==t.startColumn||o.lineNumber!==t.endLineNumber||o.column!==t.endColumn?{startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:o.lineNumber,endColumn:o.column}:t}_validatePosition(t){if(!J.L.isIPosition(t))throw new Error("bad position");let{lineNumber:i,column:o}=t,p=!1;if(i<1)i=1,o=1,p=!0;else if(i>this._lines.length)i=this._lines.length,o=this._lines[i-1].length+1,p=!0;else{let A=this._lines[i-1].length+1;o<1?(o=1,p=!0):o>A&&(o=A,p=!0)}return p?{lineNumber:i,column:o}:t}}class jn{constructor(t,i){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=i,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(i=>t.push(this._models[i])),t}acceptNewModel(t){this._models[t.url]=new ho(L.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,i){if(!this._models[t])return;this._models[t].onEvents(i)}acceptRemovedModel(t){this._models[t]&&delete this._models[t]}computeDiff(t,i,o,p){return zs(this,void 0,void 0,function*(){const A=this._getModel(t),K=this._getModel(i);if(!A||!K)return null;const q=A.getLinesContent(),be=K.getLinesContent(),Fe=new _i(q,be,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:o,shouldMakePrettyDiff:!0,maxComputationTime:p}).computeDiff(),et=Fe.changes.length>0?!1:this._modelsAreIdentical(A,K);return{quitEarly:Fe.quitEarly,identical:et,changes:Fe.changes}})}_modelsAreIdentical(t,i){const o=t.getLineCount(),p=i.getLineCount();if(o!==p)return!1;for(let A=1;A<=o;A++){const K=t.getLineContent(A),q=i.getLineContent(A);if(K!==q)return!1}return!0}computeMoreMinimalEdits(t,i){return zs(this,void 0,void 0,function*(){const o=this._getModel(t);if(!o)return i;const p=[];let A;i=i.slice(0).sort((K,q)=>{if(K.range&&q.range)return R.e.compareRangesUsingStarts(K.range,q.range);let be=K.range?0:1,xe=q.range?0:1;return be-xe});for(let{range:K,text:q,eol:be}of i){if(typeof be=="number"&&(A=be),R.e.isEmpty(K)&&!q)continue;const xe=o.getValueInRange(K);if(q=q.replace(/\r\n|\n|\r/g,o.eol),xe===q)continue;if(Math.max(q.length,xe.length)>jn._diffLimit){p.push({range:K,text:q});continue}const Fe=(0,oi.a$)(xe,q,!1),et=o.offsetAt(R.e.lift(K).getStartPosition());for(const Ut of Fe){const Mi=o.positionAt(et+Ut.originalStart),Oi=o.positionAt(et+Ut.originalStart+Ut.originalLength),nn={text:q.substr(Ut.modifiedStart,Ut.modifiedLength),range:{startLineNumber:Mi.lineNumber,startColumn:Mi.column,endLineNumber:Oi.lineNumber,endColumn:Oi.column}};o.getValueInRange(nn.range)!==nn.text&&p.push(nn)}}return typeof A=="number"&&p.push({eol:A,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),p})}computeLinks(t){return zs(this,void 0,void 0,function*(){let i=this._getModel(t);return i?Hs(i):null})}textualSuggest(t,i,o,p){return zs(this,void 0,void 0,function*(){const A=new Ks.G(!0),K=new RegExp(o,p),q=new Set;e:for(let be of t){const xe=this._getModel(be);if(xe){for(let Fe of xe.words(K))if(!(Fe===i||!isNaN(Number(Fe)))&&(q.add(Fe),q.size>jn._suggestionsLimit))break e}}return{words:Array.from(q),duration:A.elapsed()}})}computeWordRanges(t,i,o,p){return zs(this,void 0,void 0,function*(){let A=this._getModel(t);if(!A)return Object.create(null);const K=new RegExp(o,p),q=Object.create(null);for(let be=i.startLineNumber;be<i.endLineNumber;be++){let xe=A.getLineWords(be,K);for(const Fe of xe){if(!isNaN(Number(Fe.word)))continue;let et=q[Fe.word];et||(et=[],q[Fe.word]=et),et.push({startLineNumber:be,startColumn:Fe.startColumn,endLineNumber:be,endColumn:Fe.endColumn})}}return q})}navigateValueSet(t,i,o,p,A){return zs(this,void 0,void 0,function*(){let K=this._getModel(t);if(!K)return null;let q=new RegExp(p,A);i.startColumn===i.endColumn&&(i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn+1});let be=K.getValueInRange(i),xe=K.getWordAtPosition({lineNumber:i.startLineNumber,column:i.startColumn},q);if(!xe)return null;let Fe=K.getValueInRange(xe);return io.INSTANCE.navigateValueSet(i,be,xe,Fe,o)})}loadForeignModule(t,i,o){const p=(q,be)=>this._host.fhr(q,be);let K={host:Nn.IU(o,p),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(K,i),Promise.resolve(Nn.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,i){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,i))}catch(o){return Promise.reject(o)}}}jn._diffLimit=1e5,jn._suggestionsLimit=1e4;function lo(u){return new jn(u,null)}typeof importScripts=="function"&&($i.li.monaco=mt());var ts=c(51200),Un=c(72065);const Zs=(0,Un.yh)("textResourceConfigurationService"),Xn=(0,Un.yh)("textResourcePropertiesService");var Ys=c(9488),xs=c(43557),Xs=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},pi=function(u,t){return function(i,o){t(i,o,u)}},me=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};const ct=60*1e3,gt=5*60*1e3;function Bt(u,t){let i=u.getModel(t);return!(!i||i.isTooLargeForSyncing())}let Gt=class extends ii.JT{constructor(t,i,o){super(),this._modelService=t,this._workerManager=this._register(new li(this._modelService)),this._logService=o,this._register(fi.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(p,A)=>Bt(this._modelService,p.uri)?this._workerManager.withWorker().then(K=>K.computeLinks(p.uri)).then(K=>K&&{links:K}):Promise.resolve({links:[]})})),this._register(fi.KZ.register("*",new bi(this._workerManager,i,this._modelService)))}dispose(){super.dispose()}computeDiff(t,i,o,p){return this._workerManager.withWorker().then(A=>A.computeDiff(t,i,o,p))}computeMoreMinimalEdits(t,i){if((0,Ys.Of)(i)){if(!Bt(this._modelService,t))return Promise.resolve(i);const o=Ks.G.create(!0),p=this._workerManager.withWorker().then(A=>A.computeMoreMinimalEdits(t,i));return p.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),o.elapsed())),Promise.race([p,(0,Fn.Vs)(1e3).then(()=>i)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return Bt(this._modelService,t)}navigateValueSet(t,i,o){return this._workerManager.withWorker().then(p=>p.navigateValueSet(t,i,o))}canComputeWordRanges(t){return Bt(this._modelService,t)}computeWordRanges(t,i){return this._workerManager.withWorker().then(o=>o.computeWordRanges(t,i))}};Gt=Xs([pi(0,ts.q),pi(1,Zs),pi(2,xs.VZ)],Gt);class bi{constructor(t,i,o){this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=i,this._modelService=o}provideCompletionItems(t,i){return me(this,void 0,void 0,function*(){const o=this._configurationService.getValue(t.uri,i,"editor");if(!o.wordBasedSuggestions)return;const p=[];if(o.wordBasedSuggestionsMode==="currentDocument")Bt(this._modelService,t.uri)&&p.push(t.uri);else for(const et of this._modelService.getModels())Bt(this._modelService,et.uri)&&(et===t?p.unshift(et.uri):(o.wordBasedSuggestionsMode==="allDocuments"||et.getLanguageId()===t.getLanguageId())&&p.push(et.uri));if(p.length===0)return;const A=ft.zu.getWordDefinition(t.getLanguageId()),K=t.getWordAtPosition(i),q=K?new R.e(i.lineNumber,K.startColumn,i.lineNumber,K.endColumn):R.e.fromPositions(i),be=q.setEndPosition(i.lineNumber,i.column),Fe=yield(yield this._workerManager.withWorker()).textualSuggest(p,K==null?void 0:K.word,A);if(Fe)return{duration:Fe.duration,suggestions:Fe.words.map(et=>({kind:18,label:et,insertText:et,range:{insert:be,replace:q}}))}})}}class li extends ii.JT{constructor(t){super(),this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Fn.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(gt/2)),this._register(this._modelService.onModelRemoved(o=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>gt&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Pn(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class ei extends ii.JT{constructor(t,i,o){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=i,!o){let p=new Fn.zh;p.cancelAndSet(()=>this._checkStopModelSync(),Math.round(ct/2)),this._register(p)}}dispose(){for(let t in this._syncedModels)(0,ii.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,i){for(const o of t){let p=o.toString();this._syncedModels[p]||this._beginModelSync(o,i),this._syncedModels[p]&&(this._syncedModelsLastUsedTime[p]=new Date().getTime())}}_checkStopModelSync(){let t=new Date().getTime(),i=[];for(let o in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[o]>ct&&i.push(o);for(const o of i)this._stopModelSync(o)}_beginModelSync(t,i){let o=this._modelService.getModel(t);if(!o||!i&&o.isTooLargeForSyncing())return;let p=t.toString();this._proxy.acceptNewModel({url:o.uri.toString(),lines:o.getLinesContent(),EOL:o.getEOL(),versionId:o.getVersionId()});const A=new ii.SL;A.add(o.onDidChangeContent(K=>{this._proxy.acceptModelChanged(p.toString(),K)})),A.add(o.onWillDispose(()=>{this._stopModelSync(p)})),A.add((0,ii.OF)(()=>{this._proxy.acceptRemovedModel(p)})),this._syncedModels[p]=A}_stopModelSync(t){let i=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,ii.B9)(i)}}class ki{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Di{constructor(t){this._workerClient=t}fhr(t,i){return this._workerClient.fhr(t,i)}}class Pn extends ii.JT{constructor(t,i,o){super(),this._disposed=!1,this._modelService=t,this._keepIdleModels=i,this._workerFactory=new pt(o),this._worker=null,this._modelManager=null}fhr(t,i){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Si(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Di(this)))}catch(t){xt(t),this._worker=new ki(new jn(new Di(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(xt(t),this._worker=new ki(new jn(new Di(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new ei(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,i=!1){return me(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,An.F0)()):this._getProxy().then(o=>(this._getOrCreateModelManager(o).ensureSyncedResources(t,i),o))})}computeDiff(t,i,o,p){return this._withSyncedResources([t,i],!0).then(A=>A.computeDiff(t.toString(),i.toString(),o,p))}computeMoreMinimalEdits(t,i){return this._withSyncedResources([t]).then(o=>o.computeMoreMinimalEdits(t.toString(),i))}computeLinks(t){return this._withSyncedResources([t]).then(i=>i.computeLinks(t.toString()))}textualSuggest(t,i,o){return me(this,void 0,void 0,function*(){const p=yield this._withSyncedResources(t),A=o.source,K=(0,sn.mr)(o);return p.textualSuggest(t.map(q=>q.toString()),i,A,K)})}computeWordRanges(t,i){return this._withSyncedResources([t]).then(o=>{let p=this._modelService.getModel(t);if(!p)return Promise.resolve(null);let A=ft.zu.getWordDefinition(p.getLanguageId()),K=A.source,q=(0,sn.mr)(A);return o.computeWordRanges(t.toString(),i,K,q)})}navigateValueSet(t,i,o){return this._withSyncedResources([t]).then(p=>{let A=this._modelService.getModel(t);if(!A)return null;let K=ft.zu.getWordDefinition(A.getLanguageId()),q=K.source,be=(0,sn.mr)(K);return p.navigateValueSet(t.toString(),i,o,q,be)})}dispose(){super.dispose(),this._disposed=!0}}function kt(u,t){return new V(u,t)}class V extends Pn{constructor(t,i){super(t,i.keepIdleModels||!1,i.label),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(t,i){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,i))}catch(o){return Promise.reject(o)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const i=this._foreignModuleHost?Nn.$E(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,i).then(o=>{this._foreignModuleCreateData=null;const p=(q,be)=>t.fmr(q,be),A=(q,be)=>function(){const xe=Array.prototype.slice.call(arguments,0);return be(q,xe)};let K={};for(const q of o)K[q]=A(q,p);return K})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(i=>this.getProxy())}}var ae=c(78411),Ne=c(77736),qe=c(13824);function bt(u){return Array.isArray(u)}function $t(u){return!bt(u)}function ni(u){return typeof u=="string"}function mi(u){return!ni(u)}function Ai(u){return!u}function Ei(u,t){return u.ignoreCase&&t?t.toLowerCase():t}function Bi(u){return u.replace(/[&<>'"_]/g,"-")}function ln(u,t){console.log(`${u.languageId}: ${t}`)}function Ti(u,t){return new Error(`${u.languageId}: ${t}`)}function on(u,t,i,o,p){const A=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let K=null;return t.replace(A,function(q,be,xe,Fe,et,Ut,Mi,Oi,nn){return Ai(xe)?Ai(Fe)?!Ai(et)&&et<o.length?Ei(u,o[et]):!Ai(Mi)&&u&&typeof u[Mi]=="string"?u[Mi]:(K===null&&(K=p.split("."),K.unshift(p)),!Ai(Ut)&&Ut<K.length?Ei(u,K[Ut]):""):Ei(u,i):"$"})}function en(u,t){let i=t;for(;i&&i.length>0;){const o=u.tokenizer[i];if(o)return o;const p=i.lastIndexOf(".");p<0?i=null:i=i.substr(0,p)}return null}function pn(u,t){let i=t;for(;i&&i.length>0;){if(u.stateNames[i])return!0;const p=i.lastIndexOf(".");p<0?i=null:i=i.substr(0,p)}return!1}const $n=5;class Ds{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,i){return this._INSTANCE.create(t,i)}create(t,i){if(t!==null&&t.depth>=this._maxCacheDepth)return new Cn(t,i);let o=Cn.getStackElementId(t);o.length>0&&(o+="|"),o+=i;let p=this._entries[o];return p||(p=new Cn(t,i),this._entries[o]=p,p)}}Ds._INSTANCE=new Ds($n);class Cn{constructor(t,i){this.parent=t,this.state=i,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let i="";for(;t!==null;)i.length>0&&(i+="|"),i+=t.state,t=t.parent;return i}static _equals(t,i){for(;t!==null&&i!==null;){if(t===i)return!0;if(t.state!==i.state)return!1;t=t.parent,i=i.parent}return t===null&&i===null}equals(t){return Cn._equals(this,t)}push(t){return Ds.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return Ds.create(this.parent,t)}}class Kt{constructor(t,i){this.languageId=t,this.state=i}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new Kt(this.languageId,this.state)}}class ve{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,i){return this._INSTANCE.create(t,i)}create(t,i){if(i!==null)return new Me(t,i);if(t!==null&&t.depth>=this._maxCacheDepth)return new Me(t,i);let o=Cn.getStackElementId(t),p=this._entries[o];return p||(p=new Me(t,null),this._entries[o]=p,p)}}ve._INSTANCE=new ve($n);class Me{constructor(t,i){this.stack=t,this.embeddedModeData=i}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:ve.create(this.stack,this.embeddedModeData)}equals(t){return!(t instanceof Me)||!this.stack.equals(t.stack)?!1:this.embeddedModeData===null&&t.embeddedModeData===null?!0:this.embeddedModeData===null||t.embeddedModeData===null?!1:this.embeddedModeData.equals(t.embeddedModeData)}}class Ue{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(t,i){this._languageId=i}emit(t,i){this._lastTokenType===i&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=i,this._lastTokenLanguage=this._languageId,this._tokens.push(new s.WU(t,i,this._languageId)))}nestedModeTokenize(t,i,o,p){const A=o.languageId,K=o.state,q=fi.RW.get(A);if(!q)return this.enterMode(p,A),this.emit(p,""),K;let be=q.tokenize(t,i,K,p);return this._tokens=this._tokens.concat(be.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,be.endState}finalize(t){return new s.hG(this._tokens,t)}}class vt{constructor(t,i){this._modeService=t,this._theme=i,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(t,i){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(i)}emit(t,i){let o=this._theme.match(this._currentLanguageId,i);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(t),this._tokens.push(o))}static _merge(t,i,o){let p=t!==null?t.length:0,A=i.length,K=o!==null?o.length:0;if(p===0&&A===0&&K===0)return new Uint32Array(0);if(p===0&&A===0)return o;if(A===0&&K===0)return t;let q=new Uint32Array(p+A+K);t!==null&&q.set(t);for(let be=0;be<A;be++)q[p+be]=i[be];return o!==null&&q.set(o,p+A),q}nestedModeTokenize(t,i,o,p){const A=o.languageId,K=o.state,q=fi.RW.get(A);if(!q)return this.enterMode(p,A),this.emit(p,""),K;let be=q.tokenize2(t,i,K,p);return this._prependTokens=vt._merge(this._prependTokens,this._tokens,be.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,be.endState}finalize(t){return new s.Hi(vt._merge(this._prependTokens,this._tokens,null),t)}}class yt{constructor(t,i,o,p){this._modeService=t,this._standaloneThemeService=i,this._languageId=o,this._lexer=p,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let A=!1;this._tokenizationRegistryListener=fi.RW.onDidChange(K=>{if(A)return;let q=!1;for(let be=0,xe=K.changedLanguages.length;be<xe;be++){let Fe=K.changedLanguages[be];if(this._embeddedModes[Fe]){q=!0;break}}q&&(A=!0,fi.RW.fire([this._languageId]),A=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let t=[];for(let i in this._embeddedModes){const o=fi.RW.get(i);if(o){if(o instanceof yt){const A=o.getLoadStatus();A.loaded===!1&&t.push(A.promise)}continue}const p=fi.RW.getPromise(i);p&&t.push(p)}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(i=>{})}}getInitialState(){let t=Ds.create(null,this._lexer.start);return ve.create(t,null)}tokenize(t,i,o,p){let A=new Ue,K=this._tokenize(t,i,o,p,A);return A.finalize(K)}tokenize2(t,i,o,p){let A=new vt(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),K=this._tokenize(t,i,o,p,A);return A.finalize(K)}_tokenize(t,i,o,p,A){return o.embeddedModeData?this._nestedTokenize(t,i,o,p,A):this._myTokenize(t,i,o,p,A)}_findLeavingNestedModeOffset(t,i){let o=this._lexer.tokenizer[i.stack.state];if(!o&&(o=en(this._lexer,i.stack.state),!o))throw Ti(this._lexer,"tokenizer state is not defined: "+i.stack.state);let p=-1,A=!1;for(const K of o){if(!mi(K.action)||K.action.nextEmbedded!=="@pop")continue;A=!0;let q=K.regex,be=K.regex.source;if(be.substr(0,4)==="^(?:"&&be.substr(be.length-1,1)===")"){let Fe=(q.ignoreCase?"i":"")+(q.unicode?"u":"");q=new RegExp(be.substr(4,be.length-5),Fe)}let xe=t.search(q);xe===-1||xe!==0&&K.matchOnlyAtLineStart||(p===-1||xe<p)&&(p=xe)}if(!A)throw Ti(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+i.stack.state);return p}_nestedTokenize(t,i,o,p,A){let K=this._findLeavingNestedModeOffset(t,o);if(K===-1){let xe=A.nestedModeTokenize(t,i,o.embeddedModeData,p);return ve.create(o.stack,new Kt(o.embeddedModeData.languageId,xe))}let q=t.substring(0,K);q.length>0&&A.nestedModeTokenize(q,!1,o.embeddedModeData,p);let be=t.substring(K);return this._myTokenize(be,i,o,p+K,A)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,i,o,p,A){A.enterMode(p,this._languageId);const K=t.length,q=i&&this._lexer.includeLF?t+`
`:t,be=q.length;let xe=o.embeddedModeData,Fe=o.stack,et=0,Ut=null,Mi=!0;for(;Mi||et<be;){const Oi=et,nn=Fe.depth,Dn=Ut?Ut.groups.length:0,Hn=Fe.state;let Kn=null,Sn=null,Mn=null,Ws=null,ws=null;if(Ut){Kn=Ut.matches;const ss=Ut.groups.shift();Sn=ss.matched,Mn=ss.action,Ws=Ut.rule,Ut.groups.length===0&&(Ut=null)}else{if(!Mi&&et>=be)break;Mi=!1;let ss=this._lexer.tokenizer[Hn];if(!ss&&(ss=en(this._lexer,Hn),!ss))throw Ti(this._lexer,"tokenizer state is not defined: "+Hn);let zn=q.substr(et);for(const As of ss)if((et===0||!As.matchOnlyAtLineStart)&&(Kn=zn.match(As.regex),Kn)){Sn=Kn[0],Mn=As.action;break}}if(Kn||(Kn=[""],Sn=""),Mn||(et<be&&(Kn=[q.charAt(et)],Sn=Kn[0]),Mn=this._lexer.defaultToken),Sn===null)break;for(et+=Sn.length;$t(Mn)&&mi(Mn)&&Mn.test;)Mn=Mn.test(Sn,Kn,Hn,et===be);let On=null;if(typeof Mn=="string"||Array.isArray(Mn))On=Mn;else if(Mn.group)On=Mn.group;else if(Mn.token!==null&&Mn.token!==void 0){if(Mn.tokenSubst?On=on(this._lexer,Mn.token,Sn,Kn,Hn):On=Mn.token,Mn.nextEmbedded)if(Mn.nextEmbedded==="@pop"){if(!xe)throw Ti(this._lexer,"cannot pop embedded mode if not inside one");xe=null}else{if(xe)throw Ti(this._lexer,"cannot enter embedded mode from within an embedded mode");ws=on(this._lexer,Mn.nextEmbedded,Sn,Kn,Hn)}if(Mn.goBack&&(et=Math.max(0,et-Mn.goBack)),Mn.switchTo&&typeof Mn.switchTo=="string"){let ss=on(this._lexer,Mn.switchTo,Sn,Kn,Hn);if(ss[0]==="@"&&(ss=ss.substr(1)),en(this._lexer,ss))Fe=Fe.switchTo(ss);else throw Ti(this._lexer,"trying to switch to a state '"+ss+"' that is undefined in rule: "+this._safeRuleName(Ws))}else{if(Mn.transform&&typeof Mn.transform=="function")throw Ti(this._lexer,"action.transform not supported");if(Mn.next)if(Mn.next==="@push"){if(Fe.depth>=this._lexer.maxStack)throw Ti(this._lexer,"maximum tokenizer stack size reached: ["+Fe.state+","+Fe.parent.state+",...]");Fe=Fe.push(Hn)}else if(Mn.next==="@pop"){if(Fe.depth<=1)throw Ti(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Ws));Fe=Fe.pop()}else if(Mn.next==="@popall")Fe=Fe.popall();else{let ss=on(this._lexer,Mn.next,Sn,Kn,Hn);if(ss[0]==="@"&&(ss=ss.substr(1)),en(this._lexer,ss))Fe=Fe.push(ss);else throw Ti(this._lexer,"trying to set a next state '"+ss+"' that is undefined in rule: "+this._safeRuleName(Ws))}}Mn.log&&typeof Mn.log=="string"&&ln(this._lexer,this._lexer.languageId+": "+on(this._lexer,Mn.log,Sn,Kn,Hn))}if(On===null)throw Ti(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Ws));const In=ss=>{let zn=this._modeService.getModeIdForLanguageName(ss);zn&&(ss=zn);const As=this._getNestedEmbeddedModeData(ss);if(et<be){const wo=t.substr(et);return this._nestedTokenize(wo,i,ve.create(Fe,As),p+et,A)}else return ve.create(Fe,As)};if(Array.isArray(On)){if(Ut&&Ut.groups.length>0)throw Ti(this._lexer,"groups cannot be nested: "+this._safeRuleName(Ws));if(Kn.length!==On.length+1)throw Ti(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Ws));let ss=0;for(let zn=1;zn<Kn.length;zn++)ss+=Kn[zn].length;if(ss!==Sn.length)throw Ti(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Ws));Ut={rule:Ws,matches:Kn,groups:[]};for(let zn=0;zn<On.length;zn++)Ut.groups[zn]={action:On[zn],matched:Kn[zn+1]};et-=Sn.length;continue}else{if(On==="@rematch"&&(et-=Sn.length,Sn="",Kn=null,On="",ws!==null))return In(ws);if(Sn.length===0){if(be===0||nn!==Fe.depth||Hn!==Fe.state||(Ut?Ut.groups.length:0)!==Dn)continue;throw Ti(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Ws))}let ss=null;if(ni(On)&&On.indexOf("@brackets")===0){let zn=On.substr(9),As=si(this._lexer,Sn);if(!As)throw Ti(this._lexer,"@brackets token returned but no bracket defined as: "+Sn);ss=Bi(As.token+zn)}else{let zn=On===""?"":On+this._lexer.tokenPostfix;ss=Bi(zn)}Oi<K&&A.emit(Oi+p,ss)}if(ws!==null)return In(ws)}return ve.create(Fe,xe)}_getNestedEmbeddedModeData(t){let i=this._locateMode(t);if(i){let o=fi.RW.get(i);if(o)return new Kt(i,o.getInitialState())}return new Kt(i||Wi.TG,Wi.nO)}_locateMode(t){if(!t||!this._modeService.isRegisteredMode(t))return null;if(t===this._languageId)return t;const i=this._modeService.getModeId(t);return i&&(this._modeService.triggerMode(i),this._embeddedModes[i]=!0),i}}function si(u,t){if(!t)return null;t=Ei(u,t);let i=u.brackets;for(const o of i){if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function Jt(u,t,i,o){return new yt(u,t,i,o)}var un;const xn=(un=window.trustedTypes)===null||un===void 0?void 0:un.createPolicy("standaloneColorizer",{createHTML:u=>u});class Pi{static colorizeElement(t,i,o,p){p=p||{};let A=p.theme||"vs",K=p.mimeType||o.getAttribute("lang")||o.getAttribute("data-lang");if(!K)return console.error("Mode not detected"),Promise.resolve();t.setTheme(A);let q=o.firstChild?o.firstChild.nodeValue:"";o.className+=" "+A;let be=xe=>{var Fe;const et=(Fe=xn==null?void 0:xn.createHTML(xe))!==null&&Fe!==void 0?Fe:xe;o.innerHTML=et};return this.colorize(i,q||"",K,p).then(be,xe=>console.error(xe))}static colorize(t,i,o,p){const A=t.languageIdCodec;let K=4;p&&typeof p.tabSize=="number"&&(K=p.tabSize),sn.uS(i)&&(i=i.substr(1));let q=sn.uq(i),be=t.getModeId(o);if(!be)return Promise.resolve(_n(q,K,A));t.triggerMode(be);const xe=fi.RW.get(be);if(xe)return Ji(q,K,xe,A);const Fe=fi.RW.getPromise(be);return Fe?new Promise((et,Ut)=>{Fe.then(Mi=>{Ji(q,K,Mi,A).then(et,Ut)},Ut)}):new Promise((et,Ut)=>{let Mi=null,Oi=null;const nn=()=>{Mi&&(Mi.dispose(),Mi=null),Oi&&(Oi.dispose(),Oi=null);const Dn=fi.RW.get(be);if(Dn){Ji(q,K,Dn,A).then(et,Ut);return}et(_n(q,K,A))};Oi=new Fn._F,Oi.cancelAndSet(nn,500),Mi=fi.RW.onDidChange(Dn=>{Dn.changedLanguages.indexOf(be)>=0&&nn()})})}static colorizeLine(t,i,o,p,A=4){const K=qe.wA.isBasicASCII(t,i),q=qe.wA.containsRTL(t,K,o);return(0,Ne.tF)(new Ne.IJ(!1,!0,t,!1,K,q,0,p,[],A,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,i,o=4){let p=t.getLineContent(i);t.forceTokenization(i);let K=t.getLineTokens(i).inflate();return this.colorizeLine(p,t.mightContainNonBasicASCII(),t.mightContainRTL(),K,o)}}function Ji(u,t,i,o){return new Promise((p,A)=>{const K=()=>{const q=Gi(u,t,i,o);if(i instanceof yt){const be=i.getLoadStatus();if(be.loaded===!1){be.promise.then(K,A);return}}p(q)};K()})}function _n(u,t,i){let o=[];const A=new Uint32Array(2);A[0]=0,A[1]=16793600;for(let K=0,q=u.length;K<q;K++){let be=u[K];A[0]=be.length;const xe=new ae.A(A,be,i),Fe=qe.wA.isBasicASCII(be,!0),et=qe.wA.containsRTL(be,Fe,!0);let Ut=(0,Ne.tF)(new Ne.IJ(!1,!0,be,!1,Fe,et,0,xe,[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(Ut.html),o.push("<br/>")}return o.join("")}function Gi(u,t,i,o){let p=[],A=i.getInitialState();for(let K=0,q=u.length;K<q;K++){let be=u[K],xe=i.tokenize2(be,!0,A,0);ae.A.convertToEndOffset(xe.tokens,be.length);let Fe=new ae.A(xe.tokens,be,o);const et=qe.wA.isBasicASCII(be,!0),Ut=qe.wA.containsRTL(be,et,!0);let Mi=(0,Ne.tF)(new Ne.IJ(!1,!0,be,!1,et,Ut,0,Fe.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));p=p.concat(Mi.html),p.push("<br/>"),A=xe.endState}return p.join("")}var jt=c(59069),wi=c(8313),Ki=c(14603),qn=c(65520),ls=c(66007),Cs=c(56345),Be=c(69386),d=c(33108),M=c(23193);class U{constructor(t={},i=[],o=[]){this._contents=t,this._keys=i,this._overrides=o,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,d.Mt)(this.contents,t):this.contents}override(t){let i=this.overrideConfigurations.get(t);return i||(i=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,i)),i}merge(...t){const i=At.I8(this.contents),o=At.I8(this.overrides),p=[...this.keys];for(const A of t){this.mergeContents(i,A.contents);for(const K of A.overrides){const[q]=o.filter(be=>Ys.fS(be.identifiers,K.identifiers));q?this.mergeContents(q.contents,K.contents):o.push(At.I8(K))}for(const K of A.keys)p.indexOf(K)===-1&&p.push(K)}return new U(i,p,o)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(t){const i=this.getContentsForOverrideIdentifer(t);if(!i||typeof i!="object"||!Object.keys(i).length)return this;let o={};for(const p of Ys.EB([...Object.keys(this.contents),...Object.keys(i)])){let A=this.contents[p],K=i[p];K&&(typeof A=="object"&&typeof K=="object"?(A=At.I8(A),this.mergeContents(A,K)):A=K),o[p]=A}return new U(o,this.keys,this.overrides)}mergeContents(t,i){for(const o of Object.keys(i)){if(o in t&&Nn.Kn(t[o])&&Nn.Kn(i[o])){this.mergeContents(t[o],i[o]);continue}t[o]=At.I8(i[o])}}checkAndFreeze(t){return this.isFrozen&&!Object.isFrozen(t)?At._A(t):t}getContentsForOverrideIdentifer(t){for(const i of this.overrides)if(i.identifiers.indexOf(t)!==-1)return i.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,i){this.addKey(t),(0,d.KV)(this.contents,t,i,o=>{throw new Error(o)})}removeValue(t){this.removeKey(t)&&(0,d.xL)(this.contents,t)}addKey(t){let i=this.keys.length;for(let o=0;o<i;o++)t.indexOf(this.keys[o])===0&&(i=o);this.keys.splice(i,1,t)}removeKey(t){let i=this.keys.indexOf(t);return i!==-1?(this.keys.splice(i,1),!0):!1}}class re extends U{constructor(){const t=(0,d.O4)(),i=(0,d.MR)(),o=[];for(const p of Object.keys(t))M.G1.test(p)&&o.push({identifiers:[(0,M.Uh)(p).trim()],keys:Object.keys(t[p]),contents:(0,d.Od)(t[p],A=>console.error(`Conflict in default settings file: ${A}`))});super(t,i,o)}}class fe{constructor(t,i,o=new U,p=new U,A=new Ae.Y9,K=new U,q=new Ae.Y9,be=!0){this._defaultConfiguration=t,this._localUserConfiguration=i,this._remoteUserConfiguration=o,this._workspaceConfiguration=p,this._folderConfigurations=A,this._memoryConfiguration=K,this._memoryConfigurationByResource=q,this._freeze=be,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ae.Y9,this._userConfiguration=null}getValue(t,i,o){return this.getConsolidateConfigurationModel(i,o).getValue(t)}updateValue(t,i,o={}){let p;o.resource?(p=this._memoryConfigurationByResource.get(o.resource),p||(p=new U,this._memoryConfigurationByResource.set(o.resource,p))):p=this._memoryConfiguration,i===void 0?p.removeValue(t):p.setValue(t,i),o.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(t,i){let o=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier?o.override(t.overrideIdentifier):o}getConsolidatedConfigurationModelForResource({resource:t},i){let o=this.getWorkspaceConsolidatedConfiguration();if(i&&t){const p=i.getFolder(t);p&&(o=this.getFolderConsolidatedConfiguration(p.uri)||o);const A=this._memoryConfigurationByResource.get(t);A&&(o=o.merge(A))}return o}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let i=this._foldersConsolidatedConfigurations.get(t);if(!i){const o=this.getWorkspaceConsolidatedConfiguration(),p=this._folderConfigurations.get(t);p?(i=o.merge(p),this._freeze&&(i=i.freeze()),this._foldersConsolidatedConfigurations.set(t,i)):i=o}return i}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,i)=>{const{contents:o,overrides:p,keys:A}=this._folderConfigurations.get(i);return t.push([i,{contents:o,overrides:p,keys:A}]),t},[])}}static parse(t){const i=this.parseConfigurationModel(t.defaults),o=this.parseConfigurationModel(t.user),p=this.parseConfigurationModel(t.workspace),A=t.folders.reduce((K,q)=>(K.set(L.o.revive(q[0]),this.parseConfigurationModel(q[1])),K),new Ae.Y9);return new fe(i,o,new U,p,A,new U,new Ae.Y9,!1)}static parseConfigurationModel(t){return new U(t.contents,t.keys,t.overrides).freeze()}}class Le{constructor(t,i,o,p){this.change=t,this.previous=i,this.currentConfiguraiton=o,this.currentWorkspace=p,this._previousConfiguration=void 0;const A=new Set;t.keys.forEach(q=>A.add(q)),t.overrides.forEach(([,q])=>q.forEach(be=>A.add(be))),this.affectedKeys=[...A.values()];const K=new U;this.affectedKeys.forEach(q=>K.setValue(q,{})),this.affectedKeysTree=K.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=fe.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,i){var o;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(i){const p=this.previousConfiguration?this.previousConfiguration.getValue(t,i,(o=this.previous)===null||o===void 0?void 0:o.workspace):void 0,A=this.currentConfiguraiton.getValue(t,i,this.currentWorkspace);return!At.fS(p,A)}return!0}return!1}doesAffectedKeysTreeContains(t,i){let o=(0,d.Od)({[i]:!0},()=>{}),p;for(;typeof o=="object"&&(p=Object.keys(o)[0]);){if(t=t[p],!t)return!1;o=o[p]}return!0}}var We=c(63580);const ut=/^(cursor|delete)/;class Ot extends ii.JT{constructor(t,i,o,p,A){super(),this._contextKeyService=t,this._commandService=i,this._telemetryService=o,this._notificationService=p,this._logService=A,this._onDidUpdateKeybindings=this._register(new Q.Q5),this._currentChord=null,this._currentChordChecker=new Fn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=X.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Fn._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Q.ju.None}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,i){const o=this._getResolver().lookupPrimaryKeybinding(t,i||this._contextKeyService);if(o)return o.resolvedKeybinding}dispatchEvent(t,i){return this._dispatch(t,i)}softDispatch(t,i){const o=this.resolveKeyboardEvent(t);if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[p]=o.getDispatchParts();if(p===null)return null;const A=this._contextKeyService.getContext(i),K=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(A,K,p)}_enterChordMode(t,i){this._currentChord={keypress:t,label:i},this._currentChordStatusMessage=this._notificationService.status(We.N("first.chord","({0}) was pressed. Waiting for second key of chord...",i));const o=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-o>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(t,i){return this._doDispatch(this.resolveKeyboardEvent(t),i,!1)}_singleModifierDispatch(t,i){const o=this.resolveKeyboardEvent(t),[p]=o.getSingleModifierDispatchParts();if(p)return this._ignoreSingleModifiers.has(p)?(this._log(`+ Ignoring single modifier ${p} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=X.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=X.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${p}.`),this._currentSingleModifier=p,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):p===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${p} ${p}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(o,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${p}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[A]=o.getParts();return this._ignoreSingleModifiers=new X(A),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,i,o=!1){let p=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let A=null,K=null;if(o){const[Fe]=t.getSingleModifierDispatchParts();A=Fe,K=Fe}else[A]=t.getDispatchParts(),K=this._currentChord?this._currentChord.keypress:null;if(A===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),p;const q=this._contextKeyService.getContext(i),be=t.getLabel(),xe=this._getResolver().resolve(q,K,A);return this._logService.trace("KeybindingService#dispatch",be,xe==null?void 0:xe.commandId),xe&&xe.enterChord?(p=!0,this._enterChordMode(A,be),p):(this._currentChord&&(!xe||!xe.commandId)&&(this._notificationService.status(We.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,be),{hideAfter:10*1e3}),p=!0),this._leaveChordMode(),xe&&xe.commandId&&(xe.bubble||(p=!0),typeof xe.commandArgs=="undefined"?this._commandService.executeCommand(xe.commandId).then(void 0,Fe=>this._notificationService.warn(Fe)):this._commandService.executeCommand(xe.commandId,xe.commandArgs).then(void 0,Fe=>this._notificationService.warn(Fe)),ut.test(xe.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:xe.commandId,from:"keybinding"})),p)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class X{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}X.EMPTY=new X(null);var de=c(38819);class Ve{constructor(t,i,o){this._log=o,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(let p=0,A=t.length;p<A;p++){const K=t[p].command;K&&this._defaultBoundCommands.set(K,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Ve.combine(t,i);for(let p=0,A=this._keybindings.length;p<A;p++){let K=this._keybindings[p];K.keypressParts.length!==0&&(K.when&&K.when.type===0||this._addKeyPress(K.keypressParts[0],K))}}static _isTargetedForRemoval(t,i,o,p,A){return!(t.command!==p||i&&t.keypressParts[0]!==i||o&&t.keypressParts[1]!==o||A&&(!t.when||!(0,de.Fb)(A,t.when)))}static combine(t,i){t=t.slice(0);let o=[];for(const p of i){if(!p.command||p.command.length===0||p.command.charAt(0)!=="-"){o.push(p);continue}const A=p.command.substr(1),K=p.keypressParts[0],q=p.keypressParts[1],be=p.when;for(let xe=t.length-1;xe>=0;xe--)this._isTargetedForRemoval(t[xe],K,q,A,be)&&t.splice(xe,1)}return t.concat(o)}_addKeyPress(t,i){const o=this._map.get(t);if(typeof o=="undefined"){this._map.set(t,[i]),this._addToLookupMap(i);return}for(let p=o.length-1;p>=0;p--){let A=o[p];if(A.command===i.command)continue;const K=A.keypressParts.length>1,q=i.keypressParts.length>1;K&&q&&A.keypressParts[1]!==i.keypressParts[1]||Ve.whenIsEntirelyIncluded(A.when,i.when)&&this._removeFromLookupMap(A)}o.push(i),this._addToLookupMap(i)}_addToLookupMap(t){if(!t.command)return;let i=this._lookupMap.get(t.command);typeof i=="undefined"?(i=[t],this._lookupMap.set(t.command,i)):i.push(t)}_removeFromLookupMap(t){if(!t.command)return;let i=this._lookupMap.get(t.command);if(typeof i!="undefined"){for(let o=0,p=i.length;o<p;o++)if(i[o]===t){i.splice(o,1);return}}}static whenIsEntirelyIncluded(t,i){return!i||i.type===1?!0:!t||t.type===1?!1:(0,de.K8)(t,i)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,i){const o=this._lookupMap.get(t);if(typeof o=="undefined"||o.length===0)return null;if(o.length===1)return o[0];for(let p=o.length-1;p>=0;p--){const A=o[p];if(i.contextMatchesRules(A.when))return A}return o[o.length-1]}resolve(t,i,o){this._log(`| Resolving ${o}${i?` chorded from ${i}`:""}`);let p=null;if(i!==null){const K=this._map.get(i);if(typeof K=="undefined")return this._log("\\ No keybinding entries."),null;p=[];for(let q=0,be=K.length;q<be;q++){let xe=K[q];xe.keypressParts[1]===o&&p.push(xe)}}else{const K=this._map.get(o);if(typeof K=="undefined")return this._log("\\ No keybinding entries."),null;p=K}let A=this._findCommand(t,p);return A?i===null&&A.keypressParts.length>1&&A.keypressParts[1]!==null?(this._log(`\\ From ${p.length} keybinding entries, matched chord, when: ${Ze(A.when)}, source: ${ze(A)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${p.length} keybinding entries, matched ${A.command}, when: ${Ze(A.when)}, source: ${ze(A)}.`),{enterChord:!1,leaveChord:A.keypressParts.length>1,commandId:A.command,commandArgs:A.commandArgs,bubble:A.bubble}):(this._log(`\\ From ${p.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,i){for(let o=i.length-1;o>=0;o--){let p=i[o];if(Ve.contextMatchesRules(t,p.when))return p}return null}static contextMatchesRules(t,i){return i?i.evaluate(t):!0}}function Ze(u){return u?`${u.serialize()}`:"no when condition"}function ze(u){return u.extensionId?u.isBuiltinExtension?`built-in extension ${u.extensionId}`:`user extension ${u.extensionId}`:u.isDefault?"built-in":"user"}var St=c(49989);class zt{constructor(t,i,o,p,A,K,q){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.keypressParts=t?Wt(t.getDispatchParts()):[],t&&this.keypressParts.length===0&&(this.keypressParts=Wt(t.getSingleModifierDispatchParts())),this.bubble=i?i.charCodeAt(0)===94:!1,this.command=this.bubble?i.substr(1):i,this.commandArgs=o,this.when=p,this.isDefault=A,this.extensionId=K,this.isBuiltinExtension=q}}function Wt(u){let t=[];for(let i=0,o=u.length;i<o;i++){const p=u[i];if(!p)return t;t.push(p)}return t}var hi=c(8030);class gi extends wi.f1{constructor(t,i){if(super(),i.length===0)throw(0,An.b1)("parts");this._os=t,this._parts=i}getLabel(){return hi.xo.toLabel(this._os,this._parts,t=>this._getLabel(t))}getAriaLabel(){return hi.X4.toLabel(this._os,this._parts,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:hi.jC.toLabel(this._os,this._parts,t=>this._getElectronAccelerator(t))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(t=>this._getPart(t))}_getPart(t){return new wi.BQ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchParts(){return this._parts.map(t=>this._getDispatchPart(t))}getSingleModifierDispatchParts(){return this._parts.map(t=>this._getSingleModifierDispatchPart(t))}}class ri extends gi{constructor(t,i){super(i,t.parts)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return P.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":P.kL.toString(t.keyCode)}_getElectronAccelerator(t){return P.kL.toElectronAccelerator(t.keyCode)}_getDispatchPart(t){return ri.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let i="";return t.ctrlKey&&(i+="ctrl+"),t.shiftKey&&(i+="shift+"),t.altKey&&(i+="alt+"),t.metaKey&&(i+="meta+"),i+=P.kL.toString(t.keyCode),i}_getSingleModifierDispatchPart(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const i=P.Vd[t];if(i!==-1)return i;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(t){if(!t)return null;if(t instanceof wi.QC)return t;const i=this._scanCodeToKeyCode(t.scanCode);return i===0?null:new wi.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,i)}static resolveUserBinding(t,i){const o=Wt(t.map(p=>this._resolveSimpleUserBinding(p)));return o.length>0?[new ri(new wi.X_(o),i)]:[]}}var Qt=c(48894),Zi=c(40382),Li;(function(u){u.noSelection=We.N("noSelection","No selection"),u.singleSelectionRange=We.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),u.singleSelection=We.N("singleSelection","Line {0}, Column {1}"),u.multiSelectionRange=We.N("multiSelectionRange","{0} selections ({1} characters selected)"),u.multiSelection=We.N("multiSelection","{0} selections"),u.emergencyConfOn=We.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),u.openingDocs=We.N("openingDocs","Now opening the Editor Accessibility documentation page."),u.readonlyDiffEditor=We.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),u.editableDiffEditor=We.N("editableDiffEditor"," in a pane of a diff editor."),u.readonlyEditor=We.N("readonlyEditor"," in a read-only code editor"),u.editableEditor=We.N("editableEditor"," in a code editor"),u.changeConfigToOnMac=We.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),u.changeConfigToOnWinLinux=We.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),u.auto_on=We.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),u.auto_off=We.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),u.tabFocusModeOnMsg=We.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),u.tabFocusModeOnMsgNoKb=We.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),u.tabFocusModeOffMsg=We.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),u.tabFocusModeOffMsgNoKb=We.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),u.openDocMac=We.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),u.openDocWinLinux=We.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),u.outroMsg=We.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),u.showAccessibilityHelpAction=We.N("showAccessibilityHelpAction","Show Accessibility Help")})(Li||(Li={}));var Fi;(function(u){u.inspectTokensAction=We.N("inspectTokens","Developer: Inspect Tokens")})(Fi||(Fi={}));var tn;(function(u){u.gotoLineActionLabel=We.N("gotoLineActionLabel","Go to Line/Column...")})(tn||(tn={}));var Tn;(function(u){u.helpQuickAccessActionLabel=We.N("helpQuickAccess","Show all Quick Access Providers")})(Tn||(Tn={}));var kn;(function(u){u.quickCommandActionLabel=We.N("quickCommandActionLabel","Command Palette"),u.quickCommandHelp=We.N("quickCommandActionHelp","Show And Run Commands")})(kn||(kn={}));var Vn;(function(u){u.quickOutlineActionLabel=We.N("quickOutlineActionLabel","Go to Symbol..."),u.quickOutlineByCategoryActionLabel=We.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Vn||(Vn={}));var ns;(function(u){u.editorViewAccessibleLabel=We.N("editorViewAccessibleLabel","Editor content"),u.accessibilityHelpMessage=We.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(ns||(ns={}));var Ms;(function(u){u.toggleHighContrast=We.N("toggleHighContrast","Toggle High Contrast Theme")})(Ms||(Ms={}));var fs;(function(u){u.bulkEditServiceSummary=We.N("bulkEditServiceSummary","Made {0} edits in {1} files")})(fs||(fs={}));var Jn=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Is=function(u,t){return function(i,o){t(i,o,u)}},Es=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};class es{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new Q.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function Ns(u,t,i){return(0,qn.CL)(u)?t(u):i(u)}let Qs=class{constructor(t){this.modelService=t}setEditor(t){this.editor=t}createModelReference(t){let i=null;return this.editor&&(i=Ns(this.editor,o=>this.findModel(o,t),o=>this.findModel(o.getOriginalEditor(),t)||this.findModel(o.getModifiedEditor(),t))),i?Promise.resolve(new ii.Jz(new es(i))):Promise.reject(new Error("Model not found"))}findModel(t,i){let o=this.modelService.getModel(i);return o&&o.uri.toString()!==i.toString()?null:o}};Qs=Jn([Is(0,ts.q)],Qs);class ds{show(){return ds.NULL_PROGRESS_RUNNER}showWhile(t,i){return Es(this,void 0,void 0,function*(){yield t})}}ds.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class ks{confirm(t){return this.doConfirm(t).then(i=>({confirmed:i,checkboxChecked:!1}))}doConfirm(t){let i=t.message;return t.detail&&(i=i+`

`+t.detail),Promise.resolve(window.confirm(i))}show(t,i,o,p){return Promise.resolve({choice:0})}}class Fs{info(t){return this.notify({severity:Ki.Z.Info,message:t})}warn(t){return this.notify({severity:Ki.Z.Warning,message:t})}error(t){return this.notify({severity:Ki.Z.Error,message:t})}notify(t){switch(t.severity){case Ki.Z.Error:console.error(t.message);break;case Ki.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return Fs.NO_OP}status(t,i){return ii.JT.None}}Fs.NO_OP=new Qt.EO;class js{constructor(t){this._onWillExecuteCommand=new Q.Q5,this._onDidExecuteCommand=new Q.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...i){const o=dt.P.getCommand(t);if(!o)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:i});const p=this._instantiationService.invokeFunction.apply(this._instantiationService,[o.handler,...i]);return this._onDidExecuteCommand.fire({commandId:t,args:i}),Promise.resolve(p)}catch(p){return Promise.reject(p)}}}class yn extends Ot{constructor(t,i,o,p,A,K){super(t,i,o,p,A),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(it.nm(K,it.tw.KEY_DOWN,q=>{const be=new jt.y(q);this._dispatch(be,be.target)&&(be.preventDefault(),be.stopPropagation())})),this._register(it.nm(window,it.tw.KEY_UP,q=>{const be=new jt.y(q);this._singleModifierDispatch(be,be.target)&&be.preventDefault()}))}addDynamicKeybinding(t,i,o,p){const A=(0,wi.gm)(i,$i.OS),K=new ii.SL;return A&&(this._dynamicKeybindings.push({keybinding:A.parts,command:t,when:p,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),K.add((0,ii.OF)(()=>{for(let q=0;q<this._dynamicKeybindings.length;q++)if(this._dynamicKeybindings[q].command===t){this._dynamicKeybindings.splice(q,1),this.updateResolver({source:1});return}}))),K.add(dt.P.registerCommand(t,o)),this.updateResolver({source:1}),K}updateResolver(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(St.W.getDefaultKeybindings(),!0),i=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Ve(t,i,o=>this._log(o))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,i){let o=[],p=0;for(const A of t){const K=A.when||void 0,q=A.keybinding;if(!q)o[p++]=new zt(void 0,A.command,A.commandArgs,K,i,null,!1);else{const be=ri.resolveUserBinding(q,$i.OS);for(const xe of be)o[p++]=new zt(xe,A.command,A.commandArgs,K,i,null,!1)}}return o}resolveKeyboardEvent(t){let i=new wi.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new ri(i,$i.OS)}}function ys(u){return u&&typeof u=="object"&&(!u.overrideIdentifier||typeof u.overrideIdentifier=="string")&&(!u.resource||u.resource instanceof L.o)}class ps{constructor(){this._onDidChangeConfiguration=new Q.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new fe(new re,new U)}getValue(t,i){const o=typeof t=="string"?t:void 0,p=ys(t)?t:ys(i)?i:{};return this._configuration.getValue(o,p,void 0)}updateValues(t){const i={data:this._configuration.toData()};let o=[];for(const p of t){const[A,K]=p;this.getValue(A)!==K&&(this._configuration.updateValue(A,K),o.push(A))}if(o.length>0){const p=new Le({keys:o,overrides:[]},i,this._configuration);p.source=7,p.sourceConfig=null,this._onDidChangeConfiguration.fire(p)}return Promise.resolve()}}class Os{constructor(t){this.configurationService=t,this._onDidChangeConfiguration=new Q.Q5,this.configurationService.onDidChangeConfiguration(i=>{this._onDidChangeConfiguration.fire({affectedKeys:i.affectedKeys,affectsConfiguration:(o,p)=>i.affectsConfiguration(p)})})}getValue(t,i,o){const A=(J.L.isIPosition(i)?i:null)?typeof o=="string"?o:void 0:typeof i=="string"?i:void 0;return typeof A=="undefined"?this.configurationService.getValue():this.configurationService.getValue(A)}}let po=class{constructor(t){this.configurationService=t}getEOL(t,i){const o=this.configurationService.getValue("files.eol",{overrideIdentifier:i,resource:t});return o&&typeof o=="string"&&o!=="auto"?o:$i.IJ||$i.dz?`
`:`\r
`}};po=Jn([Is(0,d.Ui)],po);class _o{publicLog(t,i){return Promise.resolve(void 0)}publicLog2(t,i){return this.publicLog(t,i)}}class bo{constructor(){const t=L.o.from({scheme:bo.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Zi.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}}bo.SCHEME="inmemory";function So(u,t,i){if(!t||!(u instanceof ps))return;let o=[];Object.keys(t).forEach(p=>{(0,Cs.ei)(p)&&o.push([`editor.${p}`,t[p]]),i&&(0,Cs.Pe)(p)&&o.push([`diffEditor.${p}`,t[p]])}),o.length>0&&u.updateValues(o)}class no{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,i){return Es(this,void 0,void 0,function*(){const o=new Map;for(let K of t){if(!(K instanceof ls.Gl))throw new Error("bad edit - only text edits are supported");const q=this._modelService.getModel(K.resource);if(!q)throw new Error("bad edit - model not found");if(typeof K.versionId=="number"&&q.getVersionId()!==K.versionId)throw new Error("bad state - model changed in the meantime");let be=o.get(q);be||(be=[],o.set(q,be)),be.push(Be.h.replaceMove(R.e.lift(K.textEdit.range),K.textEdit.text))}let p=0,A=0;for(const[K,q]of o)K.pushStackElement(),K.pushEditOperations([],q,()=>[]),K.pushStackElement(),A+=1,p+=q.length;return{ariaSummary:sn.WU(fs.bulkEditServiceSummary,p,A)}})}}class xo{getUriLabel(t,i){return t.scheme==="file"?t.fsPath:t.path}}class Vo{constructor(t,i){this._codeEditorService=t,this._container=i,this.onDidLayout=Q.ju.None}get dimension(){return this._dimension||(this._dimension=it.D6(window.document.body)),this._dimension}get container(){return this._container}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}}var bs=c(35996),is=c(53418),Ls=c(38626),ro=c(83080),Us=c(87917),Bs=c(55812),gs=c(90317),rs=c(13433),$s=c(74741),fo=c(16830),uo=c(27869),fn=c(73910),_s=c(97781),so=c(73046),Js=c(59554),nr=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},vr=function(u,t){return function(i,o){t(i,o,u)}},lr=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})},Ro;const Io=3;class yo{constructor(t,i,o,p){this.originalLineStart=t,this.originalLineEnd=i,this.modifiedLineStart=o,this.modifiedLineEnd=p}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class Ho{constructor(t){this.entries=t}}const Ko=(0,Js.q5)("diff-review-insert",so.lA.add,We.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),jo=(0,Js.q5)("diff-review-remove",so.lA.remove,We.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),qo=(0,Js.q5)("diff-review-close",so.lA.close,We.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Go=class pa extends ii.JT{constructor(t,i){super(),this._modeService=i,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=(0,Ls.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,Ls.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new gs.o(this.actionBarContainer.domNode)),this._actionBar.push(new $s.aU("diffreview.close",We.N("label.close","Close"),"close-diff-review "+_s.kS.asClassName(qo),!0,()=>lr(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,Ls.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,Ls.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new rs.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(it.mu(this.domNode.domNode,"click",o=>{o.preventDefault();let p=it.Fx(o.target,"diff-review-row");p&&this._goToRow(p)})),this._register(it.mu(this.domNode.domNode,"keydown",o=>{(o.equals(18)||o.equals(2066)||o.equals(530))&&(o.preventDefault(),this._goToRow(this._getNextRow())),(o.equals(16)||o.equals(2064)||o.equals(528))&&(o.preventDefault(),this._goToRow(this._getPrevRow())),(o.equals(9)||o.equals(2057)||o.equals(521)||o.equals(1033))&&(o.preventDefault(),this.hide()),(o.equals(10)||o.equals(3))&&(o.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let o=-1;for(let p=0,A=this._diffs.length;p<A;p++)if(this._diffs[p]===this._currentDiff){o=p;break}t=this._diffs.length+o-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const i=this._diffs[t].entries;this._diffEditor.setPosition(new J.L(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let o=-1;for(let p=0,A=this._diffs.length;p<A;p++)if(this._diffs[p]===this._currentDiff){o=p;break}t=o+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const i=this._diffs[t].entries;this._diffEditor.setPosition(new J.L(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let t=-1,i=this._getCurrentFocusedRow();if(i){let o=parseInt(i.getAttribute("data-line"),10);isNaN(o)||(t=o)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new J.L(t,1)),this._diffEditor.revealPosition(new J.L(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){let t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t){let i=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),i&&i!==t&&(i.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,i,o){this._width=i,this.shadow.setTop(t-6),this.shadow.setWidth(i),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(i),this.domNode.setHeight(o),this._content.setHeight(o),this._content.setWidth(i),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel();return!i||!o?[]:pa._mergeAdjacent(t,i.getLineCount(),o.getLineCount())}static _mergeAdjacent(t,i,o){if(!t||t.length===0)return[];let p=[],A=0;for(let xe=0,Fe=t.length;xe<Fe;xe++){const et=t[xe],Ut=et.originalStartLineNumber,Mi=et.originalEndLineNumber,Oi=et.modifiedStartLineNumber,nn=et.modifiedEndLineNumber;let Dn=[],Hn=0;{const Kn=Mi===0?Ut:Ut-1,Sn=nn===0?Oi:Oi-1;let Mn=1,Ws=1;if(xe>0){const In=t[xe-1];In.originalEndLineNumber===0?Mn=In.originalStartLineNumber+1:Mn=In.originalEndLineNumber+1,In.modifiedEndLineNumber===0?Ws=In.modifiedStartLineNumber+1:Ws=In.modifiedEndLineNumber+1}let ws=Kn-Io+1,On=Sn-Io+1;if(ws<Mn){const In=Mn-ws;ws=ws+In,On=On+In}if(On<Ws){const In=Ws-On;ws=ws+In,On=On+In}Dn[Hn++]=new yo(ws,Kn,On,Sn)}Mi!==0&&(Dn[Hn++]=new yo(Ut,Mi,0,0)),nn!==0&&(Dn[Hn++]=new yo(0,0,Oi,nn));{const Kn=Mi===0?Ut+1:Mi+1,Sn=nn===0?Oi+1:nn+1;let Mn=i,Ws=o;if(xe+1<Fe){const In=t[xe+1];In.originalEndLineNumber===0?Mn=In.originalStartLineNumber:Mn=In.originalStartLineNumber-1,In.modifiedEndLineNumber===0?Ws=In.modifiedStartLineNumber:Ws=In.modifiedStartLineNumber-1}let ws=Kn+Io-1,On=Sn+Io-1;if(ws>Mn){const In=Mn-ws;ws=ws+In,On=On+In}if(On>Ws){const In=Ws-On;ws=ws+In,On=On+In}Dn[Hn++]=new yo(Kn,ws,Sn,On)}p[A++]=new Ho(Dn)}let K=p[0].entries,q=[],be=0;for(let xe=1,Fe=p.length;xe<Fe;xe++){const et=p[xe].entries,Ut=K[K.length-1],Mi=et[0];if(Ut.getType()===0&&Mi.getType()===0&&Mi.originalLineStart<=Ut.originalLineEnd){K[K.length-1]=new yo(Ut.originalLineStart,Mi.originalLineEnd,Ut.modifiedLineStart,Mi.modifiedLineEnd),K=K.concat(et.slice(1));continue}q[be++]=new Ho(K),K=et}return q[be++]=new Ho(K),q}_findDiffIndex(t){const i=t.lineNumber;for(let o=0,p=this._diffs.length;o<p;o++){const A=this._diffs[o].entries,K=A[A.length-1].modifiedLineEnd;if(i<=K)return o}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),o=this._diffEditor.getOriginalEditor().getModel(),p=this._diffEditor.getModifiedEditor().getModel(),A=o.getOptions(),K=p.getOptions();if(!this._isVisible||!o||!p){it.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const q=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[q]===this._currentDiff)return;this._currentDiff=this._diffs[q];const be=this._diffs[q].entries;let xe=document.createElement("div");xe.className="diff-review-table",xe.setAttribute("role","list"),xe.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Us.V.applyFontInfoSlow(xe,i.get(43));let Fe=0,et=0,Ut=0,Mi=0;for(let On=0,In=be.length;On<In;On++){const ss=be[On],zn=ss.originalLineStart,As=ss.originalLineEnd,wo=ss.modifiedLineStart,us=ss.modifiedLineEnd;zn!==0&&(Fe===0||zn<Fe)&&(Fe=zn),As!==0&&(et===0||As>et)&&(et=As),wo!==0&&(Ut===0||wo<Ut)&&(Ut=wo),us!==0&&(Mi===0||us>Mi)&&(Mi=us)}let Oi=document.createElement("div");Oi.className="diff-review-row";let nn=document.createElement("div");nn.className="diff-review-cell diff-review-summary";const Dn=et-Fe+1,Hn=Mi-Ut+1;nn.appendChild(document.createTextNode(`${q+1}/${this._diffs.length}: @@ -${Fe},${Dn} +${Ut},${Hn} @@`)),Oi.setAttribute("data-line",String(Ut));const Kn=On=>On===0?We.N("no_lines_changed","no lines changed"):On===1?We.N("one_line_changed","1 line changed"):We.N("more_lines_changed","{0} lines changed",On),Sn=Kn(Dn),Mn=Kn(Hn);Oi.setAttribute("aria-label",We.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",q+1,this._diffs.length,Fe,Sn,Ut,Mn)),Oi.appendChild(nn),Oi.setAttribute("role","listitem"),xe.appendChild(Oi);const Ws=i.get(58);let ws=Ut;for(let On=0,In=be.length;On<In;On++){const ss=be[On];pa._renderSection(xe,ss,ws,Ws,this._width,t,o,A,i,p,K,this._modeService.languageIdCodec),ss.modifiedLineStart!==0&&(ws=ss.modifiedLineEnd)}it.PO(this._content.domNode),this._content.domNode.appendChild(xe),this.scrollbar.scanDomNode()}static _renderSection(t,i,o,p,A,K,q,be,xe,Fe,et,Ut){const Mi=i.getType();let Oi="diff-review-row",nn="";const Dn="diff-review-spacer";let Hn=null;switch(Mi){case 1:Oi="diff-review-row line-insert",nn=" char-insert",Hn=Ko;break;case 2:Oi="diff-review-row line-delete",nn=" char-delete",Hn=jo;break}const Kn=i.originalLineStart,Sn=i.originalLineEnd,Mn=i.modifiedLineStart,Ws=i.modifiedLineEnd,ws=Math.max(Ws-Mn,Sn-Kn),On=K.get(129),In=On.glyphMarginWidth+On.lineNumbersWidth,ss=xe.get(129),zn=10+ss.glyphMarginWidth+ss.lineNumbersWidth;for(let As=0;As<=ws;As++){const wo=Kn===0?0:Kn+As,us=Mn===0?0:Mn+As,Oo=document.createElement("div");Oo.style.minWidth=A+"px",Oo.className=Oi,Oo.setAttribute("role","listitem"),us!==0&&(o=us),Oo.setAttribute("data-line",String(o));let gr=document.createElement("div");gr.className="diff-review-cell",gr.style.height=`${p}px`,Oo.appendChild(gr);const Mo=document.createElement("span");Mo.style.width=In+"px",Mo.style.minWidth=In+"px",Mo.className="diff-review-line-number"+nn,wo!==0?Mo.appendChild(document.createTextNode(String(wo))):Mo.innerText="\xA0",gr.appendChild(Mo);const _r=document.createElement("span");_r.style.width=zn+"px",_r.style.minWidth=zn+"px",_r.style.paddingRight="10px",_r.className="diff-review-line-number"+nn,us!==0?_r.appendChild(document.createTextNode(String(us))):_r.innerText="\xA0",gr.appendChild(_r);const Er=document.createElement("span");if(Er.className=Dn,Hn){const Sr=document.createElement("span");Sr.className=_s.kS.asClassName(Hn),Sr.innerText="\xA0\xA0",Er.appendChild(Sr)}else Er.innerText="\xA0\xA0";gr.appendChild(Er);let Mr;if(us!==0){let Sr=this._renderLine(Fe,xe,et.tabSize,us,Ut);pa._ttPolicy&&(Sr=pa._ttPolicy.createHTML(Sr)),gr.insertAdjacentHTML("beforeend",Sr),Mr=Fe.getLineContent(us)}else{let Sr=this._renderLine(q,K,be.tabSize,wo,Ut);pa._ttPolicy&&(Sr=pa._ttPolicy.createHTML(Sr)),gr.insertAdjacentHTML("beforeend",Sr),Mr=q.getLineContent(wo)}Mr.length===0&&(Mr=We.N("blankLine","blank"));let Pr="";switch(Mi){case 0:wo===us?Pr=We.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Mr,wo):Pr=We.N("equalLine","{0} original line {1} modified line {2}",Mr,wo,us);break;case 1:Pr=We.N("insertLine","+ {0} modified line {1}",Mr,us);break;case 2:Pr=We.N("deleteLine","- {0} original line {1}",Mr,wo);break}Oo.setAttribute("aria-label",Pr),t.appendChild(Oo)}}static _renderLine(t,i,o,p,A){const K=t.getLineContent(p),q=i.get(43),be=ae.A.createEmpty(K,A),xe=qe.wA.isBasicASCII(K,t.mightContainNonBasicASCII()),Fe=qe.wA.containsRTL(K,xe,t.mightContainRTL());return(0,Ne.tF)(new Ne.IJ(q.isMonospace&&!i.get(29),q.canUseHalfwidthRightwardsArrow,K,!1,xe,Fe,0,be,[],o,0,q.spaceWidth,q.middotWidth,q.wsmiddotWidth,i.get(104),i.get(87),i.get(82),i.get(44)!==D.n0.OFF,null)).html}};Go._ttPolicy=(Ro=window.trustedTypes)===null||Ro===void 0?void 0:Ro.createPolicy("diffReview",{createHTML:u=>u}),Go=nr([vr(1,zi.h)],Go),(0,_s.Ic)((u,t)=>{const i=u.getColor(uo.hw);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const o=u.getColor(fn._w);o&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${o} 0 -6px 6px -6px inset; }`)});class dr extends fo.R6{constructor(){super({id:"editor.action.diffReview.next",label:We.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:de.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,i){const o=ur(t);o&&o.diffReviewNext()}}class Fr extends fo.R6{constructor(){super({id:"editor.action.diffReview.prev",label:We.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:de.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,i){const o=ur(t);o&&o.diffReviewPrev()}}function ur(u){const t=u.get(Mt.$),i=t.listDiffEditors(),o=t.getActiveCodeEditor();if(!o)return null;for(let p=0,A=i.length;p<A;p++){const K=i[p];if(K.getModifiedEditor().getId()===o.getId()||K.getOriginalEditor().getId()===o.getId())return K}return null}(0,fo.Qr)(dr),(0,fo.Qr)(Fr);var Br=c(50072),No=c(24979),xr=c(92003),Zo=c(92550),sr=c(60972),Uo=c(5606),er=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};class Ir extends ii.JT{constructor(t,i,o,p,A,K){super(),this._viewZoneId=t,this._marginDomNode=i,this.editor=o,this.diff=p,this._contextMenuService=A,this._clipboardService=K,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=so.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const q=o.getOption(58),be=o.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${q}px`,this._diffActions.style.lineHeight=`${q}px`,this._marginDomNode.appendChild(this._diffActions);const xe=[],Fe=p.modifiedEndLineNumber===0;xe.push(new $s.aU("diff.clipboard.copyDeletedContent",Fe?p.originalEndLineNumber>p.modifiedStartLineNumber?We.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):We.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):p.originalEndLineNumber>p.modifiedStartLineNumber?We.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):We.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>er(this,void 0,void 0,function*(){const nn=new R.e(p.originalStartLineNumber,1,p.originalEndLineNumber+1,1),Dn=p.originalModel.getValueInRange(nn);yield this._clipboardService.writeText(Dn)})));let et=0,Ut;p.originalEndLineNumber>p.modifiedStartLineNumber&&(Ut=new $s.aU("diff.clipboard.copyDeletedLineContent",Fe?We.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",p.originalStartLineNumber):We.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",p.originalStartLineNumber),void 0,!0,()=>er(this,void 0,void 0,function*(){const nn=p.originalModel.getLineContent(p.originalStartLineNumber+et);if(nn===""){const Dn=p.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Dn===0?`
`:`\r
`)}else yield this._clipboardService.writeText(nn)})),xe.push(Ut)),o.getOption(80)||xe.push(new $s.aU("diff.inline.revertChange",We.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>er(this,void 0,void 0,function*(){const nn=new R.e(p.originalStartLineNumber,1,p.originalEndLineNumber,p.originalModel.getLineMaxColumn(p.originalEndLineNumber)),Dn=p.originalModel.getValueInRange(nn);if(p.modifiedEndLineNumber===0){const Hn=o.getModel().getLineMaxColumn(p.modifiedStartLineNumber);o.executeEdits("diffEditor",[{range:new R.e(p.modifiedStartLineNumber,Hn,p.modifiedStartLineNumber,Hn),text:be+Dn}])}else{const Hn=o.getModel().getLineMaxColumn(p.modifiedEndLineNumber);o.executeEdits("diffEditor",[{range:new R.e(p.modifiedStartLineNumber,1,p.modifiedEndLineNumber,Hn),text:Dn}])}})));const Oi=(nn,Dn)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:nn,y:Dn}),getActions:()=>(Ut&&(Ut.label=Fe?We.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",p.originalStartLineNumber+et):We.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",p.originalStartLineNumber+et)),xe),autoSelectFirstItem:!0})};this._register(it.mu(this._diffActions,"mousedown",nn=>{const{top:Dn,height:Hn}=it.i(this._diffActions);let Kn=Math.floor(q/3);nn.preventDefault(),Oi(nn.posx,Dn+Hn+Kn)})),this._register(o.onMouseMove(nn=>{nn.target.type===8||nn.target.type===5?nn.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,et=this._updateLightBulbPosition(this._marginDomNode,nn.event.browserEvent.y,q)):this.visibility=!1:this.visibility=!1})),this._register(o.onMouseDown(nn=>{nn.event.rightButton&&(nn.target.type===8||nn.target.type===5)&&nn.target.detail.viewZoneId===this._viewZoneId&&(nn.event.preventDefault(),et=this._updateLightBulbPosition(this._marginDomNode,nn.event.browserEvent.y,q),Oi(nn.event.posx,nn.event.posy+q))}))}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(t,i,o){const{top:p}=it.i(t),A=i-p,K=Math.floor(A/o),q=K*o;if(this._diffActions.style.top=`${q}px`,this.diff.viewLineCounts){let be=0;for(let xe=0;xe<this.diff.viewLineCounts.length;xe++)if(be+=this.diff.viewLineCounts[xe],K<be)return xe}return K}}var cr=c(84972),mr=c(90535),Cr=c(45476),Rr=c(49335),ms=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Wn=function(u,t){return function(i,o){t(i,o,u)}},hs;class vs{constructor(t,i){this._contextMenuService=t,this._clipboardService=i,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(i=>!this._zonesMap[String(i.id)])}clean(t){this._zones.length>0&&t.changeViewZones(i=>{for(const o of this._zones)i.removeZone(o)}),this._zones=[],this._zonesMap={},this._decorations=t.deltaDecorations(this._decorations,[])}apply(t,i,o,p){const A=p?Bs.ZF.capture(t):null;t.changeViewZones(K=>{var q;for(const be of this._zones)K.removeZone(be);for(const be of this._inlineDiffMargins)be.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let be=0,xe=o.zones.length;be<xe;be++){const Fe=o.zones[be];Fe.suppressMouseDown=!0;const et=K.addZone(Fe);this._zones.push(et),this._zonesMap[String(et)]=!0,o.zones[be].diff&&Fe.marginDomNode&&(Fe.suppressMouseDown=!1,((q=o.zones[be].diff)===null||q===void 0?void 0:q.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new Ir(et,Fe.marginDomNode,t,o.zones[be].diff,this._contextMenuService,this._clipboardService)))}}),A&&A.restore(t),this._decorations=t.deltaDecorations(this._decorations,o.decorations),i&&i.setZones(o.overviewZones)}}let qs=0;const go=(0,Js.q5)("diff-insert",so.lA.add,We.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Po=(0,Js.q5)("diff-remove",so.lA.remove,We.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),tr=(hs=window.trustedTypes)===null||hs===void 0?void 0:hs.createPolicy("diffEditorWidget",{createHTML:u=>u});let $o=class Jo extends ii.JT{constructor(t,i,o,p,A,K,q,be,xe,Fe,et,Ut){super(),this._editorProgressService=Ut,this._onDidDispose=this._register(new Q.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Q.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Q.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=A,this._codeEditorService=be,this._contextKeyService=this._register(K.createScoped(t)),this._instantiationService=q.createChild(new sr.y([de.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=xe,this._notificationService=Fe,this._id=++qs,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=l(i,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof i.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Fn.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Jo._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,Ls.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(it.mu(this._overviewDomElement,"mousedown",Oi=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Oi)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new vs(et,p),this._modifiedEditorState=new vs(et,p),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Cr.I(this._containerDomElement,i.dimension,()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,o.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,o.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=q.createInstance(Go,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Yo(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Wr(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(xe.onDidColorThemeChange(Oi=>{this._strategy&&this._strategy.applyColors(Oi)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Jo._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Mi=fo.Uc.getDiffEditorContributions();for(const Oi of Mi)try{this._register(q.createInstance(Oi.ctor,this))}catch(nn){(0,An.dL)(nn)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,i){let o="monaco-diff-editor monaco-editor-background ";return i&&(o+="side-by-side "),o+=(0,_s.m6)(t.type),o}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const o=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(o.onDidScrollChange(A=>{this._isHandlingScrollEvent||!A.scrollTopChanged&&!A.scrollLeftChanged&&!A.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(A=>{o.getModel()&&(A.hasChanged(43)&&this._updateDecorationsRunner.schedule(),A.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(o.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(o.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const p=this._contextKeyService.createKey("isInDiffLeftEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>p.set(!0))),this._register(o.onDidBlurEditorWidget(()=>p.set(!1))),this._register(o.onDidContentSizeChange(A=>{const K=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Jo.ONE_OVERVIEW_WIDTH,q=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:q,contentWidth:K,contentHeightChanged:A.contentHeightChanged,contentWidthChanged:A.contentWidthChanged})})),o}_createRightHandSideEditor(t,i){const o=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(o.onDidScrollChange(A=>{this._isHandlingScrollEvent||!A.scrollTopChanged&&!A.scrollLeftChanged&&!A.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(A=>{o.getModel()&&(A.hasChanged(43)&&this._updateDecorationsRunner.schedule(),A.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(o.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(o.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(o.onDidChangeModelOptions(A=>{A.tabSize&&this._updateDecorationsRunner.schedule()}));const p=this._contextKeyService.createKey("isInDiffRightEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>p.set(!0))),this._register(o.onDidBlurEditorWidget(()=>p.set(!1))),this._register(o.onDidContentSizeChange(A=>{const K=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Jo.ONE_OVERVIEW_WIDTH,q=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:q,contentWidth:K,contentHeightChanged:A.contentHeightChanged,contentWidthChanged:A.contentWidthChanged})})),o}_createInnerEditor(t,i,o,p){return t.createInstance(is.Gm,i,o,p)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return at.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const i=l(t,this._options),o=b(this._options,i);this._options=i;const p=o.ignoreTrimWhitespace||o.renderIndicators,A=this._isVisible&&(o.maxComputationTime||o.maxFileSize);p?this._beginUpdateDecorations():A&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),o.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Yo(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Wr(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Jo._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),o.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t){this._modifiedEditor.setPosition(t)}revealLine(t,i=0){this._modifiedEditor.revealLine(t,i)}revealLineInCenter(t,i=0){this._modifiedEditor.revealLineInCenter(t,i)}revealLineInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,i)}revealLineNearTop(t,i=0){this._modifiedEditor.revealLineNearTop(t,i)}revealPosition(t,i=0){this._modifiedEditor.revealPosition(t,i)}revealPositionInCenter(t,i=0){this._modifiedEditor.revealPositionInCenter(t,i)}revealPositionInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,i)}revealPositionNearTop(t,i=0){this._modifiedEditor.revealPositionNearTop(t,i)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t){this._modifiedEditor.setSelection(t)}setSelections(t){this._modifiedEditor.setSelections(t)}revealLines(t,i,o=0){this._modifiedEditor.revealLines(t,i,o)}revealLinesInCenter(t,i,o=0){this._modifiedEditor.revealLinesInCenter(t,i,o)}revealLinesInCenterIfOutsideViewport(t,i,o=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,i,o)}revealLinesNearTop(t,i,o=0){this._modifiedEditor.revealLinesNearTop(t,i,o)}revealRange(t,i=0,o=!1,p=!0){this._modifiedEditor.revealRange(t,i,o,p)}revealRangeInCenter(t,i=0){this._modifiedEditor.revealRangeInCenter(t,i)}revealRangeInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,i)}revealRangeNearTop(t,i=0){this._modifiedEditor.revealRangeNearTop(t,i)}revealRangeNearTopIfOutsideViewport(t,i=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,i)}revealRangeAtTop(t,i=0){this._modifiedEditor.revealRangeAtTop(t,i)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),i=this._modifiedEditor.saveViewState();return{original:t,modified:i}}restoreViewState(t){if(t&&t.original&&t.modified){const i=t;this._originalEditor.restoreViewState(i.original),this._modifiedEditor.restoreViewState(i.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,i,o){this._modifiedEditor.trigger(t,i,o)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=Jo.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Jo.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Jo.ONE_OVERVIEW_WIDTH,right:o+Jo.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Jo.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Jo.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,i){return!t&&!i?!0:!t||!i?!1:t.toString()===i.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;const o=this._diffComputationToken,p=this._options.maxFileSize*1024*1024,A=K=>{const q=K.getValueLength();return p===0||q<=p};if(!A(t)||!A(i)){(!Jo._equals(t.uri,this._lastOriginalWarning)||!Jo._equals(i.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(We.N("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(K=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=K,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},K=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],i=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),o=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),p=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,i,o);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,p.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,p.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const i=Object.assign({},t);return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=Object.assign({},i.scrollbar||{}),i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=this._options.diffCodeLens,i.fixedOverflowWidgets=!0,i.minimap=Object.assign({},i.minimap||{}),i.minimap.enabled=!1,i}_adjustOptionsForLeftHandSide(t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?i.wordWrapOverride1=this._options.diffWordWrap:i.wordWrapOverride1="off",t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.readOnly=!this._options.originalEditable,i.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=D.BH.revealHorizontalRightPadding.defaultValue+Jo.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),o=this._getReviewHeight(),p=this._strategy.layout();this._originalDomNode.style.width=p+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-p+"px",this._modifiedDomNode.style.left=p+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-o+"px",this._overviewDomElement.style.width=Jo.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-Jo.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Jo.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:p,height:i-o}),this._modifiedEditor.layout({width:t-p-(this._options.renderOverviewRuler?Jo.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-o}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-o,t,o),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const i=this._modifiedEditor.getScrollTop(),o=this._modifiedEditor.getScrollHeight(),p=Math.max(0,t.height),A=Math.max(0,p-2*0),K=o>0?A/o:0,q=Math.max(0,Math.floor(t.height*K)),be=Math.floor(i*K);return{height:q,top:be}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,i){const o=this._diffComputationResult?this._diffComputationResult.changes:[];if(o.length===0||t<i(o[0]))return null;let p=0,A=o.length-1;for(;p<A;){const K=Math.floor((p+A)/2),q=i(o[K]),be=K+1<=A?i(o[K+1]):1073741824;t<q?A=K-1:t>=be?p=K+1:(p=K,A=K)}return o[p]}_getEquivalentLineForOriginalLineNumber(t){const i=this._getLineChangeAtOrBeforeLineNumber(t,be=>be.originalStartLineNumber);if(!i)return t;const o=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),p=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),A=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,K=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,q=t-o;return q<=A?p+Math.min(q,K):p+K-A+q}_getEquivalentLineForModifiedLineNumber(t){const i=this._getLineChangeAtOrBeforeLineNumber(t,be=>be.modifiedStartLineNumber);if(!i)return t;const o=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),p=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),A=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,K=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,q=t-p;return q<=K?o+Math.min(q,A):o+A-K+q}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};$o.ONE_OVERVIEW_WIDTH=15,$o.ENTIRE_DIFF_OVERVIEW_WIDTH=30,$o.UPDATE_DIFF_DECORATIONS_DELAY=200,$o=ms([Wn(3,cr.p),Wn(4,Rn.p),Wn(5,de.i6),Wn(6,Un.TG),Wn(7,Mt.$),Wn(8,_s.XE),Wn(9,Qt.lT),Wn(10,Uo.i),Wn(11,mr.e)],$o);class Do extends ii.JT{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const i=(t.getColor(fn.yp)||fn.Cz).transparent(2),o=(t.getColor(fn.P4)||fn.ke).transparent(2),p=!i.equals(this._insertColor)||!o.equals(this._removeColor);return this._insertColor=i,this._removeColor=o,p}getEditorsDiffDecorations(t,i,o,p,A){A=A.sort((xe,Fe)=>xe.afterLineNumber-Fe.afterLineNumber),p=p.sort((xe,Fe)=>xe.afterLineNumber-Fe.afterLineNumber);const K=this._getViewZones(t,p,A,o),q=this._getOriginalEditorDecorations(t,i,o),be=this._getModifiedEditorDecorations(t,i,o);return{original:{decorations:q.decorations,overviewZones:q.overviewZones,zones:K.original},modified:{decorations:be.decorations,overviewZones:be.overviewZones,zones:K.modified}}}}class hr{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ir{constructor(t,i,o,p,A){this._lineChanges=t,this._originalForeignVZ=i,this._modifiedForeignVZ=o,this._originalEditor=p,this._modifiedEditor=A}static _getViewLineCount(t,i,o){const p=t.getModel(),A=t._getViewModel();if(p&&A){const K=n(p,A,i,o);return K.endLineNumber-K.startLineNumber+1}return o-i+1}getViewZones(){const t=this._originalEditor.getOption(58),i=this._modifiedEditor.getOption(58),o=this._originalEditor.getOption(130).wrappingColumn!==-1,p=this._modifiedEditor.getOption(130).wrappingColumn!==-1,A=o||p,K=this._originalEditor.getModel(),q=this._originalEditor._getViewModel().coordinatesConverter,be=this._modifiedEditor._getViewModel().coordinatesConverter,xe={original:[],modified:[]};let Fe=0,et=0,Ut=0,Mi=0,Oi=0,nn=0;const Dn=(ws,On)=>ws.afterLineNumber-On.afterLineNumber,Hn=(ws,On)=>{if(On.domNode===null&&ws.length>0){const In=ws[ws.length-1];if(In.afterLineNumber===On.afterLineNumber&&In.domNode===null){In.heightInLines+=On.heightInLines;return}}ws.push(On)},Kn=new hr(this._modifiedForeignVZ),Sn=new hr(this._originalForeignVZ);let Mn=1,Ws=1;for(let ws=0,On=this._lineChanges.length;ws<=On;ws++){const In=ws<On?this._lineChanges[ws]:null;In!==null?(Ut=In.originalStartLineNumber+(In.originalEndLineNumber>0?-1:0),Mi=In.modifiedStartLineNumber+(In.modifiedEndLineNumber>0?-1:0),et=In.originalEndLineNumber>0?ir._getViewLineCount(this._originalEditor,In.originalStartLineNumber,In.originalEndLineNumber):0,Fe=In.modifiedEndLineNumber>0?ir._getViewLineCount(this._modifiedEditor,In.modifiedStartLineNumber,In.modifiedEndLineNumber):0,Oi=Math.max(In.originalStartLineNumber,In.originalEndLineNumber),nn=Math.max(In.modifiedStartLineNumber,In.modifiedEndLineNumber)):(Ut+=1e7+et,Mi+=1e7+Fe,Oi=Ut,nn=Mi);let ss=[],zn=[];if(A){let us;In?In.originalEndLineNumber>0?us=In.originalStartLineNumber-Mn:us=In.modifiedStartLineNumber-Ws:us=K.getLineCount()-Mn;for(let Oo=0;Oo<us;Oo++){const gr=Mn+Oo,Mo=Ws+Oo,_r=q.getModelLineViewLineCount(gr),Er=be.getModelLineViewLineCount(Mo);_r<Er?ss.push({afterLineNumber:gr,heightInLines:Er-_r,domNode:null,marginDomNode:null}):_r>Er&&zn.push({afterLineNumber:Mo,heightInLines:_r-Er,domNode:null,marginDomNode:null})}In&&(Mn=(In.originalEndLineNumber>0?In.originalEndLineNumber:In.originalStartLineNumber)+1,Ws=(In.modifiedEndLineNumber>0?In.modifiedEndLineNumber:In.modifiedStartLineNumber)+1)}for(;Kn.current&&Kn.current.afterLineNumber<=nn;){let us;Kn.current.afterLineNumber<=Mi?us=Ut-Mi+Kn.current.afterLineNumber:us=Oi;let Oo=null;In&&In.modifiedStartLineNumber<=Kn.current.afterLineNumber&&Kn.current.afterLineNumber<=In.modifiedEndLineNumber&&(Oo=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),ss.push({afterLineNumber:us,heightInLines:Kn.current.height/i,domNode:null,marginDomNode:Oo}),Kn.advance()}for(;Sn.current&&Sn.current.afterLineNumber<=Oi;){let us;Sn.current.afterLineNumber<=Ut?us=Mi-Ut+Sn.current.afterLineNumber:us=nn,zn.push({afterLineNumber:us,heightInLines:Sn.current.height/t,domNode:null}),Sn.advance()}if(In!==null&&Qo(In)){const us=this._produceOriginalFromDiff(In,et,Fe);us&&ss.push(us)}if(In!==null&&Ct(In)){const us=this._produceModifiedFromDiff(In,et,Fe);us&&zn.push(us)}let As=0,wo=0;for(ss=ss.sort(Dn),zn=zn.sort(Dn);As<ss.length&&wo<zn.length;){const us=ss[As],Oo=zn[wo],gr=us.afterLineNumber-Ut,Mo=Oo.afterLineNumber-Mi;gr<Mo?(Hn(xe.original,us),As++):Mo<gr?(Hn(xe.modified,Oo),wo++):us.shouldNotShrink?(Hn(xe.original,us),As++):Oo.shouldNotShrink?(Hn(xe.modified,Oo),wo++):us.heightInLines>=Oo.heightInLines?(us.heightInLines-=Oo.heightInLines,wo++):(Oo.heightInLines-=us.heightInLines,As++)}for(;As<ss.length;)Hn(xe.original,ss[As]),As++;for(;wo<zn.length;)Hn(xe.modified,zn[wo]),wo++}return{original:ir._ensureDomNodes(xe.original),modified:ir._ensureDomNodes(xe.modified)}}static _ensureDomNodes(t){return t.map(i=>(i.domNode||(i.domNode=e()),i))}}function or(u,t,i,o,p){return{range:new R.e(u,t,i,o),options:p}}const Fo={charDelete:No.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:No.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:No.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:No.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:No.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:No.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+_s.kS.asClassName(go),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:No.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:No.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+_s.kS.asClassName(Po),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:No.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class Yo extends Do{constructor(t,i){super(t),this._disableSash=i===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new ro.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(o=>this._onSashDrag(o)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const i=t===!1;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const o=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?$o.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let p=Math.floor((t||.5)*o);const A=Math.floor(.5*o);return p=this._disableSash?A:p||A,o>Yo.MINIMUM_EDITOR_WIDTH*2?(p<Yo.MINIMUM_EDITOR_WIDTH&&(p=Yo.MINIMUM_EDITOR_WIDTH),p>o-Yo.MINIMUM_EDITOR_WIDTH&&(p=o-Yo.MINIMUM_EDITOR_WIDTH)):p=A,this._sashPosition!==p&&(this._sashPosition=p,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const o=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?$o.ENTIRE_DIFF_OVERVIEW_WIDTH:0),p=this.layout((this._startSashPosition+(t.currentX-t.startX))/o);this._sashRatio=p/o,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}_getViewZones(t,i,o){const p=this._dataSource.getOriginalEditor(),A=this._dataSource.getModifiedEditor();return new rr(t,i,o,p,A).getViewZones()}_getOriginalEditorDecorations(t,i,o){const p=this._dataSource.getOriginalEditor(),A=String(this._removeColor),K={decorations:[],overviewZones:[]},q=p.getModel(),be=p._getViewModel();for(const xe of t)if(Ct(xe)){K.decorations.push({range:new R.e(xe.originalStartLineNumber,1,xe.originalEndLineNumber,1073741824),options:o?Fo.lineDeleteWithSign:Fo.lineDelete}),(!Qo(xe)||!xe.charChanges)&&K.decorations.push(or(xe.originalStartLineNumber,1,xe.originalEndLineNumber,1073741824,Fo.charDeleteWholeLine));const Fe=n(q,be,xe.originalStartLineNumber,xe.originalEndLineNumber);if(K.overviewZones.push(new xr.EY(Fe.startLineNumber,Fe.endLineNumber,A)),xe.charChanges){for(const et of xe.charChanges)if(Ct(et))if(i)for(let Ut=et.originalStartLineNumber;Ut<=et.originalEndLineNumber;Ut++){let Mi,Oi;Ut===et.originalStartLineNumber?Mi=et.originalStartColumn:Mi=q.getLineFirstNonWhitespaceColumn(Ut),Ut===et.originalEndLineNumber?Oi=et.originalEndColumn:Oi=q.getLineLastNonWhitespaceColumn(Ut),K.decorations.push(or(Ut,Mi,Ut,Oi,Fo.charDelete))}else K.decorations.push(or(et.originalStartLineNumber,et.originalStartColumn,et.originalEndLineNumber,et.originalEndColumn,Fo.charDelete))}}return K}_getModifiedEditorDecorations(t,i,o){const p=this._dataSource.getModifiedEditor(),A=String(this._insertColor),K={decorations:[],overviewZones:[]},q=p.getModel(),be=p._getViewModel();for(const xe of t)if(Qo(xe)){K.decorations.push({range:new R.e(xe.modifiedStartLineNumber,1,xe.modifiedEndLineNumber,1073741824),options:o?Fo.lineInsertWithSign:Fo.lineInsert}),(!Ct(xe)||!xe.charChanges)&&K.decorations.push(or(xe.modifiedStartLineNumber,1,xe.modifiedEndLineNumber,1073741824,Fo.charInsertWholeLine));const Fe=n(q,be,xe.modifiedStartLineNumber,xe.modifiedEndLineNumber);if(K.overviewZones.push(new xr.EY(Fe.startLineNumber,Fe.endLineNumber,A)),xe.charChanges){for(const et of xe.charChanges)if(Qo(et))if(i)for(let Ut=et.modifiedStartLineNumber;Ut<=et.modifiedEndLineNumber;Ut++){let Mi,Oi;Ut===et.modifiedStartLineNumber?Mi=et.modifiedStartColumn:Mi=q.getLineFirstNonWhitespaceColumn(Ut),Ut===et.modifiedEndLineNumber?Oi=et.modifiedEndColumn:Oi=q.getLineLastNonWhitespaceColumn(Ut),K.decorations.push(or(Ut,Mi,Ut,Oi,Fo.charInsert))}else K.decorations.push(or(et.modifiedStartLineNumber,et.modifiedStartColumn,et.modifiedEndLineNumber,et.modifiedEndColumn,Fo.charInsert))}}return K}}Yo.MINIMUM_EDITOR_WIDTH=100;class rr extends ir{constructor(t,i,o,p,A){super(t,i,o,p,A)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,i,o){return o>i?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:o-i,domNode:null}:null}_produceModifiedFromDiff(t,i,o){return i>o?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:i-o,domNode:null}:null}}class Wr extends Do{constructor(t,i){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(o=>{this._decorationsLeft!==o.decorationsLeft&&(this._decorationsLeft=o.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,i,o,p){const A=this._dataSource.getOriginalEditor(),K=this._dataSource.getModifiedEditor();return new Vr(t,i,o,A,K,p).getViewZones()}_getOriginalEditorDecorations(t,i,o){const p=String(this._removeColor),A={decorations:[],overviewZones:[]},K=this._dataSource.getOriginalEditor(),q=K.getModel(),be=K._getViewModel();for(const xe of t)if(Ct(xe)){A.decorations.push({range:new R.e(xe.originalStartLineNumber,1,xe.originalEndLineNumber,1073741824),options:Fo.lineDeleteMargin});const Fe=n(q,be,xe.originalStartLineNumber,xe.originalEndLineNumber);A.overviewZones.push(new xr.EY(Fe.startLineNumber,Fe.endLineNumber,p))}return A}_getModifiedEditorDecorations(t,i,o){const p=this._dataSource.getModifiedEditor(),A=String(this._insertColor),K={decorations:[],overviewZones:[]},q=p.getModel(),be=p._getViewModel();for(const xe of t)if(Qo(xe)){K.decorations.push({range:new R.e(xe.modifiedStartLineNumber,1,xe.modifiedEndLineNumber,1073741824),options:o?Fo.lineInsertWithSign:Fo.lineInsert});const Fe=n(q,be,xe.modifiedStartLineNumber,xe.modifiedEndLineNumber);if(K.overviewZones.push(new xr.EY(Fe.startLineNumber,Fe.endLineNumber,A)),xe.charChanges){for(const et of xe.charChanges)if(Qo(et))if(i)for(let Ut=et.modifiedStartLineNumber;Ut<=et.modifiedEndLineNumber;Ut++){let Mi,Oi;Ut===et.modifiedStartLineNumber?Mi=et.modifiedStartColumn:Mi=q.getLineFirstNonWhitespaceColumn(Ut),Ut===et.modifiedEndLineNumber?Oi=et.modifiedEndColumn:Oi=q.getLineLastNonWhitespaceColumn(Ut),K.decorations.push(or(Ut,Mi,Ut,Oi,Fo.charInsert))}else K.decorations.push(or(et.modifiedStartLineNumber,et.modifiedStartColumn,et.modifiedEndLineNumber,et.modifiedEndColumn,Fo.charInsert))}else K.decorations.push(or(xe.modifiedStartLineNumber,1,xe.modifiedEndLineNumber,1073741824,Fo.charInsertWholeLine))}return K}layout(){return Math.max(5,this._decorationsLeft)}}class Vr extends ir{constructor(t,i,o,p,A,K){super(t,i,o,p,A),this._originalModel=p.getModel(),this._renderIndicators=K,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,i,o){const p=document.createElement("div");return p.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:o,domNode:document.createElement("div"),marginDomNode:p}}_produceModifiedFromDiff(t,i,o){const p=document.createElement("div");p.className=`view-lines line-delete ${Rr.S}`;const A=document.createElement("div");A.className="inline-deleted-margin-view-zone";const K={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:i,minWidthInPx:0,domNode:p,marginDomNode:A,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let q=t.originalStartLineNumber;q<=t.originalEndLineNumber;q++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(q),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(K),K}_finalize(t){const i=this._modifiedEditor.getOptions(),o=this._modifiedEditor.getModel().getOptions().tabSize,p=i.get(43),A=i.get(29),K=p.typicalHalfwidthCharacterWidth,q=i.get(92),be=this._originalModel.mightContainNonBasicASCII(),xe=this._originalModel.mightContainRTL(),Fe=i.get(58),Ut=i.get(129).decorationsWidth,Mi=i.get(104),Oi=i.get(87),nn=i.get(82),Dn=i.get(44),Hn=this._lineBreaksComputer.finalize();let Kn=0;for(let Sn=0;Sn<this._pendingLineChange.length;Sn++){const Mn=this._pendingLineChange[Sn],Ws=this._pendingViewZones[Sn],ws=Ws.domNode;Us.V.applyFontInfoSlow(ws,p);const On=Ws.marginDomNode;Us.V.applyFontInfoSlow(On,p);const In=[];if(Mn.charChanges)for(const Mo of Mn.charChanges)Ct(Mo)&&In.push(new qe.$t(new R.e(Mo.originalStartLineNumber,Mo.originalStartColumn,Mo.originalEndLineNumber,Mo.originalEndColumn),"char-delete",0));const ss=In.length>0,zn=(0,Br.l$)(1e4);let As=0,wo=0,us=null;for(let Mo=Mn.originalStartLineNumber;Mo<=Mn.originalEndLineNumber;Mo++){const _r=Mo-Mn.originalStartLineNumber,Er=this._originalModel.getLineTokens(Mo),Mr=Er.getLineContent(),Pr=Hn[Kn++],Sr=Zo.Kp.filter(In,Mo,1,Mr.length+1);if(Pr){let Dl=0;for(const El of Pr.breakOffsets){const Zh=Er.sliceAndInflate(Dl,El,0),Yh=Mr.substring(Dl,El);As=Math.max(As,this._renderOriginalLine(wo++,Yh,Zh,Zo.Kp.extractWrapped(Sr,Dl,El),ss,be,xe,p,A,Fe,Ut,Mi,Oi,nn,Dn,o,zn,On)),Dl=El}for(us||(us=[]);us.length<_r;)us[us.length]=1;us[_r]=Pr.breakOffsets.length,Ws.heightInLines+=Pr.breakOffsets.length-1;const cu=document.createElement("div");cu.className="line-delete",t.original.push({afterLineNumber:Mo,afterColumn:0,heightInLines:Pr.breakOffsets.length-1,domNode:e(),marginDomNode:cu})}else As=Math.max(As,this._renderOriginalLine(wo++,Mr,Er,Sr,ss,be,xe,p,A,Fe,Ut,Mi,Oi,nn,Dn,o,zn,On))}As+=q;const Oo=zn.build(),gr=tr?tr.createHTML(Oo):Oo;if(ws.innerHTML=gr,Ws.minWidthInPx=As*K,us){const Mo=Mn.originalEndLineNumber-Mn.originalStartLineNumber;for(;us.length<=Mo;)us[us.length]=1}Ws.diff.viewLineCounts=us}t.original.sort((Sn,Mn)=>Sn.afterLineNumber-Mn.afterLineNumber)}_renderOriginalLine(t,i,o,p,A,K,q,be,xe,Fe,et,Ut,Mi,Oi,nn,Dn,Hn,Kn){Hn.appendASCIIString('<div class="view-line'),A||Hn.appendASCIIString(" char-delete"),Hn.appendASCIIString('" style="top:'),Hn.appendASCIIString(String(t*Fe)),Hn.appendASCIIString('px;width:1000000px;">');const Sn=qe.wA.isBasicASCII(i,K),Mn=qe.wA.containsRTL(i,Sn,q),Ws=(0,Ne.d1)(new Ne.IJ(be.isMonospace&&!xe,be.canUseHalfwidthRightwardsArrow,i,!1,Sn,Mn,0,o,p,Dn,0,be.spaceWidth,be.middotWidth,be.wsmiddotWidth,Ut,Mi,Oi,nn!==D.n0.OFF,null),Hn);if(Hn.appendASCIIString("</div>"),this._renderIndicators){const ws=document.createElement("div");ws.className=`delete-sign ${_s.kS.asClassName(Po)}`,ws.setAttribute("style",`position:absolute;top:${t*Fe}px;width:${et}px;height:${Fe}px;right:0;`),Kn.appendChild(ws)}return Ws.characterMapping.getAbsoluteOffset(Ws.characterMapping.length)}}function yr(u,t){return(0,D.NY)(u,t,["off","on","inherit"])}function Qo(u){return u.modifiedEndLineNumber>0}function Ct(u){return u.originalEndLineNumber>0}function e(){const u=document.createElement("div");return u.className="diagonal-fill",u}function n(u,t,i,o){const p=u.getLineCount();return i=Math.min(p,Math.max(1,i)),o=Math.min(p,Math.max(1,o)),t.coordinatesConverter.convertModelRangeToViewRange(new R.e(i,u.getLineMinColumn(i),o,u.getLineMaxColumn(o)))}function l(u,t){return{enableSplitViewResizing:(0,D.O7)(u.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,D.O7)(u.renderSideBySide,t.renderSideBySide),maxComputationTime:(0,D.Zc)(u.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,D.Zc)(u.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,D.O7)(u.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,D.O7)(u.renderIndicators,t.renderIndicators),originalEditable:(0,D.O7)(u.originalEditable,t.originalEditable),diffCodeLens:(0,D.O7)(u.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,D.O7)(u.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:yr(u.diffWordWrap,t.diffWordWrap)}}function b(u,t){return{enableSplitViewResizing:u.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:u.renderSideBySide!==t.renderSideBySide,maxComputationTime:u.maxComputationTime!==t.maxComputationTime,maxFileSize:u.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:u.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:u.renderIndicators!==t.renderIndicators,originalEditable:u.originalEditable!==t.originalEditable,diffCodeLens:u.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:u.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:u.diffWordWrap!==t.diffWordWrap}}(0,_s.Ic)((u,t)=>{const i=u.getColor(fn.yp);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const o=u.getColor(fn.P4);o&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${o}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${o}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${o}; }`));const p=u.getColor(fn.XL);p&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${u.type==="hc"?"dashed":"solid"} ${p}; }`);const A=u.getColor(fn.mH);A&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${u.type==="hc"?"dashed":"solid"} ${A}; }`);const K=u.getColor(fn._w);K&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${K}; }`);const q=u.getColor(fn.LL);q&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${q}; }`);const be=u.getColor(fn.et);be&&t.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${be};
			}
		`);const xe=u.getColor(fn.AB);xe&&t.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${xe};
			}
		`);const Fe=u.getColor(fn.yn);Fe&&t.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Fe};
			}
		`);const et=u.getColor(fn.L_);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${et} 12.5%,
			#0000 12.5%, #0000 50%,
			${et} 50%, ${et} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var k=c(30653);const Z=(0,Un.yh)("themeService");var ne=c(84144),he=c(91847),De=c(31106);class Oe extends ii.JT{constructor(){super(),this._onCodeEditorAdd=this._register(new Q.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Q.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Q.Q5),this._onDiffEditorRemove=this._register(new Q.Q5),this._onDecorationTypeRegistered=this._register(new Q.Q5),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const i=this.listCodeEditors();for(const o of i){if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(t=o)}return t}setModelProperty(t,i,o){const p=t.toString();let A;this._modelProperties.has(p)?A=this._modelProperties.get(p):(A=new Map,this._modelProperties.set(p,A)),A.set(i,o)}getModelProperty(t,i){const o=t.toString();if(this._modelProperties.has(o))return this._modelProperties.get(o).get(i)}}var Ke=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Lt=function(u,t){return function(i,o){t(i,o,u)}};class _t{constructor(t,i,o){this._parent=t,this._editorId=i,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var t;this._refCount--,this._refCount===0&&((t=this._styleSheet.parentNode)===null||t===void 0||t.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(t,i){this._styleSheet.sheet.insertRule(t,i)}removeRulesContainingSelector(t){it.uN(t,this._styleSheet)}}class Ft{constructor(t){this._styleSheet=t}ref(){}unref(){}insertRule(t,i){this._styleSheet.sheet.insertRule(t,i)}removeRulesContainingSelector(t){it.uN(t,this._styleSheet)}}let Zt=class extends Oe{constructor(t,i){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=t||null,this._themeService=i}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new Ft(it.dS())),this._globalStyleSheet}_getOrCreateStyleSheet(t){if(!t)return this._getOrCreateGlobalStyleSheet();const i=t.getContainerDomNode();if(!it.OO(i))return this._getOrCreateGlobalStyleSheet();const o=t.getId();if(!this._editorStyleSheets.has(o)){const p=new _t(this,o,it.dS(i));this._editorStyleSheets.set(o,p)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(t){this._editorStyleSheets.delete(t)}registerDecorationType(t,i,o,p,A){let K=this._decorationOptionProviders.get(i);if(!K){const q=this._getOrCreateStyleSheet(A),be={styleSheet:q,key:i,parentTypeKey:p,options:o||Object.create(null)};p?K=new Xt(this._themeService,q,be):K=new di(t,this._themeService,q,be),this._decorationOptionProviders.set(i,K),this._onDecorationTypeRegistered.fire(i)}K.refCount++}removeDecorationType(t){const i=this._decorationOptionProviders.get(t);i&&(i.refCount--,i.refCount<=0&&(this._decorationOptionProviders.delete(t),i.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(t))))}resolveDecorationOptions(t,i){const o=this._decorationOptionProviders.get(t);if(!o)throw new Error("Unknown decoration type key: "+t);return o.getOptions(this,i)}};Zt=Ke([Lt(1,_s.XE)],Zt);class Xt{constructor(t,i,o){this._styleSheet=i,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new yi(3,o,t),this._afterContentRules=new yi(4,o,t)}getOptions(t,i){const o=t.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class di{constructor(t,i,o,p){this._disposables=new ii.SL,this.description=t,this._styleSheet=o,this._styleSheet.ref(),this.refCount=0;const A=et=>{const Ut=new yi(et,p,i);if(this._disposables.add(Ut),Ut.hasContent)return Ut.className},K=et=>{const Ut=new yi(et,p,i);return this._disposables.add(Ut),Ut.hasContent?{className:Ut.className,hasLetterSpacing:Ut.hasLetterSpacing}:null};this.className=A(0);const q=K(1);if(q&&(this.inlineClassName=q.className,this.inlineClassNameAffectsLetterSpacing=q.hasLetterSpacing),this.beforeContentClassName=A(3),this.afterContentClassName=A(4),p.options.beforeInjectedText&&p.options.beforeInjectedText.contentText){const et=K(5);this.beforeInjectedText={content:p.options.beforeInjectedText.contentText,inlineClassName:et==null?void 0:et.className,inlineClassNameAffectsLetterSpacing:(et==null?void 0:et.hasLetterSpacing)||p.options.beforeInjectedText.affectsLetterSpacing}}if(p.options.afterInjectedText&&p.options.afterInjectedText.contentText){const et=K(6);this.afterInjectedText={content:p.options.afterInjectedText.contentText,inlineClassName:et==null?void 0:et.className,inlineClassNameAffectsLetterSpacing:(et==null?void 0:et.hasLetterSpacing)||p.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=A(2);const be=p.options;this.isWholeLine=!!be.isWholeLine,this.stickiness=be.rangeBehavior;const xe=be.light&&be.light.overviewRulerColor||be.overviewRulerColor,Fe=be.dark&&be.dark.overviewRulerColor||be.overviewRulerColor;(typeof xe!="undefined"||typeof Fe!="undefined")&&(this.overviewRuler={color:xe||Fe,darkColor:Fe||xe,position:be.overviewRulerLane||Ni.sh.Center})}getOptions(t,i){return i?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const xi={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class yi{constructor(t,i,o){this._theme=o.getColorTheme(),this._ruleType=t,this._providerArgs=i,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let p=cn.getClassName(this._providerArgs.key,t);this._providerArgs.parentTypeKey&&(p=p+" "+cn.getClassName(this._providerArgs.parentTypeKey,t)),this._className=p,this._unThemedSelector=cn.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,t),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(A=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const t=this._providerArgs.options;let i,o,p;switch(this._ruleType){case 0:i=this.getCSSTextForModelDecorationClassName(t),o=this.getCSSTextForModelDecorationClassName(t.light),p=this.getCSSTextForModelDecorationClassName(t.dark);break;case 1:i=this.getCSSTextForModelDecorationInlineClassName(t),o=this.getCSSTextForModelDecorationInlineClassName(t.light),p=this.getCSSTextForModelDecorationInlineClassName(t.dark);break;case 2:i=this.getCSSTextForModelDecorationGlyphMarginClassName(t),o=this.getCSSTextForModelDecorationGlyphMarginClassName(t.light),p=this.getCSSTextForModelDecorationGlyphMarginClassName(t.dark);break;case 3:i=this.getCSSTextForModelDecorationContentClassName(t.before),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.before),p=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.before);break;case 4:i=this.getCSSTextForModelDecorationContentClassName(t.after),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.after),p=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.after);break;case 5:i=this.getCSSTextForModelDecorationContentClassName(t.beforeInjectedText),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.beforeInjectedText),p=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.beforeInjectedText);break;case 6:i=this.getCSSTextForModelDecorationContentClassName(t.afterInjectedText),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.afterInjectedText),p=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const A=this._providerArgs.styleSheet;let K=!1;i.length>0&&(A.insertRule(`${this._unThemedSelector} {${i}}`,0),K=!0),o.length>0&&(A.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),K=!0),p.length>0&&(A.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${p}}`,0),K=!0),this._hasContent=K}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(t){if(!t)return"";const i=[];return this.collectCSSText(t,["backgroundColor"],i),this.collectCSSText(t,["outline","outlineColor","outlineStyle","outlineWidth"],i),this.collectBorderSettingsCSSText(t,i),i.join("")}getCSSTextForModelDecorationInlineClassName(t){if(!t)return"";const i=[];return this.collectCSSText(t,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],i),t.letterSpacing&&(this._hasLetterSpacing=!0),i.join("")}getCSSTextForModelDecorationContentClassName(t){if(!t)return"";const i=[];if(typeof t!="undefined"){if(this.collectBorderSettingsCSSText(t,i),typeof t.contentIconPath!="undefined"&&i.push(sn.WU(xi.contentIconPath,it.wY(L.o.revive(t.contentIconPath)))),typeof t.contentText=="string"){const p=t.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");i.push(sn.WU(xi.contentText,p))}this.collectCSSText(t,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],i),this.collectCSSText(t,["width","height"],i)&&i.push("display:inline-block;")}return i.join("")}getCSSTextForModelDecorationGlyphMarginClassName(t){if(!t)return"";const i=[];return typeof t.gutterIconPath!="undefined"&&(i.push(sn.WU(xi.gutterIconPath,it.wY(L.o.revive(t.gutterIconPath)))),typeof t.gutterIconSize!="undefined"&&i.push(sn.WU(xi.gutterIconSize,t.gutterIconSize))),i.join("")}collectBorderSettingsCSSText(t,i){return this.collectCSSText(t,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],i)?(i.push(sn.WU("box-sizing: border-box;")),!0):!1}collectCSSText(t,i,o){const p=o.length;for(let A of i){const K=this.resolveValue(t[A]);typeof K=="string"&&o.push(sn.WU(xi[A],K))}return o.length!==p}resolveValue(t){if((0,at.I)(t)){this._usesThemeColors=!0;const i=this._theme.getColor(t.id);return i?i.toString():"transparent"}return t}}class cn{static getClassName(t,i){return"ced-"+t+"-"+i}static getSelector(t,i,o){let p=".monaco-editor ."+this.getClassName(t,o);return i&&(p=p+"."+this.getClassName(i,o)),o===3?p+="::before":o===4&&(p+="::after"),p}}var an=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},En=function(u,t){return function(i,o){t(i,o,u)}};let Ln=class extends Zt{constructor(t,i,o){super(t,o),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let t=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(t,i,o){return i?Promise.resolve(this.doOpenEditor(i,t)):Promise.resolve(null)}doOpenEditor(t,i){if(!this.findModel(t,i.resource)){if(i.resource){const A=i.resource.scheme;if(A===Re.lg.http||A===Re.lg.https)return(0,it.V3)(i.resource.toString()),t}return null}const p=i.options?i.options.selection:null;if(p)if(typeof p.endLineNumber=="number"&&typeof p.endColumn=="number")t.setSelection(p),t.revealRangeInCenter(p,1);else{const A={lineNumber:p.startLineNumber,column:p.startColumn};t.setPosition(A),t.revealPositionInCenter(A,1)}return t}findModel(t,i){const o=t.getModel();return o&&o.uri.toString()!==i.toString()?null:o}};Ln=an([En(1,de.i6),En(2,_s.XE)],Ln);var rn=c(81170),vn=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},bn=function(u,t){return function(i,o){t(i,o,u)}};let Gn=0,mo=!1;function vo(u){if(!u){if(mo)return;mo=!0}bs.wW(u||document.body)}let co=class extends is.Gm{constructor(t,i,o,p,A,K,q,be,xe,Fe){const et=Object.assign({},i);et.ariaLabel=et.ariaLabel||ns.editorViewAccessibleLabel,et.ariaLabel=et.ariaLabel+";"+ns.accessibilityHelpMessage,super(t,et,{},o,p,A,K,be,xe,Fe),q instanceof yn?this._standaloneKeybindingService=q:this._standaloneKeybindingService=null,vo(et.ariaContainerElement)}addCommand(t,i,o){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let p="DYNAMIC_"+ ++Gn,A=de.Ao.deserialize(o);return this._standaloneKeybindingService.addDynamicKeybinding(p,t,i,A),p}createContextKey(t,i){return this._contextKeyService.createKey(t,i)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ii.JT.None;const i=t.id,o=t.label,p=de.Ao.and(de.Ao.equals("editorId",this.getId()),de.Ao.deserialize(t.precondition)),A=t.keybindings,K=de.Ao.and(p,de.Ao.deserialize(t.keybindingContext)),q=t.contextMenuGroupId||null,be=t.contextMenuOrder||0,xe=(Mi,...Oi)=>Promise.resolve(t.run(this,...Oi)),Fe=new ii.SL,et=this.getId()+":"+i;if(Fe.add(dt.P.registerCommand(et,xe)),q){let Mi={command:{id:et,title:o},when:p,group:q,order:be};Fe.add(ne.BH.appendMenuItem(ne.eH.EditorContext,Mi))}if(Array.isArray(A))for(const Mi of A)Fe.add(this._standaloneKeybindingService.addDynamicKeybinding(et,Mi,xe,K));let Ut=new k.p(et,o,o,p,xe,this._contextKeyService);return this._actions[i]=Ut,Fe.add((0,ii.OF)(()=>{delete this._actions[i]})),Fe}_triggerCommand(t,i){if(this._codeEditorService instanceof Ln)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,i)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,i)}};co=vn([bn(2,Un.TG),bn(3,Mt.$),bn(4,dt.H),bn(5,de.i6),bn(6,he.d),bn(7,_s.XE),bn(8,Qt.lT),bn(9,De.F)],co);let Ps=class extends co{constructor(t,i,o,p,A,K,q,be,xe,Fe,et,Ut,Mi,Oi,nn){const Dn=Object.assign({},i);So(Ut,Dn,!1);const Hn=Fe.registerEditorContainer(t);typeof Dn.theme=="string"&&Fe.setTheme(Dn.theme),typeof Dn.autoDetectHighContrast!="undefined"&&Fe.setAutoDetectHighContrast(!!Dn.autoDetectHighContrast);let Kn=Dn.model;delete Dn.model,super(t,Dn,p,A,K,q,be,Fe,et,Mi),this._contextViewService=xe,this._configurationService=Ut,this._standaloneThemeService=Fe,this._register(o),this._register(Hn);let Sn;if(typeof Kn=="undefined"?(Sn=Eo(Oi,nn,Dn.value||"",Dn.language||rn.vW.text,void 0),this._ownsModel=!0):(Sn=Kn,this._ownsModel=!1),this._attachModel(Sn),Sn){let Mn={oldModelUrl:null,newModelUrl:Sn.uri};this._onDidChangeModel.fire(Mn)}}dispose(){super.dispose()}updateOptions(t){So(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_attachModel(t){super._attachModel(t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};Ps=vn([bn(3,Un.TG),bn(4,Mt.$),bn(5,dt.H),bn(6,de.i6),bn(7,he.d),bn(8,Uo.u),bn(9,Z),bn(10,Qt.lT),bn(11,d.Ui),bn(12,De.F),bn(13,ts.q),bn(14,zi.h)],Ps);let ko=class extends $o{constructor(t,i,o,p,A,K,q,be,xe,Fe,et,Ut,Mi,Oi,nn){const Dn=Object.assign({},i);So(Ut,Dn,!0);const Hn=Fe.registerEditorContainer(t);typeof Dn.theme=="string"&&Fe.setTheme(Dn.theme),typeof Dn.autoDetectHighContrast!="undefined"&&Fe.setAutoDetectHighContrast(!!Dn.autoDetectHighContrast),super(t,Dn,{},nn,be,A,p,xe,Fe,et,Mi,Oi),this._contextViewService=q,this._configurationService=Ut,this._standaloneThemeService=Fe,this._register(o),this._register(Hn),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(t){So(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_createInnerEditor(t,i,o){return t.createInstance(co,i,o)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,i,o){return this.getModifiedEditor().addCommand(t,i,o)}createContextKey(t,i){return this.getModifiedEditor().createContextKey(t,i)}addAction(t){return this.getModifiedEditor().addAction(t)}};ko=vn([bn(3,Un.TG),bn(4,de.i6),bn(5,he.d),bn(6,Uo.u),bn(7,Rn.p),bn(8,Mt.$),bn(9,Z),bn(10,Qt.lT),bn(11,d.Ui),bn(12,Uo.i),bn(13,mr.e),bn(14,cr.p)],ko);function Eo(u,t,i,o,p){if(i=i||"",!o){const A=i.indexOf(`
`);let K=i;return A!==-1&&(K=i.substring(0,A)),To(u,i,t.createByFilepathOrFirstLine(p||null,K),p)}return To(u,i,t.create(o),p)}function To(u,t,i,o){return u.createModel(t,i,o)}var zo=c(71144),sa=c(89872);const Hr=Object.prototype.hasOwnProperty;class _a{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Wi.TG,0),this._register(zo.XT,1),this._nextLanguageId=2}_register(t,i){this._languageIdToLanguage[i]=t,this._languageToLanguageId.set(t,i)}register(t){if(this._languageToLanguageId.has(t))return;const i=this._nextLanguageId++;this._register(t,i)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||Wi.TG}}class oa extends ii.JT{constructor(t=!0,i=!1){super(),this._onDidChange=this._register(new Q.Q5),this.onDidChange=this._onDidChange.event,oa.instanceCount++,this._warnOnOverwrite=i,this.languageIdCodec=new _a,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(zo.dQ.onDidChangeLanguages(o=>{this._initializeFromRegistry()})))}dispose(){oa.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},rn.bS();const t=zo.dQ.getLanguages();this._registerLanguages(t)}_registerLanguages(t){for(const i of t)this._registerLanguage(i);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(i=>{let o=this._languages[i];o.name&&(this._nameMap[o.name]=o.identifier),o.aliases.forEach(p=>{this._lowercaseNameMap[p.toLowerCase()]=o.identifier}),o.mimetypes.forEach(p=>{this._mimeTypesMap[p]=o.identifier})}),sa.B.as(M.IP.Configuration).registerOverrideIdentifiers(zo.dQ.getLanguages().map(i=>i.id)),this._onDidChange.fire()}_registerLanguage(t){const i=t.id;let o;Hr.call(this._languages,i)?o=this._languages[i]:(this.languageIdCodec.register(i),o={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[i]=o),this._mergeLanguage(o,t)}_mergeLanguage(t,i){const o=i.id;let p=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&(t.mimetypes.push(...i.mimetypes),p=i.mimetypes[0]),p||(p=`text/x-${o}`,t.mimetypes.push(p)),Array.isArray(i.extensions)){i.configuration?t.extensions=i.extensions.concat(t.extensions):t.extensions=t.extensions.concat(i.extensions);for(let q of i.extensions)rn.sA({id:o,mime:p,extension:q},this._warnOnOverwrite)}if(Array.isArray(i.filenames))for(let q of i.filenames)rn.sA({id:o,mime:p,filename:q},this._warnOnOverwrite),t.filenames.push(q);if(Array.isArray(i.filenamePatterns))for(let q of i.filenamePatterns)rn.sA({id:o,mime:p,filepattern:q},this._warnOnOverwrite);if(typeof i.firstLine=="string"&&i.firstLine.length>0){let q=i.firstLine;q.charAt(0)!=="^"&&(q="^"+q);try{let be=new RegExp(q);sn.IO(be)||rn.sA({id:o,mime:p,firstline:be},this._warnOnOverwrite)}catch(be){(0,An.dL)(be)}}t.aliases.push(o);let A=null;if(typeof i.aliases!="undefined"&&Array.isArray(i.aliases)&&(i.aliases.length===0?A=[null]:A=i.aliases),A!==null)for(const q of A)!q||q.length===0||t.aliases.push(q);let K=A!==null&&A.length>0;if(!(K&&A[0]===null)){let q=(K?A[0]:null)||o;(K||!t.name)&&(t.name=q)}i.configuration&&t.configurationFiles.push(i.configuration)}isRegisteredMode(t){return Hr.call(this._mimeTypesMap,t)?!0:Hr.call(this._languages,t)}getModeIdForLanguageNameLowercase(t){return Hr.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}extractModeIds(t){return t?t.split(",").map(i=>i.trim()).map(i=>Hr.call(this._mimeTypesMap,i)?this._mimeTypesMap[i]:i).filter(i=>Hr.call(this._languages,i)):[]}validateLanguageId(t){return!t||t===Wi.TG?Wi.TG:Hr.call(this._languages,t)?t:null}getModeIdsFromFilepathOrFirstLine(t,i){if(!t&&!i)return[];let o=rn.G8(t,i);return this.extractModeIds(o.join(","))}}oa.instanceCount=0;class Za{constructor(t,i){this._selector=i,this.languageId=this._selector();let o;this._onDidChange=new Q.Q5({onFirstListenerAdd:()=>{o=t(()=>this._evaluate())},onLastListenerRemove:()=>{o.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const t=this._selector();t!==this.languageId&&(this.languageId=t,this._onDidChange.fire(this.languageId))}}class zr extends ii.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new Q.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new Q.Q5({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,zr.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new oa(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){zr.instanceCount--,super.dispose()}isRegisteredMode(t){return this._registry.isRegisteredMode(t)}getModeIdForLanguageName(t){return this._registry.getModeIdForLanguageNameLowercase(t)}getModeIdByFilepathOrFirstLine(t,i){const o=this._registry.getModeIdsFromFilepathOrFirstLine(t,i);return(0,Ys.Xh)(o,null)}getModeId(t){const i=this._registry.extractModeIds(t);return(0,Ys.Xh)(i,null)}validateLanguageId(t){return this._registry.validateLanguageId(t)}create(t){return new Za(this.onLanguagesMaybeChanged,()=>{const i=this.getModeId(t);return this._createModeAndGetLanguageIdentifier(i)})}createByFilepathOrFirstLine(t,i){return new Za(this.onLanguagesMaybeChanged,()=>{const o=this.getModeIdByFilepathOrFirstLine(t,i);return this._createModeAndGetLanguageIdentifier(o)})}_createModeAndGetLanguageIdentifier(t){const i=this.validateLanguageId(t||"plaintext")||Wi.TG;return this._getOrCreateMode(i),i}triggerMode(t){const i=this.getModeId(t);this._getOrCreateMode(i||"plaintext")}_getOrCreateMode(t){if(!this._encounteredLanguages.has(t)){this._encounteredLanguages.add(t);const i=this.validateLanguageId(t)||Wi.TG;this._onDidEncounterLanguage.fire(i)}}}zr.instanceCount=0;var Lr=c(64862),Rl=c(89954),Qr=c(95215),Ya=c(58409),kl=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Ma=function(u,t){return function(i,o){t(i,o,u)}};let va=class{constructor(t,i,o,p){this._legend=t,this._themeService=i,this._modeService=o,this._logService=p,this._hashTable=new kr,this._hasWarnedOverlappingTokens=!1}getMetadata(t,i,o){const p=this._modeService.languageIdCodec.encodeLanguageId(o),A=this._hashTable.get(t,i,p);let K;if(A)K=A.metadata,this._logService.getLevel()===xs.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${i}: foreground ${fi.NX.getForeground(K)}, fontStyle ${fi.NX.getFontStyle(K).toString(2)}`);else{let q=this._legend.tokenTypes[t];const be=[];if(q){let xe=i;for(let et=0;xe>0&&et<this._legend.tokenModifiers.length;et++)xe&1&&be.push(this._legend.tokenModifiers[et]),xe=xe>>1;xe>0&&this._logService.getLevel()===xs.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),be.push("not-in-legend"));const Fe=this._themeService.getColorTheme().getTokenStyleMetadata(q,be,o);if(typeof Fe=="undefined")K=2147483647;else{if(K=0,typeof Fe.italic!="undefined"){const et=(Fe.italic?1:0)<<11;K|=et|1}if(typeof Fe.bold!="undefined"){const et=(Fe.bold?2:0)<<11;K|=et|2}if(typeof Fe.underline!="undefined"){const et=(Fe.underline?4:0)<<11;K|=et|4}if(Fe.foreground){const et=Fe.foreground<<14;K|=et|8}K===0&&(K=2147483647)}}else this._logService.getLevel()===xs.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),K=2147483647,q="not-in-legend";this._hashTable.add(t,i,p,K),this._logService.getLevel()===xs.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${q}) / ${i} (${be.join(" ")}): foreground ${fi.NX.getForeground(K)}, fontStyle ${fi.NX.getFontStyle(K).toString(2)}`)}return K}warnOverlappingSemanticTokens(t,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${i}`))}};va=kl([Ma(1,_s.XE),Ma(2,zi.h),Ma(3,xs.VZ)],va);function Qa(u,t,i){const o=u.data,p=u.data.length/5|0,A=Math.max(Math.ceil(p/1024),400),K=[];let q=0,be=1,xe=0;for(;q<p;){const Fe=q;let et=Math.min(Fe+A,p);if(et<p){let Sn=et;for(;Sn-1>Fe&&o[5*Sn]===0;)Sn--;if(Sn-1===Fe){let Mn=et;for(;Mn+1<p&&o[5*Mn]===0;)Mn++;et=Mn}else et=Sn}let Ut=new Uint32Array((et-Fe)*4),Mi=0,Oi=0,nn=0,Dn=0,Hn=0;for(;q<et;){const Sn=5*q,Mn=o[Sn],Ws=o[Sn+1],ws=be+Mn|0,On=Mn===0?xe+Ws|0:Ws,In=o[Sn+2],ss=o[Sn+3],zn=o[Sn+4],As=t.getMetadata(ss,zn,i);As!==2147483647&&(Oi===0&&(Oi=ws),nn===ws&&Hn>On&&(t.warnOverlappingSemanticTokens(ws,On+1),Dn<On?Ut[Mi-4+2]=On:Mi-=4),Ut[Mi]=ws-Oi,Ut[Mi+1]=On,Ut[Mi+2]=On+In,Ut[Mi+3]=As,Mi+=4,nn=ws,Dn=On,Hn=On+In),be=ws,xe=On,q++}Mi!==Ut.length&&(Ut=Ut.subarray(0,Mi));const Kn=new Ya.Wz(Oi,new Ya.OU(Ut));K.push(Kn)}return K}class Al{constructor(t,i,o,p){this.tokenTypeIndex=t,this.tokenModifierSet=i,this.languageId=o,this.metadata=p,this.next=null}}class kr{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=kr._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<kr._SIZES.length?2/3*this._currentLength:0),this._elements=[],kr._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,i){for(let o=0;o<i;o++)t[o]=null}_hash2(t,i){return(t<<5)-t+i|0}_hashFunc(t,i,o){return this._hash2(this._hash2(t,i),o)%this._currentLength}get(t,i,o){const p=this._hashFunc(t,i,o);let A=this._elements[p];for(;A;){if(A.tokenTypeIndex===t&&A.tokenModifierSet===i&&A.languageId===o)return A;A=A.next}return null}add(t,i,o,p){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const A=this._elements;this._currentLengthIndex++,this._currentLength=kr._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<kr._SIZES.length?2/3*this._currentLength:0),this._elements=[],kr._nullOutEntries(this._elements,this._currentLength);for(const K of A){let q=K;for(;q;){const be=q.next;q.next=null,this._add(q),q=be}}}this._add(new Al(t,i,o,p))}_add(t){const i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t}}kr._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var Ol=c(53060);function Pl(u){for(let t=0,i=u.length;t<i;t+=4){const o=u[t+0],p=u[t+1],A=u[t+2],K=u[t+3];u[t+0]=K,u[t+1]=A,u[t+2]=p,u[t+3]=o}}function Fl(u){const t=new Uint8Array(u.buffer,u.byteOffset,u.length*4);return $i.r()||Pl(t),Ol.KN.wrap(t)}function Xa(u){const t=new Uint32Array(Ra(u));let i=0;if(t[i++]=u.id,u.type==="full")t[i++]=1,t[i++]=u.data.length,t.set(u.data,i),i+=u.data.length;else{t[i++]=2,t[i++]=u.deltas.length;for(const o of u.deltas)t[i++]=o.start,t[i++]=o.deleteCount,o.data?(t[i++]=o.data.length,t.set(o.data,i),i+=o.data.length):t[i++]=0}return Fl(t)}function Ra(u){let t=0;if(t+=1+1,u.type==="full")t+=1+u.data.length;else{t+=1,t+=(1+1+1)*u.deltas.length;for(const i of u.deltas)i.data&&(t+=i.data.length)}return t}var Ur=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};function ra(u){return u&&!!u.data}function Ja(u){return u&&Array.isArray(u.edits)}class Bl{constructor(t,i){this.provider=t,this.tokens=i}}function qa(u){return fi.wT.has(u)}function Wl(u){const t=fi.wT.orderedGroups(u);return t.length>0?t[0]:[]}function aa(u,t,i,o){return Ur(this,void 0,void 0,function*(){const p=Wl(u),A=yield Promise.all(p.map(K=>Ur(this,void 0,void 0,function*(){let q;try{q=yield K.provideDocumentSemanticTokens(u,K===t?i:null,o)}catch(be){(0,An.Cp)(be),q=null}return(!q||!ra(q)&&!Ja(q))&&(q=null),new Bl(K,q)})));for(const K of A)if(K.tokens)return K;return A.length>0?A[0]:null})}function el(u){const t=fi.wT.orderedGroups(u);return t.length>0?t[0]:null}class tl{constructor(t,i){this.provider=t,this.tokens=i}}function Vl(u){return DocumentRangeSemanticTokensProviderRegistry.has(u)}function Xr(u){const t=fi.K7.orderedGroups(u);return t.length>0?t[0]:[]}function Ca(u,t,i){return Ur(this,void 0,void 0,function*(){const o=Xr(u),p=yield Promise.all(o.map(A=>Ur(this,void 0,void 0,function*(){let K;try{K=yield A.provideDocumentRangeSemanticTokens(u,t,i)}catch(q){(0,An.Cp)(q),K=null}return(!K||!ra(K))&&(K=null),new tl(A,K)})));for(const A of p)if(A.tokens)return A;return p.length>0?p[0]:null})}dt.P.registerCommand("_provideDocumentSemanticTokensLegend",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i]=t;(0,Nn.p_)(i instanceof L.o);const o=u.get(ts.q).getModel(i);if(!o)return;const p=el(o);return p?p[0].getLegend():u.get(dt.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)})),dt.P.registerCommand("_provideDocumentSemanticTokens",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i]=t;(0,Nn.p_)(i instanceof L.o);const o=u.get(ts.q).getModel(i);if(!o)return;if(!qa(o))return u.get(dt.H).executeCommand("_provideDocumentRangeSemanticTokens",i,o.getFullModelRange());const p=yield aa(o,null,null,O.T.None);if(!p)return;const{provider:A,tokens:K}=p;if(!K||!ra(K))return;const q=Xa({id:0,type:"full",data:K.data});return K.resultId&&A.releaseDocumentSemanticTokens(K.resultId),q})),dt.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i,o]=t;(0,Nn.p_)(i instanceof L.o);const p=u.get(ts.q).getModel(i);if(!p)return;const A=Xr(p);if(A.length===0)return;if(A.length===1)return A[0].getLegend();if(!o||!R.e.isIRange(o))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),A[0].getLegend();const K=yield Ca(p,R.e.lift(o),O.T.None);if(K)return K.provider.getLegend()})),dt.P.registerCommand("_provideDocumentRangeSemanticTokens",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i,o]=t;(0,Nn.p_)(i instanceof L.o),(0,Nn.p_)(R.e.isIRange(o));const p=u.get(ts.q).getModel(i);if(!p)return;const A=yield Ca(p,R.e.lift(o),O.T.None);if(!(!A||!A.tokens))return Xa({id:0,type:"full",data:A.tokens.data})}));var il=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Ar=function(u,t){return function(i,o){t(i,o,u)}};function Nr(u){return u.toString()}function ka(u){const t=new Rl.yP,i=u.createSnapshot();let o;for(;o=i.read();)t.update(o);return t.digest()}class Hl{constructor(t,i,o){this._modelEventListeners=new ii.SL,this.model=t,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(t.onWillDispose(()=>i(t))),this._modelEventListeners.add(t.onDidChangeLanguage(p=>o(t,p)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(t){this._disposeLanguageSelection(),this._languageSelection=t,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(t.languageId)),this.model.setMode(t.languageId)}}const zl=$i.IJ||$i.dz?1:2;class Ul{constructor(t,i,o,p,A,K,q,be){this.uri=t,this.initialUndoRedoSnapshot=i,this.time=o,this.sharesUndoRedoStack=p,this.heapSize=A,this.sha1=K,this.versionId=q,this.alternativeVersionId=be}}let ba=class Ga extends ii.JT{constructor(t,i,o,p,A,K,q){super(),this._configurationService=t,this._resourcePropertiesService=i,this._themeService=o,this._logService=p,this._undoRedoService=A,this._modeService=K,this._languageConfigurationService=q,this._onModelAdded=this._register(new Q.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Q.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Q.Q5),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new wa(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new Oa(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(t,i){var o;let p=D.DB.tabSize;if(t.editor&&typeof t.editor.tabSize!="undefined"){const Mi=parseInt(t.editor.tabSize,10);isNaN(Mi)||(p=Mi),p<1&&(p=1)}let A=p;if(t.editor&&typeof t.editor.indentSize!="undefined"&&t.editor.indentSize!=="tabSize"){const Mi=parseInt(t.editor.indentSize,10);isNaN(Mi)||(A=Mi),A<1&&(A=1)}let K=D.DB.insertSpaces;t.editor&&typeof t.editor.insertSpaces!="undefined"&&(K=t.editor.insertSpaces==="false"?!1:!!t.editor.insertSpaces);let q=zl;const be=t.eol;be===`\r
`?q=2:be===`
`&&(q=1);let xe=D.DB.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace!="undefined"&&(xe=t.editor.trimAutoWhitespace==="false"?!1:!!t.editor.trimAutoWhitespace);let Fe=D.DB.detectIndentation;t.editor&&typeof t.editor.detectIndentation!="undefined"&&(Fe=t.editor.detectIndentation==="false"?!1:!!t.editor.detectIndentation);let et=D.DB.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations!="undefined"&&(et=t.editor.largeFileOptimizations==="false"?!1:!!t.editor.largeFileOptimizations);let Ut=D.DB.bracketPairColorizationOptions;return!((o=t.editor)===null||o===void 0)&&o.bracketPairColorization&&typeof t.editor.bracketPairColorization=="object"&&(Ut={enabled:!!t.editor.bracketPairColorization.enabled}),{isForSimpleWidget:i,tabSize:p,indentSize:A,insertSpaces:K,detectIndentation:Fe,defaultEOL:q,trimAutoWhitespace:xe,largeFileOptimizations:et,bracketPairColorizationOptions:Ut}}_getEOL(t,i){if(t)return this._resourcePropertiesService.getEOL(t,i);const o=this._configurationService.getValue("files.eol",{overrideIdentifier:i});return o&&typeof o=="string"&&o!=="auto"?o:$i.OS===3||$i.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return typeof t=="boolean"?t:!0}getCreationOptions(t,i,o){let p=this._modelCreationOptionsByLanguageAndResource[t+i];if(!p){const A=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),K=this._getEOL(i,t);p=Ga._readModelOptions({editor:A,eol:K},o),this._modelCreationOptionsByLanguageAndResource[t+i]=p}return p}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let o=0,p=i.length;o<p;o++){const A=i[o],K=this._models[A],q=K.model.getLanguageId(),be=K.model.uri,xe=t[q+be],Fe=this.getCreationOptions(q,be,K.model.isForSimpleWidget);Ga._setModelOptionsForModel(K.model,Fe,xe)}}static _setModelOptionsForModel(t,i,o){o&&o.defaultEOL!==i.defaultEOL&&t.getLineCount()===1&&t.setEOL(i.defaultEOL===1?0:1),!(o&&o.detectIndentation===i.detectIndentation&&o.insertSpaces===i.insertSpaces&&o.tabSize===i.tabSize&&o.indentSize===i.indentSize&&o.trimAutoWhitespace===i.trimAutoWhitespace&&(0,At.fS)(o.bracketPairColorizationOptions,i.bracketPairColorizationOptions))&&(i.detectIndentation?(t.detectIndentation(i.insertSpaces,i.tabSize),t.updateOptions({trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.indentSize,trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(Nr(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const i=this._disposedModels.get(Nr(t));return i&&(this._disposedModelsHeapSize-=i.heapSize),this._disposedModels.delete(Nr(t)),i}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const i=[];for(this._disposedModels.forEach(o=>{o.sharesUndoRedoStack||i.push(o)}),i.sort((o,p)=>o.time-p.time);i.length>0&&this._disposedModelsHeapSize>t;){const o=i.shift();this._removeDisposedModel(o.uri),o.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(o.initialUndoRedoSnapshot)}}}_createModelData(t,i,o,p){const A=this.getCreationOptions(i,o,p),K=new No.yO(t,A,i,o,this._undoRedoService,this._modeService,this._languageConfigurationService);if(o&&this._disposedModels.has(Nr(o))){const xe=this._removeDisposedModel(o),Fe=this._undoRedoService.getElements(o),et=ka(K)===xe.sha1;if(et||xe.sharesUndoRedoStack){for(const Ut of Fe.past)(0,Qr.e9)(Ut)&&Ut.matchesResource(o)&&Ut.setModel(K);for(const Ut of Fe.future)(0,Qr.e9)(Ut)&&Ut.matchesResource(o)&&Ut.setModel(K);this._undoRedoService.setElementsValidFlag(o,!0,Ut=>(0,Qr.e9)(Ut)&&Ut.matchesResource(o)),et&&(K._overwriteVersionId(xe.versionId),K._overwriteAlternativeVersionId(xe.alternativeVersionId),K._overwriteInitialUndoRedoSnapshot(xe.initialUndoRedoSnapshot))}else xe.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(xe.initialUndoRedoSnapshot)}const q=Nr(K.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");const be=new Hl(K,xe=>this._onWillDispose(xe),(xe,Fe)=>this._onDidChangeLanguage(xe,Fe));return this._models[q]=be,be}createModel(t,i,o,p=!1){let A;return i?(A=this._createModelData(t,i.languageId,o,p),this.setMode(A.model,i)):A=this._createModelData(t,zo.XT,o,p),this._onModelAdded.fire(A.model),A.model}setMode(t,i){if(!i)return;const o=this._models[Nr(t.uri)];o&&o.setLanguage(i)}getModels(){const t=[],i=Object.keys(this._models);for(let o=0,p=i.length;o<p;o++){const A=i[o];t.push(this._models[A].model)}return t}getModel(t){const i=Nr(t),o=this._models[i];return o?o.model:null}getSemanticTokensProviderStyling(t){return this._semanticStyling.get(t)}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===Re.lg.file||t.scheme===Re.lg.vscodeRemote||t.scheme===Re.lg.userData||t.scheme===Re.lg.vscodeNotebookCell||t.scheme==="fake-fs"}_onWillDispose(t){const i=Nr(t.uri),o=this._models[i],p=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let A=!1,K=0;if(p||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const be=this._undoRedoService.getElements(t.uri);if(be.past.length>0||be.future.length>0){for(const xe of be.past)(0,Qr.e9)(xe)&&xe.matchesResource(t.uri)&&(A=!0,K+=xe.heapSize(t.uri),xe.setModel(t.uri));for(const xe of be.future)(0,Qr.e9)(xe)&&xe.matchesResource(t.uri)&&(A=!0,K+=xe.heapSize(t.uri),xe.setModel(t.uri))}}const q=Ga.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(A)if(!p&&K>q){const be=o.model.getInitialUndoRedoSnapshot();be!==null&&this._undoRedoService.restoreSnapshot(be)}else this._ensureDisposedModelsHeapSize(q-K),this._undoRedoService.setElementsValidFlag(t.uri,!1,be=>(0,Qr.e9)(be)&&be.matchesResource(t.uri)),this._insertDisposedModel(new Ul(t.uri,o.model.getInitialUndoRedoSnapshot(),Date.now(),p,K,ka(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!p){const be=o.model.getInitialUndoRedoSnapshot();be!==null&&this._undoRedoService.restoreSnapshot(be)}delete this._models[i],o.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const o=i.oldLanguage,p=t.getLanguageId(),A=this.getCreationOptions(o,t.uri,t.isForSimpleWidget),K=this.getCreationOptions(p,t.uri,t.isForSimpleWidget);Ga._setModelOptionsForModel(t,K,A),this._onModelModeChanged.fire({model:t,oldModeId:o})}};ba.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,ba=il([Ar(0,d.Ui),Ar(1,Xn),Ar(2,_s.XE),Ar(3,xs.VZ),Ar(4,Lr.tJ),Ar(5,zi.h),Ar(6,ft.c_)],ba);const nl="editor.semanticHighlighting";function Aa(u,t,i){var o;const p=(o=i.getValue(nl,{overrideIdentifier:u.getLanguageId(),resource:u.uri}))===null||o===void 0?void 0:o.enabled;return typeof p=="boolean"?p:t.getColorTheme().semanticHighlighting}class Oa extends ii.JT{constructor(t,i,o,p){super(),this._watchers=Object.create(null),this._semanticStyling=p;const A=be=>{this._watchers[be.uri.toString()]=new Gr(be,i,this._semanticStyling)},K=(be,xe)=>{xe.dispose(),delete this._watchers[be.uri.toString()]},q=()=>{for(let be of t.getModels()){const xe=this._watchers[be.uri.toString()];Aa(be,i,o)?xe||A(be):xe&&K(be,xe)}};this._register(t.onModelAdded(be=>{Aa(be,i,o)&&A(be)})),this._register(t.onModelRemoved(be=>{const xe=this._watchers[be.uri.toString()];xe&&K(be,xe)})),this._register(o.onDidChangeConfiguration(be=>{be.affectsConfiguration(nl)&&q()})),this._register(i.onDidColorThemeChange(q))}}class wa extends ii.JT{constructor(t,i,o){super(),this._themeService=t,this._modeService=i,this._logService=o,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(t){return this._caches.has(t)||this._caches.set(t,new va(t.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(t)}}class Wo{constructor(t,i,o){this.provider=t,this.resultId=i,this.data=o}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class Gr extends ii.JT{constructor(t,i,o){super(),this._isDisposed=!1,this._model=t,this._semanticStyling=o,this._fetchDocumentSemanticTokens=this._register(new Fn.pY(()=>this._fetchDocumentSemanticTokensNow(),Gr.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const p=()=>{(0,ii.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const A of fi.wT.all(t))typeof A.onDidChange=="function"&&this._documentProvidersChangeListeners.push(A.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};p(),this._register(fi.wT.onDidChange(()=>{p(),this._fetchDocumentSemanticTokens.schedule()})),this._register(i.onDidColorThemeChange(A=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!qa(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const t=new O.A,i=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,o=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,p=aa(this._model,i,o,t.token);this._currentDocumentRequestCancellationTokenSource=t;const A=[],K=this._model.onDidChangeContent(q=>{A.push(q)});p.then(q=>{if(this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),!q)this._setDocumentSemanticTokens(null,null,null,A);else{const{provider:be,tokens:xe}=q,Fe=this._semanticStyling.get(be);this._setDocumentSemanticTokens(be,xe||null,Fe,A)}},q=>{q&&(An.VV(q)||typeof q.message=="string"&&q.message.indexOf("busy")!==-1)||An.dL(q),this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),A.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(t,i,o,p,A){for(let K=0;K<A;K++)o[p+K]=t[i+K]}_setDocumentSemanticTokens(t,i,o,p){const A=this._currentDocumentResponse,K=()=>{p.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){t&&i&&t.releaseDocumentSemanticTokens(i.resultId);return}if(!t||!o){this._model.setSemanticTokens(null,!1);return}if(!i){this._model.setSemanticTokens(null,!0),K();return}if(Ja(i)){if(!A){this._model.setSemanticTokens(null,!0);return}if(i.edits.length===0)i={resultId:i.resultId,data:A.data};else{let q=0;for(const Ut of i.edits)q+=(Ut.data?Ut.data.length:0)-Ut.deleteCount;const be=A.data,xe=new Uint32Array(be.length+q);let Fe=be.length,et=xe.length;for(let Ut=i.edits.length-1;Ut>=0;Ut--){const Mi=i.edits[Ut],Oi=Fe-(Mi.start+Mi.deleteCount);Oi>0&&(Gr._copy(be,Fe-Oi,xe,et-Oi,Oi),et-=Oi),Mi.data&&(Gr._copy(Mi.data,0,xe,et-Mi.data.length,Mi.data.length),et-=Mi.data.length),Fe=Mi.start}Fe>0&&Gr._copy(be,0,xe,0,Fe),i={resultId:i.resultId,data:xe}}}if(ra(i)){this._currentDocumentResponse=new Wo(t,i.resultId,i.data);const q=Qa(i,o,this._model.getLanguageId());if(p.length>0)for(const be of p)for(const xe of q)for(const Fe of be.changes)xe.applyEdit(Fe.range,Fe.text);this._model.setSemanticTokens(q,!0)}else this._model.setSemanticTokens(null,!0);K()}}Gr.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;var Tr=c(41264);class sl{constructor(t,i,o,p,A){this._parsedThemeRuleBrand=void 0,this.token=t,this.index=i,this.fontStyle=o,this.foreground=p,this.background=A}}function la(u){if(!u||!Array.isArray(u))return[];let t=[],i=0;for(let o=0,p=u.length;o<p;o++){let A=u[o],K=-1;if(typeof A.fontStyle=="string"){K=0;let xe=A.fontStyle.split(" ");for(let Fe=0,et=xe.length;Fe<et;Fe++)switch(xe[Fe]){case"italic":K=K|1;break;case"bold":K=K|2;break;case"underline":K=K|4;break}}let q=null;typeof A.foreground=="string"&&(q=A.foreground);let be=null;typeof A.background=="string"&&(be=A.background),t[i++]=new sl(A.token||"",o,K,q,be)}return t}function Jr(u,t){u.sort((Fe,et)=>{let Ut=jl(Fe.token,et.token);return Ut!==0?Ut:Fe.index-et.index});let i=0,o="000000",p="ffffff";for(;u.length>=1&&u[0].token==="";){let Fe=u.shift();Fe.fontStyle!==-1&&(i=Fe.fontStyle),Fe.foreground!==null&&(o=Fe.foreground),Fe.background!==null&&(p=Fe.background)}let A=new $l;for(let Fe of t)A.getId(Fe);let K=A.getId(o),q=A.getId(p),be=new da(i,K,q),xe=new Pa(be);for(let Fe=0,et=u.length;Fe<et;Fe++){let Ut=u[Fe];xe.insert(Ut.token,Ut.fontStyle,A.getId(Ut.foreground),A.getId(Ut.background))}return new ol(A,xe)}const qr=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class $l{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(t){if(t===null)return 0;const i=t.match(qr);if(!i)throw new Error("Illegal value for token color: "+t);t=i[1].toUpperCase();let o=this._color2id.get(t);return o||(o=++this._lastColorId,this._color2id.set(t,o),this._id2color[o]=Tr.Il.fromHex("#"+t),o)}getColorMap(){return this._id2color.slice(0)}}class ol{constructor(t,i){this._colorMap=t,this._root=i,this._cache=new Map}static createFromRawTokenTheme(t,i){return this.createFromParsedTokenTheme(la(t),i)}static createFromParsedTokenTheme(t,i){return Jr(t,i)}getColorMap(){return this._colorMap.getColorMap()}_match(t){return this._root.match(t)}match(t,i){let o=this._cache.get(i);if(typeof o=="undefined"){let p=this._match(i),A=ea(i);o=(p.metadata|A<<8)>>>0,this._cache.set(i,o)}return(o|t<<0)>>>0}}const Kl=/\b(comment|string|regex|regexp)\b/;function ea(u){let t=u.match(Kl);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function jl(u,t){return u<t?-1:u>t?1:0}class da{constructor(t,i,o){this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=i,this._background=o,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new da(this._fontStyle,this._foreground,this._background)}acceptOverwrite(t,i,o){t!==-1&&(this._fontStyle=t),i!==0&&(this._foreground=i),o!==0&&(this._background=o),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class Pa{constructor(t){this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}match(t){if(t==="")return this._mainRule;let i=t.indexOf("."),o,p;i===-1?(o=t,p=""):(o=t.substring(0,i),p=t.substring(i+1));let A=this._children.get(o);return typeof A!="undefined"?A.match(p):this._mainRule}insert(t,i,o,p){if(t===""){this._mainRule.acceptOverwrite(i,o,p);return}let A=t.indexOf("."),K,q;A===-1?(K=t,q=""):(K=t.substring(0,A),q=t.substring(A+1));let be=this._children.get(K);typeof be=="undefined"&&(be=new Pa(this._mainRule.clone()),this._children.set(K,be)),be.insert(q,i,o,p)}}function rl(u){let t=[];for(let i=1,o=u.length;i<o;i++){let p=u[i];t[i]=`.mtk${i} { color: ${p}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join(`
`)}const Sa={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[fn.cv]:"#FFFFFE",[fn.NO]:"#000000",[fn.ES]:"#E5EBF1",[uo.tR]:"#D3D3D3",[uo.Ym]:"#939393",[fn.Rz]:"#ADD6FF4D"}},al={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[fn.cv]:"#1E1E1E",[fn.NO]:"#D4D4D4",[fn.ES]:"#3A3D41",[uo.tR]:"#404040",[uo.Ym]:"#707070",[fn.Rz]:"#ADD6FF26"}},ll={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[fn.cv]:"#000000",[fn.NO]:"#FFFFFF",[uo.tR]:"#FFFFFF",[uo.Ym]:"#FFFFFF"}};var ua=c(92321);function ya(){const u=new Q.Q5,t=(0,Js.Ks)();return t.onDidChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const i={},o=A=>{let K=A.defaults;for(;_s.kS.isThemeIcon(K);){const be=t.getIcon(K.id);if(!be)return;K=be.defaults}const q=K.fontId;if(q){const be=t.getIconFont(q);if(be)return i[q]=be,`.codicon-${A.id}:before { content: '${K.fontCharacter}'; font-family: ${(0,it._h)(q)}; }`}return`.codicon-${A.id}:before { content: '${K.fontCharacter}'; }`},p=[];for(let A of t.getIcons()){const K=o(A);K&&p.push(K)}for(let A in i){const q=i[A].definition.src.map(be=>`${(0,it.wY)(be.location)} format('${be.format}')`).join(", ");p.push(`@font-face { src: ${q}; font-family: ${(0,it._h)(A)}; font-display: block; }`)}return p.join(`
`)}}}const fr="vs",ca="vs-dark",ta="hc-black",Zr=sa.B.as(fn.IP.ColorContribution),Gl=sa.B.as(_s.IP.ThemingContribution);class ha{constructor(t,i){this.semanticHighlighting=!1,this.themeData=i;let o=i.base;t.length>0?(Dr(t)?this.id=t:this.id=o+" "+t,this.themeName=t):(this.id=o,this.themeName=o),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const t=new Map;for(let i in this.themeData.colors)t.set(i,Tr.Il.fromHex(this.themeData.colors[i]));if(this.themeData.inherit){let i=Fa(this.themeData.base);for(let o in i.colors)t.has(o)||t.set(o,Tr.Il.fromHex(i.colors[o]))}this.colors=t}return this.colors}getColor(t,i){const o=this.getColors().get(t);if(o)return o;if(i!==!1)return this.getDefault(t)}getDefault(t){let i=this.defaultColors[t];return i||(i=Zr.resolveDefaultColor(t,this),this.defaultColors[t]=i,i)}defines(t){return Object.prototype.hasOwnProperty.call(this.getColors(),t)}get type(){switch(this.base){case fr:return ua.e.LIGHT;case ta:return ua.e.HIGH_CONTRAST;default:return ua.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let t=[],i=[];if(this.themeData.inherit){let A=Fa(this.themeData.base);t=A.rules,A.encodedTokensColors&&(i=A.encodedTokensColors)}const o=this.themeData.colors["editor.foreground"],p=this.themeData.colors["editor.background"];if(o||p){const A={token:""};o&&(A.foreground=o),p&&(A.background=p),t.push(A)}t=t.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(i=this.themeData.encodedTokensColors),this._tokenTheme=ol.createFromRawTokenTheme(t,i)}return this._tokenTheme}getTokenStyleMetadata(t,i,o){const A=this.tokenTheme._match([t].concat(i).join(".")).metadata,K=fi.NX.getForeground(A),q=fi.NX.getFontStyle(A);return{foreground:K,italic:!!(q&1),bold:!!(q&2),underline:!!(q&4)}}}function Dr(u){return u===fr||u===ca||u===ta}function Fa(u){switch(u){case fr:return Sa;case ca:return al;case ta:return ll}}function Ba(u){let t=Fa(u);return new ha(u,t)}class we extends ii.JT{constructor(){super(),this._onColorThemeChange=this._register(new Q.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(fr,Ba(fr)),this._knownThemes.set(ca,Ba(ca)),this._knownThemes.set(ta,Ba(ta));const t=ya();this._codiconCSS=t.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(fr),t.onDidChange(()=>{this._codiconCSS=t.getCSS(),this._updateCSS()}),it.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(t){return it.OO(t)?this._registerShadowDomContainer(t):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=it.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ii.JT.None}_registerShadowDomContainer(t){const i=it.dS(t);return i.className="monaco-colors",i.textContent=this._allCSS,this._styleElements.push(i),{dispose:()=>{for(let o=0;o<this._styleElements.length;o++)if(this._styleElements[o]===i){this._styleElements.splice(o,1);return}}}}defineTheme(t,i){if(!/^[a-z0-9\-]+$/i.test(t))throw new Error("Illegal theme name!");if(!Dr(i.base)&&!Dr(t))throw new Error("Illegal theme base!");this._knownThemes.set(t,new ha(t,i)),Dr(t)&&this._knownThemes.forEach(o=>{o.base===t&&o.notifyBaseUpdated()}),this._theme.themeName===t&&this.setTheme(t)}getColorTheme(){return this._theme}setColorMapOverride(t){this._colorMapOverride=t,this._updateThemeOrColorMap()}setTheme(t){let i;this._knownThemes.has(t)?i=this._knownThemes.get(t):i=this._knownThemes.get(fr),this._desiredTheme=i,this._updateActualTheme()}_updateActualTheme(){const t=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(ta):this._desiredTheme;this._theme!==t&&(this._theme=t,this._updateThemeOrColorMap())}setAutoDetectHighContrast(t){this._autoDetectHighContrast=t,this._updateActualTheme()}_updateThemeOrColorMap(){let t=[],i={},o={addRule:A=>{i[A]||(t.push(A),i[A]=!0)}};Gl.getThemingParticipants().forEach(A=>A(this._theme,o,this._environment));const p=this._colorMapOverride||this._theme.tokenTheme.getColorMap();o.addRule(rl(p)),this._themeCSS=t.join(`
`),this._updateCSS(),fi.RW.setColorMap(p),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(t=>t.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var a=c(56899),I=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},z=function(u,t){return function(i,o){t(i,o,u)}};const oe="data-keybinding-context";class se{constructor(t,i){this._id=t,this._parent=i,this._value=Object.create(null),this._value._contextId=t}setValue(t,i){return this._value[t]!==i?(this._value[t]=i,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const i=this._value[t];return typeof i=="undefined"&&this._parent?this._parent.getValue(t):i}}class Se extends se{constructor(){super(-1,null)}setValue(t,i){return!1}removeValue(t){return!1}getValue(t){}}Se.INSTANCE=new Se;class Ye extends se{constructor(t,i,o){super(t,null),this._configurationService=i,this._values=Ae.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(p=>{if(p.source===6){const A=Array.from(a.$.map(this._values,([K])=>K));this._values.clear(),o.fire(new Dt(A))}else{const A=[];for(const K of p.affectedKeys){const q=`config.${K}`,be=this._values.findSuperstr(q);be!==void 0&&(A.push(...a.$.map(be,([xe])=>xe)),this._values.deleteSuperstr(q)),this._values.has(q)&&(A.push(q),this._values.delete(q))}o.fire(new Dt(A))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(Ye._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const i=t.substr(Ye._keyPrefix.length),o=this._configurationService.getValue(i);let p;switch(typeof o){case"number":case"boolean":case"string":p=o;break;default:Array.isArray(o)?p=JSON.stringify(o):p=o}return this._values.set(t,p),p}setValue(t,i){return super.setValue(t,i)}removeValue(t){return super.removeValue(t)}}Ye._keyPrefix="config.";class Vt{constructor(t,i,o){this._service=t,this._key=i,this._defaultValue=o,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Ht{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}}class Dt{constructor(t){this.keys=t}affectsSome(t){for(const i of this.keys)if(t.has(i))return!0;return!1}}class ui{constructor(t){this.events=t}affectsSome(t){for(const i of this.events)if(i.affectsSome(t))return!0;return!1}}class Yi{constructor(t){this._onDidChangeContext=new Q.K3({merge:i=>new ui(i)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Vt(this,t,i)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Bn(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const i=this.getContextValuesContainer(this._myContextId);return Ve.contextMatchesRules(i,t)}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,i){if(this._isDisposed)return;const o=this.getContextValuesContainer(this._myContextId);o&&o.setValue(t,i)&&this._onDidChangeContext.fire(new Ht(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new Ht(t))}getContext(t){return this._isDisposed?Se.INSTANCE:this.getContextValuesContainer(ao(t))}}let mn=class extends Yi{constructor(t){super(0),this._contexts=new Map,this._toDispose=new ii.SL,this._lastContextId=0;const i=new Ye(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,i),this._toDispose.add(i)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?Se.INSTANCE:this._contexts.get(t)||Se.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let i=++this._lastContextId;return this._contexts.set(i,new se(i,this.getContextValuesContainer(t))),i}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};mn=I([z(0,d.Ui)],mn);class Bn extends Yi{constructor(t,i){if(super(t.createChildContext()),this._parentChangeListener=new ii.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=i,this._domNode.hasAttribute(oe)){let o="";this._domNode.classList&&(o=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${o?": "+o:""}`)}this._domNode.setAttribute(oe,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(oe),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?Se.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function ao(u){for(;u;){if(u.hasAttribute(oe)){const t=u.getAttribute(oe);return t?parseInt(t,10):NaN}u=u.parentElement}return 0}dt.P.registerCommand(de.Eq,function(u,t,i){u.get(de.i6).createKey(String(t),i)}),dt.P.registerCommand({id:"getContextKeyInfo",handler(){return[...de.uy.all()].sort((u,t)=>u.key.localeCompare(t.key))},description:{description:(0,We.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),dt.P.registerCommand("_generateContextKeyInfo",function(){const u=[],t=new Set;for(let i of de.uy.all())t.has(i.key)||(t.add(i.key),u.push(i));u.sort((i,o)=>i.key.localeCompare(o.key)),console.log(JSON.stringify(u,void 0,2))});var Lo=c(10829),Bo=c(23938),Xo=c(16268),pr=c(10553),La=c(76033),dl=c(15375),Ru=c(10161),Id=c(61134),ia;(function(u){u[u.AVOID=0]="AVOID",u[u.ALIGN=1]="ALIGN"})(ia||(ia={}));function Da(u,t,i){const o=i.mode===ia.ALIGN?i.offset:i.offset+i.size,p=i.mode===ia.ALIGN?i.offset+i.size:i.offset;return i.position===0?t<=u-o?o:t<=p?p-t:Math.max(u-t,0):t<=p?p-t:t<=u-o?o:0}class Ea extends ii.JT{constructor(t,i){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=ii.JT.None,this.toDisposeOnSetContainer=ii.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=it.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,it.Cp(this.view),this.setContainer(t,i),this._register((0,ii.OF)(()=>this.setContainer(null,1)))}setContainer(t,i){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=i!==1,this.useShadowDOM=i===3,this.useShadowDOM){this.shadowRootHostElement=it.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const A=document.createElement("style");A.textContent=ku,this.shadowRoot.appendChild(A),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(it.$("slot"))}else this.container.appendChild(this.view);const p=new ii.SL;Ea.BUBBLE_UP_EVENTS.forEach(A=>{p.add(it.mu(this.container,A,K=>{this.onDOMEvent(K,!1)}))}),Ea.BUBBLE_DOWN_EVENTS.forEach(A=>{p.add(it.mu(this.container,A,K=>{this.onDOMEvent(K,!0)},!0))}),this.toDisposeOnSetContainer=p}}show(t){this.isVisible()&&this.hide(),it.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",it.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||ii.JT.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!($i.gn&&Ru.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let t=this.delegate.getAnchor(),i;if(it.Re(t)){let et=it.i(t);i={top:et.top,left:et.left,width:et.width,height:et.height}}else i={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const o=it.w(this.view),p=it.wn(this.view),A=this.delegate.anchorPosition||0,K=this.delegate.anchorAlignment||0,q=this.delegate.anchorAxisAlignment||0;let be,xe;if(q===0){const et={offset:i.top-window.pageYOffset,size:i.height,position:A===0?0:1},Ut={offset:i.left,size:i.width,position:K===0?0:1,mode:ia.ALIGN};be=Da(window.innerHeight,p,et)+window.pageYOffset,Id.e.intersects({start:be,end:be+p},{start:et.offset,end:et.offset+et.size})&&(Ut.mode=ia.AVOID),xe=Da(window.innerWidth,o,Ut)}else{const et={offset:i.left,size:i.width,position:K===0?0:1},Ut={offset:i.top,size:i.height,position:A===0?0:1,mode:ia.ALIGN};xe=Da(window.innerWidth,o,et),Id.e.intersects({start:xe,end:xe+o},{start:et.offset,end:et.offset+et.size})&&(Ut.mode=ia.AVOID),be=Da(window.innerHeight,p,Ut)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(A===0?"bottom":"top"),this.view.classList.add(K===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Fe=it.i(this.container);this.view.style.top=`${be-(this.useFixedPosition?it.i(this.view).top:Fe.top)}px`,this.view.style.left=`${xe-(this.useFixedPosition?it.i(this.view).left:Fe.left)}px`,this.view.style.width="initial"}hide(t){const i=this.delegate;this.delegate=null,i!=null&&i.onHide&&i.onHide(t),this.toDisposeOnClean.dispose(),it.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!it.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Ea.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Ea.BUBBLE_DOWN_EVENTS=["click"];let ku=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Yr=c(21212);const Zl=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Yl=/(&amp;)?(&amp;)([^\s&])/g,Nd=(0,so.CM)("menu-selection",so.lA.check),Td=(0,so.CM)("menu-submenu",so.lA.chevronRight);var ul;(function(u){u[u.Right=0]="Right",u[u.Left=1]="Left"})(ul||(ul={}));class fa extends gs.o{constructor(t,i,o={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const p=document.createElement("div");p.classList.add("monaco-menu"),p.setAttribute("role","presentation"),super(p,{orientation:1,actionViewItemProvider:q=>this.doGetActionViewItem(q,o,A),context:o.context,actionRunner:o.actionRunner,ariaLabel:o.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...$i.dz||$i.IJ?[10]:[]],keyDown:!0}}),this.menuElement=p,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new ii.SL),this.initializeStyleSheet(t),this._register(pr.o.addTarget(p)),(0,it.nm)(p,it.tw.KEY_DOWN,q=>{new jt.y(q).equals(2)&&q.preventDefault()}),o.enableMnemonics&&this.menuDisposables.add((0,it.nm)(p,it.tw.KEY_DOWN,q=>{const be=q.key.toLocaleLowerCase();if(this.mnemonics.has(be)){it.zB.stop(q,!0);const xe=this.mnemonics.get(be);if(xe.length===1&&(xe[0]instanceof Md&&xe[0].container&&this.focusItemByElement(xe[0].container),xe[0].onClick(q)),xe.length>1){const Fe=xe.shift();Fe&&Fe.container&&(this.focusItemByElement(Fe.container),xe.push(Fe)),this.mnemonics.set(be,xe)}}})),$i.IJ&&this._register((0,it.nm)(p,it.tw.KEY_DOWN,q=>{const be=new jt.y(q);be.equals(14)||be.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),it.zB.stop(q,!0)):(be.equals(13)||be.equals(12))&&(this.focusedItem=0,this.focusPrevious(),it.zB.stop(q,!0))})),this._register((0,it.nm)(this.domNode,it.tw.MOUSE_OUT,q=>{let be=q.relatedTarget;(0,it.jg)(be,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),q.stopPropagation())})),this._register((0,it.nm)(this.actionsList,it.tw.MOUSE_OVER,q=>{let be=q.target;if(!(!be||!(0,it.jg)(be,this.actionsList)||be===this.actionsList)){for(;be.parentElement!==this.actionsList&&be.parentElement!==null;)be=be.parentElement;if(be.classList.contains("action-item")){const xe=this.focusedItem;this.setFocusedItem(be),xe!==this.focusedItem&&this.updateFocus()}}})),this._register(pr.o.addTarget(this.actionsList)),this._register((0,it.nm)(this.actionsList,pr.t.Tap,q=>{let be=q.initialTarget;if(!(!be||!(0,it.jg)(be,this.actionsList)||be===this.actionsList)){for(;be.parentElement!==this.actionsList&&be.parentElement!==null;)be=be.parentElement;if(be.classList.contains("action-item")){const xe=this.focusedItem;this.setFocusedItem(be),xe!==this.focusedItem&&this.updateFocus()}}}));let A={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new rs.s$(p,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const K=this.scrollableElement.getDomNode();K.style.position="",this._register((0,it.nm)(p,pr.t.Change,q=>{it.zB.stop(q,!0);const be=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:be-q.translationY})})),this._register((0,it.nm)(K,it.tw.MOUSE_UP,q=>{q.preventDefault()})),p.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,i=i.filter(q=>{var be;return!((be=o.submenuIds)===null||be===void 0)&&be.has(q.id)?(console.warn(`Found submenu cycle: ${q.id}`),!1):!0}),this.push(i,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(q=>!(q instanceof Xl)).forEach((q,be,xe)=>{q.updatePositionInSet(be+1,xe.length)})}initializeStyleSheet(t){(0,it.OO)(t)?(this.styleSheet=(0,it.dS)(t),this.styleSheet.textContent=Rd):(fa.globalStyleSheet||(fa.globalStyleSheet=(0,it.dS)(),fa.globalStyleSheet.textContent=Rd),this.styleSheet=fa.globalStyleSheet)}style(t){const i=this.getContainer(),o=t.foregroundColor?`${t.foregroundColor}`:"",p=t.backgroundColor?`${t.backgroundColor}`:"",A=t.borderColor?`1px solid ${t.borderColor}`:"",K=t.shadowColor?`0 2px 4px ${t.shadowColor}`:"";i.style.border=A,this.domNode.style.color=o,this.domNode.style.backgroundColor=p,i.style.boxShadow=K,this.viewItems&&this.viewItems.forEach(q=>{(q instanceof Ql||q instanceof Xl)&&q.style(t)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const i=this.focusedItem;this.setFocusedItem(t),i!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let i=0;i<this.actionsList.children.length;i++){let o=this.actionsList.children[i];if(t===o){this.focusedItem=i;break}}}updateFocus(t){super.updateFocus(t,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,i,o){if(t instanceof $s.Z0)return new Xl(i.context,t,{icon:!0});if(t instanceof $s.wY){const p=new Md(t,t.actions,o,Object.assign(Object.assign({},i),{submenuIds:new Set([...i.submenuIds||[],t.id])}));if(i.enableMnemonics){const A=p.getMnemonic();if(A&&p.isEnabled()){let K=[];this.mnemonics.has(A)&&(K=this.mnemonics.get(A)),K.push(p),this.mnemonics.set(A,K)}}return p}else{const p={enableMnemonics:i.enableMnemonics,useEventAsContext:i.useEventAsContext};if(i.getKeyBinding){const K=i.getKeyBinding(t);if(K){const q=K.getLabel();q&&(p.keybinding=q)}}const A=new Ql(i.context,t,p);if(i.enableMnemonics){const K=A.getMnemonic();if(K&&A.isEnabled()){let q=[];this.mnemonics.has(K)&&(q=this.mnemonics.get(K)),q.push(A),this.mnemonics.set(K,q)}}return A}}}class Ql extends La.Y{constructor(t,i,o={}){if(o.isMenu=!0,super(i,i,o),this.options=o,this.options.icon=o.icon!==void 0?o.icon:!1,this.options.label=o.label!==void 0?o.label:!0,this.cssClass="",this.options.label&&o.enableMnemonics){let p=this.getAction().label;if(p){let A=Zl.exec(p);A&&(this.mnemonic=(A[1]?A[1]:A[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Fn.pY(()=>{this.element&&(this._register((0,it.nm)(this.element,it.tw.MOUSE_UP,p=>{if(it.zB.stop(p,!0),Xo.vU){if(new Bo.n(p).rightButton)return;this.onClick(p)}else setTimeout(()=>{this.onClick(p)},0)})),this._register((0,it.nm)(this.element,it.tw.CONTEXT_MENU,p=>{it.zB.stop(p,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,it.R3)(this.element,(0,it.$)("a.action-menu-item")),this._action.id===$s.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,it.R3)(this.item,(0,it.$)("span.menu-item-check"+Nd.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,it.R3)(this.item,(0,it.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,it.R3)(this.item,(0,it.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,i){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${i}`))}updateLabel(){if(this.label&&this.options.label){(0,it.PO)(this.label);let t=(0,Yr.x$)(this.getAction().label);if(t){const i=Au(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const o=Zl.exec(t);if(o){t=sn.YU(t),Yl.lastIndex=0;let p=Yl.exec(t);for(;p&&p[1];)p=Yl.exec(t);const A=K=>K.replace(/&amp;&amp;/g,"&amp;");p?this.label.append(sn.j3(A(t.substr(0,p.index))," "),(0,it.$)("u",{"aria-hidden":"true"},p[3]),sn.oL(A(t.substr(p.index+p[0].length))," ")):this.label.innerText=A(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(o[1]?o[1]:o[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){let t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=We.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&this.item&&(this.item.title=t)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),i=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,o=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,p=t&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=i?i.toString():"",this.item.style.backgroundColor=o?o.toString():""),this.check&&(this.check.style.color=i?i.toString():""),this.container&&(this.container.style.border=p)}style(t){this.menuStyle=t,this.applyStyle()}}class Md extends Ql{constructor(t,i,o,p){super(t,t,p),this.submenuActions=i,this.parentData=o,this.submenuOptions=p,this.mysubmenu=null,this.submenuDisposables=this._register(new ii.SL),this.mouseOver=!1,this.expandDirection=p&&p.expandDirection!==void 0?p.expandDirection:ul.Right,this.showScheduler=new Fn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Fn.pY(()=>{this.element&&!(0,it.jg)((0,it.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,it.R3)(this.item,(0,it.$)("span.submenu-indicator"+Td.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,it.nm)(this.element,it.tw.KEY_UP,i=>{let o=new jt.y(i);(o.equals(17)||o.equals(3))&&(it.zB.stop(i,!0),this.createSubmenu(!0))})),this._register((0,it.nm)(this.element,it.tw.KEY_DOWN,i=>{let o=new jt.y(i);(0,it.vY)()===this.item&&(o.equals(17)||o.equals(3))&&it.zB.stop(i,!0)})),this._register((0,it.nm)(this.element,it.tw.MOUSE_OVER,i=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,it.nm)(this.element,it.tw.MOUSE_LEAVE,i=>{this.mouseOver=!1})),this._register((0,it.nm)(this.element,it.tw.FOCUS_OUT,i=>{this.element&&!(0,it.jg)((0,it.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(t){it.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(i){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,i,o,p){const A={top:0,left:0};return A.left=Da(t.width,i.width,{position:p===ul.Right?0:1,offset:o.left,size:o.width}),A.left>=o.left&&A.left<o.left+o.width&&(o.left+10+i.width<=t.width&&(A.left=o.left+10),o.top+=10,o.height=0),A.top=Da(t.height,i.height,{position:0,offset:o.top,size:0}),A.top+i.height===o.top&&A.top+o.height+i.height<=t.height&&(A.top+=o.height),A}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,it.R3)(this.element,(0,it.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const i=getComputedStyle(this.parentData.parent.domNode),o=parseFloat(i.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new fa(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new $s.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const p=this.element.getBoundingClientRect(),A={top:p.top-o,left:p.left,height:p.height+2*o,width:p.width},K=this.submenuContainer.getBoundingClientRect(),{top:q,left:be}=this.calculateSubmenuMenuLayout(new it.Ro(window.innerWidth,window.innerHeight),it.Ro.lift(K),A,this.expandDirection);this.submenuContainer.style.left=`${be-K.left}px`,this.submenuContainer.style.top=`${q-K.top}px`,this.submenuDisposables.add((0,it.nm)(this.submenuContainer,it.tw.KEY_UP,xe=>{new jt.y(xe).equals(15)&&(it.zB.stop(xe,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,it.nm)(this.submenuContainer,it.tw.KEY_DOWN,xe=>{new jt.y(xe).equals(15)&&it.zB.stop(xe,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var i;this.item&&((i=this.item)===null||i===void 0||i.setAttribute("aria-expanded",t))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i?`${i}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Xl extends La.g{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}function Au(u){const t=Zl,i=t.exec(u);if(!i)return u;const o=!i[1];return u.replace(t,o?"$2$3":"").trim()}let Rd=`
.monaco-menu {
	font-size: 13px;

}

${(0,dl.a)(Nd)}
${(0,dl.a)(Td)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`;var na=c(88810);class Ou{constructor(t,i,o,p,A){this.contextViewService=t,this.telemetryService=i,this.notificationService=o,this.keybindingService=p,this.themeService=A,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const i=t.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let o,p=(0,it.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:A=>{let K=t.getMenuClassName?t.getMenuClassName():"";K&&(A.className+=" "+K),this.options.blockMouse&&(this.block=A.appendChild((0,it.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,it.nm)(this.block,it.tw.MOUSE_DOWN,xe=>xe.stopPropagation()));const q=new ii.SL,be=t.actionRunner||new $s.Wi;return be.onBeforeRun(this.onActionRun,this,q),be.onDidRun(this.onDidActionRun,this,q),o=new fa(A,i,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:be,getKeyBinding:t.getKeyBinding?t.getKeyBinding:xe=>this.keybindingService.lookupKeybinding(xe.id)}),q.add((0,na.tj)(o,this.themeService)),o.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,q),o.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,q),q.add((0,it.nm)(window,it.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),q.add((0,it.nm)(window,it.tw.MOUSE_DOWN,xe=>{if(xe.defaultPrevented)return;let Fe=new Bo.n(xe),et=Fe.target;if(!Fe.rightButton){for(;et;){if(et===A)return;et=et.parentElement}this.contextViewService.hideContextView(!0)}})),(0,ii.F8)(q,o)},focus:()=>{o&&o.focus(!!t.autoSelectFirstItem)},onHide:A=>{t.onHide&&t.onHide(!!A),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},p,!!p)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,An.VV)(t.error)&&this.notificationService.error(t.error)}}var Pu=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Wa=function(u,t){return function(i,o){t(i,o,u)}};let Jl=class extends ii.JT{constructor(t,i,o,p,A){super(),this.contextMenuHandler=new Ou(o,t,i,p,A)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(t),it._q.getInstance().resetKeyStatus()}};Jl=Pu([Wa(0,Lo.b),Wa(1,Qt.lT),Wa(2,Uo.u),Wa(3,he.d),Wa(4,_s.XE)],Jl);const cl=(0,Un.yh)("layoutService");var Fu=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Bu=function(u,t){return function(i,o){t(i,o,u)}};let ql=class extends ii.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=ii.JT.None,this.container=t.container,this.contextView=this._register(new Ea(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,i){this.contextView.setContainer(t,i||1)}showContextView(t,i,o){i?i!==this.container&&(this.container=i,this.setContainer(i,o?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(t);const p=(0,ii.OF)(()=>{this.currentViewDisposable===p&&this.hideContextView()});return this.currentViewDisposable=p,p}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};ql=Fu([Bu(0,cl)],ql);const kd=(0,Un.yh)("dialogService");var xa=c(97108);class Wu{constructor(t){this.incoming=new Map,this.outgoing=new Map,this.data=t}}class Vu{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(let i of this._nodes.values())i.outgoing.size===0&&t.push(i);return t}insertEdge(t,i){const o=this.lookupOrInsertNode(t),p=this.lookupOrInsertNode(i);o.outgoing.set(this._hashFn(i),p),p.incoming.set(this._hashFn(t),o)}removeNode(t){const i=this._hashFn(t);this._nodes.delete(i);for(let o of this._nodes.values())o.outgoing.delete(i),o.incoming.delete(i)}lookupOrInsertNode(t){const i=this._hashFn(t);let o=this._nodes.get(i);return o||(o=new Wu(t),this._nodes.set(i,o)),o}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[i,o]of this._nodes)t.push(`${i}, (incoming)[${[...o.incoming.keys()].join(", ")}], (outgoing)[${[...o.outgoing.keys()].join(",")}]`);return t.join(`
`)}findCycleSlow(){for(let[t,i]of this._nodes){const o=new Set([t]),p=this._findCycle(i,o);if(p)return p}}_findCycle(t,i){for(let[o,p]of t.outgoing){if(i.has(o))return[...i,o].join(" -> ");i.add(o);const A=this._findCycle(p,i);if(A)return A;i.delete(o)}}}const Ad=!1;class Od extends Error{constructor(t){var i;super("cyclic dependency between services"),this.message=(i=t.findCycleSlow())!==null&&i!==void 0?i:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class hl{constructor(t=new sr.y,i=!1,o){this._activeInstantiations=new Set,this._services=t,this._strict=i,this._parent=o,this._services.set(Un.TG,this)}createChild(t){return new hl(t,this._strict,this)}invokeFunction(t,...i){let o=br.traceInvocation(t),p=!1;try{return t({get:(K,q)=>{if(p)throw(0,An.L6)("service accessor is only valid during the invocation of its target method");const be=this._getOrCreateServiceInstance(K,o);if(!be&&q!==Un.jt)throw new Error(`[invokeFunction] unknown service '${K}'`);return be}},...i)}finally{p=!0,o.stop()}}createInstance(t,...i){let o,p;return t instanceof xa.M?(o=br.traceCreation(t.ctor),p=this._createInstance(t.ctor,t.staticArguments.concat(i),o)):(o=br.traceCreation(t),p=this._createInstance(t,i,o)),o.stop(),p}_createInstance(t,i=[],o){let p=Un.I8.getServiceDependencies(t).sort((q,be)=>q.index-be.index),A=[];for(const q of p){let be=this._getOrCreateServiceInstance(q.id,o);if(!be&&this._strict&&!q.optional)throw new Error(`[createInstance] ${t.name} depends on UNKNOWN service ${q.id}.`);A.push(be)}let K=p.length>0?p[0].index:i.length;if(i.length!==K){console.warn(`[createInstance] First service dependency of ${t.name} at position ${K+1} conflicts with ${i.length} static arguments`);let q=K-i.length;q>0?i=i.concat(new Array(q)):i=i.slice(0,K)}return new t(...i,...A)}_setServiceInstance(t,i){if(this._services.get(t)instanceof xa.M)this._services.set(t,i);else if(this._parent)this._parent._setServiceInstance(t,i);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let i=this._services.get(t);return!i&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):i}_getOrCreateServiceInstance(t,i){let o=this._getServiceInstanceOrDescriptor(t);return o instanceof xa.M?this._safeCreateAndCacheServiceInstance(t,o,i.branch(t,!0)):(i.branch(t,!1),o)}_safeCreateAndCacheServiceInstance(t,i,o){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,i,o)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,i,o){const p=new Vu(q=>q.id.toString());let A=0;const K=[{id:t,desc:i,_trace:o}];for(;K.length;){const q=K.pop();if(p.lookupOrInsertNode(q),A++>1e3)throw new Od(p);for(let be of Un.I8.getServiceDependencies(q.desc.ctor)){let xe=this._getServiceInstanceOrDescriptor(be.id);if(!xe&&!be.optional&&console.warn(`[createInstance] ${t} depends on ${be.id} which is NOT registered.`),xe instanceof xa.M){const Fe={id:be.id,desc:xe,_trace:q._trace.branch(be.id,!0)};p.insertEdge(q,Fe),K.push(Fe)}}}for(;;){const q=p.roots();if(q.length===0){if(!p.isEmpty())throw new Od(p);break}for(const{data:be}of q){if(this._getServiceInstanceOrDescriptor(be.id)instanceof xa.M){const Fe=this._createServiceInstanceWithOwner(be.id,be.desc.ctor,be.desc.staticArguments,be.desc.supportsDelayedInstantiation,be._trace);this._setServiceInstance(be.id,Fe)}p.removeNode(be)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,i,o=[],p,A){if(this._services.get(t)instanceof xa.M)return this._createServiceInstance(i,o,p,A);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,i,o,p,A);throw new Error(`illegalState - creating UNKNOWN service instance ${i.name}`)}_createServiceInstance(t,i=[],o,p){if(o){const A=new Fn.Ue(()=>this._createInstance(t,i,p));return new Proxy(Object.create(null),{get(K,q){if(q in K)return K[q];let be=A.value,xe=be[q];return typeof xe!="function"||(xe=xe.bind(be),K[q]=xe),xe},set(K,q,be){return A.value[q]=be,!0}})}else return this._createInstance(t,i,p)}}class br{constructor(t,i){this.type=t,this.name=i,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return Ad?new br(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):br._None}static traceCreation(t){return Ad?new br(0,t.name):br._None}branch(t,i){let o=new br(2,t.toString());return this._dep.push([t,i,o]),o}stop(){let t=Date.now()-this._start;br._totals+=t;let i=!1;function o(A,K){let q=[],be=new Array(A+1).join("	");for(const[xe,Fe,et]of K._dep)if(Fe&&et){i=!0,q.push(`${be}CREATES -> ${xe}`);let Ut=o(A+1,et);Ut&&q.push(Ut)}else q.push(`${be}uses -> ${xe}`);return q.join(`
`)}let p=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${o(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${br._totals.toFixed(2)}ms)`];(t>2||i)&&console.log(p.join(`
`))}}br._None=new class extends br{constructor(){super(-1,null)}stop(){}branch(){return this}},br._totals=0;var Hu=c(44349),ed=c(38097),$r=c(98674);class zu{constructor(){this._byResource=new Ae.Y9,this._byOwner=new Map}set(t,i,o){let p=this._byResource.get(t);p||(p=new Map,this._byResource.set(t,p)),p.set(i,o);let A=this._byOwner.get(i);A||(A=new Ae.Y9,this._byOwner.set(i,A)),A.set(t,o)}get(t,i){let o=this._byResource.get(t);return o==null?void 0:o.get(i)}delete(t,i){let o=!1,p=!1,A=this._byResource.get(t);A&&(o=A.delete(i));let K=this._byOwner.get(i);if(K&&(p=K.delete(t)),o!==p)throw new Error("illegal state");return o&&p}values(t){var i,o,p,A;return typeof t=="string"?(o=(i=this._byOwner.get(t))===null||i===void 0?void 0:i.values())!==null&&o!==void 0?o:a.$.empty():L.o.isUri(t)?(A=(p=this._byResource.get(t))===null||p===void 0?void 0:p.values())!==null&&A!==void 0?A:a.$.empty():a.$.map(a.$.concat(...this._byOwner.values()),K=>K[1])}}class Uu{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ae.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const i of t){const o=this._data.get(i);o&&this._substract(o);const p=this._resourceStats(i);this._add(p),this._data.set(i,p)}}_resourceStats(t){const i={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===Re.lg.inMemory||t.scheme===Re.lg.walkThrough||t.scheme===Re.lg.walkThroughSnippet)return i;for(const{severity:o}of this._service.read({resource:t}))o===$r.ZL.Error?i.errors+=1:o===$r.ZL.Warning?i.warnings+=1:o===$r.ZL.Info?i.infos+=1:i.unknowns+=1;return i}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class ga{constructor(){this._onMarkerChanged=new Q.D0({delay:0,merge:ga._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new zu,this._stats=new Uu(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,i){for(const o of i||[])this.changeOne(t,o,[])}changeOne(t,i,o){if((0,Ys.XY)(o))this._data.delete(i,t)&&this._onMarkerChanged.fire([i]);else{const p=[];for(const A of o){const K=ga._toMarker(t,i,A);K&&p.push(K)}this._data.set(i,t,p),this._onMarkerChanged.fire([i])}}static _toMarker(t,i,o){let{code:p,severity:A,message:K,source:q,startLineNumber:be,startColumn:xe,endLineNumber:Fe,endColumn:et,relatedInformation:Ut,tags:Mi}=o;if(K)return be=be>0?be:1,xe=xe>0?xe:1,Fe=Fe>=be?Fe:be,et=et>0?et:xe,{resource:i,owner:t,code:p,severity:A,message:K,source:q,startLineNumber:be,startColumn:xe,endLineNumber:Fe,endColumn:et,relatedInformation:Ut,tags:Mi}}read(t=Object.create(null)){let{owner:i,resource:o,severities:p,take:A}=t;if((!A||A<0)&&(A=-1),i&&o){const K=this._data.get(o,i);if(K){const q=[];for(const be of K)if(ga._accept(be,p)){const xe=q.push(be);if(A>0&&xe===A)break}return q}else return[]}else if(!i&&!o){const K=[];for(let q of this._data.values())for(let be of q)if(ga._accept(be,p)){const xe=K.push(be);if(A>0&&xe===A)return K}return K}else{const K=this._data.values(o!=null?o:i),q=[];for(const be of K)for(const xe of be)if(ga._accept(xe,p)){const Fe=q.push(xe);if(A>0&&Fe===A)return q}return q}}static _accept(t,i){return i===void 0||(i&t.severity)===t.severity}static _merge(t){const i=new Ae.Y9;for(let o of t)for(let p of o)i.set(p,!0);return Array.from(i.keys())}}var Pd=c(87060),Fd=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},fl=function(u,t){return function(i,o){t(i,o,u)}};let td=class{constructor(t){this._commandService=t}createMenu(t,i,o){return new id(t,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},o),this._commandService,i,this)}};td=Fd([fl(0,dt.H)],td);let id=class Ta{constructor(t,i,o,p,A){this._id=t,this._options=i,this._commandService=o,this._contextKeyService=p,this._menuService=A,this._disposables=new ii.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const K=new Fn.pY(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(K),this._disposables.add(ne.BH.onDidChangeMenu(xe=>{xe.has(t)&&K.schedule()}));const q=this._disposables.add(new ii.SL),be=()=>{const xe=new Fn.pY(()=>this._onDidChange.fire(this),i.eventDebounceDelay);q.add(xe),q.add(p.onDidChangeContext(Fe=>{Fe.affectsSome(this._contextKeys)&&xe.schedule()}))};this._onDidChange=new Q.Q5({onFirstListenerAdd:be,onLastListenerRemove:q.clear.bind(q)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=ne.BH.getMenuItems(this._id);let i;t.sort(Ta._compareMenuItems);for(const o of t){const p=o.group||"";(!i||i[0]!==p)&&(i=[p,[]],this._menuGroups.push(i)),i[1].push(o),this._collectContextKeys(o)}}_collectContextKeys(t){if(Ta._fillInKbExprKeys(t.when,this._contextKeys),(0,ne.vr)(t)){if(t.command.precondition&&Ta._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;Ta._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ne.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const i=[];for(let o of this._menuGroups){const[p,A]=o,K=[];for(const q of A)if(this._contextKeyService.contextMatchesRules(q.when)){const be=(0,ne.vr)(q)?new ne.U8(q.command,q.alt,t,this._contextKeyService,this._commandService):new ne.NZ(q,this._menuService,this._contextKeyService,t);K.push(be)}K.length>0&&i.push([p,K])}return i}static _fillInKbExprKeys(t,i){if(t)for(let o of t.keys())i.add(o)}static _compareMenuItems(t,i){let o=t.group,p=i.group;if(o!==p){if(o){if(!p)return-1}else return 1;if(o==="navigation")return-1;if(p==="navigation")return 1;let q=o.localeCompare(p);if(q!==0)return q}let A=t.order||0,K=i.order||0;return A<K?-1:A>K?1:Ta._compareTitles((0,ne.vr)(t)?t.command.title:t.title,(0,ne.vr)(i)?i.command.title:i.title)}static _compareTitles(t,i){const o=typeof t=="string"?t:t.original,p=typeof i=="string"?i:i.original;return o.localeCompare(p)}};id=Fd([fl(2,dt.H),fl(3,de.i6),fl(4,ne.co)],id);var $u=c(26479),Ku=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Bd=function(u,t){return function(i,o){t(i,o,u)}};class ju extends ii.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,ii.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,i){const o=[...this._markersData.keys()];this._markersData.clear();const p=this.model.deltaDecorations(o,i);for(let A=0;A<p.length;A++)this._markersData.set(p[A],t[A]);return o.length!==0||p.length!==0}getMarker(t){return this._markersData.get(t.id)}}let nd=class extends ii.JT{constructor(t,i){super(),this._markerService=i,this._onDidChangeMarker=this._register(new Q.Q5),this._markerDecorations=new Ae.Y9,t.getModels().forEach(o=>this._onModelAdded(o)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,i){const o=this._markerDecorations.get(t);return o&&o.getMarker(i)||null}_handleMarkerChange(t){t.forEach(i=>{const o=this._markerDecorations.get(i);o&&this._updateDecorations(o)})}_onModelAdded(t){const i=new ju(t);this._markerDecorations.set(t.uri,i),this._updateDecorations(i)}_onModelRemoved(t){const i=this._markerDecorations.get(t.uri);i&&(i.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===Re.lg.inMemory||t.uri.scheme===Re.lg.internal||t.uri.scheme===Re.lg.vscode)&&this._markerService&&this._markerService.read({resource:t.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[t.uri]))}_updateDecorations(t){const i=this._markerService.read({resource:t.model.uri,take:500});let o=i.map(p=>({range:this._createDecorationRange(t.model,p),options:this._createDecorationOption(p)}));t.update(i,o)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,i){let o=R.e.lift(i);return i.severity===$r.ZL.Hint&&!this._hasMarkerTag(i,1)&&!this._hasMarkerTag(i,2)&&(o=o.setEndPosition(o.startLineNumber,o.startColumn+2)),t.validateRange(o)}_createDecorationOption(t){let i,o,p,A,K;switch(t.severity){case $r.ZL.Hint:this._hasMarkerTag(t,2)?i=void 0:this._hasMarkerTag(t,1)?i="squiggly-unnecessary":i="squiggly-hint",p=0;break;case $r.ZL.Warning:i="squiggly-warning",o=(0,_s.EN)(uo.Re),p=20,K={color:(0,_s.EN)(fn.Iv),position:Ni.F5.Inline};break;case $r.ZL.Info:i="squiggly-info",o=(0,_s.EN)(uo.eS),p=10;break;case $r.ZL.Error:default:i="squiggly-error",o=(0,_s.EN)(uo.lK),p=30,K={color:(0,_s.EN)(fn.Gj),position:Ni.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(A="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(A="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:i,showIfCollapsed:!0,overviewRuler:{color:o,position:Ni.sh.Right},minimap:K,zIndex:p,inlineClassName:A}}_hasMarkerTag(t,i){return t.tags?t.tags.indexOf(i)>=0:!1}};nd=Ku([Bd(0,ts.q),Bd(1,$r.lT)],nd);var Wd=c(65026),Gu=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Vd=function(u,t){return function(i,o){t(i,o,u)}};let sd=class extends ii.JT{constructor(t,i){super(),this._contextKeyService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Q.Q5,this._accessibilityModeEnabledContext=De.U.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(p=>{p.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire())})),o(),this.onDidChangeScreenReaderOptimized(()=>o())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};sd=Gu([Vd(0,de.i6),Vd(1,d.Ui)],sd);var gl=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};class Zu{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(t,i){return gl(this,void 0,void 0,function*(){if(i){this.mapTextToType.set(i,t);return}try{return yield navigator.clipboard.writeText(t)}catch(A){console.error(A)}const o=document.activeElement,p=document.body.appendChild((0,it.$)("textarea",{"aria-hidden":!0}));p.style.height="1px",p.style.width="1px",p.style.position="absolute",p.value=t,p.focus(),p.select(),document.execCommand("copy"),o instanceof HTMLElement&&o.focus(),document.body.removeChild(p)})}readText(t){return gl(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return gl(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return gl(this,void 0,void 0,function*(){this.findText=t})}}var Yu=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Hd=function(u,t){return function(i,o){t(i,o,u)}},ml=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};const Ia=!1;function pl(u){return u.scheme===Re.lg.file?u.fsPath:u.path}let zd=0;class _l{constructor(t,i,o,p,A,K,q){this.id=++zd,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=i,this.strResource=o,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=p,this.groupOrder=A,this.sourceId=K,this.sourceOrder=q,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ud{constructor(t,i){this.resourceLabel=t,this.reason=i}}class $d{constructor(){this.elements=new Map}createMessage(){const t=[],i=[];for(const[,p]of this.elements)(p.reason===0?t:i).push(p.resourceLabel);let o=[];return t.length>0&&o.push(We.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),i.length>0&&o.push(We.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",i.join(", "))),o.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,i){this.elements.set(t,i)}delete(t){return this.elements.delete(t)}}class Qu{constructor(t,i,o,p,A,K,q){this.id=++zd,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=i,this.strResources=o,this.groupId=p,this.groupOrder=A,this.sourceId=K,this.sourceOrder=q,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,i,o){this.removedResources||(this.removedResources=new $d),this.removedResources.has(i)||this.removedResources.set(i,new Ud(t,o))}setValid(t,i,o){o?this.invalidatedResources&&(this.invalidatedResources.delete(i),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new $d),this.invalidatedResources.has(i)||this.invalidatedResources.set(i,new Ud(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Kd{constructor(t,i){this.resourceLabel=t,this.strResource=i,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let t=[];t.push(`* ${this.strResource}:`);for(let i=0;i<this._past.length;i++)t.push(`   * [UNDO] ${this._past[i]}`);for(let i=this._future.length-1;i>=0;i--)t.push(`   * [REDO] ${this._future[i]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,i){t.type===1?t.setValid(this.resourceLabel,this.strResource,i):t.setValid(i)}setElementsValidFlag(t,i){for(const o of this._past)i(o.actual)&&this._setElementValidFlag(o,t);for(const o of this._future)i(o.actual)&&this._setElementValidFlag(o,t)}pushElement(t){for(const i of this._future)i.type===1&&i.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const i=[];for(let o=0,p=this._past.length;o<p;o++)i.push(this._past[o].id);for(let o=this._future.length-1;o>=0;o--)i.push(this._future[o].id);return new Lr.YO(t,i)}restoreSnapshot(t){const i=t.elements.length;let o=!0,p=0,A=-1;for(let q=0,be=this._past.length;q<be;q++,p++){const xe=this._past[q];o&&(p>=i||xe.id!==t.elements[p])&&(o=!1,A=0),!o&&xe.type===1&&xe.removeResource(this.resourceLabel,this.strResource,0)}let K=-1;for(let q=this._future.length-1;q>=0;q--,p++){const be=this._future[q];o&&(p>=i||be.id!==t.elements[p])&&(o=!1,K=q),!o&&be.type===1&&be.removeResource(this.resourceLabel,this.strResource,0)}A!==-1&&(this._past=this._past.slice(0,A)),K!==-1&&(this._future=this._future.slice(K+1)),this.versionId++}getElements(){const t=[],i=[];for(const o of this._past)t.push(o.actual);for(const o of this._future)i.push(o.actual);return{past:t,future:i}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,i){for(let o=this._past.length-1;o>=0;o--)if(this._past[o]===t){i.has(this.strResource)?this._past[o]=i.get(this.strResource):this._past.splice(o,1);break}this.versionId++}splitFutureWorkspaceElement(t,i){for(let o=this._future.length-1;o>=0;o--)if(this._future[o]===t){i.has(this.strResource)?this._future[o]=i.get(this.strResource):this._future.splice(o,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class od{constructor(t){this.editStacks=t,this._versionIds=[];for(let i=0,o=this.editStacks.length;i<o;i++)this._versionIds[i]=this.editStacks[i].versionId}isValid(){for(let t=0,i=this.editStacks.length;t<i;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const jd=new Kd("","");jd.locked=!0;let vl=class{constructor(t,i){this._dialogService=t,this._notificationService=i,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const i of this._uriComparisonKeyComputers)if(i[0]===t.scheme)return i[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);let i=[];for(const o of this._editStacks)i.push(o[1].toString());console.log(i.join(`
`))}pushElement(t,i=Lr.Xt.None,o=Lr.gJ.None){if(t.type===0){const p=pl(t.resource),A=this.getUriComparisonKey(t.resource);this._pushElement(new _l(t,p,A,i.id,i.nextOrder(),o.id,o.nextOrder()))}else{const p=new Set,A=[],K=[];for(const q of t.resources){const be=pl(q),xe=this.getUriComparisonKey(q);p.has(xe)||(p.add(xe),A.push(be),K.push(xe))}A.length===1?this._pushElement(new _l(t,A[0],K[0],i.id,i.nextOrder(),o.id,o.nextOrder())):this._pushElement(new Qu(t,A,K,i.id,i.nextOrder(),o.id,o.nextOrder()))}Ia&&this._print("pushElement")}_pushElement(t){for(let i=0,o=t.strResources.length;i<o;i++){const p=t.resourceLabels[i],A=t.strResources[i];let K;this._editStacks.has(A)?K=this._editStacks.get(A):(K=new Kd(p,A),this._editStacks.set(A,K)),K.pushElement(t)}}getLastElement(t){const i=this.getUriComparisonKey(t);if(this._editStacks.has(i)){const o=this._editStacks.get(i);if(o.hasFutureElements())return null;const p=o.getClosestPastElement();return p?p.actual:null}return null}_splitPastWorkspaceElement(t,i){const o=t.actual.split(),p=new Map;for(const A of o){const K=pl(A.resource),q=this.getUriComparisonKey(A.resource),be=new _l(A,K,q,0,0,0,0);p.set(be.strResource,be)}for(const A of t.strResources){if(i&&i.has(A))continue;this._editStacks.get(A).splitPastWorkspaceElement(t,p)}}_splitFutureWorkspaceElement(t,i){const o=t.actual.split(),p=new Map;for(const A of o){const K=pl(A.resource),q=this.getUriComparisonKey(A.resource),be=new _l(A,K,q,0,0,0,0);p.set(be.strResource,be)}for(const A of t.strResources){if(i&&i.has(A))continue;this._editStacks.get(A).splitFutureWorkspaceElement(t,p)}}removeElements(t){const i=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(i)&&(this._editStacks.get(i).dispose(),this._editStacks.delete(i)),Ia&&this._print("removeElements")}setElementsValidFlag(t,i,o){const p=this.getUriComparisonKey(t);this._editStacks.has(p)&&this._editStacks.get(p).setElementsValidFlag(i,o),Ia&&this._print("setElementsValidFlag")}createSnapshot(t){const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).createSnapshot(t):new Lr.YO(t,[])}restoreSnapshot(t){const i=this.getUriComparisonKey(t.resource);if(this._editStacks.has(i)){const o=this._editStacks.get(i);o.restoreSnapshot(t),!o.hasPastElements()&&!o.hasFutureElements()&&(o.dispose(),this._editStacks.delete(i))}Ia&&this._print("restoreSnapshot")}getElements(t){const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let i=null,o=null;for(const[p,A]of this._editStacks){const K=A.getClosestPastElement();K&&K.sourceId===t&&(!i||K.sourceOrder>i.sourceOrder)&&(i=K,o=p)}return[i,o]}canUndo(t){if(t instanceof Lr.gJ){const[,o]=this._findClosestUndoElementWithSource(t.id);return!!o}const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).hasPastElements():!1}_onError(t,i){(0,An.dL)(t);for(const o of i.strResources)this.removeElements(o);this._notificationService.error(t)}_acquireLocks(t){for(const i of t.editStacks)if(i.locked)throw new Error("Cannot acquire edit stack lock");for(const i of t.editStacks)i.locked=!0;return()=>{for(const i of t.editStacks)i.locked=!1}}_safeInvokeWithLocks(t,i,o,p,A){const K=this._acquireLocks(o);let q;try{q=i()}catch(be){return K(),p.dispose(),this._onError(be,t)}return q?q.then(()=>(K(),p.dispose(),A()),be=>(K(),p.dispose(),this._onError(be,t))):(K(),p.dispose(),A())}_invokeWorkspacePrepare(t){return ml(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo=="undefined")return ii.JT.None;const i=t.actual.prepareUndoRedo();return typeof i=="undefined"?ii.JT.None:i})}_invokeResourcePrepare(t,i){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo=="undefined")return i(ii.JT.None);const o=t.actual.prepareUndoRedo();return o?(0,ii.Wf)(o)?i(o):o.then(p=>i(p)):i(ii.JT.None)}_getAffectedEditStacks(t){const i=[];for(const o of t.strResources)i.push(this._editStacks.get(o)||jd);return new od(i)}_tryToSplitAndUndo(t,i,o,p){if(i.canSplit())return this._splitPastWorkspaceElement(i,o),this._notificationService.warn(p),new Cl(this._undo(t,0,!0));for(const A of i.strResources)this.removeElements(A);return this._notificationService.warn(p),new Cl}_checkWorkspaceUndo(t,i,o,p){if(i.removedResources)return this._tryToSplitAndUndo(t,i,i.removedResources,We.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(p&&i.invalidatedResources)return this._tryToSplitAndUndo(t,i,i.invalidatedResources,We.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const A=[];for(const q of o.editStacks)q.getClosestPastElement()!==i&&A.push(q.resourceLabel);if(A.length>0)return this._tryToSplitAndUndo(t,i,null,We.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",i.label,A.join(", ")));const K=[];for(const q of o.editStacks)q.locked&&K.push(q.resourceLabel);return K.length>0?this._tryToSplitAndUndo(t,i,null,We.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,K.join(", "))):o.isValid()?null:this._tryToSplitAndUndo(t,i,null,We.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceUndo(t,i,o){const p=this._getAffectedEditStacks(i),A=this._checkWorkspaceUndo(t,i,p,!1);return A?A.returnValue:this._confirmAndExecuteWorkspaceUndo(t,i,p,o)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,i]of this._editStacks){const o=i.getClosestPastElement();if(o){if(o===t){const p=i.getSecondClosestPastElement();if(p&&p.groupId===t.groupId)return!0}if(o.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,i,o,p){return ml(this,void 0,void 0,function*(){if(i.canSplit()&&!this._isPartOfUndoGroup(i)){const q=yield this._dialogService.show(Ki.Z.Info,We.N("confirmWorkspace","Would you like to undo '{0}' across all files?",i.label),[We.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",o.editStacks.length),We.N("nok","Undo this File"),We.N("cancel","Cancel")],{cancelId:2});if(q.choice===2)return;if(q.choice===1)return this._splitPastWorkspaceElement(i,null),this._undo(t,0,!0);const be=this._checkWorkspaceUndo(t,i,o,!1);if(be)return be.returnValue;p=!0}let A;try{A=yield this._invokeWorkspacePrepare(i)}catch(q){return this._onError(q,i)}const K=this._checkWorkspaceUndo(t,i,o,!0);if(K)return A.dispose(),K.returnValue;for(const q of o.editStacks)q.moveBackward(i);return this._safeInvokeWithLocks(i,()=>i.actual.undo(),o,A,()=>this._continueUndoInGroup(i.groupId,p))})}_resourceUndo(t,i,o){if(!i.isValid){t.flushAllElements();return}if(t.locked){const p=We.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(p);return}return this._invokeResourcePrepare(i,p=>(t.moveBackward(i),this._safeInvokeWithLocks(i,()=>i.actual.undo(),new od([t]),p,()=>this._continueUndoInGroup(i.groupId,o))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let i=null,o=null;for(const[p,A]of this._editStacks){const K=A.getClosestPastElement();K&&K.groupId===t&&(!i||K.groupOrder>i.groupOrder)&&(i=K,o=p)}return[i,o]}_continueUndoInGroup(t,i){if(!t)return;const[,o]=this._findClosestUndoElementInGroup(t);if(o)return this._undo(o,0,i)}undo(t){if(t instanceof Lr.gJ){const[,i]=this._findClosestUndoElementWithSource(t.id);return i?this._undo(i,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,i=0,o){if(!this._editStacks.has(t))return;const p=this._editStacks.get(t),A=p.getClosestPastElement();if(!A)return;if(A.groupId){const[q,be]=this._findClosestUndoElementInGroup(A.groupId);if(A!==q&&be)return this._undo(be,i,o)}if((A.sourceId!==i||A.confirmBeforeUndo)&&!o)return this._confirmAndContinueUndo(t,i,A);try{return A.type===1?this._workspaceUndo(t,A,o):this._resourceUndo(p,A,o)}finally{Ia&&this._print("undo")}}_confirmAndContinueUndo(t,i,o){return ml(this,void 0,void 0,function*(){if((yield this._dialogService.show(Ki.Z.Info,We.N("confirmDifferentSource","Would you like to undo '{0}'?",o.label),[We.N("confirmDifferentSource.yes","Yes"),We.N("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(t,i,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let i=null,o=null;for(const[p,A]of this._editStacks){const K=A.getClosestFutureElement();K&&K.sourceId===t&&(!i||K.sourceOrder<i.sourceOrder)&&(i=K,o=p)}return[i,o]}canRedo(t){if(t instanceof Lr.gJ){const[,o]=this._findClosestRedoElementWithSource(t.id);return!!o}const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).hasFutureElements():!1}_tryToSplitAndRedo(t,i,o,p){if(i.canSplit())return this._splitFutureWorkspaceElement(i,o),this._notificationService.warn(p),new Cl(this._redo(t));for(const A of i.strResources)this.removeElements(A);return this._notificationService.warn(p),new Cl}_checkWorkspaceRedo(t,i,o,p){if(i.removedResources)return this._tryToSplitAndRedo(t,i,i.removedResources,We.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(p&&i.invalidatedResources)return this._tryToSplitAndRedo(t,i,i.invalidatedResources,We.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const A=[];for(const q of o.editStacks)q.getClosestFutureElement()!==i&&A.push(q.resourceLabel);if(A.length>0)return this._tryToSplitAndRedo(t,i,null,We.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",i.label,A.join(", ")));const K=[];for(const q of o.editStacks)q.locked&&K.push(q.resourceLabel);return K.length>0?this._tryToSplitAndRedo(t,i,null,We.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,K.join(", "))):o.isValid()?null:this._tryToSplitAndRedo(t,i,null,We.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceRedo(t,i){const o=this._getAffectedEditStacks(i),p=this._checkWorkspaceRedo(t,i,o,!1);return p?p.returnValue:this._executeWorkspaceRedo(t,i,o)}_executeWorkspaceRedo(t,i,o){return ml(this,void 0,void 0,function*(){let p;try{p=yield this._invokeWorkspacePrepare(i)}catch(K){return this._onError(K,i)}const A=this._checkWorkspaceRedo(t,i,o,!0);if(A)return p.dispose(),A.returnValue;for(const K of o.editStacks)K.moveForward(i);return this._safeInvokeWithLocks(i,()=>i.actual.redo(),o,p,()=>this._continueRedoInGroup(i.groupId))})}_resourceRedo(t,i){if(!i.isValid){t.flushAllElements();return}if(t.locked){const o=We.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(o);return}return this._invokeResourcePrepare(i,o=>(t.moveForward(i),this._safeInvokeWithLocks(i,()=>i.actual.redo(),new od([t]),o,()=>this._continueRedoInGroup(i.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let i=null,o=null;for(const[p,A]of this._editStacks){const K=A.getClosestFutureElement();K&&K.groupId===t&&(!i||K.groupOrder<i.groupOrder)&&(i=K,o=p)}return[i,o]}_continueRedoInGroup(t){if(!t)return;const[,i]=this._findClosestRedoElementInGroup(t);if(i)return this._redo(i)}redo(t){if(t instanceof Lr.gJ){const[,i]=this._findClosestRedoElementWithSource(t.id);return i?this._redo(i):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),o=i.getClosestFutureElement();if(o){if(o.groupId){const[p,A]=this._findClosestRedoElementInGroup(o.groupId);if(o!==p&&A)return this._redo(A)}try{return o.type===1?this._workspaceRedo(t,o):this._resourceRedo(i,o)}finally{Ia&&this._print("redo")}}}};vl=Yu([Hd(0,kd),Hd(1,Qt.lT)],vl);class Cl{constructor(t){this.returnValue=t}}(0,Wd.z)(Lr.tJ,vl);var Gd=c(56811);const Xu={buttonBackground:Tr.Il.fromHex("#0E639C"),buttonHoverBackground:Tr.Il.fromHex("#006BB3"),buttonForeground:Tr.Il.white};class Zd extends ii.JT{constructor(t,i){super(),this._onDidClick=this._register(new Q.Q5),this.options=i||Object.create(null),(0,At.jB)(this.options,Xu,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(pr.o.addTarget(this._element)),[it.tw.CLICK,pr.t.Tap].forEach(o=>{this._register((0,it.nm)(this._element,o,p=>{if(!this.enabled){it.zB.stop(p);return}this._onDidClick.fire(p)}))}),this._register((0,it.nm)(this._element,it.tw.KEY_DOWN,o=>{const p=new jt.y(o);let A=!1;this.enabled&&(p.equals(3)||p.equals(10))?(this._onDidClick.fire(o),A=!0):p.equals(9)&&(this._element.blur(),A=!0),A&&it.zB.stop(p,!0)})),this._register((0,it.nm)(this._element,it.tw.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,it.nm)(this._element,it.tw.MOUSE_OUT,o=>{this.applyStyles()})),this.focusTracker=this._register((0,it.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,i;this.options.secondary?(i=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(i=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const o=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=i,this._element.style.backgroundColor=t,this._element.style.borderWidth=o?"1px":"",this._element.style.borderStyle=o?"solid":"",this._element.style.borderColor=o}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,it.mc)(this._element,...(0,Gd.T)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Yd=c(85207);const Qd="done",Xd="active",rd="infinite",Jd="discrete",Ju={progressBarBackground:Tr.Il.fromHex("#0E70C0")};class qu extends ii.JT{constructor(t,i){super(),this.options=i||Object.create(null),(0,At.jB)(this.options,Ju,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Fn.pY(()=>(0,it.$Z)(this.element),0)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Xd,rd,Jd),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(Qd),this.element.classList.contains(rd)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Jd,Qd),this.element.classList.add(Xd,rd),this}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}var ec=c(44742);const ad={},tc=new ec.R("quick-input-button-icon-");function ld(u){if(!u)return;let t;const i=u.dark.toString();return ad[i]?t=ad[i]:(t=tc.nextId(),it.fk(`.${t}`,`background-image: ${it.wY(u.light||u.dark)}`),it.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${it.wY(u.dark)}`),ad[i]=t),t}const ic={ctrlCmd:!1,alt:!1};var Va;(function(u){u[u.Blur=1]="Blur",u[u.Gesture=2]="Gesture",u[u.Other=3]="Other"})(Va||(Va={}));var Or;(function(u){u[u.NONE=0]="NONE",u[u.FIRST=1]="FIRST",u[u.SECOND=2]="SECOND",u[u.LAST=3]="LAST"})(Or||(Or={}));var nc=c(97862);const sc=it.$;class oc extends ii.JT{constructor(t){super(),this.parent=t,this.onKeyDown=i=>it.nm(this.inputBox.inputElement,it.tw.KEY_DOWN,o=>{i(new jt.y(o))}),this.onMouseDown=i=>it.nm(this.inputBox.inputElement,it.tw.MOUSE_DOWN,o=>{i(new Bo.n(o))}),this.onDidChange=i=>this.inputBox.onDidChange(i),this.container=it.R3(this.parent,sc(".quick-input-box")),this.inputBox=this._register(new nc.W(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,i){this.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===Ki.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===Ki.Z.Info?1:t===Ki.Z.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===Ki.Z.Info?1:t===Ki.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}var rc=c(34650),ac=c(26974);const bl=it.$;class dd{constructor(t,i,o){this.os=i,this.keyElements=new Set,this.options=o||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=it.R3(t,bl(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,i){this.didEverRender&&this.keybinding===t&&dd.areSame(this.matches,i)||(this.keybinding=t,this.matches=i,this.render())}render(){if(this.clear(),this.keybinding){let[t,i]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),i&&(it.R3(this.domNode,bl("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,i,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){it.PO(this.domNode),this.keyElements.clear()}renderPart(t,i,o){const p=hi.xo.modifierLabels[this.os];i.ctrlKey&&this.renderKey(t,p.ctrlKey,!!(o!=null&&o.ctrlKey),p.separator),i.shiftKey&&this.renderKey(t,p.shiftKey,!!(o!=null&&o.shiftKey),p.separator),i.altKey&&this.renderKey(t,p.altKey,!!(o!=null&&o.altKey),p.separator),i.metaKey&&this.renderKey(t,p.metaKey,!!(o!=null&&o.metaKey),p.separator);const A=i.keyLabel;A&&this.renderKey(t,A,!!(o!=null&&o.keyCode),"")}renderKey(t,i,o,p){it.R3(t,this.createKeyElement(i,o?".highlight":"")),p&&it.R3(t,bl("span.monaco-keybinding-key-separator",void 0,p))}renderUnbound(t){it.R3(t,this.createKeyElement((0,We.N)("unbound","Unbound")))}createKeyElement(t,i=""){const o=bl("span.monaco-keybinding-key"+i,void 0,t);return this.keyElements.add(o),o}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const i of this.keyElements)this.labelBackground&&(i.style.backgroundColor=(t=this.labelBackground)===null||t===void 0?void 0:t.toString()),this.labelBorder&&(i.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(i.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,i){return t===i||!t&&!i?!0:!!t&&!!i&&(0,At.fS)(t.firstPart,i.firstPart)&&(0,At.fS)(t.chordPart,i.chordPart)}}const qd=new Fn.Ue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}});function lc(u,t,i=!1){const o=u||"",p=t||"",A=qd.value.collator.compare(o,p);return qd.value.collatorIsNumeric&&A===0&&o!==p?o<p?-1:1:A}function dc(u,t,i){const o=u.toLowerCase(),p=t.toLowerCase(),A=uc(u,t,i);if(A)return A;const K=o.endsWith(i),q=p.endsWith(i);if(K!==q)return K?-1:1;const be=lc(o,p);return be!==0?be:o.localeCompare(p)}function uc(u,t,i){const o=u.toLowerCase(),p=t.toLowerCase(),A=o.startsWith(i),K=p.startsWith(i);if(A!==K)return A?-1:1;if(A&&K){if(o.length<p.length)return-1;if(o.length>p.length)return 1}return 0}var eu=c(49898),tu=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},cc=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};const Kr=it.$;class hc{constructor(t){this.hidden=!1,this._onChecked=new Q.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class Ha{get templateId(){return Ha.ID}renderTemplate(t){const i=Object.create(null);i.toDisposeElement=[],i.toDisposeTemplate=[],i.entry=it.R3(t,Kr(".quick-input-list-entry"));const o=it.R3(i.entry,Kr("label.quick-input-list-label"));i.toDisposeTemplate.push(it.mu(o,it.tw.CLICK,xe=>{i.checkbox.offsetParent||xe.preventDefault()})),i.checkbox=it.R3(o,Kr("input.quick-input-list-checkbox")),i.checkbox.type="checkbox",i.toDisposeTemplate.push(it.mu(i.checkbox,it.tw.CHANGE,xe=>{i.element.checked=i.checkbox.checked}));const p=it.R3(o,Kr(".quick-input-list-rows")),A=it.R3(p,Kr(".quick-input-list-row")),K=it.R3(p,Kr(".quick-input-list-row"));i.label=new ac.g(A,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const q=it.R3(A,Kr(".quick-input-list-entry-keybinding"));i.keybinding=new dd(q,$i.OS);const be=it.R3(K,Kr(".quick-input-list-label-meta"));return i.detail=new rc.q(be,!0),i.separator=it.R3(i.entry,Kr(".quick-input-list-separator")),i.actionBar=new gs.o(i.entry),i.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),i.toDisposeTemplate.push(i.actionBar),i}renderElement(t,i,o){o.toDisposeElement=(0,ii.B9)(o.toDisposeElement),o.element=t,o.checkbox.checked=t.checked,o.toDisposeElement.push(t.onChecked(xe=>o.checkbox.checked=xe));const{labelHighlights:p,descriptionHighlights:A,detailHighlights:K}=t,q=Object.create(null);q.matches=p||[],q.descriptionTitle=t.saneDescription,q.descriptionMatches=A||[],q.extraClasses=t.item.iconClasses,q.italic=t.item.italic,q.strikethrough=t.item.strikethrough,o.label.setLabel(t.saneLabel,t.saneDescription,q),o.keybinding.set(t.item.keybinding),o.detail.set(t.saneDetail,K),t.separator&&t.separator.label?(o.separator.textContent=t.separator.label,o.separator.style.display=""):o.separator.style.display="none",o.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),o.actionBar.clear();const be=t.item.buttons;be&&be.length?(o.actionBar.push(be.map((xe,Fe)=>{let et=xe.iconClass||(xe.iconPath?ld(xe.iconPath):void 0);xe.alwaysVisible&&(et=et?`${et} always-visible`:"always-visible");const Ut=new $s.aU(`id-${Fe}`,"",et,!0,()=>cc(this,void 0,void 0,function*(){t.fireButtonTriggered({button:xe,item:t.item})}));return Ut.tooltip=xe.tooltip||"",Ut}),{icon:!0,label:!1}),o.entry.classList.add("has-actions")):o.entry.classList.remove("has-actions")}disposeElement(t,i,o){o.toDisposeElement=(0,ii.B9)(o.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=(0,ii.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,ii.B9)(t.toDisposeTemplate)}}Ha.ID="listelement";class fc{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return Ha.ID}}var Ao;(function(u){u[u.First=1]="First",u[u.Second=2]="Second",u[u.Last=3]="Last",u[u.Next=4]="Next",u[u.Previous=5]="Previous",u[u.NextPage=6]="NextPage",u[u.PreviousPage=7]="PreviousPage"})(Ao||(Ao={}));class ud{constructor(t,i,o){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Q.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Q.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Q.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Q.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Q.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Q.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Q.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=i,this.container=it.R3(this.parent,Kr(".quick-input-list"));const p=new fc,A=new mc;this.list=o.createList("QuickInput",this.container,p,[new Ha],{identityProvider:{getId:K=>K.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:A}),this.list.getHTMLElement().id=i,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(K=>{const q=new jt.y(K);switch(q.keyCode){case 10:this.toggleCheckbox();break;case 31:($i.dz?K.metaKey:K.ctrlKey)&&this.list.setFocus((0,Ys.w6)(this.list.length));break;case 16:const be=this.list.getFocus();be.length===1&&be[0]===0&&this._onLeave.fire();break;case 18:const xe=this.list.getFocus();xe.length===1&&xe[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(q)})),this.disposables.push(this.list.onMouseDown(K=>{K.browserEvent.button!==2&&K.browserEvent.preventDefault()})),this.disposables.push(it.nm(this.container,it.tw.CLICK,K=>{(K.x||K.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(K=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(K=>{typeof K.index=="number"&&(K.browserEvent.preventDefault(),this.list.setSelection([K.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Q.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(i=>i.item))}get onDidChangeSelection(){return Q.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(i=>i.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,i=!0){for(let o=0,p=t.length;o<p;o++){const A=t[o];if(!A.hidden)if(A.checked)i=!0;else return!1}return i}getCheckedCount(){let t=0;const i=this.elements;for(let o=0,p=i.length;o<p;o++)i[o].checked&&t++;return t}getVisibleCount(){let t=0;const i=this.elements;for(let o=0,p=i.length;o<p;o++)i[o].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(i=>{i.hidden||(i.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,ii.B9)(this.elementDisposables);const i=o=>this.fireButtonTriggered(o);this.inputElements=t,this.elements=t.reduce((o,p,A)=>{var K,q,be;if(p.type!=="separator"){const xe=A&&t[A-1],Fe=p.label&&p.label.replace(/\r?\n/g," "),et=p.meta&&p.meta.replace(/\r?\n/g," "),Ut=p.description&&p.description.replace(/\r?\n/g," "),Mi=p.detail&&p.detail.replace(/\r?\n/g," "),Oi=p.ariaLabel||[Fe,Ut,Mi].map(nn=>(0,so.JL)(nn)).filter(nn=>!!nn).join(", ");o.push(new hc({index:A,item:p,saneLabel:Fe,saneMeta:et,saneAriaLabel:Oi,saneDescription:Ut,saneDetail:Mi,labelHighlights:(K=p.highlights)===null||K===void 0?void 0:K.label,descriptionHighlights:(q=p.highlights)===null||q===void 0?void 0:q.description,detailHighlights:(be=p.highlights)===null||be===void 0?void 0:be.detail,checked:!1,separator:xe&&xe.type==="separator"?xe:void 0,fireButtonTriggered:i}))}return o},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(o=>o.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((o,p,A)=>(o.set(p.item,A),o),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(i=>this.elementsToIndexes.has(i)).map(i=>this.elementsToIndexes.get(i))),t.length>0){const i=this.list.getFocus()[0];typeof i=="number"&&this.list.reveal(i)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(i=>this.elementsToIndexes.has(i)).map(i=>this.elementsToIndexes.get(i)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const i=new Set;for(const o of t)i.add(o);for(const o of this.elements)o.checked=i.has(o.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===Ao.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=Ao.First),t===Ao.Previous&&this.list.getFocus()[0]===0&&(t=Ao.Last),t===Ao.Second&&this.list.length<2&&(t=Ao.First),t){case Ao.First:this.list.focusFirst();break;case Ao.Second:this.list.focusNth(1);break;case Ao.Last:this.list.focusLast();break;case Ao.Next:this.list.focusNext();break;case Ao.Previous:this.list.focusPrevious();break;case Ao.NextPage:this.list.focusNextPage();break;case Ao.PreviousPage:this.list.focusPreviousPage();break}const i=this.list.getFocus()[0];typeof i=="number"&&this.list.reveal(i)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(o=>{o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!1;const p=o.index&&this.inputElements[o.index-1];o.separator=p&&p.type==="separator"?p:void 0});else{let o;this.elements.forEach(p=>{const A=this.matchOnLabel?(0,Nn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(p.saneLabel))):void 0,K=this.matchOnDescription?(0,Nn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(p.saneDescription||""))):void 0,q=this.matchOnDetail?(0,Nn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(p.saneDetail||""))):void 0,be=this.matchOnMeta?(0,Nn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(p.saneMeta||""))):void 0;if(A||K||q||be?(p.labelHighlights=A,p.descriptionHighlights=K,p.detailHighlights=q,p.hidden=!1):(p.labelHighlights=void 0,p.descriptionHighlights=void 0,p.detailHighlights=void 0,p.hidden=!p.item.alwaysShow),p.separator=void 0,!this.sortByLabel){const xe=p.index&&this.inputElements[p.index-1];o=xe&&xe.type==="separator"?xe:o,o&&!p.hidden&&(p.separator=o,o=void 0)}})}const i=this.elements.filter(o=>!o.hidden);if(this.sortByLabel&&t){const o=t.toLowerCase();i.sort((p,A)=>gc(p,A,o))}return this.elementsToIndexes=i.reduce((o,p,A)=>(o.set(p.item,A),o),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),i=this.allVisibleChecked(t);for(const o of t)o.checked=!i}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,ii.B9)(this.elementDisposables),this.disposables=(0,ii.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}tu([eu.H],ud.prototype,"onDidChangeFocus",null),tu([eu.H],ud.prototype,"onDidChangeSelection",null);function gc(u,t,i){const o=u.labelHighlights||[],p=t.labelHighlights||[];return o.length&&!p.length?-1:!o.length&&p.length?1:o.length===0&&p.length===0?0:dc(u.saneLabel,t.saneLabel,i)}class mc{getWidgetAriaLabel(){return(0,We.N)("quickInput","Quick Input")}getAriaLabel(t){return t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var iu=function(u,t,i,o){function p(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function q(Fe){try{xe(o.next(Fe))}catch(et){K(et)}}function be(Fe){try{xe(o.throw(Fe))}catch(et){K(et)}}function xe(Fe){Fe.done?A(Fe.value):p(Fe.value).then(q,be)}xe((o=o.apply(u,t||[])).next())})};const wr=it.$,cd={iconClass:(0,so.CM)("quick-input-back",so.lA.arrowLeft).classNames,tooltip:(0,We.N)("quickInput.back","Back"),handle:-1};class wl extends ii.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=wl.noPromptMessage,this._severity=Ki.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.onDidHideEmitter=this._register(new Q.Q5),this.onDisposeEmitter=this._register(new Q.Q5),this.visibleDisposables=this._register(new ii.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const i=this._ignoreFocusOut!==t&&!$i.gn;this._ignoreFocusOut=t&&!$i.gn,i&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=Va.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const i=this.getDescription();if(this.ui.description1.textContent!==i&&(this.ui.description1.textContent=i),this.ui.description2.textContent!==i&&(this.ui.description2.textContent=i),this.busy&&!this.busyDelay&&(this.busyDelay=new Fn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const p=this.buttons.filter(K=>K===cd);this.ui.leftActionBar.push(p.map((K,q)=>{const be=new $s.aU(`id-${q}`,"",K.iconClass||ld(K.iconPath),!0,()=>iu(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(K)}));return be.tooltip=K.tooltip||"",be}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const A=this.buttons.filter(K=>K!==cd);this.ui.rightActionBar.push(A.map((K,q)=>{const be=new $s.aU(`id-${q}`,"",K.iconClass||ld(K.iconPath),!0,()=>iu(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(K)}));return be.tooltip=K.tooltip||"",be}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,it.mc(this.ui.message,...(0,Gd.T)(o))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,We.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==Ki.Z.Ignore){const i=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=i.foreground?`${i.foreground}`:"",this.ui.message.style.backgroundColor=i.background?`${i.background}`:"",this.ui.message.style.border=i.border?`1px solid ${i.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}wl.noPromptMessage=(0,We.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class za extends wl{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Q.Q5),this.onWillAcceptEmitter=this._register(new Q.Q5),this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Or.NONE:Or.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Q.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Q.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Q.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?ic:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ao.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{if(t===this.value)return;this._value=t,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(t)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(Ao.Next),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ao.Previous):this.ui.list.focus(Ao.Last),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 12:this.ui.list.focus(Ao.NextPage),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 11:this.ui.list.focus(Ao.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Ao.First),it.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Ao.Last),it.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Ys.fS)(t,this._activeItems,(i,o)=>i===o)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:i})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,Ys.fS)(t,this._selectedItems,(o,p)=>o===p)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(i instanceof MouseEvent&&i.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,Ys.fS)(t,this._selectedItems,(i,o)=>i===o)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let i=!1;this.onWillAcceptEmitter.fire({veto:()=>i=!0}),i||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return it.nm(this.ui.container,it.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const i=new jt.y(t),o=i.keyCode;this._quickNavigate.keybindings.some(K=>{const[q,be]=K.getParts();return be?!1:q.shiftKey&&o===4?!(i.ctrlKey||i.altKey||i.metaKey):!!(q.altKey&&o===6||q.ctrlKey&&o===5||q.metaKey&&o===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,i=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",i&&!this.description);const o={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!i,progressBar:!i,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(o),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const p=this.ariaLabel||this.placeholder||za.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==p&&(this.ui.inputBox.ariaLabel=p),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Or.NONE:this._itemActivation=Or.FIRST;break;case Or.SECOND:this.ui.list.focus(Ao.Second),this._itemActivation=Or.FIRST;break;case Or.LAST:this.ui.list.focus(Ao.Last),this._itemActivation=Or.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),o.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ao.First)),this.keepScrollPosition&&(this.scrollTop=t)}}za.DEFAULT_ARIA_LABEL=(0,We.N)("quickInputBox.ariaLabel","Type to narrow down results.");class Sl extends ii.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Q.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Q.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=i=>{this.keyMods.ctrlCmd=i.ctrlKey||i.metaKey,this.keyMods.alt=i.altKey};this._register(it.nm(window,it.tw.KEY_DOWN,t,!0)),this._register(it.nm(window,it.tw.KEY_UP,t,!0)),this._register(it.nm(window,it.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=it.R3(this.parentElement,wr(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=it.dS(t),o=it.R3(t,wr(".quick-input-titlebar")),p=this._register(new gs.o(o));p.domNode.classList.add("quick-input-left-action-bar");const A=it.R3(o,wr(".quick-input-title")),K=this._register(new gs.o(o));K.domNode.classList.add("quick-input-right-action-bar");const q=it.R3(t,wr(".quick-input-description")),be=it.R3(t,wr(".quick-input-header")),xe=it.R3(be,wr("input.quick-input-check-all"));xe.type="checkbox",this._register(it.mu(xe,it.tw.CHANGE,zn=>{const As=xe.checked;On.setAllVisibleChecked(As)})),this._register(it.nm(xe,it.tw.CLICK,zn=>{(zn.x||zn.y)&&Mi.setFocus()}));const Fe=it.R3(be,wr(".quick-input-description")),et=it.R3(be,wr(".quick-input-and-message")),Ut=it.R3(et,wr(".quick-input-filter")),Mi=this._register(new oc(Ut));Mi.setAttribute("aria-describedby",`${this.idPrefix}message`);const Oi=it.R3(Ut,wr(".quick-input-visible-count"));Oi.setAttribute("aria-live","polite"),Oi.setAttribute("aria-atomic","true");const nn=new Yd.Z(Oi,{countFormat:(0,We.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),Dn=it.R3(Ut,wr(".quick-input-count"));Dn.setAttribute("aria-live","polite");const Hn=new Yd.Z(Dn,{countFormat:(0,We.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Kn=it.R3(be,wr(".quick-input-action")),Sn=new Zd(Kn);Sn.label=(0,We.N)("ok","OK"),this._register(Sn.onDidClick(zn=>{this.onDidAcceptEmitter.fire()}));const Mn=it.R3(be,wr(".quick-input-action")),Ws=new Zd(Mn);Ws.label=(0,We.N)("custom","Custom"),this._register(Ws.onDidClick(zn=>{this.onDidCustomEmitter.fire()}));const ws=it.R3(et,wr(`#${this.idPrefix}message.quick-input-message`)),On=this._register(new ud(t,this.idPrefix+"list",this.options));this._register(On.onChangedAllVisibleChecked(zn=>{xe.checked=zn})),this._register(On.onChangedVisibleCount(zn=>{nn.setCount(zn)})),this._register(On.onChangedCheckedCount(zn=>{Hn.setCount(zn)})),this._register(On.onLeave(()=>{setTimeout(()=>{Mi.setFocus(),this.controller instanceof za&&this.controller.canSelectMany&&On.clearFocus()},0)})),this._register(On.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const In=new qu(t);In.getContainer().classList.add("quick-input-progress");const ss=it.go(t);return this._register(ss),this._register(it.nm(t,it.tw.FOCUS,zn=>{this.previousFocusElement=zn.relatedTarget instanceof HTMLElement?zn.relatedTarget:void 0},!0)),this._register(ss.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Va.Blur),this.previousFocusElement=void 0})),this._register(it.nm(t,it.tw.FOCUS,zn=>{Mi.setFocus()})),this._register(it.nm(t,it.tw.KEY_DOWN,zn=>{const As=new jt.y(zn);switch(As.keyCode){case 3:it.zB.stop(zn,!0),this.onDidAcceptEmitter.fire();break;case 9:it.zB.stop(zn,!0),this.hide(Va.Gesture);break;case 2:if(!As.altKey&&!As.ctrlKey&&!As.metaKey){const wo=[".action-label.codicon"];t.classList.contains("show-checkboxes")?wo.push("input"):wo.push("input[type=text]"),this.getUI().list.isDisplayed()&&wo.push(".monaco-list");const us=t.querySelectorAll(wo.join(", "));As.shiftKey&&As.target===us[0]?(it.zB.stop(zn,!0),us[us.length-1].focus()):!As.shiftKey&&As.target===us[us.length-1]&&(it.zB.stop(zn,!0),us[0].focus())}break}})),this.ui={container:t,styleSheet:i,leftActionBar:p,titleBar:o,title:A,description1:q,description2:Fe,rightActionBar:K,checkAll:xe,filterContainer:Ut,inputBox:Mi,visibleCountContainer:Oi,visibleCount:nn,countContainer:Dn,count:Hn,okContainer:Kn,ok:Sn,message:ws,customButtonContainer:Mn,customButton:Ws,list:On,progressBar:In,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:zn=>this.show(zn),hide:()=>this.hide(),setVisibilities:zn=>this.setVisibilities(zn),setComboboxAccessibility:zn=>this.setComboboxAccessibility(zn),setEnabled:zn=>this.setEnabled(zn),setContextKey:zn=>this.options.setContextKey(zn)},this.updateStyles(),this.ui}pick(t,i={},o=O.T.None){return new Promise((p,A)=>{let K=Fe=>{K=p,i.onKeyMods&&i.onKeyMods(q.keyMods),p(Fe)};if(o.isCancellationRequested){K(void 0);return}const q=this.createQuickPick();let be;const xe=[q,q.onDidAccept(()=>{if(q.canSelectMany)K(q.selectedItems.slice()),q.hide();else{const Fe=q.activeItems[0];Fe&&(K(Fe),q.hide())}}),q.onDidChangeActive(Fe=>{const et=Fe[0];et&&i.onDidFocus&&i.onDidFocus(et)}),q.onDidChangeSelection(Fe=>{if(!q.canSelectMany){const et=Fe[0];et&&(K(et),q.hide())}}),q.onDidTriggerItemButton(Fe=>i.onDidTriggerItemButton&&i.onDidTriggerItemButton(Object.assign(Object.assign({},Fe),{removeItem:()=>{const et=q.items.indexOf(Fe.item);if(et!==-1){const Ut=q.items.slice(),Mi=Ut.splice(et,1),Oi=q.activeItems.filter(Dn=>Dn!==Mi[0]),nn=q.keepScrollPosition;q.keepScrollPosition=!0,q.items=Ut,Oi&&(q.activeItems=Oi),q.keepScrollPosition=nn}}}))),q.onDidChangeValue(Fe=>{be&&!Fe&&(q.activeItems.length!==1||q.activeItems[0]!==be)&&(q.activeItems=[be])}),o.onCancellationRequested(()=>{q.hide()}),q.onDidHide(()=>{(0,ii.B9)(xe),K(void 0)})];q.title=i.title,q.canSelectMany=!!i.canPickMany,q.placeholder=i.placeHolder,q.ignoreFocusOut=!!i.ignoreFocusLost,q.matchOnDescription=!!i.matchOnDescription,q.matchOnDetail=!!i.matchOnDetail,q.matchOnLabel=i.matchOnLabel===void 0||i.matchOnLabel,q.autoFocusOnList=i.autoFocusOnList===void 0||i.autoFocusOnList,q.quickNavigate=i.quickNavigate,q.contextKey=i.contextKey,q.busy=!0,Promise.all([t,i.activeItem]).then(([Fe,et])=>{be=et,q.busy=!1,q.items=Fe,q.canSelectMany&&(q.selectedItems=Fe.filter(Ut=>Ut.type!=="separator"&&Ut.picked)),be&&(q.activeItems=[be])}),q.show(),Promise.resolve(t).then(void 0,Fe=>{A(Fe),q.hide()})})}createQuickPick(){const t=this.getUI();return new za(t)}show(t){const i=this.getUI();this.onShowEmitter.fire();const o=this.controller;this.controller=t,o&&o.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",i.rightActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration(Ki.Z.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),it.mc(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),i.inputBox.ariaLabel="";const p=this.options.backKeybindingLabel();cd.tooltip=p?(0,We.N)("quickInput.backWithKeybinding","Back ({0})",p):(0,We.N)("quickInput.back","Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus()}setVisibilities(t){const i=this.getUI();i.title.style.display=t.title?"":"none",i.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",i.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",i.checkAll.style.display=t.checkAll?"":"none",i.filterContainer.style.display=t.inputBox?"":"none",i.visibleCountContainer.style.display=t.visibleCount?"":"none",i.countContainer.style.display=t.count?"":"none",i.okContainer.style.display=t.ok?"":"none",i.customButtonContainer.style.display=t.customButton?"":"none",i.message.style.display=t.message?"":"none",i.progressBar.getContainer().style.display=t.progressBar?"":"none",i.list.display(!!t.list),i.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const i=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(i.inputBox.setAttribute("role","combobox"),i.inputBox.setAttribute("aria-haspopup","true"),i.inputBox.setAttribute("aria-autocomplete","list"),i.inputBox.setAttribute("aria-activedescendant",i.list.getActiveDescendant()||"")):(i.inputBox.removeAttribute("role"),i.inputBox.removeAttribute("aria-haspopup"),i.inputBox.removeAttribute("aria-autocomplete"),i.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const i of this.getUI().leftActionBar.viewItems)i.getAction().enabled=t;for(const i of this.getUI().rightActionBar.viewItems)i.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var i;const o=this.controller;if(o){const p=!(!((i=this.ui)===null||i===void 0)&&i.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",p||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),o.didHide(t)}}layout(t,i){this.dimension=t,this.titleBarOffset=i,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,i=Math.min(this.dimension.width*.62,Sl.MAX_WIDTH);t.width=i+"px",t.marginLeft="-"+i/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:i,quickInputForeground:o,contrastBorder:p,widgetShadow:A}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=i?i.toString():"",this.ui.container.style.color=o?o.toString():"",this.ui.container.style.border=p?`1px solid ${p}`:"",this.ui.container.style.boxShadow=A?`0 0 8px 2px ${A}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const K=[];this.styles.list.pickerGroupBorder&&K.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&K.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(K.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&K.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&K.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&K.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&K.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&K.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),K.push("}"));const q=K.join(`
`);q!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=q)}}}Sl.MAX_WIDTH=600;var hd=c(88289),fd;(function(u){u[u.PRESERVE=0]="PRESERVE",u[u.LAST=1]="LAST"})(fd||(fd={}));const nu={Quickaccess:"workbench.contributions.quickaccess"};class pc{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(t){return t.prefix.length===0?this.defaultProvider=t:this.providers.push(t),this.providers.sort((i,o)=>o.prefix.length-i.prefix.length),(0,ii.OF)(()=>{this.providers.splice(this.providers.indexOf(t),1),this.defaultProvider===t&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,Ys.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(t){return t&&this.providers.find(o=>t.startsWith(o.prefix))||void 0||this.defaultProvider}}sa.B.add(nu.Quickaccess,new pc);const su=(0,Un.yh)("quickInputService");var _c=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},ou=function(u,t){return function(i,o){t(i,o,u)}};let gd=class extends ii.JT{constructor(t,i){super(),this.quickInputService=t,this.instantiationService=i,this.registry=sa.B.as(nu.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",i){this.doShowOrPick(t,!1,i)}doShowOrPick(t,i,o){var p;const[A,K]=this.getOrInstantiateProvider(t),q=this.visibleQuickAccess,be=q==null?void 0:q.descriptor;if(q&&K&&be===K){t!==K.prefix&&!(o!=null&&o.preserveValue)&&(q.picker.value=t),this.adjustValueSelection(q.picker,K,o);return}if(K&&!(o!=null&&o.preserveValue)){let Oi;if(q&&be&&be!==K){const nn=q.value.substr(be.prefix.length);nn&&(Oi=`${K.prefix}${nn}`)}if(!Oi){const nn=A==null?void 0:A.defaultFilterValue;nn===fd.LAST?Oi=this.lastAcceptedPickerValues.get(K):typeof nn=="string"&&(Oi=`${K.prefix}${nn}`)}typeof Oi=="string"&&(t=Oi)}const xe=new ii.SL,Fe=xe.add(this.quickInputService.createQuickPick());Fe.value=t,this.adjustValueSelection(Fe,K,o),Fe.placeholder=K==null?void 0:K.placeholder,Fe.quickNavigate=o==null?void 0:o.quickNavigateConfiguration,Fe.hideInput=!!Fe.quickNavigate&&!q,(typeof(o==null?void 0:o.itemActivation)=="number"||o!=null&&o.quickNavigateConfiguration)&&(Fe.itemActivation=(p=o==null?void 0:o.itemActivation)!==null&&p!==void 0?p:Or.SECOND),Fe.contextKey=K==null?void 0:K.contextKey,Fe.filterValue=Oi=>Oi.substring(K?K.prefix.length:0),K!=null&&K.placeholder&&(Fe.ariaLabel=K==null?void 0:K.placeholder);let et,Ut;i&&(et=new Promise(Oi=>Ut=Oi),xe.add((0,hd.I)(Fe.onWillAccept)(Oi=>{Oi.veto(),Fe.hide()}))),xe.add(this.registerPickerListeners(Fe,A,K,t));const Mi=xe.add(new O.A);if(A&&xe.add(A.provide(Fe,Mi.token)),(0,hd.I)(Fe.onDidHide)(()=>{Fe.selectedItems.length===0&&Mi.cancel(),xe.dispose(),Ut==null||Ut(Fe.selectedItems)}),Fe.show(),i)return et}adjustValueSelection(t,i,o){var p;let A;o!=null&&o.preserveValue?A=[t.value.length,t.value.length]:A=[(p=i==null?void 0:i.prefix.length)!==null&&p!==void 0?p:0,t.value.length],t.valueSelection=A}registerPickerListeners(t,i,o,p){const A=new ii.SL,K=this.visibleQuickAccess={picker:t,descriptor:o,value:p};return A.add((0,ii.OF)(()=>{K===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),A.add(t.onDidChangeValue(q=>{const[be]=this.getOrInstantiateProvider(q);be!==i?this.show(q,{preserveValue:!0}):K.value=q})),o&&A.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,t.value)})),A}getOrInstantiateProvider(t){const i=this.registry.getQuickAccessProvider(t);if(!i)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(i);return o||(o=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,o)),[o,i]}};gd=_c([ou(0,su),ou(1,Un.TG)],gd);var vc=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},Ua=function(u,t){return function(i,o){t(i,o,u)}};let md=class extends _s.bB{constructor(t,i,o,p,A){super(o),this.instantiationService=t,this.contextKeyService=i,this.accessibilityService=p,this.layoutService=A,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(gd))),this._quickAccess}createController(t=this.layoutService,i){var o,p;const A={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:q=>this.setContextKey(q),returnFocus:()=>t.focus(),createList:(q,be,xe,Fe,et)=>this.instantiationService.createInstance(ed.ev,q,be,xe,Fe,et),styles:this.computeStyles()},K=this._register(new Sl(Object.assign(Object.assign({},A),i)));return K.layout(t.dimension,(p=(o=t.offset)===null||o===void 0?void 0:o.top)!==null&&p!==void 0?p:0),this._register(t.onDidLayout(q=>{var be,xe;return K.layout(q,(xe=(be=t.offset)===null||be===void 0?void 0:be.top)!==null&&xe!==void 0?xe:0)})),this._register(K.onShow(()=>this.resetContextKeys())),this._register(K.onHide(()=>this.resetContextKeys())),K}setContextKey(t){let i;t&&(i=this.contexts.get(t),i||(i=new de.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,i))),!(i&&i.get())&&(this.resetContextKeys(),i&&i.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,i={},o=O.T.None){return this.controller.pick(t,i,o)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,na.o)(this.theme,{quickInputBackground:fn.zK,quickInputForeground:fn.tZ,quickInputTitleBackground:fn.lo,contrastBorder:fn.lR,widgetShadow:fn.rh})),inputBox:(0,na.o)(this.theme,{inputForeground:fn.zJ,inputBackground:fn.sE,inputBorder:fn.dt,inputValidationInfoBackground:fn._l,inputValidationInfoForeground:fn.YI,inputValidationInfoBorder:fn.EP,inputValidationWarningBackground:fn.RV,inputValidationWarningForeground:fn.SU,inputValidationWarningBorder:fn.C3,inputValidationErrorBackground:fn.p,inputValidationErrorForeground:fn._t,inputValidationErrorBorder:fn.OZ}),countBadge:(0,na.o)(this.theme,{badgeBackground:fn.g8,badgeForeground:fn.qe,badgeBorder:fn.lR}),button:(0,na.o)(this.theme,{buttonForeground:fn.j5,buttonBackground:fn.b7,buttonHoverBackground:fn.GO,buttonBorder:fn.lR}),progressBar:(0,na.o)(this.theme,{progressBarBackground:fn.zR}),keybindingLabel:(0,na.o)(this.theme,{keybindingLabelBackground:fn.oQ,keybindingLabelForeground:fn.lW,keybindingLabelBorder:fn.AW,keybindingLabelBottomBorder:fn.K1,keybindingLabelShadow:fn.rh}),list:(0,na.o)(this.theme,{listBackground:fn.zK,listInactiveFocusForeground:fn.NP,listInactiveSelectionIconForeground:fn.cb,listInactiveFocusBackground:fn.Vq,listFocusOutline:fn.xL,listInactiveFocusOutline:fn.xL,pickerGroupBorder:fn.op,pickerGroupForeground:fn.kJ})}}};md=vc([Ua(0,Un.TG),Ua(1,de.i6),Ua(2,_s.XE),Ua(3,De.F),Ua(4,cl)],md);var ru=function(u,t,i,o){var p=arguments.length,A=p<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var q=u.length-1;q>=0;q--)(K=u[q])&&(A=(p<3?K(A):p>3?K(t,i,A):K(t,i))||A);return p>3&&A&&Object.defineProperty(t,i,A),A},ma=function(u,t){return function(i,o){t(i,o,u)}};let pd=class extends md{constructor(t,i,o,p,A,K){super(i,o,p,A,K),this.host=void 0;const q=Na.get(t);this.host={_serviceBrand:void 0,get container(){return q.widget.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus()}}createController(){return super.createController(this.host)}};pd=ru([ma(1,Un.TG),ma(2,de.i6),ma(3,_s.XE),ma(4,De.F),ma(5,cl)],pd);let _d=class{constructor(t,i){this.instantiationService=t,this.codeEditorService=i,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let i=this.mapEditorToService.get(t);if(!i){const o=i=this.instantiationService.createInstance(pd,t);this.mapEditorToService.set(t,i),(0,hd.I)(t.onDidDispose)(()=>{o.dispose(),this.mapEditorToService.delete(t)})}return i}get quickAccess(){return this.activeService.quickAccess}pick(t,i={},o=O.T.None){return this.activeService.pick(t,i,o)}createQuickPick(){return this.activeService.createQuickPick()}};_d=ru([ma(0,Un.TG),ma(1,Mt.$)],_d);class Na{constructor(t){this.editor=t,this.widget=new yl(this.editor)}static get(t){return t.getContribution(Na.ID)}dispose(){this.widget.dispose()}}Na.ID="editor.controller.quickInput";class yl{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return yl.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}yl.ID="editor.contrib.quickInputWidget",(0,fo._K)(Na.ID,Na);var eo;(function(u){const t=new sr.y;class i{constructor(be,xe){this._serviceId=be,this._factory=xe,this._value=null}get id(){return this._serviceId}get(be){if(!this._value){if(be&&(this._value=be[this._serviceId.toString()]),this._value||(this._value=this._factory(be)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}u.LazyStaticService=i;let o=[];function p(q,be){let xe=new i(q,be);return o.push(xe),xe}function A(q){let be=new sr.y;for(const[Fe,et]of(0,Wd.d)())be.set(Fe,et);for(let Fe in q)q.hasOwnProperty(Fe)&&be.set((0,Un.yh)(Fe),q[Fe]);o.forEach(Fe=>be.set(Fe.id,Fe.get(q)));let xe=new hl(be,!0);return be.set(Un.TG,xe),[be,xe]}u.init=A,u.instantiationService=p(Un.TG,()=>new hl(t,!0));const K=new ps;u.configurationService=p(d.Ui,()=>K),u.resourceConfigurationService=p(Zs,()=>new Os(K)),u.resourcePropertiesService=p(Xn,()=>new po(K)),u.contextService=p(Zi.ec,()=>new bo),u.labelService=p(Hu.e,()=>new xo),u.telemetryService=p(Lo.b,()=>new _o),u.dialogService=p(kd,()=>new ks),u.notificationService=p(Qt.lT,()=>new Fs),u.markerService=p($r.lT,()=>new ga),u.modeService=p(zi.h,q=>new zr),u.standaloneThemeService=p(Z,()=>new we),u.logService=p(xs.VZ,()=>new xs.$V(new xs.kw)),u.undoRedoService=p(Lr.tJ,q=>new vl(u.dialogService.get(q),u.notificationService.get(q))),u.languageConfigurationService=p(ft.c_,q=>new ft.UU(u.configurationService.get(q),u.modeService.get(q))),u.modelService=p(ts.q,q=>new ba(u.configurationService.get(q),u.resourcePropertiesService.get(q),u.standaloneThemeService.get(q),u.logService.get(q),u.undoRedoService.get(q),u.modeService.get(q),u.languageConfigurationService.get(q))),u.markerDecorationsService=p($u.i,q=>new nd(u.modelService.get(q),u.markerService.get(q))),u.contextKeyService=p(de.i6,q=>new mn(u.configurationService.get(q))),u.codeEditorService=p(Mt.$,q=>new Ln(null,u.contextKeyService.get(q),u.standaloneThemeService.get(q))),u.editorProgressService=p(mr.e,()=>new ds),u.storageService=p(Pd.Uy,()=>new Pd.vm),u.editorWorkerService=p(Rn.p,q=>new Gt(u.modelService.get(q),u.resourceConfigurationService.get(q),u.logService.get(q)))})(eo||(eo={}));class Cc extends ii.JT{constructor(t,i){super();const[o,p]=eo.init(i);this._serviceCollection=o,this._instantiationService=p;const A=this.get(d.Ui),K=this.get(Qt.lT),q=this.get(Lo.b),be=this.get(_s.XE),xe=this.get(xs.VZ),Fe=this.get(de.i6);let et=(Dn,Hn)=>{let Kn=null;return i&&(Kn=i[Dn.toString()]),Kn||(Kn=Hn()),this._serviceCollection.set(Dn,Kn),Kn};et(De.F,()=>new sd(Fe,A)),et(ed.Lw,()=>new ed.XN(be));let Ut=et(dt.H,()=>new js(this._instantiationService)),Mi=et(he.d,()=>this._register(new yn(Fe,Ut,q,K,xe,t))),Oi=et(cl,()=>new Vo(eo.codeEditorService.get(Mt.$),t));et(su,()=>new _d(p,eo.codeEditorService.get(Mt.$)));let nn=et(Uo.u,()=>this._register(new ql(Oi)));et(cr.p,()=>new Zu),et(Uo.i,()=>{const Dn=new Jl(q,K,nn,Mi,be);return Dn.configure({blockMouse:!1}),this._register(Dn)}),et(ne.co,()=>new td(Ut)),et(ls.vu,()=>new no(eo.modelService.get(ts.q)))}get(t){let i=this._serviceCollection.get(t);if(!i)throw new Error("Missing service "+t);return i}set(t,i){this._serviceCollection.set(t,i)}has(t){return this._serviceCollection.has(t)}}function au(u,t,i){let o=new Cc(u,t),p=null;o.has(as.S)||(p=new Qs(eo.modelService.get()),o.set(as.S,p)),o.has(Ie.v4)||o.set(Ie.v4,new qt(o.get(Mt.$),o.get(dt.H)));let A=i(o);return p&&p.setEditor(A),A}function bc(u,t,i){return au(u,i||{},o=>new Ps(u,t,o,o.get(Un.TG),o.get(Mt.$),o.get(dt.H),o.get(de.i6),o.get(he.d),o.get(Uo.u),o.get(Z),o.get(Qt.lT),o.get(d.Ui),o.get(De.F),o.get(ts.q),o.get(zi.h)))}function wc(u){return eo.codeEditorService.get().onCodeEditorAdd(t=>{u(t)})}function Sc(u,t,i){return au(u,i||{},o=>new ko(u,t,o,o.get(Un.TG),o.get(de.i6),o.get(he.d),o.get(Uo.u),o.get(Rn.p),o.get(Mt.$),o.get(Z),o.get(Qt.lT),o.get(d.Ui),o.get(Uo.i),o.get(mr.e),o.get(cr.p)))}function yc(u,t){return new ci(u,t)}function Lc(u,t,i){return Eo(eo.modelService.get(),eo.modeService.get(),u,t,i)}function Dc(u,t){eo.modelService.get().setMode(u,eo.modeService.get().create(t))}function Ec(u,t,i){u&&eo.markerService.get().changeOne(t,u.uri,i)}function xc(u){return eo.markerService.get().read(u)}function Ic(u){return eo.markerService.get().onMarkerChanged(u)}function Nc(u){return eo.modelService.get().getModel(u)}function Tc(){return eo.modelService.get().getModels()}function Mc(u){return eo.modelService.get().onModelAdded(u)}function Rc(u){return eo.modelService.get().onModelRemoved(u)}function kc(u){return eo.modelService.get().onModelModeChanged(t=>{u({model:t.model,oldLanguage:t.oldModeId})})}function Ac(u){return kt(eo.modelService.get(),u)}function Oc(u,t){const i=eo.standaloneThemeService.get();return i.registerEditorContainer(u),Pi.colorizeElement(i,eo.modeService.get(),u,t)}function Pc(u,t,i){return eo.standaloneThemeService.get().registerEditorContainer(document.body),Pi.colorize(eo.modeService.get(),u,t,i)}function Fc(u,t,i=4){return eo.standaloneThemeService.get().registerEditorContainer(document.body),Pi.colorizeModelLine(u,t,i)}function Bc(u){let t=fi.RW.get(u);return t||{getInitialState:()=>Wi.nO,tokenize:(i,o,p,A)=>(0,Wi.Ri)(u,i,p,A)}}function Wc(u,t){eo.modeService.get().triggerMode(t);let o=Bc(t),p=(0,sn.uq)(u),A=[],K=o.getInitialState();for(let q=0,be=p.length;q<be;q++){let xe=p[q],Fe=o.tokenize(xe,!0,K,0);A[q]=Fe.tokens,K=Fe.endState}return A}function Vc(u,t){eo.standaloneThemeService.get().defineTheme(u,t)}function Hc(u){eo.standaloneThemeService.get().setTheme(u)}function zc(){(0,Us.P)()}function Uc(u,t){return dt.P.registerCommand({id:u,handler:t})}function $c(){return{create:bc,onDidCreateEditor:wc,createDiffEditor:Sc,createDiffNavigator:yc,createModel:Lc,setModelLanguage:Dc,setModelMarkers:Ec,getModelMarkers:xc,onDidChangeMarkers:Ic,getModels:Tc,getModel:Nc,onDidCreateModel:Mc,onWillDisposeModel:Rc,onDidChangeModelLanguage:kc,createWebWorker:Ac,colorizeElement:Oc,colorize:Pc,colorizeModelLine:Fc,tokenize:Wc,defineTheme:Vc,setTheme:Hc,remeasureFonts:zc,registerCommand:Uc,AccessibilitySupport:T,ContentWidgetPositionPreference:N,CursorChangeReason:C,DefaultEndOfLine:x,EditorAutoIndentStrategy:_,EditorOption:S,EndOfLinePreference:h,EndOfLineSequence:y,MinimapPosition:Ce,MouseTargetType:Ee,OverlayWidgetPositionPreference:le,OverviewRulerLane:Y,RenderLineNumbersType:$,RenderMinimap:G,ScrollbarVisibility:m,ScrollType:ee,TextEditorCursorBlinkingStyle:ue,TextEditorCursorStyle:ke,TrackedRangeStickiness:Te,WrappingIndent:rt,ConfigurationChangedEvent:D.Bb,BareFontInfo:je.E4,FontInfo:je.pR,TextModelResolvedOptions:Ni.dJ,FindMatch:Ni.tk,EditorType:at.g,EditorOptions:D.BH}}function Kc(u,t){if(!t||!Array.isArray(t))return!1;for(const i of t)if(!u(i))return!1;return!0}function Ll(u,t){return typeof u=="boolean"?u:t}function lu(u,t){return typeof u=="string"?u:t}function jc(u){const t={};for(const i of u)t[i]=!0;return t}function du(u,t=!1){t&&(u=u.map(function(o){return o.toLowerCase()}));const i=jc(u);return t?function(o){return i[o.toLowerCase()]!==void 0&&i.hasOwnProperty(o.toLowerCase())}:function(o){return i[o]!==void 0&&i.hasOwnProperty(o)}}function vd(u,t){t=t.replace(/@@/g,"");let i=0,o;do o=!1,t=t.replace(/@(\w+)/g,function(A,K){o=!0;let q="";if(typeof u[K]=="string")q=u[K];else if(u[K]&&u[K]instanceof RegExp)q=u[K].source;else throw u[K]===void 0?Ti(u,"language definition does not contain attribute '"+K+"', used at: "+t):Ti(u,"attribute reference '"+K+"' must be a string, used at: "+t);return Ai(q)?"":"(?:"+q+")"}),i++;while(o&&i<5);t=t.replace(/\x01/g,"@");let p=(u.ignoreCase?"i":"")+(u.unicode?"u":"");return new RegExp(t,p)}function Gc(u,t,i,o){if(o<0)return u;if(o<t.length)return t[o];if(o>=100){o=o-100;let p=i.split(".");if(p.unshift(i),o<p.length)return p[o]}return null}function Zc(u,t,i,o){let p=-1,A=i,K=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);K&&(K[3]&&(p=parseInt(K[3]),K[2]&&(p=p+100)),A=K[4]);let q="~",be=A;!A||A.length===0?(q="!=",be=""):/^\w*$/.test(be)?q="==":(K=A.match(/^(@|!@|~|!~|==|!=)(.*)$/),K&&(q=K[1],be=K[2]));let xe;if((q==="~"||q==="!~")&&/^(\w|\|)*$/.test(be)){let Fe=du(be.split("|"),u.ignoreCase);xe=function(et){return q==="~"?Fe(et):!Fe(et)}}else if(q==="@"||q==="!@"){let Fe=u[be];if(!Fe)throw Ti(u,"the @ match target '"+be+"' is not defined, in rule: "+t);if(!Kc(function(Ut){return typeof Ut=="string"},Fe))throw Ti(u,"the @ match target '"+be+"' must be an array of strings, in rule: "+t);let et=du(Fe,u.ignoreCase);xe=function(Ut){return q==="@"?et(Ut):!et(Ut)}}else if(q==="~"||q==="!~")if(be.indexOf("$")<0){let Fe=vd(u,"^"+be+"$");xe=function(et){return q==="~"?Fe.test(et):!Fe.test(et)}}else xe=function(Fe,et,Ut,Mi){return vd(u,"^"+on(u,be,et,Ut,Mi)+"$").test(Fe)};else if(be.indexOf("$")<0){let Fe=Ei(u,be);xe=function(et){return q==="=="?et===Fe:et!==Fe}}else{let Fe=Ei(u,be);xe=function(et,Ut,Mi,Oi,nn){let Dn=on(u,Fe,Ut,Mi,Oi);return q==="=="?et===Dn:et!==Dn}}return p===-1?{name:i,value:o,test:function(Fe,et,Ut,Mi){return xe(Fe,Fe,et,Ut,Mi)}}:{name:i,value:o,test:function(Fe,et,Ut,Mi){let Oi=Gc(Fe,et,Ut,p);return xe(Oi||"",Fe,et,Ut,Mi)}}}function Cd(u,t,i){if(i){if(typeof i=="string")return i;if(i.token||i.token===""){if(typeof i.token!="string")throw Ti(u,"a 'token' attribute must be of type string, in rule: "+t);{let o={token:i.token};if(i.token.indexOf("$")>=0&&(o.tokenSubst=!0),typeof i.bracket=="string")if(i.bracket==="@open")o.bracket=1;else if(i.bracket==="@close")o.bracket=-1;else throw Ti(u,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(i.next){if(typeof i.next!="string")throw Ti(u,"the next state must be a string value in rule: "+t);{let p=i.next;if(!/^(@pop|@push|@popall)$/.test(p)&&(p[0]==="@"&&(p=p.substr(1)),p.indexOf("$")<0&&!pn(u,on(u,p,"",[],""))))throw Ti(u,"the next state '"+i.next+"' is not defined in rule: "+t);o.next=p}}return typeof i.goBack=="number"&&(o.goBack=i.goBack),typeof i.switchTo=="string"&&(o.switchTo=i.switchTo),typeof i.log=="string"&&(o.log=i.log),typeof i.nextEmbedded=="string"&&(o.nextEmbedded=i.nextEmbedded,u.usesEmbedded=!0),o}}else if(Array.isArray(i)){let o=[];for(let p=0,A=i.length;p<A;p++)o[p]=Cd(u,t,i[p]);return{group:o}}else if(i.cases){let o=[];for(let A in i.cases)if(i.cases.hasOwnProperty(A)){const K=Cd(u,t,i.cases[A]);A==="@default"||A==="@"||A===""?o.push({test:void 0,value:K,name:A}):A==="@eos"?o.push({test:function(q,be,xe,Fe){return Fe},value:K,name:A}):o.push(Zc(u,t,A,K))}const p=u.defaultToken;return{test:function(A,K,q,be){for(const xe of o)if(!xe.test||xe.test(A,K,q,be))return xe.value;return p}}}else throw Ti(u,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class Yc{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,i){let o;if(typeof i=="string")o=i;else if(i instanceof RegExp)o=i.source;else throw Ti(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=o.length>0&&o[0]==="^",this.name=this.name+": "+o,this.regex=vd(t,"^(?:"+(this.matchOnlyAtLineStart?o.substr(1):o)+")")}setAction(t,i){this.action=Cd(t,this.name,i)}}function Qc(u,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=u,i.includeLF=Ll(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start=typeof t.start=="string"?t.start:null,i.ignoreCase=Ll(t.ignoreCase,!1),i.unicode=Ll(t.unicode,!1),i.tokenPostfix=lu(t.tokenPostfix,"."+i.languageId),i.defaultToken=lu(t.defaultToken,"source"),i.usesEmbedded=!1;let o=t;o.languageId=u,o.includeLF=i.includeLF,o.ignoreCase=i.ignoreCase,o.unicode=i.unicode,o.noThrow=i.noThrow,o.usesEmbedded=i.usesEmbedded,o.stateNames=t.tokenizer,o.defaultToken=i.defaultToken;function p(K,q,be){for(const xe of be){let Fe=xe.include;if(Fe){if(typeof Fe!="string")throw Ti(i,"an 'include' attribute must be a string at: "+K);if(Fe[0]==="@"&&(Fe=Fe.substr(1)),!t.tokenizer[Fe])throw Ti(i,"include target '"+Fe+"' is not defined at: "+K);p(K+"."+Fe,q,t.tokenizer[Fe])}else{const et=new Yc(K);if(Array.isArray(xe)&&xe.length>=1&&xe.length<=3)if(et.setRegex(o,xe[0]),xe.length>=3)if(typeof xe[1]=="string")et.setAction(o,{token:xe[1],next:xe[2]});else if(typeof xe[1]=="object"){const Ut=xe[1];Ut.next=xe[2],et.setAction(o,Ut)}else throw Ti(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+K);else et.setAction(o,xe[1]);else{if(!xe.regex)throw Ti(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+K);xe.name&&typeof xe.name=="string"&&(et.name=xe.name),xe.matchOnlyAtStart&&(et.matchOnlyAtLineStart=Ll(xe.matchOnlyAtLineStart,!1)),et.setRegex(o,xe.regex),et.setAction(o,xe.action)}q.push(et)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw Ti(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let K in t.tokenizer)if(t.tokenizer.hasOwnProperty(K)){i.start||(i.start=K);const q=t.tokenizer[K];i.tokenizer[K]=new Array,p("tokenizer."+K,i.tokenizer[K],q)}if(i.usesEmbedded=o.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Ti(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let A=[];for(let K of t.brackets){let q=K;if(q&&Array.isArray(q)&&q.length===3&&(q={token:q[2],open:q[0],close:q[1]}),q.open===q.close)throw Ti(i,"open and close brackets in a 'brackets' attribute must be different: "+q.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof q.open=="string"&&typeof q.token=="string"&&typeof q.close=="string")A.push({token:q.token+i.tokenPostfix,open:Ei(i,q.open),close:Ei(i,q.close)});else throw Ti(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return i.brackets=A,i.noThrow=!0,i}function Xc(u){zo.dQ.registerLanguage(u)}function Jc(){let u=[];return u=u.concat(zo.dQ.getLanguages()),u}function qc(u){return eo.modeService.get().languageIdCodec.encodeLanguageId(u)}function eh(u,t){let i=eo.modeService.get().onDidEncounterLanguage(o=>{o===u&&(i.dispose(),t())});return i}function th(u,t){const i=eo.modeService.get().validateLanguageId(u);if(!i)throw new Error(`Cannot set configuration for unknown language ${u}`);return ft.zu.register(i,t,100)}class ih{constructor(t,i){this._languageId=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}tokenize(t,i,o,p){if(typeof this._actual.tokenize=="function")return $a.adaptTokenize(this._languageId,this._actual,t,o,p);throw new Error("Not supported!")}tokenize2(t,i,o){let p=this._actual.tokenizeEncoded(t,o);return new s.Hi(p.tokens,p.endState)}}class $a{constructor(t,i,o,p){this._languageId=t,this._actual=i,this._modeService=o,this._standaloneThemeService=p}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,i,o){let p=[],A=0;for(let K=0,q=t.length;K<q;K++){const be=t[K];let xe=be.startIndex;K===0?xe=0:xe<A&&(xe=A),p[K]=new s.WU(xe+o,be.scopes,i),A=xe}return p}static adaptTokenize(t,i,o,p,A){let K=i.tokenize(o,p),q=$a._toClassicTokens(K.tokens,t,A),be;return K.endState.equals(p)?be=p:be=K.endState,new s.hG(q,be)}tokenize(t,i,o,p){return $a.adaptTokenize(this._languageId,this._actual,t,o,p)}_toBinaryTokens(t,i,o){const p=t.encodeLanguageId(this._languageId),A=this._standaloneThemeService.getColorTheme().tokenTheme;let K=[],q=0,be=0;for(let Fe=0,et=i.length;Fe<et;Fe++){const Ut=i[Fe],Mi=A.match(p,Ut.scopes);if(q>0&&K[q-1]===Mi)continue;let Oi=Ut.startIndex;Fe===0?Oi=0:Oi<be&&(Oi=be),K[q++]=Oi+o,K[q++]=Mi,be=Oi}let xe=new Uint32Array(q);for(let Fe=0;Fe<q;Fe++)xe[Fe]=K[Fe];return xe}tokenize2(t,i,o,p){let A=this._actual.tokenize(t,o),K=this._toBinaryTokens(this._modeService.languageIdCodec,A.tokens,p),q;return A.endState.equals(o)?q=o:q=A.endState,new s.Hi(K,q)}}function nh(u){return"tokenizeEncoded"in u}function uu(u){return u&&typeof u.then=="function"}function sh(u){if(u){const t=[null];for(let i=1,o=u.length;i<o;i++)t[i]=Tr.Il.fromHex(u[i]);eo.standaloneThemeService.get().setColorMapOverride(t)}else eo.standaloneThemeService.get().setColorMapOverride(null)}function oh(u,t){const i=eo.modeService.get().validateLanguageId(u);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${u}`);const o=p=>nh(p)?new ih(i,p):new $a(i,p,eo.modeService.get(),eo.standaloneThemeService.get());return uu(t)?fi.RW.registerPromise(u,t.then(p=>o(p))):fi.RW.register(u,o(t))}function rh(u,t){const i=o=>Jt(eo.modeService.get(),eo.standaloneThemeService.get(),u,Qc(u,o));return uu(t)?fi.RW.registerPromise(u,t.then(o=>i(o))):fi.RW.register(u,i(t))}function ah(u,t){return fi.FL.register(u,t)}function lh(u,t){return fi.G0.register(u,t)}function dh(u,t){return fi.nD.register(u,t)}function uh(u,t){return fi.xp.register(u,{provideHover:(i,o,p)=>{let A=i.getWordAtPosition(o);return Promise.resolve(t.provideHover(i,o,p)).then(K=>{if(K)return!K.range&&A&&(K.range=new R.e(o.lineNumber,A.startColumn,o.lineNumber,A.endColumn)),K.range||(K.range=new R.e(o.lineNumber,o.column,o.lineNumber,o.column)),K})}})}function ch(u,t){return fi.vJ.register(u,t)}function hh(u,t){return fi.vH.register(u,t)}function fh(u,t){return fi.id.register(u,t)}function gh(u,t){return fi.Ct.register(u,t)}function mh(u,t){return fi.vI.register(u,t)}function ph(u,t){return fi.tA.register(u,t)}function _h(u,t){return fi.He.register(u,t)}function vh(u,t,i){return fi.H9.register(u,{providedCodeActionKinds:i==null?void 0:i.providedCodeActionKinds,provideCodeActions:(o,p,A,K)=>{let q=eo.markerService.get().read({resource:o.uri}).filter(be=>R.e.areIntersectingOrTouching(be,p));return t.provideCodeActions(o,p,{markers:q,only:A.only},K)},resolveCodeAction:t.resolveCodeAction})}function Ch(u,t){return fi.Az.register(u,t)}function bh(u,t){return fi.vN.register(u,t)}function wh(u,t){return fi.ln.register(u,t)}function Sh(u,t){return fi.pM.register(u,t)}function yh(u,t){return fi.KZ.register(u,t)}function Lh(u,t){return fi.OH.register(u,t)}function Dh(u,t){return fi.aC.register(u,t)}function Eh(u,t){return fi.RN.register(u,t)}function xh(u,t){return fi.AC.register(u,t)}function Ih(u,t){return fi.wT.register(u,t)}function Nh(u,t){return fi.K7.register(u,t)}function Th(u,t){return fi.zu.register(u,t)}function Mh(u,t){return fi.mX.register(u,t)}function Rh(){return{register:Xc,getLanguages:Jc,onLanguage:eh,getEncodedLanguageId:qc,setLanguageConfiguration:th,setColorMap:sh,setTokensProvider:oh,setMonarchTokensProvider:rh,registerReferenceProvider:ah,registerRenameProvider:lh,registerCompletionItemProvider:yh,registerSignatureHelpProvider:dh,registerHoverProvider:uh,registerDocumentSymbolProvider:ch,registerDocumentHighlightProvider:hh,registerLinkedEditingRangeProvider:fh,registerDefinitionProvider:gh,registerImplementationProvider:mh,registerTypeDefinitionProvider:ph,registerCodeLensProvider:_h,registerCodeActionProvider:vh,registerDocumentFormattingEditProvider:Ch,registerDocumentRangeFormattingEditProvider:bh,registerOnTypeFormattingEditProvider:wh,registerLinkProvider:Sh,registerColorProvider:Lh,registerFoldingRangeProvider:Dh,registerDeclarationProvider:Eh,registerSelectionRangeProvider:xh,registerDocumentSemanticTokensProvider:Ih,registerDocumentRangeSemanticTokensProvider:Nh,registerInlineCompletionsProvider:Th,registerInlayHintsProvider:Mh,DocumentHighlightKind:f,CompletionItemKind:E,CompletionItemTag:H,CompletionItemInsertTextRule:g,SymbolKind:ie,SymbolTag:pe,IndentAction:v,CompletionTriggerKind:r,SignatureHelpTriggerKind:F,InlayHintKind:B,InlineCompletionTriggerKind:j,FoldingRangeKind:fi.AD}}var kh=c(93761),bd;D.BH.wrappingIndent.defaultValue=0,D.BH.glyphMargin.defaultValue=!1,D.BH.autoIndent.defaultValue=3,D.BH.overviewRulerLanes.defaultValue=2,kh.xC.setFormatterSelector((u,t,i)=>Promise.resolve(u[0]));const ar=mt();ar.editor=$c(),ar.languages=Rh();const Ah=ar.CancellationTokenSource,Oh=ar.Emitter,Ph=ar.KeyCode,Fh=ar.KeyMod,Bh=ar.Position,Wh=ar.Range,Vh=ar.Selection,Hh=ar.SelectionDirection,zh=ar.MarkerSeverity,Uh=ar.MarkerTag,$h=ar.Uri,Kh=ar.Token,jh=ar.editor,Gh=ar.languages;(!((bd=$i.li.MonacoEnvironment)===null||bd===void 0)&&bd.globalAPI||typeof define=="function"&&c.amdO)&&(self.monaco=ar),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},61460:function(ti,Ge,c){"use strict";c.d(Ge,{Mj:function(){return D.languages},Q5:function(){return D.Emitter},Sf:function(){return D.Uri},ZL:function(){return D.MarkerSeverity},e6:function(){return D.Range},j6:function(){return D.editor}});var D=c(50048)},40605:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{cssDefaults:function(){return J},lessDefaults:function(){return W},scssDefaults:function(){return R}});var D=c(50048),O=c(61460),Q=function(){function T(g,E,H){this._onDidChange=new O.Q5,this._languageId=g,this.setOptions(E),this.setModeConfiguration(H)}return Object.defineProperty(T.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),T.prototype.setOptions=function(g){this._options=g||Object.create(null),this._onDidChange.fire(this)},T.prototype.setDiagnosticsOptions=function(g){this.setOptions(g)},T.prototype.setModeConfiguration=function(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)},T}(),P={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},L={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},J=new Q("css",P,L),R=new Q("scss",P,L),W=new Q("less",P,L);O.Mj.css={cssDefaults:J,lessDefaults:W,scssDefaults:R};function s(){return c.e(990).then(c.bind(c,44990))}O.Mj.onLanguage("less",function(){s().then(function(T){return T.setupMode(W)})}),O.Mj.onLanguage("scss",function(){s().then(function(T){return T.setupMode(R)})}),O.Mj.onLanguage("css",function(){s().then(function(T){return T.setupMode(J)})})},47650:function(ti,Ge,c){"use strict";c.d(Ge,{Mj:function(){return D.languages},Q5:function(){return D.Emitter},Sf:function(){return D.Uri},e6:function(){return D.Range},j6:function(){return D.editor}});var D=c(50048)},68423:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{handlebarDefaults:function(){return N},handlebarLanguageService:function(){return r},htmlDefaults:function(){return H},htmlLanguageService:function(){return E},razorDefaults:function(){return x},razorLanguageService:function(){return C},registerHTMLLanguageService:function(){return _}});var D=c(50048),O=c(47650),Q=function(S,h,y,v){function B(j){return j instanceof y?j:new y(function(te){te(j)})}return new(y||(y=Promise))(function(j,te){function ce(Ee){try{Ce(v.next(Ee))}catch(le){te(le)}}function _e(Ee){try{Ce(v.throw(Ee))}catch(le){te(le)}}function Ce(Ee){Ee.done?j(Ee.value):B(Ee.value).then(ce,_e)}Ce((v=v.apply(S,h||[])).next())})},P=function(S,h){var y={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},v,B,j,te;return te={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function ce(Ce){return function(Ee){return _e([Ce,Ee])}}function _e(Ce){if(v)throw new TypeError("Generator is already executing.");for(;y;)try{if(v=1,B&&(j=Ce[0]&2?B.return:Ce[0]?B.throw||((j=B.return)&&j.call(B),0):B.next)&&!(j=j.call(B,Ce[1])).done)return j;switch(B=0,j&&(Ce=[Ce[0]&2,j.value]),Ce[0]){case 0:case 1:j=Ce;break;case 4:return y.label++,{value:Ce[1],done:!1};case 5:y.label++,B=Ce[1],Ce=[0];continue;case 7:Ce=y.ops.pop(),y.trys.pop();continue;default:if(j=y.trys,!(j=j.length>0&&j[j.length-1])&&(Ce[0]===6||Ce[0]===2)){y=0;continue}if(Ce[0]===3&&(!j||Ce[1]>j[0]&&Ce[1]<j[3])){y.label=Ce[1];break}if(Ce[0]===6&&y.label<j[1]){y.label=j[1],j=Ce;break}if(j&&y.label<j[2]){y.label=j[2],y.ops.push(Ce);break}j[2]&&y.ops.pop(),y.trys.pop();continue}Ce=h.call(S,y)}catch(Ee){Ce=[6,Ee],B=0}finally{v=j=0}if(Ce[0]&5)throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}},L=function(){function S(h,y,v){this._onDidChange=new O.Q5,this._languageId=h,this.setOptions(y),this.setModeConfiguration(v)}return Object.defineProperty(S.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),S.prototype.setOptions=function(h){this._options=h||Object.create(null),this._onDidChange.fire(this)},S.prototype.setModeConfiguration=function(h){this._modeConfiguration=h||Object.create(null),this._onDidChange.fire(this)},S}(),J={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},R={format:J,suggest:{},data:{useDefaultDataProvider:!0}};function W(S){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:S===s,documentFormattingEdits:S===s,documentRangeFormattingEdits:S===s}}var s="html",T="handlebars",g="razor",E=_(s,R,W(s)),H=E.defaults,r=_(T,R,W(T)),N=r.defaults,C=_(g,R,W(g)),x=C.defaults;O.Mj.html={htmlDefaults:H,razorDefaults:x,handlebarDefaults:N,htmlLanguageService:E,handlebarLanguageService:r,razorLanguageService:C,registerHTMLLanguageService:_};function f(){return c.e(721).then(c.bind(c,47570))}function _(S,h,y){var v=this;h===void 0&&(h=R),y===void 0&&(y=W(S));var B=new L(S,h,y),j,te=O.Mj.onLanguage(S,function(){return Q(v,void 0,void 0,function(){return P(this,function(ce){switch(ce.label){case 0:return[4,f()];case 1:return j=ce.sent().setupMode(B),[2]}})})});return{defaults:B,dispose:function(){te.dispose(),j==null||j.dispose(),j=void 0}}}},61174:function(ti,Ge,c){"use strict";c.d(Ge,{Mj:function(){return D.languages},Q5:function(){return D.Emitter},ZL:function(){return D.MarkerSeverity},e6:function(){return D.Range},j6:function(){return D.editor}});var D=c(50048)},72323:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{jsonDefaults:function(){return J}});var D=c(50048),O=c(61174),Q=function(){function W(s,T,g){this._onDidChange=new O.Q5,this._languageId=s,this.setDiagnosticsOptions(T),this.setModeConfiguration(g)}return Object.defineProperty(W.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),W.prototype.setDiagnosticsOptions=function(s){this._diagnosticsOptions=s||Object.create(null),this._onDidChange.fire(this)},W.prototype.setModeConfiguration=function(s){this._modeConfiguration=s||Object.create(null),this._onDidChange.fire(this)},W}(),P={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},L={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},J=new Q("json",P,L);O.Mj.json={jsonDefaults:J};function R(){return c.e(603).then(c.bind(c,36603))}O.Mj.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),O.Mj.onLanguage("json",function(){R().then(function(W){return W.setupMode(J)})})},91429:function(ti,Ge,c){"use strict";c.d(Ge,{Mj:function(){return D.languages},Q5:function(){return D.Emitter},Sf:function(){return D.Uri},ZL:function(){return D.MarkerSeverity},e6:function(){return D.Range},eB:function(){return D.MarkerTag},j6:function(){return D.editor}});var D=c(50048)},15422:function(ti,Ge,c){"use strict";c.r(Ge),c.d(Ge,{JsxEmit:function(){return L},ModuleKind:function(){return P},ModuleResolutionKind:function(){return W},NewLineKind:function(){return J},ScriptTarget:function(){return R},getJavaScriptWorker:function(){return r},getTypeScriptWorker:function(){return H},javascriptDefaults:function(){return E},typescriptDefaults:function(){return g},typescriptVersion:function(){return T}});var D=c(50048),O="4.4.4",Q=c(91429),P;(function(C){C[C.None=0]="None",C[C.CommonJS=1]="CommonJS",C[C.AMD=2]="AMD",C[C.UMD=3]="UMD",C[C.System=4]="System",C[C.ES2015=5]="ES2015",C[C.ESNext=99]="ESNext"})(P||(P={}));var L;(function(C){C[C.None=0]="None",C[C.Preserve=1]="Preserve",C[C.React=2]="React",C[C.ReactNative=3]="ReactNative",C[C.ReactJSX=4]="ReactJSX",C[C.ReactJSXDev=5]="ReactJSXDev"})(L||(L={}));var J;(function(C){C[C.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",C[C.LineFeed=1]="LineFeed"})(J||(J={}));var R;(function(C){C[C.ES3=0]="ES3",C[C.ES5=1]="ES5",C[C.ES2015=2]="ES2015",C[C.ES2016=3]="ES2016",C[C.ES2017=4]="ES2017",C[C.ES2018=5]="ES2018",C[C.ES2019=6]="ES2019",C[C.ES2020=7]="ES2020",C[C.ESNext=99]="ESNext",C[C.JSON=100]="JSON",C[C.Latest=99]="Latest"})(R||(R={}));var W;(function(C){C[C.Classic=1]="Classic",C[C.NodeJs=2]="NodeJs"})(W||(W={}));var s=function(){function C(x,f,_,S){this._onDidChange=new Q.Q5,this._onDidExtraLibsChange=new Q.Q5,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(x),this.setDiagnosticsOptions(f),this.setWorkerOptions(_),this.setInlayHintsOptions(S),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(C.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),C.prototype.getExtraLibs=function(){return this._extraLibs},C.prototype.addExtraLib=function(x,f){var _=this,S;if(typeof f=="undefined"?S="ts:extralib-"+Math.random().toString(36).substring(2,15):S=f,this._extraLibs[S]&&this._extraLibs[S].content===x)return{dispose:function(){}};var h=1;return this._removedExtraLibs[S]&&(h=this._removedExtraLibs[S]+1),this._extraLibs[S]&&(h=this._extraLibs[S].version+1),this._extraLibs[S]={content:x,version:h},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var y=_._extraLibs[S];y&&y.version===h&&(delete _._extraLibs[S],_._removedExtraLibs[S]=h,_._fireOnDidExtraLibsChangeSoon())}}},C.prototype.setExtraLibs=function(x){for(var f in this._extraLibs)this._removedExtraLibs[f]=this._extraLibs[f].version;if(this._extraLibs=Object.create(null),x&&x.length>0)for(var _=0,S=x;_<S.length;_++){var h=S[_],f=h.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),y=h.content,v=1;this._removedExtraLibs[f]&&(v=this._removedExtraLibs[f]+1),this._extraLibs[f]={content:y,version:v}}this._fireOnDidExtraLibsChangeSoon()},C.prototype._fireOnDidExtraLibsChangeSoon=function(){var x=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(function(){x._onDidExtraLibsChangeTimeout=-1,x._onDidExtraLibsChange.fire(void 0)},0))},C.prototype.getCompilerOptions=function(){return this._compilerOptions},C.prototype.setCompilerOptions=function(x){this._compilerOptions=x||Object.create(null),this._onDidChange.fire(void 0)},C.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},C.prototype.setDiagnosticsOptions=function(x){this._diagnosticsOptions=x||Object.create(null),this._onDidChange.fire(void 0)},C.prototype.setWorkerOptions=function(x){this._workerOptions=x||Object.create(null),this._onDidChange.fire(void 0)},C.prototype.setInlayHintsOptions=function(x){this._inlayHintsOptions=x||Object.create(null),this._onDidChange.fire(void 0)},C.prototype.setMaximumWorkerIdleTime=function(x){},C.prototype.setEagerModelSync=function(x){this._eagerModelSync=x},C.prototype.getEagerModelSync=function(){return this._eagerModelSync},C}(),T=O,g=new s({allowNonTsExtensions:!0,target:R.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),E=new s({allowNonTsExtensions:!0,allowJs:!0,target:R.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),H=function(){return N().then(function(C){return C.getTypeScriptWorker()})},r=function(){return N().then(function(C){return C.getJavaScriptWorker()})};Q.Mj.typescript={ModuleKind:P,JsxEmit:L,NewLineKind:J,ScriptTarget:R,ModuleResolutionKind:W,typescriptVersion:T,typescriptDefaults:g,javascriptDefaults:E,getTypeScriptWorker:H,getJavaScriptWorker:r};function N(){return c.e(597).then(c.bind(c,81597))}Q.Mj.onLanguage("typescript",function(){return N().then(function(C){return C.setupTypeScript(g)})}),Q.Mj.onLanguage("javascript",function(){return N().then(function(C){return C.setupJavaScript(E)})})},63580:function(ti,Ge,c){"use strict";c.d(Ge,{N:function(){return O}});function D(Q,P){let L;return P.length===0?L=Q:L=Q.replace(/\{(\d+)\}/g,function(J,R){const W=R[0];return typeof P[W]!="undefined"?P[W]:J}),L}function O(Q,P,...L){return D(P,L)}},31106:function(ti,Ge,c){"use strict";c.d(Ge,{F:function(){return Q},U:function(){return P}});var D=c(38819),O=c(72065);const Q=(0,O.yh)("accessibilityService"),P=new D.uy("accessibilityModeEnabled",!1)},42499:function(ti,Ge,c){"use strict";c.d(Ge,{Mm:function(){return _e},Id:function(){return le},vr:function(){return j}});var D=c(65321),O=c(59069),Q=c(76033),P=c(10553),L=c(74741),J=c(4669);class R extends L.Wi{constructor($,G){super(),this._onDidChangeVisibility=this._register(new J.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,D.R3)($,(0,D.$)(".monaco-dropdown")),this._label=(0,D.R3)(this._element,(0,D.$)(".dropdown-label"));let ee=G.labelRenderer;ee||(ee=w=>(w.textContent=G.label||"",null));for(const w of[D.tw.CLICK,D.tw.MOUSE_DOWN,P.t.Tap])this._register((0,D.nm)(this.element,w,F=>D.zB.stop(F,!0)));for(const w of[D.tw.MOUSE_DOWN,P.t.Tap])this._register((0,D.nm)(this._label,w,F=>{F instanceof MouseEvent&&F.detail>1||(this.visible?this.hide():this.show())}));this._register((0,D.nm)(this._label,D.tw.KEY_UP,w=>{const F=new O.y(w);(F.equals(3)||F.equals(10))&&(D.zB.stop(w,!0),this.visible?this.hide():this.show())}));const m=ee(this._label);m&&this._register(m),this._register(P.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class W extends R{constructor($,G){super($,G),this._actions=[],this._contextMenuProvider=G.contextMenuProvider,this.actions=G.actions||[],this.actionProvider=G.actionProvider,this.menuClassName=G.menuClassName||"",this.menuAsChild=!!G.menuAsChild}set menuOptions($){this._menuOptions=$}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions($){this._actions=$}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:$=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider($):void 0,getKeyBinding:$=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding($):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class s extends Q.Y{constructor($,G,ee,m=Object.create(null)){super(null,$,m),this.actionItem=null,this._onDidChangeVisibility=this._register(new J.Q5),this.menuActionsOrProvider=G,this.contextMenuProvider=ee,this.options=m,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render($){this.actionItem=$;const G=w=>{this.element=(0,D.R3)(w,(0,D.$)("a.action-label"));let F=[];return typeof this.options.classNames=="string"?F=this.options.classNames.split(/\s+/g).filter(ie=>!!ie):this.options.classNames&&(F=this.options.classNames),F.find(ie=>ie==="icon")||F.push("codicon"),this.element.classList.add(...F),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},ee=Array.isArray(this.menuActionsOrProvider),m={contextMenuProvider:this.contextMenuProvider,labelRenderer:G,menuAsChild:this.options.menuAsChild,actions:ee?this.menuActionsOrProvider:void 0,actionProvider:ee?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new W($,m)),this._register(this.dropdownMenu.onDidChangeVisibility(w=>{var F;(F=this.element)===null||F===void 0||F.setAttribute("aria-expanded",`${w}`),this._onDidChangeVisibility.fire(w)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const w=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return w.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext($){super.setActionContext($),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=$:this.dropdownMenu.menuOptions={context:$})}updateEnabled(){var $,G;const ee=!this.getAction().enabled;($=this.actionItem)===null||$===void 0||$.classList.toggle("disabled",ee),(G=this.element)===null||G===void 0||G.classList.toggle("disabled",ee)}}var T=c(8030),g=c(5976),E=c(1432),H=c(63580),r=c(84144),N=c(38819),C=c(5606),x=c(72065),f=c(91847),_=c(48894),S=c(87060),h=c(97781),y=function(Y,$,G,ee){var m=arguments.length,w=m<3?$:ee===null?ee=Object.getOwnPropertyDescriptor($,G):ee,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(Y,$,G,ee);else for(var ie=Y.length-1;ie>=0;ie--)(F=Y[ie])&&(w=(m<3?F(w):m>3?F($,G,w):F($,G))||w);return m>3&&w&&Object.defineProperty($,G,w),w},v=function(Y,$){return function(G,ee){$(G,ee,Y)}},B=function(Y,$,G,ee){function m(w){return w instanceof G?w:new G(function(F){F(w)})}return new(G||(G=Promise))(function(w,F){function ie(ke){try{ue(ee.next(ke))}catch(Te){F(Te)}}function pe(ke){try{ue(ee.throw(ke))}catch(Te){F(Te)}}function ue(ke){ke.done?w(ke.value):m(ke.value).then(ie,pe)}ue((ee=ee.apply(Y,$||[])).next())})};function j(Y,$,G,ee,m,w,F){const ie=Y.getActions($);return ce(ie,G,!1,typeof ee=="string"?ue=>ue===ee:ee,m,w,F),te(ie)}function te(Y){const $=new g.SL;for(const[,G]of Y)for(const ee of G)$.add(ee);return $}function ce(Y,$,G,ee=ie=>ie==="navigation",m=Number.MAX_SAFE_INTEGER,w=()=>!1,F=!1){let ie,pe;Array.isArray($)?(ie=$,pe=$):(ie=$.primary,pe=$.secondary);const ue=new Set;for(const[ke,Te]of Y){let rt;ee(ke)?(rt=ie,rt.length>0&&F&&rt.push(new L.Z0)):(rt=pe,rt.length>0&&rt.push(new L.Z0));for(let Rt of Te){G&&(Rt=Rt instanceof r.U8&&Rt.alt?Rt.alt:Rt);const mt=rt.push(Rt);Rt instanceof L.wY&&ue.add({group:ke,action:Rt,index:mt-1})}}for(const{group:ke,action:Te,index:rt}of ue){const Rt=ee(ke)?ie:pe,mt=Te.actions;(mt.length<=1||Rt.length+mt.length-2<=m)&&w(Te,ke,Rt.length)&&Rt.splice(rt,1,...mt)}if(ie!==pe&&ie.length>m){const ke=ie.splice(m,ie.length-m);pe.unshift(...ke,new L.Z0)}}let _e=class extends Q.g{constructor($,G,ee,m,w){super(void 0,$,{icon:!!($.class||$.item.icon),label:!$.class&&!$.item.icon,draggable:G==null?void 0:G.draggable}),this._keybindingService=ee,this._notificationService=m,this._contextKeyService=w,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new g.XK),this._altKey=D._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick($){return B(this,void 0,void 0,function*(){$.preventDefault(),$.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(G){this._notificationService.error(G)}})}render($){super.render($),$.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let G=!1,ee=this._altKey.keyStatus.altKey||(E.ED||E.IJ)&&this._altKey.keyStatus.shiftKey;const m=()=>{const w=G&&ee;w!==this._wantsAltCommand&&(this._wantsAltCommand=w,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(w=>{ee=w.altKey||(E.ED||E.IJ)&&w.shiftKey,m()})),this._register((0,D.nm)($,"mouseleave",w=>{G=!1,m()})),this._register((0,D.nm)($,"mouseenter",w=>{G=!0,m()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const $=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),G=$&&$.getLabel(),ee=this._commandAction.tooltip||this._commandAction.label;let m=G?(0,H.N)("titleAndKb","{0} ({1})",ee,G):ee;if(!this._wantsAltCommand&&this._menuItemAction.alt){const w=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,F=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),ie=F&&F.getLabel(),pe=ie?(0,H.N)("titleAndKb","{0} ({1})",w,ie):w;m+=`
[${T.xo.modifierLabels[E.OS].altKey}] ${pe}`}this.label.title=m}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass($){var G;this._itemClassDispose.value=void 0;const{element:ee,label:m}=this;if(!ee||!m)return;const w=this._commandAction.checked&&(!((G=$.toggled)===null||G===void 0)&&G.icon)?$.toggled.icon:$.icon;if(w)if(h.kS.isThemeIcon(w)){const F=h.kS.asClassNameArray(w);m.classList.add(...F),this._itemClassDispose.value=(0,g.OF)(()=>{m.classList.remove(...F)})}else w.light&&m.style.setProperty("--menu-entry-icon-light",(0,D.wY)(w.light)),w.dark&&m.style.setProperty("--menu-entry-icon-dark",(0,D.wY)(w.dark)),m.classList.add("icon"),this._itemClassDispose.value=(0,g.OF)(()=>{m.classList.remove("icon"),m.style.removeProperty("--menu-entry-icon-light"),m.style.removeProperty("--menu-entry-icon-dark")})}};_e=y([v(2,f.d),v(3,_.lT),v(4,N.i6)],_e);let Ce=class extends s{constructor($,G,ee){var m,w;const F=Object.assign({},G!=null?G:Object.create(null),{menuAsChild:(m=G==null?void 0:G.menuAsChild)!==null&&m!==void 0?m:!1,classNames:(w=G==null?void 0:G.classNames)!==null&&w!==void 0?w:h.kS.isThemeIcon($.item.icon)?h.kS.asClassName($.item.icon):void 0});super($,{getActions:()=>$.actions},ee,F)}render($){if(super.render($),this.element){$.classList.add("menu-entry");const{icon:G}=this._action.item;G&&!h.kS.isThemeIcon(G)&&(this.element.classList.add("icon"),G.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,D.wY)(G.light)),G.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,D.wY)(G.dark)))}}};Ce=y([v(2,C.i)],Ce);let Ee=class extends Q.Y{constructor($,G,ee,m,w,F,ie,pe){var ue,ke,Te;super(null,$),this._keybindingService=ee,this._notificationService=m,this._contextMenuService=w,this._menuService=F,this._instaService=ie,this._storageService=pe,this._container=null,this._storageKey=`${$.item.submenu._debugName}_lastActionId`;let rt,Rt=pe.get(this._storageKey,1);Rt&&(rt=$.actions.find(Mt=>Rt===Mt.id)),rt||(rt=$.actions[0]),this._defaultAction=this._instaService.createInstance(_e,rt,void 0);const mt=Object.assign({},G!=null?G:Object.create(null),{menuAsChild:(ue=G==null?void 0:G.menuAsChild)!==null&&ue!==void 0?ue:!0,classNames:(ke=G==null?void 0:G.classNames)!==null&&ke!==void 0?ke:["codicon","codicon-chevron-down"],actionRunner:(Te=G==null?void 0:G.actionRunner)!==null&&Te!==void 0?Te:new L.Wi});this._dropdown=new s($,$.actions,this._contextMenuService,mt),this._dropdown.actionRunner.onDidRun(Mt=>{Mt.action instanceof r.U8&&this.update(Mt.action)})}update($){this._storageService.store(this._storageKey,$.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(_e,$,void 0),this._defaultAction.actionRunner=new class extends L.Wi{runAction(G,ee){return B(this,void 0,void 0,function*(){yield G.run(void 0)})}},this._container&&this._defaultAction.render((0,D.Ce)(this._container,(0,D.$)(".action-container")))}setActionContext($){super.setActionContext($),this._defaultAction.setActionContext($),this._dropdown.setActionContext($)}render($){this._container=$,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const G=(0,D.$)(".action-container");this._defaultAction.render((0,D.R3)(this._container,G)),this._register((0,D.nm)(G,D.tw.KEY_DOWN,m=>{const w=new O.y(m);w.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),w.stopPropagation())}));const ee=(0,D.$)(".dropdown-action-container");this._dropdown.render((0,D.R3)(this._container,ee)),this._register((0,D.nm)(ee,D.tw.KEY_DOWN,m=>{var w;const F=new O.y(m);F.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(w=this._defaultAction.element)===null||w===void 0||w.focus(),F.stopPropagation())}))}focus($){$?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable($){$?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Ee=y([v(2,f.d),v(3,_.lT),v(4,C.i),v(5,r.co),v(6,x.TG),v(7,S.Uy)],Ee);function le(Y,$,G){return $ instanceof r.U8?Y.createInstance(_e,$,void 0):$ instanceof r.NZ?$.item.rememberDefaultAction?Y.createInstance(Ee,$,G):Y.createInstance(Ce,$,G):void 0}},84144:function(ti,Ge,c){"use strict";c.d(Ge,{BH:function(){return C},NZ:function(){return x},U8:function(){return f},co:function(){return N},eH:function(){return r},vr:function(){return H}});var D=c(74741),O=c(73046),Q=c(4669),P=c(56899),L=c(5976),J=c(91741),R=c(94565),W=c(38819),s=c(72065),T=c(97781),g=function(_,S,h,y){var v=arguments.length,B=v<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,h):y,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(_,S,h,y);else for(var te=_.length-1;te>=0;te--)(j=_[te])&&(B=(v<3?j(B):v>3?j(S,h,B):j(S,h))||B);return v>3&&B&&Object.defineProperty(S,h,B),B},E=function(_,S){return function(h,y){S(h,y,_)}};function H(_){return _.command!==void 0}class r{constructor(S){this.id=r._idPool++,this._debugName=S}}r._idPool=0,r.CommandPalette=new r("CommandPalette"),r.EditorContext=new r("EditorContext"),r.SimpleEditorContext=new r("SimpleEditorContext"),r.EditorContextCopy=new r("EditorContextCopy"),r.EditorContextPeek=new r("EditorContextPeek"),r.MenubarEditMenu=new r("MenubarEditMenu"),r.MenubarCopy=new r("MenubarCopy"),r.MenubarGoMenu=new r("MenubarGoMenu"),r.MenubarSelectionMenu=new r("MenubarSelectionMenu"),r.InlineCompletionsActions=new r("InlineCompletionsActions");const N=(0,s.yh)("menuService"),C=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:_=>_===r.CommandPalette}}addCommand(_){return this.addCommands(P.$.single(_))}addCommands(_){for(const S of _)this._commands.set(S.id,S);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,L.OF)(()=>{let S=!1;for(const h of _)S=this._commands.delete(h.id)||S;S&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(_){return this._commands.get(_)}getCommands(){const _=new Map;return this._commands.forEach((S,h)=>_.set(h,S)),_}appendMenuItem(_,S){return this.appendMenuItems(P.$.single({id:_,item:S}))}appendMenuItems(_){const S=new Set,h=new J.S;for(const{id:y,item:v}of _){let B=this._menuItems.get(y);B||(B=new J.S,this._menuItems.set(y,B)),h.push(B.push(v)),S.add(y)}return this._onDidChangeMenu.fire(S),(0,L.OF)(()=>{if(h.size>0){for(let y of h)y();this._onDidChangeMenu.fire(S),h.clear()}})}getMenuItems(_){let S;return this._menuItems.has(_)?S=[...this._menuItems.get(_)]:S=[],_===r.CommandPalette&&this._appendImplicitItems(S),S}_appendImplicitItems(_){const S=new Set;for(const h of _)H(h)&&(S.add(h.command.id),h.alt&&S.add(h.alt.id));this._commands.forEach((h,y)=>{S.has(y)||_.push({command:h})})}};class x extends D.wY{constructor(S,h,y,v){super(`submenuitem.${S.submenu.id}`,typeof S.title=="string"?S.title:S.title.value,[],"submenu"),this.item=S,this._menuService=h,this._contextKeyService=y,this._options=v}get actions(){const S=[],h=this._menuService.createMenu(this.item.submenu,this._contextKeyService),y=h.getActions(this._options);h.dispose();for(const[,v]of y)v.length>0&&(S.push(...v),S.push(new D.Z0));return S.length&&S.pop(),S}}let f=class Mu{constructor(S,h,y,v,B){var j,te;if(this._commandService=B,this.id=S.id,this.label=y!=null&&y.renderShortTitle&&S.shortTitle?typeof S.shortTitle=="string"?S.shortTitle:S.shortTitle.value:typeof S.title=="string"?S.title:S.title.value,this.tooltip=(te=typeof S.tooltip=="string"?S.tooltip:(j=S.tooltip)===null||j===void 0?void 0:j.value)!==null&&te!==void 0?te:"",this.enabled=!S.precondition||v.contextMatchesRules(S.precondition),this.checked=void 0,S.toggled){const ce=S.toggled.condition?S.toggled:{condition:S.toggled};this.checked=v.contextMatchesRules(ce.condition),this.checked&&ce.tooltip&&(this.tooltip=typeof ce.tooltip=="string"?ce.tooltip:ce.tooltip.value),ce.title&&(this.label=typeof ce.title=="string"?ce.title:ce.title.value)}this.item=S,this.alt=h?new Mu(h,void 0,y,v,B):void 0,this._options=y,T.kS.isThemeIcon(S.icon)&&(this.class=O.dT.asClassName(S.icon))}dispose(){}run(...S){var h,y;let v=[];return!((h=this._options)===null||h===void 0)&&h.arg&&(v=[...v,this._options.arg]),!((y=this._options)===null||y===void 0)&&y.shouldForwardArgs&&(v=[...v,...S]),this._commandService.executeCommand(this.id,...v)}};f=g([E(3,W.i6),E(4,R.H)],f)},84972:function(ti,Ge,c){"use strict";c.d(Ge,{p:function(){return O}});var D=c(72065);const O=(0,D.yh)("clipboardService")},94565:function(ti,Ge,c){"use strict";c.d(Ge,{H:function(){return R},P:function(){return W}});var D=c(4669),O=c(56899),Q=c(5976),P=c(91741),L=c(98401),J=c(72065);const R=(0,J.yh)("commandService"),W=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new D.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(s,T){if(!s)throw new Error("invalid command");if(typeof s=="string"){if(!T)throw new Error("invalid command");return this.registerCommand({id:s,handler:T})}if(s.description){const N=[];for(let x of s.description.args)N.push(x.constraint);const C=s.handler;s.handler=function(x,...f){return(0,L.D8)(f,N),C(x,...f)}}const{id:g}=s;let E=this._commands.get(g);E||(E=new P.S,this._commands.set(g,E));let H=E.unshift(s),r=(0,Q.OF)(()=>{H();const N=this._commands.get(g);N!=null&&N.isEmpty()&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),r}registerCommandAlias(s,T){return W.registerCommand(s,(g,...E)=>g.get(R).executeCommand(T,...E))}getCommand(s){const T=this._commands.get(s);if(!(!T||T.isEmpty()))return O.$.first(T)}getCommands(){const s=new Map;for(const T of this._commands.keys()){const g=this.getCommand(T);g&&s.set(T,g)}return s}};W.registerCommand("noop",()=>{})},33108:function(ti,Ge,c){"use strict";c.d(Ge,{KV:function(){return J},MR:function(){return T},Mt:function(){return s},O4:function(){return g},Od:function(){return L},Ui:function(){return P},xL:function(){return R}});var D=c(23193),O=c(72065),Q=c(89872);const P=(0,O.yh)("configurationService");function L(E,H){const r=Object.create(null);for(let N in E)J(r,N,E[N],H);return r}function J(E,H,r,N){const C=H.split("."),x=C.pop();let f=E;for(let _=0;_<C.length;_++){let S=C[_],h=f[S];switch(typeof h){case"undefined":h=f[S]=Object.create(null);break;case"object":break;default:N(`Ignoring ${H} as ${C.slice(0,_+1).join(".")} is ${JSON.stringify(h)}`);return}f=h}if(typeof f=="object"&&f!==null)try{f[x]=r}catch(_){N(`Ignoring ${H} as ${C.join(".")} is ${JSON.stringify(f)}`)}else N(`Ignoring ${H} as ${C.join(".")} is ${JSON.stringify(f)}`)}function R(E,H){const r=H.split(".");W(E,r)}function W(E,H){const r=H.shift();if(H.length===0){delete E[r];return}if(Object.keys(E).indexOf(r)!==-1){const N=E[r];typeof N=="object"&&!Array.isArray(N)&&(W(N,H),Object.keys(N).length===0&&delete E[r])}}function s(E,H,r){function N(f,_){let S=f;for(const h of _){if(typeof S!="object"||S===null)return;S=S[h]}return S}const C=H.split("."),x=N(E,C);return typeof x=="undefined"?r:x}function T(){const E=Q.B.as(D.IP.Configuration).getConfigurationProperties();return Object.keys(E)}function g(){const E=Object.create(null),H=Q.B.as(D.IP.Configuration).getConfigurationProperties();for(let r in H){let N=H[r].default;J(E,r,N,C=>console.error(`Conflict in default settings: ${C}`))}return E}},23193:function(ti,Ge,c){"use strict";c.d(Ge,{G1:function(){return x},IP:function(){return J},Uh:function(){return f}});var D=c(4669),O=c(98401),Q=c(63580),P=c(81294),L=c(89872);const J={Configuration:"base.contributions.configuration"},R={properties:{},patternProperties:{}},W={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},T={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},E={properties:{},patternProperties:{}},H="vscode://schemas/settings/resourceLanguage",r=L.B.as(P.I.JSONContribution);class N{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new D.Q5,this._onDidUpdateConfiguration=new D.Q5,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:Q.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},r.registerSchema(H,this.resourceLanguageSettingsSchema)}registerConfiguration(v,B=!0){this.registerConfigurations([v],B)}registerConfigurations(v,B=!0){const j=this.doRegisterConfigurations(v,B);r.registerSchema(H,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(j)}registerOverrideIdentifiers(v){for(const B of v)this.overrideIdentifiers.add(B);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(v,B){const j=[];return v.forEach(te=>{j.push(...this.validateAndRegisterProperties(te,B,te.extensionInfo)),this.configurationContributors.push(te),this.registerJSONConfiguration(te)}),j}validateAndRegisterProperties(v,B=!0,j,te=3){var ce;te=O.Jp(v.scope)?te:v.scope;let _e=[],Ce=v.properties;if(Ce)for(let le in Ce){if(B&&h(le)){delete Ce[le];continue}const Y=Ce[le];if(this.updatePropertyDefaultValue(le,Y),x.test(le)?Y.scope=void 0:(Y.scope=O.Jp(Y.scope)?te:Y.scope,Y.restricted=O.Jp(Y.restricted)?!!(!((ce=j==null?void 0:j.restrictedConfigurations)===null||ce===void 0)&&ce.includes(le)):Y.restricted),Ce[le].hasOwnProperty("included")&&!Ce[le].included){this.excludedConfigurationProperties[le]=Ce[le],delete Ce[le];continue}else this.configurationProperties[le]=Ce[le];!Ce[le].deprecationMessage&&Ce[le].markdownDeprecationMessage&&(Ce[le].deprecationMessage=Ce[le].markdownDeprecationMessage),_e.push(le)}let Ee=v.allOf;if(Ee)for(let le of Ee)_e.push(...this.validateAndRegisterProperties(le,B,j,te));return _e}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(v){const B=j=>{let te=j.properties;if(te)for(const _e in te)this.updateSchema(_e,te[_e]);let ce=j.allOf;ce&&ce.forEach(B)};B(v)}updateSchema(v,B){switch(R.properties[v]=B,B.scope){case 1:W.properties[v]=B;break;case 2:s.properties[v]=B;break;case 6:T.properties[v]=B;break;case 3:g.properties[v]=B;break;case 4:E.properties[v]=B;break;case 5:E.properties[v]=B,this.resourceLanguageSettingsSchema.properties[v]=B;break}}updateOverridePropertyPatternKey(){for(const v of this.overrideIdentifiers.values()){const B=`[${v}]`,j={type:"object",description:Q.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:Q.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:H};this.updatePropertyDefaultValue(B,j),R.properties[B]=j,W.properties[B]=j,s.properties[B]=j,T.properties[B]=j,g.properties[B]=j,E.properties[B]=j}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(v,B){let j=this.defaultValues[v];O.o8(j)&&(j=B.default),O.o8(j)&&(j=_(B.type)),B.default=j}}const C="\\[.*\\]$",x=new RegExp(C);function f(y){return y.substring(1,y.length-1)}function _(y){switch(Array.isArray(y)?y[0]:y){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const S=new N;L.B.add(J.Configuration,S);function h(y){return y.trim()?x.test(y)?Q.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",y):S.getConfigurationProperties()[y]!==void 0?Q.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",y):null:Q.N("config.property.empty","Cannot register an empty property")}},38819:function(ti,Ge,c){"use strict";c.d(Ge,{Ao:function(){return R},Eq:function(){return Ee},Fb:function(){return W},K8:function(){return $},i6:function(){return Ce},uy:function(){return _e}});var D=c(1432),O=c(97295),Q=c(72065);let P=D.WE||"";const L=new Map;L.set("false",!1),L.set("true",!0),L.set("isMac",D.dz),L.set("isLinux",D.IJ),L.set("isWindows",D.ED),L.set("isWeb",D.$L),L.set("isMacNative",D.dz&&!D.$L),L.set("isEdge",P.indexOf("Edg/")>=0),L.set("isFirefox",P.indexOf("Firefox")>=0),L.set("isChrome",P.indexOf("Chrome")>=0),L.set("isSafari",P.indexOf("Safari")>=0);const J=Object.prototype.hasOwnProperty;class R{static has(m){return E.create(m)}static equals(m,w){return H.create(m,w)}static regex(m,w){return v.create(m,w)}static not(m){return x.create(m)}static and(...m){return te.create(m,null)}static or(...m){return ce.create(m,null,!0)}static deserialize(m,w=!1){if(m)return this._deserializeOrExpression(m,w)}static _deserializeOrExpression(m,w){let F=m.split("||");return ce.create(F.map(ie=>this._deserializeAndExpression(ie,w)),null,!0)}static _deserializeAndExpression(m,w){let F=m.split("&&");return te.create(F.map(ie=>this._deserializeOne(ie,w)),null)}static _deserializeOne(m,w){if(m=m.trim(),m.indexOf("!=")>=0){let F=m.split("!=");return C.create(F[0].trim(),this._deserializeValue(F[1],w))}if(m.indexOf("==")>=0){let F=m.split("==");return H.create(F[0].trim(),this._deserializeValue(F[1],w))}if(m.indexOf("=~")>=0){let F=m.split("=~");return v.create(F[0].trim(),this._deserializeRegexValue(F[1],w))}if(m.indexOf(" in ")>=0){let F=m.split(" in ");return r.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(m)){const F=m.split(">=");return S.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(m)){const F=m.split(">");return _.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(m)){const F=m.split("<=");return y.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(m)){const F=m.split("<");return h.create(F[0].trim(),F[1].trim())}return/^\!\s*/.test(m)?x.create(m.substr(1).trim()):E.create(m)}static _deserializeValue(m,w){if(m=m.trim(),m==="true")return!0;if(m==="false")return!1;let F=/^'([^']*)'$/.exec(m);return F?F[1].trim():m}static _deserializeRegexValue(m,w){if((0,O.m5)(m)){if(w)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let F=m.indexOf("/"),ie=m.lastIndexOf("/");if(F===ie||F<0){if(w)throw new Error(`bad regexp-value '${m}', missing /-enclosure`);return console.warn(`bad regexp-value '${m}', missing /-enclosure`),null}let pe=m.slice(F+1,ie),ue=m[ie+1]==="i"?"i":"";try{return new RegExp(pe,ue)}catch(ke){if(w)throw new Error(`bad regexp-value '${m}', parse error: ${ke}`);return console.warn(`bad regexp-value '${m}', parse error: ${ke}`),null}}}function W(ee,m){const w=ee?ee.substituteConstants():void 0,F=m?m.substituteConstants():void 0;return!w&&!F?!0:!w||!F?!1:w.equals(F)}function s(ee,m){return ee.cmp(m)}class T{constructor(){this.type=0}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}T.INSTANCE=new T;class g{constructor(){this.type=1}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!0}serialize(){return"true"}keys(){return[]}negate(){return T.INSTANCE}}g.INSTANCE=new g;class E{constructor(m,w){this.key=m,this.negated=w,this.type=2}static create(m,w=null){const F=L.get(m);return typeof F=="boolean"?F?g.INSTANCE:T.INSTANCE:new E(m,w)}cmp(m){return m.type!==this.type?this.type-m.type:le(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=L.get(this.key);return typeof m=="boolean"?m?g.INSTANCE:T.INSTANCE:this}evaluate(m){return!!m.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this)),this.negated}}class H{constructor(m,w,F){this.key=m,this.value=w,this.negated=F,this.type=4}static create(m,w,F=null){if(typeof w=="boolean")return w?E.create(m,F):x.create(m,F);const ie=L.get(m);return typeof ie=="boolean"?w===(ie?"true":"false")?g.INSTANCE:T.INSTANCE:new H(m,w,F)}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){const m=L.get(this.key);if(typeof m=="boolean"){const w=m?"true":"false";return this.value===w?g.INSTANCE:T.INSTANCE}return this}evaluate(m){return m.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}class r{constructor(m,w){this.key=m,this.valueKey=w,this.type=10,this.negated=null}static create(m,w){return new r(m,w)}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.valueKey,m.key,m.valueKey)}equals(m){return m.type===this.type?this.key===m.key&&this.valueKey===m.valueKey:!1}substituteConstants(){return this}evaluate(m){const w=m.getValue(this.valueKey),F=m.getValue(this.key);return Array.isArray(w)?w.indexOf(F)>=0:typeof F=="string"&&typeof w=="object"&&w!==null?J.call(w,F):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=N.create(this)),this.negated}}class N{constructor(m){this._actual=m,this.type=11}static create(m){return new N(m)}cmp(m){return m.type!==this.type?this.type-m.type:this._actual.cmp(m._actual)}equals(m){return m.type===this.type?this._actual.equals(m._actual):!1}substituteConstants(){return this}evaluate(m){return!this._actual.evaluate(m)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class C{constructor(m,w,F){this.key=m,this.value=w,this.negated=F,this.type=5}static create(m,w,F=null){if(typeof w=="boolean")return w?x.create(m,F):E.create(m,F);const ie=L.get(m);return typeof ie=="boolean"?w===(ie?"true":"false")?T.INSTANCE:g.INSTANCE:new C(m,w,F)}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){const m=L.get(this.key);if(typeof m=="boolean"){const w=m?"true":"false";return this.value===w?T.INSTANCE:g.INSTANCE}return this}evaluate(m){return m.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class x{constructor(m,w){this.key=m,this.negated=w,this.type=3}static create(m,w=null){const F=L.get(m);return typeof F=="boolean"?F?T.INSTANCE:g.INSTANCE:new x(m,w)}cmp(m){return m.type!==this.type?this.type-m.type:le(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=L.get(this.key);return typeof m=="boolean"?m?T.INSTANCE:g.INSTANCE:this}evaluate(m){return!m.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this)),this.negated}}function f(ee,m){if(typeof ee=="string"){const w=parseFloat(ee);isNaN(w)||(ee=w)}return typeof ee=="string"||typeof ee=="number"?m(ee):T.INSTANCE}class _{constructor(m,w,F){this.key=m,this.value=w,this.negated=F,this.type=12}static create(m,w,F=null){return f(w,ie=>new _(m,ie,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class S{constructor(m,w,F){this.key=m,this.value=w,this.negated=F,this.type=13}static create(m,w,F=null){return f(w,ie=>new S(m,ie,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}class h{constructor(m,w,F){this.key=m,this.value=w,this.negated=F,this.type=14}static create(m,w,F=null){return f(w,ie=>new h(m,ie,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this.key,this.value,this)),this.negated}}class y{constructor(m,w,F){this.key=m,this.value=w,this.negated=F,this.type=15}static create(m,w,F=null){return f(w,ie=>new y(m,ie,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this.value,this)),this.negated}}class v{constructor(m,w){this.key=m,this.regexp=w,this.type=7,this.negated=null}static create(m,w){return new v(m,w)}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.key<m.key)return-1;if(this.key>m.key)return 1;const w=this.regexp?this.regexp.source:"",F=m.regexp?m.regexp.source:"";return w<F?-1:w>F?1:0}equals(m){if(m.type===this.type){const w=this.regexp?this.regexp.source:"",F=m.regexp?m.regexp.source:"";return this.key===m.key&&w===F}return!1}substituteConstants(){return this}evaluate(m){let w=m.getValue(this.key);return this.regexp?this.regexp.test(w):!1}serialize(){const m=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${m}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=B.create(this)),this.negated}}class B{constructor(m){this._actual=m,this.type=8}static create(m){return new B(m)}cmp(m){return m.type!==this.type?this.type-m.type:this._actual.cmp(m._actual)}equals(m){return m.type===this.type?this._actual.equals(m._actual):!1}substituteConstants(){return this}evaluate(m){return!this._actual.evaluate(m)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function j(ee){let m=null;for(let w=0,F=ee.length;w<F;w++){const ie=ee[w].substituteConstants();if(ee[w]!==ie&&m===null){m=[];for(let pe=0;pe<w;pe++)m[pe]=ee[pe]}m!==null&&(m[w]=ie)}return m===null?ee:m}class te{constructor(m,w){this.expr=m,this.negated=w,this.type=6}static create(m,w){return te._normalizeArr(m,w)}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let w=0,F=this.expr.length;w<F;w++){const ie=s(this.expr[w],m.expr[w]);if(ie!==0)return ie}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let w=0,F=this.expr.length;w<F;w++)if(!this.expr[w].equals(m.expr[w]))return!1;return!0}return!1}substituteConstants(){const m=j(this.expr);return m===this.expr?this:te.create(m,this.negated)}evaluate(m){for(let w=0,F=this.expr.length;w<F;w++)if(!this.expr[w].evaluate(m))return!1;return!0}static _normalizeArr(m,w){const F=[];let ie=!1;for(const pe of m)if(pe){if(pe.type===1){ie=!0;continue}if(pe.type===0)return T.INSTANCE;if(pe.type===6){F.push(...pe.expr);continue}F.push(pe)}if(F.length===0&&ie)return g.INSTANCE;if(F.length!==0){if(F.length===1)return F[0];F.sort(s);for(let pe=1;pe<F.length;pe++)F[pe-1].equals(F[pe])&&(F.splice(pe,1),pe--);if(F.length===1)return F[0];for(;F.length>1;){const pe=F[F.length-1];if(pe.type!==9)break;F.pop();const ue=F.pop(),ke=F.length===0,Te=ce.create(pe.expr.map(rt=>te.create([rt,ue],null)),null,ke);Te&&(F.push(Te),F.sort(s))}return F.length===1?F[0]:new te(F,w)}}serialize(){return this.expr.map(m=>m.serialize()).join(" && ")}keys(){const m=[];for(let w of this.expr)m.push(...w.keys());return m}negate(){if(!this.negated){const m=[];for(let w of this.expr)m.push(w.negate());this.negated=ce.create(m,this,!0)}return this.negated}}class ce{constructor(m,w){this.expr=m,this.negated=w,this.type=9}static create(m,w,F){return ce._normalizeArr(m,w,F)}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let w=0,F=this.expr.length;w<F;w++){const ie=s(this.expr[w],m.expr[w]);if(ie!==0)return ie}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let w=0,F=this.expr.length;w<F;w++)if(!this.expr[w].equals(m.expr[w]))return!1;return!0}return!1}substituteConstants(){const m=j(this.expr);return m===this.expr?this:ce.create(m,this.negated,!1)}evaluate(m){for(let w=0,F=this.expr.length;w<F;w++)if(this.expr[w].evaluate(m))return!0;return!1}static _normalizeArr(m,w,F){let ie=[],pe=!1;if(m){for(let ue=0,ke=m.length;ue<ke;ue++){const Te=m[ue];if(Te){if(Te.type===0){pe=!0;continue}if(Te.type===1)return g.INSTANCE;if(Te.type===9){ie=ie.concat(Te.expr);continue}ie.push(Te)}}if(ie.length===0&&pe)return T.INSTANCE;ie.sort(s)}if(ie.length!==0){if(ie.length===1)return ie[0];for(let ue=1;ue<ie.length;ue++)ie[ue-1].equals(ie[ue])&&(ie.splice(ue,1),ue--);if(ie.length===1)return ie[0];if(F){for(let ue=0;ue<ie.length;ue++)for(let ke=ue+1;ke<ie.length;ke++)$(ie[ue],ie[ke])&&(ie.splice(ke,1),ke--);if(ie.length===1)return ie[0]}return new ce(ie,w)}}serialize(){return this.expr.map(m=>m.serialize()).join(" || ")}keys(){const m=[];for(let w of this.expr)m.push(...w.keys());return m}negate(){if(!this.negated){let m=[];for(let w of this.expr)m.push(w.negate());for(;m.length>1;){const w=m.shift(),F=m.shift(),ie=[];for(const ue of G(w))for(const ke of G(F))ie.push(te.create([ue,ke],null));const pe=m.length===0;m.unshift(ce.create(ie,null,pe))}this.negated=m[0]}return this.negated}}class _e extends E{constructor(m,w,F){super(m,null),this._defaultValue=w,typeof F=="object"?_e._info.push(Object.assign(Object.assign({},F),{key:m})):F!==!0&&_e._info.push({key:m,description:F,type:w!=null?typeof w:void 0})}static all(){return _e._info.values()}bindTo(m){return m.createKey(this.key,this._defaultValue)}getValue(m){return m.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(m){return H.create(this.key,m)}}_e._info=[];const Ce=(0,Q.yh)("contextKeyService"),Ee="setContext";function le(ee,m){return ee<m?-1:ee>m?1:0}function Y(ee,m,w,F){return ee<w?-1:ee>w?1:m<F?-1:m>F?1:0}function $(ee,m){if(m.type===6&&ee.type!==9&&ee.type!==6){for(const ie of m.expr)if(ee.equals(ie))return!0}const w=ee.negate(),F=G(w).concat(G(m));F.sort(s);for(let ie=0;ie<F.length;ie++){const ue=F[ie].negate();for(let ke=ie+1;ke<F.length;ke++){const Te=F[ke];if(ue.equals(Te))return!0}}return!1}function G(ee){return ee.type===9?ee.expr:[ee]}},5606:function(ti,Ge,c){"use strict";c.d(Ge,{i:function(){return Q},u:function(){return O}});var D=c(72065);const O=(0,D.yh)("contextViewService"),Q=(0,D.yh)("contextMenuService")},97108:function(ti,Ge,c){"use strict";c.d(Ge,{M:function(){return D}});class D{constructor(Q,P=[],L=!1){this.ctor=Q,this.staticArguments=P,this.supportsDelayedInstantiation=L}}},65026:function(ti,Ge,c){"use strict";c.d(Ge,{d:function(){return P},z:function(){return Q}});var D=c(97108);const O=[];function Q(L,J,R){J instanceof D.M||(J=new D.M(J,[],R)),O.push([L,J])}function P(){return O}},72065:function(ti,Ge,c){"use strict";c.d(Ge,{I8:function(){return D},TG:function(){return O},jt:function(){return L},yh:function(){return P}});var D;(function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies";function R(W){return W[J.DI_DEPENDENCIES]||[]}J.getServiceDependencies=R})(D||(D={}));const O=P("instantiationService");function Q(J,R,W,s){R[D.DI_TARGET]===R?R[D.DI_DEPENDENCIES].push({id:J,index:W,optional:s}):(R[D.DI_DEPENDENCIES]=[{id:J,index:W,optional:s}],R[D.DI_TARGET]=R)}function P(J){if(D.serviceIds.has(J))return D.serviceIds.get(J);const R=function(W,s,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Q(R,W,T,!1)};return R.toString=()=>J,D.serviceIds.set(J,R),R}function L(J){return function(R,W,s){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");Q(J,R,s,!0)}}},60972:function(ti,Ge,c){"use strict";c.d(Ge,{y:function(){return D}});class D{constructor(...Q){this._entries=new Map;for(let[P,L]of Q)this.set(P,L)}set(Q,P){const L=this._entries.get(Q);return this._entries.set(Q,P),L}has(Q){return this._entries.has(Q)}get(Q){return this._entries.get(Q)}}},81294:function(ti,Ge,c){"use strict";c.d(Ge,{I:function(){return Q}});var D=c(4669),O=c(89872);const Q={JSONContribution:"base.contributions.json"};function P(R){return R.length>0&&R.charAt(R.length-1)==="#"?R.substring(0,R.length-1):R}class L{constructor(){this._onDidChangeSchema=new D.Q5,this.schemasById={}}registerSchema(W,s){this.schemasById[P(W)]=s,this._onDidChangeSchema.fire(W)}notifySchemaChanged(W){this._onDidChangeSchema.fire(W)}}const J=new L;O.B.add(Q.JSONContribution,J)},91847:function(ti,Ge,c){"use strict";c.d(Ge,{d:function(){return O}});var D=c(72065);const O=(0,D.yh)("keybindingService")},49989:function(ti,Ge,c){"use strict";c.d(Ge,{W:function(){return J}});var D=c(8313),O=c(1432),Q=c(94565),P=c(89872);class L{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(T){if(O.OS===1){if(T&&T.win)return T.win}else if(O.OS===2){if(T&&T.mac)return T.mac}else if(T&&T.linux)return T.linux;return T}registerKeybindingRule(T){const g=L.bindToCurrentPlatform(T);if(g&&g.primary){const E=(0,D.gm)(g.primary,O.OS);E&&this._registerDefaultKeybinding(E,T.id,T.args,T.weight,0,T.when)}if(g&&Array.isArray(g.secondary))for(let E=0,H=g.secondary.length;E<H;E++){const r=g.secondary[E],N=(0,D.gm)(r,O.OS);N&&this._registerDefaultKeybinding(N,T.id,T.args,T.weight,-E-1,T.when)}}registerCommandAndKeybindingRule(T){this.registerKeybindingRule(T),Q.P.registerCommand(T)}static _mightProduceChar(T){return T>=21&&T<=30||T>=31&&T<=56?!0:T===80||T===81||T===82||T===83||T===84||T===85||T===86||T===110||T===111||T===87||T===88||T===89||T===90||T===91||T===92}_assertNoCtrlAlt(T,g){T.ctrlKey&&T.altKey&&!T.metaKey&&L._mightProduceChar(T.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",T," for ",g)}_registerDefaultKeybinding(T,g,E,H,r,N){O.OS===1&&this._assertNoCtrlAlt(T.parts[0],g),this._coreKeybindings.push({keybinding:T.parts,command:g,commandArgs:E,when:N,weight1:H,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(W)),this._cachedMergedKeybindings.slice(0)}}const J=new L,R={EditorModes:"platform.keybindingsRegistry"};P.B.add(R.EditorModes,J);function W(s,T){return s.weight1!==T.weight1?s.weight1-T.weight1:s.command<T.command?-1:s.command>T.command?1:s.weight2-T.weight2}},44349:function(ti,Ge,c){"use strict";c.d(Ge,{e:function(){return O}});var D=c(72065);const O=(0,D.yh)("labelService")},38097:function(ti,Ge,c){"use strict";c.d(Ge,{Lw:function(){return _i},XN:function(){return hn},ls:function(){return li},ev:function(){return Xn},CQ:function(){return os}});var D=c(65321),O=c(9488),Q=c(71050),P=c(4669),L=c(5976),J=c(5520),R=c(69047);class W{constructor(V,ae){this.renderer=V,this.modelProvider=ae}get templateId(){return this.renderer.templateId}renderTemplate(V){return{data:this.renderer.renderTemplate(V),disposable:L.JT.None}}renderElement(V,ae,Ne,qe){if(Ne.disposable&&Ne.disposable.dispose(),!Ne.data)return;const bt=this.modelProvider();if(bt.isResolved(V))return this.renderer.renderElement(bt.get(V),V,Ne.data,qe);const $t=new Q.A,ni=bt.resolve(V,$t.token);Ne.disposable={dispose:()=>$t.cancel()},this.renderer.renderPlaceholder(V,Ne.data),ni.then(mi=>this.renderer.renderElement(mi,V,Ne.data,qe))}disposeTemplate(V){V.disposable&&(V.disposable.dispose(),V.disposable=void 0),V.data&&(this.renderer.disposeTemplate(V.data),V.data=void 0)}}class s{constructor(V,ae){this.modelProvider=V,this.accessibilityProvider=ae}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(V){const ae=this.modelProvider();return ae.isResolved(V)?this.accessibilityProvider.getAriaLabel(ae.get(V)):null}}function T(kt,V){return Object.assign(Object.assign({},V),{accessibilityProvider:V.accessibilityProvider&&new s(kt,V.accessibilityProvider)})}class g{constructor(V,ae,Ne,qe,bt={}){const $t=()=>this.model,ni=qe.map(mi=>new W(mi,$t));this.list=new R.aV(V,ae,Ne,ni,T($t,bt))}updateOptions(V){this.list.updateOptions(V)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return P.ju.map(this.list.onMouseDblClick,({element:V,index:ae,browserEvent:Ne})=>({element:V===void 0?void 0:this._model.get(V),index:ae,browserEvent:Ne}))}get onPointer(){return P.ju.map(this.list.onPointer,({element:V,index:ae,browserEvent:Ne})=>({element:V===void 0?void 0:this._model.get(V),index:ae,browserEvent:Ne}))}get onDidChangeSelection(){return P.ju.map(this.list.onDidChangeSelection,({elements:V,indexes:ae,browserEvent:Ne})=>({elements:V.map(qe=>this._model.get(qe)),indexes:ae,browserEvent:Ne}))}get model(){return this._model}set model(V){this._model=V,this.list.splice(0,this.list.length,(0,O.w6)(V.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(V=>this.model.get(V))}style(V){this.list.style(V)}dispose(){this.list.dispose()}}var E=c(33225);class H{constructor(V,ae,Ne){this.columns=V,this.getColumnSize=Ne,this.templateId=H.TemplateId,this.renderedTemplates=new Set;const qe=new Map(ae.map(bt=>[bt.templateId,bt]));this.renderers=[];for(const bt of V){const $t=qe.get(bt.templateId);if(!$t)throw new Error(`Table cell renderer for template id ${bt.templateId} not found.`);this.renderers.push($t)}}renderTemplate(V){const ae=(0,D.R3)(V,(0,D.$)(".monaco-table-tr")),Ne=[],qe=[];for(let $t=0;$t<this.columns.length;$t++){const ni=this.renderers[$t],mi=(0,D.R3)(ae,(0,D.$)(".monaco-table-td",{"data-col-index":$t}));mi.style.width=`${this.getColumnSize($t)}px`,Ne.push(mi),qe.push(ni.renderTemplate(mi))}const bt={container:V,cellContainers:Ne,cellTemplateData:qe};return this.renderedTemplates.add(bt),bt}renderElement(V,ae,Ne,qe){for(let bt=0;bt<this.columns.length;bt++){const ni=this.columns[bt].project(V);this.renderers[bt].renderElement(ni,ae,Ne.cellTemplateData[bt],qe)}}disposeElement(V,ae,Ne,qe){for(let bt=0;bt<this.columns.length;bt++){const $t=this.renderers[bt];if($t.disposeElement){const mi=this.columns[bt].project(V);$t.disposeElement(mi,ae,Ne.cellTemplateData[bt],qe)}}}disposeTemplate(V){for(let ae=0;ae<this.columns.length;ae++)this.renderers[ae].disposeTemplate(V.cellTemplateData[ae]);(0,D.PO)(V.container),this.renderedTemplates.delete(V)}layoutColumn(V,ae){for(const{cellContainers:Ne}of this.renderedTemplates)Ne[V].style.width=`${ae}px`}}H.TemplateId="row";function r(kt){return{getHeight(V){return kt.getHeight(V)},getTemplateId(){return H.TemplateId}}}class N{constructor(V,ae){this.column=V,this.index=ae,this._onDidLayout=new P.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,D.$)(".monaco-table-th",{"data-col-index":ae,title:V.tooltip},V.label)}get minimumSize(){var V;return(V=this.column.minimumWidth)!==null&&V!==void 0?V:120}get maximumSize(){var V;return(V=this.column.maximumWidth)!==null&&V!==void 0?V:Number.POSITIVE_INFINITY}get onDidChange(){var V;return(V=this.column.onDidChangeWidthConstraints)!==null&&V!==void 0?V:P.ju.None}layout(V){this._onDidLayout.fire([this.index,V])}}class C{constructor(V,ae,Ne,qe,bt,$t){this.virtualDelegate=Ne,this.domId=`table_id_${++C.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,D.R3)(ae,(0,D.$)(`.monaco-table.${this.domId}`));const ni=qe.map((Ei,Bi)=>new N(Ei,Bi)),mi={size:ni.reduce((Ei,Bi)=>Ei+Bi.column.weight,0),views:ni.map(Ei=>({size:Ei.column.weight,view:Ei}))};this.splitview=new E.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:mi}),this.splitview.el.style.height=`${Ne.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Ne.headerRowHeight}px`;const Ai=new H(qe,bt,Ei=>this.splitview.getViewSize(Ei));this.list=new R.aV(V,this.domNode,r(Ne),[Ai],$t),this.columnLayoutDisposable=P.ju.any(...ni.map(Ei=>Ei.onDidLayout))(([Ei,Bi])=>Ai.layoutColumn(Ei,Bi)),this.styleElement=(0,D.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(V){this.list.updateOptions(V)}splice(V,ae,Ne=[]){this.list.splice(V,ae,Ne)}getHTMLElement(){return this.domNode}style(V){const ae=[];ae.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=ae.join(`
`),this.list.style(V)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}C.InstanceCount=0;var x=c(72010),f=c(23547),_=c(4850),S=c(59069),h;(function(kt){kt[kt.Unknown=0]="Unknown",kt[kt.Twistie=1]="Twistie",kt[kt.Element=2]="Element"})(h||(h={}));class y extends Error{constructor(V,ae){super(`TreeError [${V}] ${ae}`)}}class v{constructor(V){this.fn=V,this._map=new WeakMap}map(V){let ae=this._map.get(V);return ae||(ae=this.fn(V),this._map.set(V,ae)),ae}}var B=c(22571),j=c(56899);function te(kt){return typeof kt=="object"&&"visibility"in kt&&"data"in kt}function ce(kt){switch(kt){case!0:return 1;case!1:return 0;default:return kt}}function _e(kt){return typeof kt.collapsible=="boolean"}class Ce{constructor(V,ae,Ne,qe={}){this.user=V,this.list=ae,this.rootRef=[],this.eventBufferer=new P.E7,this._onDidChangeCollapseState=new P.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new P.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new P.Q5,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof qe.collapseByDefault=="undefined"?!1:qe.collapseByDefault,this.filter=qe.filter,this.autoExpandSingleChildren=typeof qe.autoExpandSingleChildren=="undefined"?!1:qe.autoExpandSingleChildren,this.root={parent:void 0,element:Ne,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(V,ae,Ne=j.$.empty(),qe={}){if(V.length===0)throw new y(this.user,"Invalid tree location");qe.diffIdentityProvider?this.spliceSmart(qe.diffIdentityProvider,V,ae,Ne,qe):this.spliceSimple(V,ae,Ne,qe)}spliceSmart(V,ae,Ne,qe,bt,$t){var ni;qe===void 0&&(qe=j.$.empty()),$t===void 0&&($t=(ni=bt.diffDepth)!==null&&ni!==void 0?ni:0);const{parentNode:mi}=this.getParentNodeWithListIndex(ae);if(!mi.lastDiffIds)return this.spliceSimple(ae,Ne,qe,bt);const Ai=[...qe],Ei=ae[ae.length-1],Bi=new B.Hs({getElements:()=>mi.lastDiffIds},{getElements:()=>[...mi.children.slice(0,Ei),...Ai,...mi.children.slice(Ei+Ne)].map(pn=>V.getId(pn.element).toString())}).ComputeDiff(!1);if(Bi.quitEarly)return mi.lastDiffIds=void 0,this.spliceSimple(ae,Ne,Ai,bt);const ln=ae.slice(0,-1),Ti=(pn,$n,Ds)=>{if($t>0)for(let Cn=0;Cn<Ds;Cn++)pn--,$n--,this.spliceSmart(V,[...ln,pn,0],Number.MAX_SAFE_INTEGER,Ai[$n].children,bt,$t-1)};let on=Math.min(mi.children.length,Ei+Ne),en=Ai.length;for(const pn of Bi.changes.sort(($n,Ds)=>Ds.originalStart-$n.originalStart))Ti(on,en,on-(pn.originalStart+pn.originalLength)),on=pn.originalStart,en=pn.modifiedStart-Ei,this.spliceSimple([...ln,on],pn.originalLength,j.$.slice(Ai,en,en+pn.modifiedLength),bt);Ti(on,en,on)}spliceSimple(V,ae,Ne=j.$.empty(),{onDidCreateNode:qe,onDidDeleteNode:bt,diffIdentityProvider:$t}){const{parentNode:ni,listIndex:mi,revealed:Ai,visible:Ei}=this.getParentNodeWithListIndex(V),Bi=[],ln=j.$.map(Ne,Ue=>this.createTreeNode(Ue,ni,ni.visible?1:0,Ai,Bi,qe)),Ti=V[V.length-1],on=ni.children.length>0;let en=0;for(let Ue=Ti;Ue>=0&&Ue<ni.children.length;Ue--){const vt=ni.children[Ue];if(vt.visible){en=vt.visibleChildIndex;break}}const pn=[];let $n=0,Ds=0;for(const Ue of ln)pn.push(Ue),Ds+=Ue.renderNodeCount,Ue.visible&&(Ue.visibleChildIndex=en+$n++);const Cn=(0,O.db)(ni.children,Ti,ae,pn);$t?ni.lastDiffIds?(0,O.db)(ni.lastDiffIds,Ti,ae,pn.map(Ue=>$t.getId(Ue.element).toString())):ni.lastDiffIds=ni.children.map(Ue=>$t.getId(Ue.element).toString()):ni.lastDiffIds=void 0;let Kt=0;for(const Ue of Cn)Ue.visible&&Kt++;if(Kt!==0)for(let Ue=Ti+pn.length;Ue<ni.children.length;Ue++){const vt=ni.children[Ue];vt.visible&&(vt.visibleChildIndex-=Kt)}if(ni.visibleChildrenCount+=$n-Kt,Ai&&Ei){const Ue=Cn.reduce((vt,yt)=>vt+(yt.visible?yt.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(ni,Ds-Ue),this.list.splice(mi,Ue,Bi)}if(Cn.length>0&&bt){const Ue=vt=>{bt(vt),vt.children.forEach(Ue)};Cn.forEach(Ue)}const ve=ni.children.length>0;on!==ve&&this.setCollapsible(V.slice(0,-1),ve),this._onDidSplice.fire({insertedNodes:pn,deletedNodes:Cn});let Me=ni;for(;Me;){if(Me.visibility===2){this.refilter();break}Me=Me.parent}}rerender(V){if(V.length===0)throw new y(this.user,"Invalid tree location");const{node:ae,listIndex:Ne,revealed:qe}=this.getTreeNodeWithListIndex(V);ae.visible&&qe&&this.list.splice(Ne,1,[ae])}has(V){return this.hasTreeNode(V)}getListIndex(V){const{listIndex:ae,visible:Ne,revealed:qe}=this.getTreeNodeWithListIndex(V);return Ne&&qe?ae:-1}getListRenderCount(V){return this.getTreeNode(V).renderNodeCount}isCollapsible(V){return this.getTreeNode(V).collapsible}setCollapsible(V,ae){const Ne=this.getTreeNode(V);typeof ae=="undefined"&&(ae=!Ne.collapsible);const qe={collapsible:ae};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(V,qe))}isCollapsed(V){return this.getTreeNode(V).collapsed}setCollapsed(V,ae,Ne){const qe=this.getTreeNode(V);typeof ae=="undefined"&&(ae=!qe.collapsed);const bt={collapsed:ae,recursive:Ne||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(V,bt))}_setCollapseState(V,ae){const{node:Ne,listIndex:qe,revealed:bt}=this.getTreeNodeWithListIndex(V),$t=this._setListNodeCollapseState(Ne,qe,bt,ae);if(Ne!==this.root&&this.autoExpandSingleChildren&&$t&&!_e(ae)&&Ne.collapsible&&!Ne.collapsed&&!ae.recursive){let ni=-1;for(let mi=0;mi<Ne.children.length;mi++)if(Ne.children[mi].visible)if(ni>-1){ni=-1;break}else ni=mi;ni>-1&&this._setCollapseState([...V,ni],ae)}return $t}_setListNodeCollapseState(V,ae,Ne,qe){const bt=this._setNodeCollapseState(V,qe,!1);if(!Ne||!V.visible||!bt)return bt;const $t=V.renderNodeCount,ni=this.updateNodeAfterCollapseChange(V),mi=$t-(ae===-1?0:1);return this.list.splice(ae+1,mi,ni.slice(1)),bt}_setNodeCollapseState(V,ae,Ne){let qe;if(V===this.root?qe=!1:(_e(ae)?(qe=V.collapsible!==ae.collapsible,V.collapsible=ae.collapsible):V.collapsible?(qe=V.collapsed!==ae.collapsed,V.collapsed=ae.collapsed):qe=!1,qe&&this._onDidChangeCollapseState.fire({node:V,deep:Ne})),!_e(ae)&&ae.recursive)for(const bt of V.children)qe=this._setNodeCollapseState(bt,ae,!0)||qe;return qe}expandTo(V){this.eventBufferer.bufferEvents(()=>{let ae=this.getTreeNode(V);for(;ae.parent;)ae=ae.parent,V=V.slice(0,V.length-1),ae.collapsed&&this._setCollapseState(V,{collapsed:!1,recursive:!1})})}refilter(){const V=this.root.renderNodeCount,ae=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,V,ae)}createTreeNode(V,ae,Ne,qe,bt,$t){const ni={parent:ae,element:V.element,children:[],depth:ae.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof V.collapsible=="boolean"?V.collapsible:typeof V.collapsed!="undefined",collapsed:typeof V.collapsed=="undefined"?this.collapseByDefault:V.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},mi=this._filterNode(ni,Ne);ni.visibility=mi,qe&&bt.push(ni);const Ai=V.children||j.$.empty(),Ei=qe&&mi!==0&&!ni.collapsed,Bi=j.$.map(Ai,on=>this.createTreeNode(on,ni,mi,Ei,bt,$t));let ln=0,Ti=1;for(const on of Bi)ni.children.push(on),Ti+=on.renderNodeCount,on.visible&&(on.visibleChildIndex=ln++);return ni.collapsible=ni.collapsible||ni.children.length>0,ni.visibleChildrenCount=ln,ni.visible=mi===2?ln>0:mi===1,ni.visible?ni.collapsed||(ni.renderNodeCount=Ti):(ni.renderNodeCount=0,qe&&bt.pop()),$t&&$t(ni),ni}updateNodeAfterCollapseChange(V){const ae=V.renderNodeCount,Ne=[];return this._updateNodeAfterCollapseChange(V,Ne),this._updateAncestorsRenderNodeCount(V.parent,Ne.length-ae),Ne}_updateNodeAfterCollapseChange(V,ae){if(V.visible===!1)return 0;if(ae.push(V),V.renderNodeCount=1,!V.collapsed)for(const Ne of V.children)V.renderNodeCount+=this._updateNodeAfterCollapseChange(Ne,ae);return this._onDidChangeRenderNodeCount.fire(V),V.renderNodeCount}updateNodeAfterFilterChange(V){const ae=V.renderNodeCount,Ne=[];return this._updateNodeAfterFilterChange(V,V.visible?1:0,Ne),this._updateAncestorsRenderNodeCount(V.parent,Ne.length-ae),Ne}_updateNodeAfterFilterChange(V,ae,Ne,qe=!0){let bt;if(V!==this.root){if(bt=this._filterNode(V,ae),bt===0)return V.visible=!1,V.renderNodeCount=0,!1;qe&&Ne.push(V)}const $t=Ne.length;V.renderNodeCount=V===this.root?0:1;let ni=!1;if(!V.collapsed||bt!==0){let mi=0;for(const Ai of V.children)ni=this._updateNodeAfterFilterChange(Ai,bt,Ne,qe&&!V.collapsed)||ni,Ai.visible&&(Ai.visibleChildIndex=mi++);V.visibleChildrenCount=mi}else V.visibleChildrenCount=0;return V!==this.root&&(V.visible=bt===2?ni:bt===1,V.visibility=bt),V.visible?V.collapsed||(V.renderNodeCount+=Ne.length-$t):(V.renderNodeCount=0,qe&&Ne.pop()),this._onDidChangeRenderNodeCount.fire(V),V.visible}_updateAncestorsRenderNodeCount(V,ae){if(ae!==0)for(;V;)V.renderNodeCount+=ae,this._onDidChangeRenderNodeCount.fire(V),V=V.parent}_filterNode(V,ae){const Ne=this.filter?this.filter.filter(V.element,ae):1;return typeof Ne=="boolean"?(V.filterData=void 0,Ne?1:0):te(Ne)?(V.filterData=Ne.data,ce(Ne.visibility)):(V.filterData=void 0,ce(Ne))}hasTreeNode(V,ae=this.root){if(!V||V.length===0)return!0;const[Ne,...qe]=V;return Ne<0||Ne>ae.children.length?!1:this.hasTreeNode(qe,ae.children[Ne])}getTreeNode(V,ae=this.root){if(!V||V.length===0)return ae;const[Ne,...qe]=V;if(Ne<0||Ne>ae.children.length)throw new y(this.user,"Invalid tree location");return this.getTreeNode(qe,ae.children[Ne])}getTreeNodeWithListIndex(V){if(V.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:ae,listIndex:Ne,revealed:qe,visible:bt}=this.getParentNodeWithListIndex(V),$t=V[V.length-1];if($t<0||$t>ae.children.length)throw new y(this.user,"Invalid tree location");const ni=ae.children[$t];return{node:ni,listIndex:Ne,revealed:qe,visible:bt&&ni.visible}}getParentNodeWithListIndex(V,ae=this.root,Ne=0,qe=!0,bt=!0){const[$t,...ni]=V;if($t<0||$t>ae.children.length)throw new y(this.user,"Invalid tree location");for(let mi=0;mi<$t;mi++)Ne+=ae.children[mi].renderNodeCount;return qe=qe&&!ae.collapsed,bt=bt&&ae.visible,ni.length===0?{parentNode:ae,listIndex:Ne,revealed:qe,visible:bt}:this.getParentNodeWithListIndex(ni,ae.children[$t],Ne+1,qe,bt)}getNode(V=[]){return this.getTreeNode(V)}getNodeLocation(V){const ae=[];let Ne=V;for(;Ne.parent;)ae.push(Ne.parent.children.indexOf(Ne)),Ne=Ne.parent;return ae.reverse()}getParentNodeLocation(V){if(V.length!==0)return V.length===1?[]:(0,O.JH)(V)[0]}}var Ee=c(73046);const le=(0,Ee.CM)("tree-item-expanded",Ee.lA.chevronDown),Y=(0,Ee.CM)("tree-filter-on-type-on",Ee.lA.listFilter),$=(0,Ee.CM)("tree-filter-on-type-off",Ee.lA.listSelection),G=(0,Ee.CM)("tree-filter-clear",Ee.lA.close),ee=(0,Ee.CM)("tree-item-loading",Ee.lA.loading);var m=c(15393),w=c(6626),F=c(75392),ie=c(59870),pe=c(1432),ue=c(63580);class ke extends x.kX{constructor(V){super(V.elements.map(ae=>ae.element)),this.data=V}}function Te(kt){return kt instanceof x.kX?new ke(kt):kt}class rt{constructor(V,ae){this.modelProvider=V,this.dnd=ae,this.autoExpandDisposable=L.JT.None}getDragURI(V){return this.dnd.getDragURI(V.element)}getDragLabel(V,ae){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V.map(Ne=>Ne.element),ae)}onDragStart(V,ae){this.dnd.onDragStart&&this.dnd.onDragStart(Te(V),ae)}onDragOver(V,ae,Ne,qe,bt=!0){const $t=this.dnd.onDragOver(Te(V),ae&&ae.element,Ne,qe),ni=this.autoExpandNode!==ae;if(ni&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=ae),typeof ae=="undefined")return $t;if(ni&&typeof $t!="boolean"&&$t.autoExpand&&(this.autoExpandDisposable=(0,m.Vg)(()=>{const ln=this.modelProvider(),Ti=ln.getNodeLocation(ae);ln.isCollapsed(Ti)&&ln.setCollapsed(Ti,!1),this.autoExpandNode=void 0},500)),typeof $t=="boolean"||!$t.accept||typeof $t.bubble=="undefined"||$t.feedback){if(!bt){const ln=typeof $t=="boolean"?$t:$t.accept,Ti=typeof $t=="boolean"?void 0:$t.effect;return{accept:ln,effect:Ti,feedback:[Ne]}}return $t}if($t.bubble===1){const ln=this.modelProvider(),Ti=ln.getNodeLocation(ae),on=ln.getParentNodeLocation(Ti),en=ln.getNode(on),pn=on&&ln.getListIndex(on);return this.onDragOver(V,en,pn,qe,!1)}const mi=this.modelProvider(),Ai=mi.getNodeLocation(ae),Ei=mi.getListIndex(Ai),Bi=mi.getListRenderCount(Ai);return Object.assign(Object.assign({},$t),{feedback:(0,O.w6)(Ei,Ei+Bi)})}drop(V,ae,Ne,qe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Te(V),ae&&ae.element,Ne,qe)}onDragEnd(V){this.dnd.onDragEnd&&this.dnd.onDragEnd(V)}}function Rt(kt,V){return V&&Object.assign(Object.assign({},V),{identityProvider:V.identityProvider&&{getId(ae){return V.identityProvider.getId(ae.element)}},dnd:V.dnd&&new rt(kt,V.dnd),multipleSelectionController:V.multipleSelectionController&&{isSelectionSingleChangeEvent(ae){return V.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},ae),{element:ae.element}))},isSelectionRangeChangeEvent(ae){return V.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},ae),{element:ae.element}))}},accessibilityProvider:V.accessibilityProvider&&Object.assign(Object.assign({},V.accessibilityProvider),{getSetSize(ae){const Ne=kt(),qe=Ne.getNodeLocation(ae),bt=Ne.getParentNodeLocation(qe);return Ne.getNode(bt).visibleChildrenCount},getPosInSet(ae){return ae.visibleChildIndex+1},isChecked:V.accessibilityProvider&&V.accessibilityProvider.isChecked?ae=>V.accessibilityProvider.isChecked(ae.element):void 0,getRole:V.accessibilityProvider&&V.accessibilityProvider.getRole?ae=>V.accessibilityProvider.getRole(ae.element):()=>"treeitem",getAriaLabel(ae){return V.accessibilityProvider.getAriaLabel(ae.element)},getWidgetAriaLabel(){return V.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:V.accessibilityProvider&&V.accessibilityProvider.getWidgetRole?()=>V.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:V.accessibilityProvider&&V.accessibilityProvider.getAriaLevel?ae=>V.accessibilityProvider.getAriaLevel(ae.element):ae=>ae.depth,getActiveDescendantId:V.accessibilityProvider.getActiveDescendantId&&(ae=>V.accessibilityProvider.getActiveDescendantId(ae.element))}),keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},V.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(ae){return V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ae.element)}}),enableKeyboardNavigation:V.simpleKeyboardNavigation})}class mt{constructor(V){this.delegate=V}getHeight(V){return this.delegate.getHeight(V.element)}getTemplateId(V){return this.delegate.getTemplateId(V.element)}hasDynamicHeight(V){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(V.element)}setDynamicHeight(V,ae){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(V.element,ae)}}var Mt;(function(kt){kt.None="none",kt.OnHover="onHover",kt.Always="always"})(Mt||(Mt={}));class it{constructor(V,ae=[]){this._elements=ae,this.onDidChange=P.ju.forEach(V,Ne=>this._elements=Ne)}get elements(){return this._elements}}class Je{constructor(V,ae,Ne,qe,bt={}){this.renderer=V,this.modelProvider=ae,this.activeNodes=qe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Je.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new w.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=L.JT.None,this.disposables=new L.SL,this.templateId=V.templateId,this.updateOptions(bt),P.ju.map(Ne,$t=>$t.node)(this.onDidChangeNodeTwistieState,this,this.disposables),V.onDidChangeTwistieState&&V.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(V={}){if(typeof V.indent!="undefined"&&(this.indent=(0,ie.u)(V.indent,0,40)),typeof V.renderIndentGuides!="undefined"){const ae=V.renderIndentGuides!==Mt.None;if(ae!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=ae,this.indentGuidesDisposable.dispose(),ae)){const Ne=new L.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Ne),this.indentGuidesDisposable=Ne,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof V.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=V.hideTwistiesOfChildlessElements)}renderTemplate(V){const ae=(0,D.R3)(V,(0,D.$)(".monaco-tl-row")),Ne=(0,D.R3)(ae,(0,D.$)(".monaco-tl-indent")),qe=(0,D.R3)(ae,(0,D.$)(".monaco-tl-twistie")),bt=(0,D.R3)(ae,(0,D.$)(".monaco-tl-contents")),$t=this.renderer.renderTemplate(bt);return{container:V,indent:Ne,twistie:qe,indentGuidesDisposable:L.JT.None,templateData:$t}}renderElement(V,ae,Ne,qe){typeof qe=="number"&&(this.renderedNodes.set(V,{templateData:Ne,height:qe}),this.renderedElements.set(V.element,V));const bt=Je.DefaultIndent+(V.depth-1)*this.indent;Ne.twistie.style.paddingLeft=`${bt}px`,Ne.indent.style.width=`${bt+this.indent-16}px`,this.renderTwistie(V,Ne),typeof qe=="number"&&this.renderIndentGuides(V,Ne),this.renderer.renderElement(V,ae,Ne.templateData,qe)}disposeElement(V,ae,Ne,qe){Ne.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(V,ae,Ne.templateData,qe),typeof qe=="number"&&(this.renderedNodes.delete(V),this.renderedElements.delete(V.element))}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}onDidChangeTwistieState(V){const ae=this.renderedElements.get(V);ae&&this.onDidChangeNodeTwistieState(ae)}onDidChangeNodeTwistieState(V){const ae=this.renderedNodes.get(V);ae&&(this.renderTwistie(V,ae.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(V,ae.templateData))}renderTwistie(V,ae){ae.twistie.classList.remove(...le.classNamesArray);let Ne=!1;this.renderer.renderTwistie&&(Ne=this.renderer.renderTwistie(V.element,ae.twistie)),V.collapsible&&(!this.hideTwistiesOfChildlessElements||V.visibleChildrenCount>0)?(Ne||ae.twistie.classList.add(...le.classNamesArray),ae.twistie.classList.add("collapsible"),ae.twistie.classList.toggle("collapsed",V.collapsed)):ae.twistie.classList.remove("collapsible","collapsed"),V.collapsible?ae.container.setAttribute("aria-expanded",String(!V.collapsed)):ae.container.removeAttribute("aria-expanded")}renderIndentGuides(V,ae){if((0,D.PO)(ae.indent),ae.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Ne=new L.SL,qe=this.modelProvider();let bt=V;for(;;){const $t=qe.getNodeLocation(bt),ni=qe.getParentNodeLocation($t);if(!ni)break;const mi=qe.getNode(ni),Ai=(0,D.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(mi)&&Ai.classList.add("active"),ae.indent.childElementCount===0?ae.indent.appendChild(Ai):ae.indent.insertBefore(Ai,ae.indent.firstElementChild),this.renderedIndentGuides.add(mi,Ai),Ne.add((0,L.OF)(()=>this.renderedIndentGuides.delete(mi,Ai))),bt=mi}ae.indentGuidesDisposable=Ne}_onDidChangeActiveNodes(V){if(!this.shouldRenderIndentGuides)return;const ae=new Set,Ne=this.modelProvider();V.forEach(qe=>{const bt=Ne.getNodeLocation(qe);try{const $t=Ne.getParentNodeLocation(bt);qe.collapsible&&qe.children.length>0&&!qe.collapsed?ae.add(qe):$t&&ae.add(Ne.getNode($t))}catch($t){}}),this.activeIndentNodes.forEach(qe=>{ae.has(qe)||this.renderedIndentGuides.forEach(qe,bt=>bt.classList.remove("active"))}),ae.forEach(qe=>{this.activeIndentNodes.has(qe)||this.renderedIndentGuides.forEach(qe,bt=>bt.classList.add("active"))}),this.activeIndentNodes=ae}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,L.B9)(this.disposables)}}Je.DefaultIndent=8;class Ae{constructor(V,ae,Ne){this.tree=V,this.keyboardNavigationLabelProvider=ae,this._filter=Ne,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new L.SL,V.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(V){this._pattern=V,this._lowercasePattern=V.toLowerCase()}filter(V,ae){if(this._filter){const bt=this._filter.filter(V,ae);if(this.tree.options.simpleKeyboardNavigation)return bt;let $t;if(typeof bt=="boolean"?$t=bt?1:0:te(bt)?$t=ce(bt.visibility):$t=bt,$t===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:F.CL.Default,visibility:!0};const Ne=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V),qe=Array.isArray(Ne)?Ne:[Ne];for(const bt of qe){const $t=bt&&bt.toString();if(typeof $t=="undefined")return{data:F.CL.Default,visibility:!0};const ni=(0,F.EW)(this._pattern,this._lowercasePattern,0,$t,$t.toLowerCase(),0,!0);if(ni)return this._matchCount++,qe.length===1?{data:ni,visibility:!0}:{data:{label:$t,score:ni},visibility:!0}}return this.tree.options.filterOnType?2:{data:F.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,L.B9)(this.disposables)}}class ge{constructor(V,ae,Ne,qe,bt){this.tree=V,this.view=Ne,this.filter=qe,this.keyboardNavigationDelegate=bt,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new P.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new P.Q5,this.enabledDisposables=new L.SL,this.disposables=new L.SL,this.domNode=(0,D.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,D.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,D.R3)(Ne.getHTMLElement(),(0,D.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,D.R3)(this.domNode,(0,D.$)("span.label"));const $t=(0,D.R3)(this.domNode,(0,D.$)(".controls"));this._filterOnType=!!V.options.filterOnType,this.filterOnTypeDomNode=(0,D.R3)($t,(0,D.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,D.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,D.R3)($t,(0,D.$)("button.clear"+G.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,ue.N)("clear","Clear"),this.keyboardNavigationEventFilter=V.options.keyboardNavigationEventFilter,ae.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(V.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(V){V.simpleKeyboardNavigation?this.disable():this.enable(),typeof V.filterOnType!="undefined"&&(this._filterOnType=!!V.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof V.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=V.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const V=this.enabledDisposables.add(new _.Y(this.view.getHTMLElement(),"keydown")),ae=P.ju.chain(V.event).filter(qe=>!(0,R.cK)(qe.target)||qe.target===this.filterOnTypeDomNode).filter(qe=>qe.key!=="Dead"&&!/^Media/.test(qe.key)).map(qe=>new S.y(qe)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(qe=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(qe)&&!(qe.keyCode===18||qe.keyCode===16||qe.keyCode===15||qe.keyCode===17)||(this.pattern.length>0||this.triggered)&&(qe.keyCode===9||qe.keyCode===1)&&!qe.altKey&&!qe.ctrlKey&&!qe.metaKey||qe.keyCode===1&&(pe.dz?qe.altKey&&!qe.metaKey:qe.ctrlKey)&&!qe.shiftKey).forEach(qe=>{qe.stopPropagation(),qe.preventDefault()}).event,Ne=this.enabledDisposables.add(new _.Y(this.clearDomNode,"click"));P.ju.chain(P.ju.any(ae,Ne.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(V){typeof V=="string"?this.onInput(V):V instanceof MouseEvent||V.keyCode===9||V.keyCode===1&&(pe.dz?V.altKey:V.ctrlKey)?this.onInput(""):V.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+V.browserEvent.key)}onInput(V){const ae=this.view.getHTMLElement();V&&!this.domNode.parentElement?ae.append(this.domNode):!V&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=V,this._onDidChangePattern.fire(V),this.filter.pattern=V,this.tree.refilter(),V&&this.tree.focusNext(0,!0,void 0,qe=>!F.CL.isDefault(qe.filterData));const Ne=this.tree.getFocus();if(Ne.length>0){const qe=Ne[0];this.tree.getRelativeTop(qe)===null&&this.tree.reveal(qe,.5)}this.render(),V||(this.triggered=!1)}onDragStart(){const V=this.view.getHTMLElement(),{left:ae}=(0,D.i)(V),Ne=V.clientWidth,qe=Ne/2,bt=this.domNode.clientWidth,$t=new L.SL;let ni=this.positionClassName;const mi=()=>{switch(ni){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${Ne-bt-6}px`;break}},Ai=Bi=>{Bi.preventDefault();const ln=Bi.clientX-ae;Bi.dataTransfer&&(Bi.dataTransfer.dropEffect="none"),ln<qe?ni="nw":ni="ne",mi()},Ei=()=>{this.positionClassName=ni,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,L.B9)($t)};mi(),this.domNode.classList.remove(ni),this.domNode.classList.add("dragging"),$t.add((0,L.OF)(()=>this.domNode.classList.remove("dragging"))),$t.add((0,D.nm)(document,"dragover",Bi=>Ai(Bi))),$t.add((0,D.nm)(this.domNode,"dragend",()=>Ei())),f.P$.CurrentDragAndDropData=new f.TN("vscode-ui"),$t.add((0,L.OF)(()=>f.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...$.classNamesArray),this.filterOnTypeDomNode.classList.add(...Y.classNamesArray),this.filterOnTypeDomNode.title=(0,ue.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...Y.classNamesArray),this.filterOnTypeDomNode.classList.add(...$.classNamesArray),this.filterOnTypeDomNode.title=(0,ue.N)("enable filter on type","Enable Filter on Type"))}render(){const V=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&V?(this.messageDomNode.textContent=(0,ue.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",V),this.domNode.title=(0,ue.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(V){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!F.CL.isDefault(V.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,L.B9)(this.disposables)}}function Re(kt){let V=h.Unknown;return(0,D.uU)(kt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?V=h.Twistie:(0,D.uU)(kt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(V=h.Element),{browserEvent:kt.browserEvent,element:kt.element?kt.element.element:null,target:V}}function ot(kt,V){V(kt),kt.children.forEach(ae=>ot(ae,V))}class dt{constructor(V,ae){this.getFirstViewElementWithTrait=V,this.identityProvider=ae,this.nodes=[],this._onDidChange=new P.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(V,ae){var Ne;!(!((Ne=ae)===null||Ne===void 0)&&Ne.__forceEvent)&&(0,O.fS)(this.nodes,V)||this._set(V,!1,ae)}_set(V,ae,Ne){if(this.nodes=[...V],this.elements=void 0,this._nodeSet=void 0,!ae){const qe=this;this._onDidChange.fire({get elements(){return qe.get()},browserEvent:Ne})}}get(){return this.elements||(this.elements=this.nodes.map(V=>V.element)),[...this.elements]}getNodes(){return this.nodes}has(V){return this.nodeSet.has(V)}onDidModelSplice({insertedNodes:V,deletedNodes:ae}){if(!this.identityProvider){const mi=this.createNodeSet(),Ai=Ei=>mi.delete(Ei);ae.forEach(Ei=>ot(Ei,Ai)),this.set([...mi.values()]);return}const Ne=new Set,qe=mi=>Ne.add(this.identityProvider.getId(mi.element).toString());ae.forEach(mi=>ot(mi,qe));const bt=new Map,$t=mi=>bt.set(this.identityProvider.getId(mi.element).toString(),mi);V.forEach(mi=>ot(mi,$t));const ni=[];for(const mi of this.nodes){const Ai=this.identityProvider.getId(mi.element).toString();if(!Ne.has(Ai))ni.push(mi);else{const Bi=bt.get(Ai);Bi&&ni.push(Bi)}}if(this.nodes.length>0&&ni.length===0){const mi=this.getFirstViewElementWithTrait();mi&&ni.push(mi)}this._set(ni,!0)}createNodeSet(){const V=new Set;for(const ae of this.nodes)V.add(ae);return V}}class lt extends R.sx{constructor(V,ae){super(V),this.tree=ae}onViewPointer(V){if((0,R.cK)(V.browserEvent.target)||(0,R.hD)(V.browserEvent.target))return;const ae=V.element;if(!ae)return super.onViewPointer(V);if(this.isSelectionRangeChangeEvent(V)||this.isSelectionSingleChangeEvent(V))return super.onViewPointer(V);const Ne=V.browserEvent.target,qe=Ne.classList.contains("monaco-tl-twistie")||Ne.classList.contains("monaco-icon-label")&&Ne.classList.contains("folder-icon")&&V.browserEvent.offsetX<16;let bt=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?bt=this.tree.expandOnlyOnTwistieClick(ae.element):bt=!!this.tree.expandOnlyOnTwistieClick,bt&&!qe&&V.browserEvent.detail!==2)return super.onViewPointer(V);if(!this.tree.expandOnDoubleClick&&V.browserEvent.detail===2)return super.onViewPointer(V);if(ae.collapsible){const $t=this.tree.model,ni=$t.getNodeLocation(ae),mi=V.browserEvent.altKey;if(this.tree.setFocus([ni]),$t.setCollapsed(ni,void 0,mi),bt&&qe)return}super.onViewPointer(V)}onDoubleClick(V){V.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(V)}}class Ie extends R.aV{constructor(V,ae,Ne,qe,bt,$t,ni,mi){super(V,ae,Ne,qe,mi),this.focusTrait=bt,this.selectionTrait=$t,this.anchorTrait=ni}createMouseController(V){return new lt(this,V.tree)}splice(V,ae,Ne=[]){if(super.splice(V,ae,Ne),Ne.length===0)return;const qe=[],bt=[];let $t;Ne.forEach((ni,mi)=>{this.focusTrait.has(ni)&&qe.push(V+mi),this.selectionTrait.has(ni)&&bt.push(V+mi),this.anchorTrait.has(ni)&&($t=V+mi)}),qe.length>0&&super.setFocus((0,O.EB)([...super.getFocus(),...qe])),bt.length>0&&super.setSelection((0,O.EB)([...super.getSelection(),...bt])),typeof $t=="number"&&super.setAnchor($t)}setFocus(V,ae,Ne=!1){super.setFocus(V,ae),Ne||this.focusTrait.set(V.map(qe=>this.element(qe)),ae)}setSelection(V,ae,Ne=!1){super.setSelection(V,ae),Ne||this.selectionTrait.set(V.map(qe=>this.element(qe)),ae)}setAnchor(V,ae=!1){super.setAnchor(V),ae||(typeof V=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(V)]))}}class Pe{constructor(V,ae,Ne,qe,bt={}){this._options=bt,this.eventBufferer=new P.E7,this.disposables=new L.SL,this._onWillRefilter=new P.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new P.Q5;const $t=new mt(Ne),ni=new P.ZD,mi=new P.ZD,Ai=new it(mi.event);this.renderers=qe.map(ln=>new Je(ln,()=>this.model,ni.event,Ai,bt));for(let ln of this.renderers)this.disposables.add(ln);let Ei;bt.keyboardNavigationLabelProvider&&(Ei=new Ae(this,bt.keyboardNavigationLabelProvider,bt.filter),bt=Object.assign(Object.assign({},bt),{filter:Ei}),this.disposables.add(Ei)),this.focus=new dt(()=>this.view.getFocusedElements()[0],bt.identityProvider),this.selection=new dt(()=>this.view.getSelectedElements()[0],bt.identityProvider),this.anchor=new dt(()=>this.view.getAnchorElement(),bt.identityProvider),this.view=new Ie(V,ae,$t,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Rt(()=>this.model,bt)),{tree:this})),this.model=this.createModel(V,this.view,bt),ni.input=this.model.onDidChangeCollapseState;const Bi=P.ju.forEach(this.model.onDidSplice,ln=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ln),this.selection.onDidModelSplice(ln)})});if(Bi(()=>null,null,this.disposables),mi.input=P.ju.chain(P.ju.any(Bi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const ln=new Set;for(const Ti of this.focus.getNodes())ln.add(Ti);for(const Ti of this.selection.getNodes())ln.add(Ti);return[...ln.values()]}).event,bt.keyboardSupport!==!1){const ln=P.ju.chain(this.view.onKeyDown).filter(Ti=>!(0,R.cK)(Ti.target)).map(Ti=>new S.y(Ti));ln.filter(Ti=>Ti.keyCode===15).on(this.onLeftArrow,this,this.disposables),ln.filter(Ti=>Ti.keyCode===17).on(this.onRightArrow,this,this.disposables),ln.filter(Ti=>Ti.keyCode===10).on(this.onSpace,this,this.disposables)}if(bt.keyboardNavigationLabelProvider){const ln=bt.keyboardNavigationDelegate||R.WK;this.typeFilterController=new ge(this,this.model,this.view,Ei,ln),this.focusNavigationFilter=Ti=>this.typeFilterController.shouldAllowFocus(Ti),this.disposables.add(this.typeFilterController)}this.styleElement=(0,D.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Mt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return P.ju.map(this.view.onMouseDblClick,Re)}get onPointer(){return P.ju.map(this.view.onPointer,Re)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(V={}){this._options=Object.assign(Object.assign({},this._options),V);for(const ae of this.renderers)ae.updateOptions(V);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Mt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(V){this.view.scrollTop=V}domFocus(){this.view.domFocus()}layout(V,ae){this.view.layout(V,ae)}style(V){const ae=`.${this.view.domId}`,Ne=[];V.treeIndentGuidesStroke&&(Ne.push(`.monaco-list${ae}:hover .monaco-tl-indent > .indent-guide, .monaco-list${ae}.always .monaco-tl-indent > .indent-guide  { border-color: ${V.treeIndentGuidesStroke.transparent(.4)}; }`),Ne.push(`.monaco-list${ae} .monaco-tl-indent > .indent-guide.active { border-color: ${V.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Ne.join(`
`),this.view.style(V)}collapse(V,ae=!1){return this.model.setCollapsed(V,!0,ae)}expand(V,ae=!1){return this.model.setCollapsed(V,!1,ae)}isCollapsible(V){return this.model.isCollapsible(V)}setCollapsible(V,ae){return this.model.setCollapsible(V,ae)}isCollapsed(V){return this.model.isCollapsed(V)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(V,ae){const Ne=V.map(bt=>this.model.getNode(bt));this.selection.set(Ne,ae);const qe=V.map(bt=>this.model.getListIndex(bt)).filter(bt=>bt>-1);this.view.setSelection(qe,ae,!0)}getSelection(){return this.selection.get()}setFocus(V,ae){const Ne=V.map(bt=>this.model.getNode(bt));this.focus.set(Ne,ae);const qe=V.map(bt=>this.model.getListIndex(bt)).filter(bt=>bt>-1);this.view.setFocus(qe,ae,!0)}focusNext(V=1,ae=!1,Ne,qe=this.focusNavigationFilter){this.view.focusNext(V,ae,Ne,qe)}getFocus(){return this.focus.get()}reveal(V,ae){this.model.expandTo(V);const Ne=this.model.getListIndex(V);Ne!==-1&&this.view.reveal(Ne,ae)}getRelativeTop(V){const ae=this.model.getListIndex(V);return ae===-1?null:this.view.getRelativeTop(ae)}onLeftArrow(V){V.preventDefault(),V.stopPropagation();const ae=this.view.getFocusedElements();if(ae.length===0)return;const Ne=ae[0],qe=this.model.getNodeLocation(Ne);if(!this.model.setCollapsed(qe,!0)){const $t=this.model.getParentNodeLocation(qe);if(!$t)return;const ni=this.model.getListIndex($t);this.view.reveal(ni),this.view.setFocus([ni])}}onRightArrow(V){V.preventDefault(),V.stopPropagation();const ae=this.view.getFocusedElements();if(ae.length===0)return;const Ne=ae[0],qe=this.model.getNodeLocation(Ne);if(!this.model.setCollapsed(qe,!1)){if(!Ne.children.some(mi=>mi.visible))return;const[$t]=this.view.getFocus(),ni=$t+1;this.view.reveal(ni),this.view.setFocus([ni])}}onSpace(V){V.preventDefault(),V.stopPropagation();const ae=this.view.getFocusedElements();if(ae.length===0)return;const Ne=ae[0],qe=this.model.getNodeLocation(Ne),bt=V.browserEvent.altKey;this.model.setCollapsed(qe,void 0,bt)}dispose(){(0,L.B9)(this.disposables),this.view.dispose()}}class ye{constructor(V,ae,Ne={}){this.user=V,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Ce(V,ae,null,Ne),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Ne.sorter&&(this.sorter={compare(qe,bt){return Ne.sorter.compare(qe.element,bt.element)}}),this.identityProvider=Ne.identityProvider}setChildren(V,ae=j.$.empty(),Ne={}){const qe=this.getElementLocation(V);this._setChildren(qe,this.preserveCollapseState(ae),Ne)}_setChildren(V,ae=j.$.empty(),Ne){const qe=new Set,bt=new Set,$t=mi=>{var Ai;if(mi.element===null)return;const Ei=mi;if(qe.add(Ei.element),this.nodes.set(Ei.element,Ei),this.identityProvider){const Bi=this.identityProvider.getId(Ei.element).toString();bt.add(Bi),this.nodesByIdentity.set(Bi,Ei)}(Ai=Ne.onDidCreateNode)===null||Ai===void 0||Ai.call(Ne,Ei)},ni=mi=>{var Ai;if(mi.element===null)return;const Ei=mi;if(qe.has(Ei.element)||this.nodes.delete(Ei.element),this.identityProvider){const Bi=this.identityProvider.getId(Ei.element).toString();bt.has(Bi)||this.nodesByIdentity.delete(Bi)}(Ai=Ne.onDidDeleteNode)===null||Ai===void 0||Ai.call(Ne,Ei)};this.model.splice([...V,0],Number.MAX_VALUE,ae,Object.assign(Object.assign({},Ne),{onDidCreateNode:$t,onDidDeleteNode:ni}))}preserveCollapseState(V=j.$.empty()){return this.sorter&&(V=[...V].sort(this.sorter.compare.bind(this.sorter))),j.$.map(V,ae=>{let Ne=this.nodes.get(ae.element);if(!Ne&&this.identityProvider){const $t=this.identityProvider.getId(ae.element).toString();Ne=this.nodesByIdentity.get($t)}if(!Ne)return Object.assign(Object.assign({},ae),{children:this.preserveCollapseState(ae.children)});const qe=typeof ae.collapsible=="boolean"?ae.collapsible:Ne.collapsible,bt=typeof ae.collapsed!="undefined"?ae.collapsed:Ne.collapsed;return Object.assign(Object.assign({},ae),{collapsible:qe,collapsed:bt,children:this.preserveCollapseState(ae.children)})})}rerender(V){const ae=this.getElementLocation(V);this.model.rerender(ae)}has(V){return this.nodes.has(V)}getListIndex(V){const ae=this.getElementLocation(V);return this.model.getListIndex(ae)}getListRenderCount(V){const ae=this.getElementLocation(V);return this.model.getListRenderCount(ae)}isCollapsible(V){const ae=this.getElementLocation(V);return this.model.isCollapsible(ae)}setCollapsible(V,ae){const Ne=this.getElementLocation(V);return this.model.setCollapsible(Ne,ae)}isCollapsed(V){const ae=this.getElementLocation(V);return this.model.isCollapsed(ae)}setCollapsed(V,ae,Ne){const qe=this.getElementLocation(V);return this.model.setCollapsed(qe,ae,Ne)}expandTo(V){const ae=this.getElementLocation(V);this.model.expandTo(ae)}refilter(){this.model.refilter()}getNode(V=null){if(V===null)return this.model.getNode(this.model.rootRef);const ae=this.nodes.get(V);if(!ae)throw new y(this.user,`Tree element not found: ${V}`);return ae}getNodeLocation(V){return V.element}getParentNodeLocation(V){if(V===null)throw new y(this.user,"Invalid getParentNodeLocation call");const ae=this.nodes.get(V);if(!ae)throw new y(this.user,`Tree element not found: ${V}`);const Ne=this.model.getNodeLocation(ae),qe=this.model.getParentNodeLocation(Ne);return this.model.getNode(qe).element}getElementLocation(V){if(V===null)return[];const ae=this.nodes.get(V);if(!ae)throw new y(this.user,`Tree element not found: ${V}`);return this.model.getNodeLocation(ae)}}function Xe(kt){const V=[kt.element],ae=kt.incompressible||!1;return{element:{elements:V,incompressible:ae},children:j.$.map(j.$.from(kt.children),Xe),collapsible:kt.collapsible,collapsed:kt.collapsed}}function st(kt){const V=[kt.element],ae=kt.incompressible||!1;let Ne,qe;for(;[qe,Ne]=j.$.consume(j.$.from(kt.children),2),!(qe.length!==1||qe[0].incompressible);)kt=qe[0],V.push(kt.element);return{element:{elements:V,incompressible:ae},children:j.$.map(j.$.concat(qe,Ne),st),collapsible:kt.collapsible,collapsed:kt.collapsed}}function Pt(kt,V=0){let ae;return V<kt.element.elements.length-1?ae=[Pt(kt,V+1)]:ae=j.$.map(j.$.from(kt.children),Ne=>Pt(Ne,0)),V===0&&kt.element.incompressible?{element:kt.element.elements[V],children:ae,incompressible:!0,collapsible:kt.collapsible,collapsed:kt.collapsed}:{element:kt.element.elements[V],children:ae,collapsible:kt.collapsible,collapsed:kt.collapsed}}function qt(kt){return Pt(kt,0)}function Ci(kt,V,ae){return kt.element===V?Object.assign(Object.assign({},kt),{children:ae}):Object.assign(Object.assign({},kt),{children:j.$.map(j.$.from(kt.children),Ne=>Ci(Ne,V,ae))})}const ii=kt=>({getId(V){return V.elements.map(ae=>kt.getId(ae).toString()).join("\0")}});class At{constructor(V,ae,Ne={}){this.user=V,this.rootRef=null,this.nodes=new Map,this.model=new ye(V,ae,Ne),this.enabled=typeof Ne.compressionEnabled=="undefined"?!0:Ne.compressionEnabled,this.identityProvider=Ne.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(V,ae=j.$.empty(),Ne){const qe=Ne.diffIdentityProvider&&ii(Ne.diffIdentityProvider);if(V===null){const Ti=j.$.map(ae,this.enabled?st:Xe);this._setChildren(null,Ti,{diffIdentityProvider:qe,diffDepth:1/0});return}const bt=this.nodes.get(V);if(!bt)throw new Error("Unknown compressed tree node");const $t=this.model.getNode(bt),ni=this.model.getParentNodeLocation(bt),mi=this.model.getNode(ni),Ai=qt($t),Ei=Ci(Ai,V,ae),Bi=(this.enabled?st:Xe)(Ei),ln=mi.children.map(Ti=>Ti===$t?Bi:Ti);this._setChildren(mi.element,ln,{diffIdentityProvider:qe,diffDepth:$t.depth-mi.depth})}setCompressionEnabled(V){if(V===this.enabled)return;this.enabled=V;const Ne=this.model.getNode().children,qe=j.$.map(Ne,qt),bt=j.$.map(qe,V?st:Xe);this._setChildren(null,bt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(V,ae,Ne){const qe=new Set,bt=ni=>{for(const mi of ni.element.elements)qe.add(mi),this.nodes.set(mi,ni.element)},$t=ni=>{for(const mi of ni.element.elements)qe.has(mi)||this.nodes.delete(mi)};this.model.setChildren(V,ae,Object.assign(Object.assign({},Ne),{onDidCreateNode:bt,onDidDeleteNode:$t}))}has(V){return this.nodes.has(V)}getListIndex(V){const ae=this.getCompressedNode(V);return this.model.getListIndex(ae)}getListRenderCount(V){const ae=this.getCompressedNode(V);return this.model.getListRenderCount(ae)}getNode(V){if(typeof V=="undefined")return this.model.getNode();const ae=this.getCompressedNode(V);return this.model.getNode(ae)}getNodeLocation(V){const ae=this.model.getNodeLocation(V);return ae===null?null:ae.elements[ae.elements.length-1]}getParentNodeLocation(V){const ae=this.getCompressedNode(V),Ne=this.model.getParentNodeLocation(ae);return Ne===null?null:Ne.elements[Ne.elements.length-1]}isCollapsible(V){const ae=this.getCompressedNode(V);return this.model.isCollapsible(ae)}setCollapsible(V,ae){const Ne=this.getCompressedNode(V);return this.model.setCollapsible(Ne,ae)}isCollapsed(V){const ae=this.getCompressedNode(V);return this.model.isCollapsed(ae)}setCollapsed(V,ae,Ne){const qe=this.getCompressedNode(V);return this.model.setCollapsed(qe,ae,Ne)}expandTo(V){const ae=this.getCompressedNode(V);this.model.expandTo(ae)}rerender(V){const ae=this.getCompressedNode(V);this.model.rerender(ae)}refilter(){this.model.refilter()}getCompressedNode(V){if(V===null)return null;const ae=this.nodes.get(V);if(!ae)throw new y(this.user,`Tree element not found: ${V}`);return ae}}const Qi=kt=>kt[kt.length-1];class ci{constructor(V,ae){this.unwrapper=V,this.node=ae}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(V=>new ci(this.unwrapper,V))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function je(kt,V){return{splice(ae,Ne,qe){V.splice(ae,Ne,qe.map(bt=>kt.map(bt)))},updateElementHeight(ae,Ne){V.updateElementHeight(ae,Ne)}}}function at(kt,V){return Object.assign(Object.assign({},V),{identityProvider:V.identityProvider&&{getId(ae){return V.identityProvider.getId(kt(ae))}},sorter:V.sorter&&{compare(ae,Ne){return V.sorter.compare(ae.elements[0],Ne.elements[0])}},filter:V.filter&&{filter(ae,Ne){return V.filter.filter(kt(ae),Ne)}}})}class Ni{constructor(V,ae,Ne={}){this.rootRef=null,this.elementMapper=Ne.elementMapper||Qi;const qe=bt=>this.elementMapper(bt.elements);this.nodeMapper=new v(bt=>new ci(qe,bt)),this.model=new At(V,je(this.nodeMapper,ae),at(qe,Ne))}get onDidSplice(){return P.ju.map(this.model.onDidSplice,({insertedNodes:V,deletedNodes:ae})=>({insertedNodes:V.map(Ne=>this.nodeMapper.map(Ne)),deletedNodes:ae.map(Ne=>this.nodeMapper.map(Ne))}))}get onDidChangeCollapseState(){return P.ju.map(this.model.onDidChangeCollapseState,({node:V,deep:ae})=>({node:this.nodeMapper.map(V),deep:ae}))}get onDidChangeRenderNodeCount(){return P.ju.map(this.model.onDidChangeRenderNodeCount,V=>this.nodeMapper.map(V))}setChildren(V,ae=j.$.empty(),Ne={}){this.model.setChildren(V,ae,Ne)}setCompressionEnabled(V){this.model.setCompressionEnabled(V)}has(V){return this.model.has(V)}getListIndex(V){return this.model.getListIndex(V)}getListRenderCount(V){return this.model.getListRenderCount(V)}getNode(V){return this.nodeMapper.map(this.model.getNode(V))}getNodeLocation(V){return V.element}getParentNodeLocation(V){return this.model.getParentNodeLocation(V)}isCollapsible(V){return this.model.isCollapsible(V)}setCollapsible(V,ae){return this.model.setCollapsible(V,ae)}isCollapsed(V){return this.model.isCollapsed(V)}setCollapsed(V,ae,Ne){return this.model.setCollapsed(V,ae,Ne)}expandTo(V){return this.model.expandTo(V)}rerender(V){return this.model.rerender(V)}refilter(){return this.model.refilter()}getCompressedTreeNode(V=null){return this.model.getNode(V)}}var fi=c(49898),Wi=function(kt,V,ae,Ne){var qe=arguments.length,bt=qe<3?V:Ne===null?Ne=Object.getOwnPropertyDescriptor(V,ae):Ne,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(kt,V,ae,Ne);else for(var ni=kt.length-1;ni>=0;ni--)($t=kt[ni])&&(bt=(qe<3?$t(bt):qe>3?$t(V,ae,bt):$t(V,ae))||bt);return qe>3&&bt&&Object.defineProperty(V,ae,bt),bt};class Rn extends Pe{constructor(V,ae,Ne,qe,bt={}){super(V,ae,Ne,qe,bt)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(V,ae=j.$.empty(),Ne){this.model.setChildren(V,ae,Ne)}rerender(V){if(V===void 0){this.view.rerender();return}this.model.rerender(V)}hasElement(V){return this.model.has(V)}createModel(V,ae,Ne){return new ye(V,ae,Ne)}}class zi{constructor(V,ae){this._compressedTreeNodeProvider=V,this.renderer=ae,this.templateId=ae.templateId,ae.onDidChangeTwistieState&&(this.onDidChangeTwistieState=ae.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(V){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(V)}}renderElement(V,ae,Ne,qe){const bt=this.compressedTreeNodeProvider.getCompressedTreeNode(V.element);bt.element.elements.length===1?(Ne.compressedTreeNode=void 0,this.renderer.renderElement(V,ae,Ne.data,qe)):(Ne.compressedTreeNode=bt,this.renderer.renderCompressedElements(bt,ae,Ne.data,qe))}disposeElement(V,ae,Ne,qe){Ne.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(Ne.compressedTreeNode,ae,Ne.data,qe):this.renderer.disposeElement&&this.renderer.disposeElement(V,ae,Ne.data,qe)}disposeTemplate(V){this.renderer.disposeTemplate(V.data)}renderTwistie(V,ae){return this.renderer.renderTwistie?this.renderer.renderTwistie(V,ae):!1}}Wi([fi.H],zi.prototype,"compressedTreeNodeProvider",null);function as(kt,V){return V&&Object.assign(Object.assign({},V),{keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(ae){let Ne;try{Ne=kt().getCompressedTreeNode(ae)}catch(qe){return V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ae)}return Ne.element.elements.length===1?V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ae):V.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Ne.element.elements)}}})}class Fn extends Rn{constructor(V,ae,Ne,qe,bt={}){const $t=()=>this,ni=qe.map(mi=>new zi($t,mi));super(V,ae,Ne,ni,as($t,bt))}setChildren(V,ae=j.$.empty(),Ne){this.model.setChildren(V,ae,Ne)}createModel(V,ae,Ne){return new Ni(V,ae,Ne)}updateOptions(V={}){super.updateOptions(V),typeof V.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(V.compressionEnabled)}getCompressedTreeNode(V=null){return this.model.getCompressedTreeNode(V)}}var An=c(17301),$i=function(kt,V,ae,Ne){function qe(bt){return bt instanceof ae?bt:new ae(function($t){$t(bt)})}return new(ae||(ae=Promise))(function(bt,$t){function ni(Ei){try{Ai(Ne.next(Ei))}catch(Bi){$t(Bi)}}function mi(Ei){try{Ai(Ne.throw(Ei))}catch(Bi){$t(Bi)}}function Ai(Ei){Ei.done?bt(Ei.value):qe(Ei.value).then(ni,mi)}Ai((Ne=Ne.apply(kt,V||[])).next())})};function Nn(kt){return Object.assign(Object.assign({},kt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function sn(kt,V){return V.parent?V.parent===kt?!0:sn(kt,V.parent):!1}function $e(kt,V){return kt===V||sn(kt,V)||sn(V,kt)}class It{constructor(V){this.node=V}get element(){return this.node.element.element}get children(){return this.node.children.map(V=>new It(V))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class xt{constructor(V,ae,Ne){this.renderer=V,this.nodeMapper=ae,this.onDidChangeTwistieState=Ne,this.renderedNodes=new Map,this.templateId=V.templateId}renderTemplate(V){return{templateData:this.renderer.renderTemplate(V)}}renderElement(V,ae,Ne,qe){this.renderer.renderElement(this.nodeMapper.map(V),ae,Ne.templateData,qe)}renderTwistie(V,ae){return V.slow?(ae.classList.add(...ee.classNamesArray),!0):(ae.classList.remove(...ee.classNamesArray),!1)}disposeElement(V,ae,Ne,qe){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(V),ae,Ne.templateData,qe)}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}dispose(){this.renderedNodes.clear()}}function Qe(kt){return{browserEvent:kt.browserEvent,elements:kt.elements.map(V=>V.element)}}function tt(kt){return{browserEvent:kt.browserEvent,element:kt.element&&kt.element.element,target:kt.target}}class Nt extends x.kX{constructor(V){super(V.elements.map(ae=>ae.element)),this.data=V}}function Tt(kt){return kt instanceof x.kX?new Nt(kt):kt}class Yt{constructor(V){this.dnd=V}getDragURI(V){return this.dnd.getDragURI(V.element)}getDragLabel(V,ae){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V.map(Ne=>Ne.element),ae)}onDragStart(V,ae){this.dnd.onDragStart&&this.dnd.onDragStart(Tt(V),ae)}onDragOver(V,ae,Ne,qe,bt=!0){return this.dnd.onDragOver(Tt(V),ae&&ae.element,Ne,qe)}drop(V,ae,Ne,qe){this.dnd.drop(Tt(V),ae&&ae.element,Ne,qe)}onDragEnd(V){this.dnd.onDragEnd&&this.dnd.onDragEnd(V)}}function ai(kt){return kt&&Object.assign(Object.assign({},kt),{collapseByDefault:!0,identityProvider:kt.identityProvider&&{getId(V){return kt.identityProvider.getId(V.element)}},dnd:kt.dnd&&new Yt(kt.dnd),multipleSelectionController:kt.multipleSelectionController&&{isSelectionSingleChangeEvent(V){return kt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))},isSelectionRangeChangeEvent(V){return kt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))}},accessibilityProvider:kt.accessibilityProvider&&Object.assign(Object.assign({},kt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:kt.accessibilityProvider.getRole?V=>kt.accessibilityProvider.getRole(V.element):()=>"treeitem",isChecked:kt.accessibilityProvider.isChecked?V=>{var ae;return!!(!((ae=kt.accessibilityProvider)===null||ae===void 0)&&ae.isChecked(V.element))}:void 0,getAriaLabel(V){return kt.accessibilityProvider.getAriaLabel(V.element)},getWidgetAriaLabel(){return kt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:kt.accessibilityProvider.getWidgetRole?()=>kt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:kt.accessibilityProvider.getAriaLevel&&(V=>kt.accessibilityProvider.getAriaLevel(V.element)),getActiveDescendantId:kt.accessibilityProvider.getActiveDescendantId&&(V=>kt.accessibilityProvider.getActiveDescendantId(V.element))}),filter:kt.filter&&{filter(V,ae){return kt.filter.filter(V.element,ae)}},keyboardNavigationLabelProvider:kt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},kt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(V){return kt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof kt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof kt.expandOnlyOnTwistieClick!="function"?kt.expandOnlyOnTwistieClick:V=>kt.expandOnlyOnTwistieClick(V.element),additionalScrollHeight:kt.additionalScrollHeight})}function Si(kt,V){V(kt),kt.children.forEach(ae=>Si(ae,V))}class qi{constructor(V,ae,Ne,qe,bt,$t={}){this.user=V,this.dataSource=bt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new P.Q5,this._onDidChangeNodeSlowState=new P.Q5,this.nodeMapper=new v(ni=>new It(ni)),this.disposables=new L.SL,this.identityProvider=$t.identityProvider,this.autoExpandSingleChildren=typeof $t.autoExpandSingleChildren=="undefined"?!1:$t.autoExpandSingleChildren,this.sorter=$t.sorter,this.collapseByDefault=$t.collapseByDefault,this.tree=this.createTree(V,ae,Ne,qe,$t),this.root=Nn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return P.ju.map(this.tree.onDidChangeFocus,Qe)}get onDidChangeSelection(){return P.ju.map(this.tree.onDidChangeSelection,Qe)}get onMouseDblClick(){return P.ju.map(this.tree.onMouseDblClick,tt)}get onPointer(){return P.ju.map(this.tree.onPointer,tt)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(V,ae,Ne,qe,bt){const $t=new mt(Ne),ni=qe.map(Ai=>new xt(Ai,this.nodeMapper,this._onDidChangeNodeSlowState.event)),mi=ai(bt)||{};return new Rn(V,ae,$t,ni,mi)}updateOptions(V={}){this.tree.updateOptions(V)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(V){this.tree.scrollTop=V}domFocus(){this.tree.domFocus()}layout(V,ae){this.tree.layout(V,ae)}style(V){this.tree.style(V)}getInput(){return this.root.element}setInput(V,ae){return $i(this,void 0,void 0,function*(){this.refreshPromises.forEach(qe=>qe.cancel()),this.refreshPromises.clear(),this.root.element=V;const Ne=ae&&{viewState:ae,focus:[],selection:[]};yield this._updateChildren(V,!0,!1,Ne),Ne&&(this.tree.setFocus(Ne.focus),this.tree.setSelection(Ne.selection)),ae&&typeof ae.scrollTop=="number"&&(this.scrollTop=ae.scrollTop)})}_updateChildren(V=this.root.element,ae=!0,Ne=!1,qe,bt){return $i(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new y(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event));const $t=this.getDataNode(V);if(yield this.refreshAndRenderNode($t,ae,qe,bt),Ne)try{this.tree.rerender($t)}catch(ni){}})}rerender(V){if(V===void 0||V===this.root.element){this.tree.rerender();return}const ae=this.getDataNode(V);this.tree.rerender(ae)}collapse(V,ae=!1){const Ne=this.getDataNode(V);return this.tree.collapse(Ne===this.root?null:Ne,ae)}expand(V,ae=!1){return $i(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new y(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event));const Ne=this.getDataNode(V);if(this.tree.hasElement(Ne)&&!this.tree.isCollapsible(Ne)||(Ne.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event)),Ne!==this.root&&!Ne.refreshPromise&&!this.tree.isCollapsed(Ne)))return!1;const qe=this.tree.expand(Ne===this.root?null:Ne,ae);return Ne.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event)),qe})}setSelection(V,ae){const Ne=V.map(qe=>this.getDataNode(qe));this.tree.setSelection(Ne,ae)}getSelection(){return this.tree.getSelection().map(ae=>ae.element)}setFocus(V,ae){const Ne=V.map(qe=>this.getDataNode(qe));this.tree.setFocus(Ne,ae)}getFocus(){return this.tree.getFocus().map(ae=>ae.element)}reveal(V,ae){this.tree.reveal(this.getDataNode(V),ae)}getDataNode(V){const ae=this.nodes.get(V===this.root.element?null:V);if(!ae)throw new y(this.user,`Data tree node not found: ${V}`);return ae}refreshAndRenderNode(V,ae,Ne,qe){return $i(this,void 0,void 0,function*(){yield this.refreshNode(V,ae,Ne),this.render(V,Ne,qe)})}refreshNode(V,ae,Ne){return $i(this,void 0,void 0,function*(){let qe;return this.subTreeRefreshPromises.forEach((bt,$t)=>{!qe&&$e($t,V)&&(qe=bt.then(()=>this.refreshNode(V,ae,Ne)))}),qe||this.doRefreshSubTree(V,ae,Ne)})}doRefreshSubTree(V,ae,Ne){return $i(this,void 0,void 0,function*(){let qe;V.refreshPromise=new Promise(bt=>qe=bt),this.subTreeRefreshPromises.set(V,V.refreshPromise),V.refreshPromise.finally(()=>{V.refreshPromise=void 0,this.subTreeRefreshPromises.delete(V)});try{const bt=yield this.doRefreshNode(V,ae,Ne);V.stale=!1,yield m.jT.settled(bt.map($t=>this.doRefreshSubTree($t,ae,Ne)))}finally{qe()}})}doRefreshNode(V,ae,Ne){return $i(this,void 0,void 0,function*(){V.hasChildren=!!this.dataSource.hasChildren(V.element);let qe;if(!V.hasChildren)qe=Promise.resolve(j.$.empty());else{const bt=(0,m.Vs)(800);bt.then(()=>{V.slow=!0,this._onDidChangeNodeSlowState.fire(V)},$t=>null),qe=this.doGetChildren(V).finally(()=>bt.cancel())}try{const bt=yield qe;return this.setChildren(V,bt,ae,Ne)}catch(bt){if(V!==this.root&&this.tree.hasElement(V)&&this.tree.collapse(V),(0,An.VV)(bt))return[];throw bt}finally{V.slow&&(V.slow=!1,this._onDidChangeNodeSlowState.fire(V))}})}doGetChildren(V){let ae=this.refreshPromises.get(V);return ae||(ae=(0,m.PG)(()=>$i(this,void 0,void 0,function*(){const Ne=yield this.dataSource.getChildren(V.element);return this.processChildren(Ne)})),this.refreshPromises.set(V,ae),ae.finally(()=>{this.refreshPromises.delete(V)}))}_onDidChangeCollapseState({node:V,deep:ae}){V.element!==null&&!V.collapsed&&V.element.stale&&(ae?this.collapse(V.element.element):this.refreshAndRenderNode(V.element,!1).catch(An.dL))}setChildren(V,ae,Ne,qe){const bt=[...ae];if(V.children.length===0&&bt.length===0)return[];const $t=new Map,ni=new Map;for(const Ei of V.children)if($t.set(Ei.element,Ei),this.identityProvider){const Bi=this.tree.isCollapsed(Ei);ni.set(Ei.id,{node:Ei,collapsed:Bi})}const mi=[],Ai=bt.map(Ei=>{const Bi=!!this.dataSource.hasChildren(Ei);if(!this.identityProvider){const en=Nn({element:Ei,parent:V,hasChildren:Bi});return Bi&&this.collapseByDefault&&!this.collapseByDefault(Ei)&&(en.collapsedByDefault=!1,mi.push(en)),en}const ln=this.identityProvider.getId(Ei).toString(),Ti=ni.get(ln);if(Ti){const en=Ti.node;return $t.delete(en.element),this.nodes.delete(en.element),this.nodes.set(Ei,en),en.element=Ei,en.hasChildren=Bi,Ne?Ti.collapsed?(en.children.forEach(pn=>Si(pn,$n=>this.nodes.delete($n.element))),en.children.splice(0,en.children.length),en.stale=!0):mi.push(en):Bi&&this.collapseByDefault&&!this.collapseByDefault(Ei)&&(en.collapsedByDefault=!1,mi.push(en)),en}const on=Nn({element:Ei,parent:V,id:ln,hasChildren:Bi});return qe&&qe.viewState.focus&&qe.viewState.focus.indexOf(ln)>-1&&qe.focus.push(on),qe&&qe.viewState.selection&&qe.viewState.selection.indexOf(ln)>-1&&qe.selection.push(on),qe&&qe.viewState.expanded&&qe.viewState.expanded.indexOf(ln)>-1?mi.push(on):Bi&&this.collapseByDefault&&!this.collapseByDefault(Ei)&&(on.collapsedByDefault=!1,mi.push(on)),on});for(const Ei of $t.values())Si(Ei,Bi=>this.nodes.delete(Bi.element));for(const Ei of Ai)this.nodes.set(Ei.element,Ei);return V.children.splice(0,V.children.length,...Ai),V!==this.root&&this.autoExpandSingleChildren&&Ai.length===1&&mi.length===0&&(Ai[0].collapsedByDefault=!1,mi.push(Ai[0])),mi}render(V,ae,Ne){const qe=V.children.map($t=>this.asTreeElement($t,ae)),bt=Ne&&Object.assign(Object.assign({},Ne),{diffIdentityProvider:Ne.diffIdentityProvider&&{getId($t){return Ne.diffIdentityProvider.getId($t.element)}}});this.tree.setChildren(V===this.root?null:V,qe,bt),V!==this.root&&this.tree.setCollapsible(V,V.hasChildren),this._onDidRender.fire()}asTreeElement(V,ae){if(V.stale)return{element:V,collapsible:V.hasChildren,collapsed:!0};let Ne;return ae&&ae.viewState.expanded&&V.id&&ae.viewState.expanded.indexOf(V.id)>-1?Ne=!1:Ne=V.collapsedByDefault,V.collapsedByDefault=void 0,{element:V,children:V.hasChildren?j.$.map(V.children,qe=>this.asTreeElement(qe,ae)):[],collapsible:V.hasChildren,collapsed:Ne}}processChildren(V){return this.sorter&&(V=[...V].sort(this.sorter.compare.bind(this.sorter))),V}dispose(){this.disposables.dispose()}}class ji{constructor(V){this.node=V}get element(){return{elements:this.node.element.elements.map(V=>V.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(V=>new ji(V))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Zn{constructor(V,ae,Ne,qe){this.renderer=V,this.nodeMapper=ae,this.compressibleNodeMapperProvider=Ne,this.onDidChangeTwistieState=qe,this.renderedNodes=new Map,this.disposables=[],this.templateId=V.templateId}renderTemplate(V){return{templateData:this.renderer.renderTemplate(V)}}renderElement(V,ae,Ne,qe){this.renderer.renderElement(this.nodeMapper.map(V),ae,Ne.templateData,qe)}renderCompressedElements(V,ae,Ne,qe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(V),ae,Ne.templateData,qe)}renderTwistie(V,ae){return V.slow?(ae.classList.add(...ee.classNamesArray),!0):(ae.classList.remove(...ee.classNamesArray),!1)}disposeElement(V,ae,Ne,qe){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(V),ae,Ne.templateData,qe)}disposeCompressedElements(V,ae,Ne,qe){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(V),ae,Ne.templateData,qe)}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,L.B9)(this.disposables)}}function Vi(kt){const V=kt&&ai(kt);return V&&Object.assign(Object.assign({},V),{keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},V.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(ae){return kt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(ae.map(Ne=>Ne.element))}})})}class Xi extends qi{constructor(V,ae,Ne,qe,bt,$t,ni={}){super(V,ae,Ne,bt,$t,ni),this.compressionDelegate=qe,this.compressibleNodeMapper=new v(mi=>new ji(mi)),this.filter=ni.filter}createTree(V,ae,Ne,qe,bt){const $t=new mt(Ne),ni=qe.map(Ai=>new Zn(Ai,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),mi=Vi(bt)||{};return new Fn(V,ae,$t,ni,mi)}asTreeElement(V,ae){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(V.element)},super.asTreeElement(V,ae))}updateOptions(V={}){this.tree.updateOptions(V)}render(V,ae){if(!this.identityProvider)return super.render(V,ae);const Ne=ln=>this.identityProvider.getId(ln).toString(),qe=ln=>{const Ti=new Set;for(const on of ln){const en=this.tree.getCompressedTreeNode(on===this.root?null:on);if(en.element)for(const pn of en.element.elements)Ti.add(Ne(pn.element))}return Ti},bt=qe(this.tree.getSelection()),$t=qe(this.tree.getFocus());super.render(V,ae);const ni=this.getSelection();let mi=!1;const Ai=this.getFocus();let Ei=!1;const Bi=ln=>{const Ti=ln.element;if(Ti)for(let on=0;on<Ti.elements.length;on++){const en=Ne(Ti.elements[on].element),pn=Ti.elements[Ti.elements.length-1].element;bt.has(en)&&ni.indexOf(pn)===-1&&(ni.push(pn),mi=!0),$t.has(en)&&Ai.indexOf(pn)===-1&&(Ai.push(pn),Ei=!0)}ln.children.forEach(Bi)};Bi(this.tree.getCompressedTreeNode(V===this.root?null:V)),mi&&this.setSelection(ni),Ei&&this.setFocus(Ai)}processChildren(V){return this.filter&&(V=j.$.filter(V,ae=>{const Ne=this.filter.filter(ae,1),qe=wt(Ne);if(qe===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return qe===1})),super.processChildren(V)}}function wt(kt){return typeof kt=="boolean"?kt?1:0:te(kt)?ce(kt.visibility):ce(kt)}class ht extends Pe{constructor(V,ae,Ne,qe,bt,$t={}){super(V,ae,Ne,qe,$t),this.user=V,this.dataSource=bt,this.identityProvider=$t.identityProvider}createModel(V,ae,Ne){return new ye(V,ae,Ne)}}var Et=c(31106),He=c(33108),nt=c(23193),pt=c(38819);const ft=new pt.uy("isWindows",pe.ED,(0,ue.N)("isWindows","Whether the operating system is Windows")),oi="inputFocus";var Hi=c(72065),vi=c(91847),Ii=c(89872),Ui=c(88810),dn=c(97781),gn=function(kt,V,ae,Ne){var qe=arguments.length,bt=qe<3?V:Ne===null?Ne=Object.getOwnPropertyDescriptor(V,ae):Ne,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(kt,V,ae,Ne);else for(var ni=kt.length-1;ni>=0;ni--)($t=kt[ni])&&(bt=(qe<3?$t(bt):qe>3?$t(V,ae,bt):$t(V,ae))||bt);return qe>3&&bt&&Object.defineProperty(V,ae,bt),bt},Ri=function(kt,V){return function(ae,Ne){V(ae,Ne,kt)}};const _i=(0,Hi.yh)("listService");let hn=class{constructor(V){this._themeService=V,this.disposables=new L.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(V,ae){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const qe=new R.wD((0,D.dS)(),"");this.disposables.add((0,Ui.Jl)(qe,this._themeService))}if(this.lists.some(qe=>qe.widget===V))throw new Error("Cannot register the same widget multiple times");const Ne={widget:V,extraContextKeys:ae};return this.lists.push(Ne),V.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=V),(0,L.F8)(V.onDidFocus(()=>this._lastFocusedWidget=V),(0,L.OF)(()=>this.lists.splice(this.lists.indexOf(Ne),1)),V.onDidDispose(()=>{this.lists=this.lists.filter(qe=>qe!==Ne),this._lastFocusedWidget===V&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};hn=gn([Ri(0,dn.XE)],hn);const wn=new pt.uy("listFocus",!0),Qn=new pt.uy("listSupportsMultiselect",!0),os=pt.Ao.and(wn,pt.Ao.not(oi)),Yn=new pt.uy("listHasSelectionOrFocus",!1),Ts=new pt.uy("listDoubleSelection",!1),Co=new pt.uy("listMultiSelection",!1),Vs=new pt.uy("listSelectionNavigation",!1),cs="listAutomaticKeyboardNavigation";function oo(kt,V){const ae=kt.createScoped(V.getHTMLElement());return wn.bindTo(ae),ae}const to="workbench.list.multiSelectModifier",Gs="workbench.list.openMode",Ss="workbench.list.horizontalScrolling",Rs="workbench.list.keyboardNavigation",Hs="workbench.list.automaticKeyboardNavigation",io="workbench.tree.indent",Ks="workbench.tree.renderIndentGuides",zs="workbench.list.smoothScrolling",ho="workbench.list.mouseWheelScrollSensitivity",jn="workbench.list.fastScrollSensitivity",lo="workbench.tree.expandMode";function ts(kt){return kt.getValue(to)==="alt"}class Un extends L.JT{constructor(V){super(),this.configurationService=V,this.useAltAsMultipleSelectionModifier=ts(V),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(V=>{V.affectsConfiguration(to)&&(this.useAltAsMultipleSelectionModifier=ts(this.configurationService))}))}isSelectionSingleChangeEvent(V){return this.useAltAsMultipleSelectionModifier?V.browserEvent.altKey:(0,R.Zo)(V)}isSelectionRangeChangeEvent(V){return(0,R.wn)(V)}}function Zs(kt,V,ae){var Ne;const qe=new L.SL;return[Object.assign(Object.assign({},kt),{keyboardNavigationDelegate:{mightProducePrintableCharacter($t){return ae.mightProducePrintableCharacter($t)}},smoothScrolling:!!V.getValue(zs),mouseWheelScrollSensitivity:V.getValue(ho),fastScrollSensitivity:V.getValue(jn),multipleSelectionController:(Ne=kt.multipleSelectionController)!==null&&Ne!==void 0?Ne:qe.add(new Un(V))}),qe]}let Xn=class extends R.aV{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei){const Bi=typeof bt.horizontalScrolling!="undefined"?bt.horizontalScrolling:!!Ai.getValue(Ss),[ln,Ti]=Zs(bt,Ai,Ei);super(V,ae,Ne,qe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ui.o)(mi.getColorTheme(),Ui.O2)),ln),{horizontalScrolling:Bi})),this.disposables.add(Ti),this.contextKeyService=oo($t,this),this.themeService=mi,this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(bt.multipleSelectionSupport!==!1),Vs.bindTo(this.contextKeyService).set(!!bt.selectionNavigation),this.listHasSelectionOrFocus=Yn.bindTo(this.contextKeyService),this.listDoubleSelection=Ts.bindTo(this.contextKeyService),this.listMultiSelection=Co.bindTo(this.contextKeyService),this.horizontalScrolling=bt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ts(Ai),this.disposables.add(this.contextKeyService),this.disposables.add(ni.register(this)),bt.overrideStyles&&this.updateStyles(bt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const en=this.getSelection(),pn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(en.length>0||pn.length>0),this.listMultiSelection.set(en.length>1),this.listDoubleSelection.set(en.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const en=this.getSelection(),pn=this.getFocus();this.listHasSelectionOrFocus.set(en.length>0||pn.length>0)})),this.disposables.add(Ai.onDidChangeConfiguration(en=>{en.affectsConfiguration(to)&&(this._useAltAsMultipleSelectionModifier=ts(Ai));let pn={};if(en.affectsConfiguration(Ss)&&this.horizontalScrolling===void 0){const $n=!!Ai.getValue(Ss);pn=Object.assign(Object.assign({},pn),{horizontalScrolling:$n})}if(en.affectsConfiguration(zs)){const $n=!!Ai.getValue(zs);pn=Object.assign(Object.assign({},pn),{smoothScrolling:$n})}if(en.affectsConfiguration(ho)){const $n=Ai.getValue(ho);pn=Object.assign(Object.assign({},pn),{mouseWheelScrollSensitivity:$n})}if(en.affectsConfiguration(jn)){const $n=Ai.getValue(jn);pn=Object.assign(Object.assign({},pn),{fastScrollSensitivity:$n})}Object.keys(pn).length>0&&this.updateOptions(pn)})),this.navigator=new pi(this,Object.assign({configurationService:Ai},bt)),this.disposables.add(this.navigator)}updateOptions(V){super.updateOptions(V),V.overrideStyles&&this.updateStyles(V.overrideStyles),V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyles(V){var ae;(ae=this._styler)===null||ae===void 0||ae.dispose(),this._styler=(0,Ui.Jl)(this,this.themeService,V)}dispose(){var V;(V=this._styler)===null||V===void 0||V.dispose(),super.dispose()}};Xn=gn([Ri(5,pt.i6),Ri(6,_i),Ri(7,dn.XE),Ri(8,He.Ui),Ri(9,vi.d)],Xn);let Ys=class extends g{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei){const Bi=typeof bt.horizontalScrolling!="undefined"?bt.horizontalScrolling:!!Ai.getValue(Ss),[ln,Ti]=Zs(bt,Ai,Ei);super(V,ae,Ne,qe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ui.o)(mi.getColorTheme(),Ui.O2)),ln),{horizontalScrolling:Bi})),this.disposables=new L.SL,this.disposables.add(Ti),this.contextKeyService=oo($t,this),this.themeService=mi,this.horizontalScrolling=bt.horizontalScrolling,this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(bt.multipleSelectionSupport!==!1),Vs.bindTo(this.contextKeyService).set(!!bt.selectionNavigation),this._useAltAsMultipleSelectionModifier=ts(Ai),this.disposables.add(this.contextKeyService),this.disposables.add(ni.register(this)),bt.overrideStyles&&this.updateStyles(bt.overrideStyles),bt.overrideStyles&&this.disposables.add((0,Ui.Jl)(this,mi,bt.overrideStyles)),this.disposables.add(Ai.onDidChangeConfiguration(en=>{en.affectsConfiguration(to)&&(this._useAltAsMultipleSelectionModifier=ts(Ai));let pn={};if(en.affectsConfiguration(Ss)&&this.horizontalScrolling===void 0){const $n=!!Ai.getValue(Ss);pn=Object.assign(Object.assign({},pn),{horizontalScrolling:$n})}if(en.affectsConfiguration(zs)){const $n=!!Ai.getValue(zs);pn=Object.assign(Object.assign({},pn),{smoothScrolling:$n})}if(en.affectsConfiguration(ho)){const $n=Ai.getValue(ho);pn=Object.assign(Object.assign({},pn),{mouseWheelScrollSensitivity:$n})}if(en.affectsConfiguration(jn)){const $n=Ai.getValue(jn);pn=Object.assign(Object.assign({},pn),{fastScrollSensitivity:$n})}Object.keys(pn).length>0&&this.updateOptions(pn)})),this.navigator=new pi(this,Object.assign({configurationService:Ai},bt)),this.disposables.add(this.navigator)}updateOptions(V){super.updateOptions(V),V.overrideStyles&&this.updateStyles(V.overrideStyles),V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyles(V){var ae;(ae=this._styler)===null||ae===void 0||ae.dispose(),this._styler=(0,Ui.Jl)(this,this.themeService,V)}dispose(){var V;(V=this._styler)===null||V===void 0||V.dispose(),this.disposables.dispose(),super.dispose()}};Ys=gn([Ri(5,pt.i6),Ri(6,_i),Ri(7,dn.XE),Ri(8,He.Ui),Ri(9,vi.d)],Ys);let xs=class extends C{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei,Bi){const ln=typeof $t.horizontalScrolling!="undefined"?$t.horizontalScrolling:!!Ei.getValue(Ss),[Ti,on]=Zs($t,Ei,Bi);super(V,ae,Ne,qe,bt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Ui.o)(Ai.getColorTheme(),Ui.O2)),Ti),{horizontalScrolling:ln})),this.disposables=new L.SL,this.disposables.add(on),this.contextKeyService=oo(ni,this),this.themeService=Ai,this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($t.multipleSelectionSupport!==!1),Vs.bindTo(this.contextKeyService).set(!!$t.selectionNavigation),this.listHasSelectionOrFocus=Yn.bindTo(this.contextKeyService),this.listDoubleSelection=Ts.bindTo(this.contextKeyService),this.listMultiSelection=Co.bindTo(this.contextKeyService),this.horizontalScrolling=$t.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ts(Ei),this.disposables.add(this.contextKeyService),this.disposables.add(mi.register(this)),$t.overrideStyles&&this.updateStyles($t.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const pn=this.getSelection(),$n=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(pn.length>0||$n.length>0),this.listMultiSelection.set(pn.length>1),this.listDoubleSelection.set(pn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const pn=this.getSelection(),$n=this.getFocus();this.listHasSelectionOrFocus.set(pn.length>0||$n.length>0)})),this.disposables.add(Ei.onDidChangeConfiguration(pn=>{pn.affectsConfiguration(to)&&(this._useAltAsMultipleSelectionModifier=ts(Ei));let $n={};if(pn.affectsConfiguration(Ss)&&this.horizontalScrolling===void 0){const Ds=!!Ei.getValue(Ss);$n=Object.assign(Object.assign({},$n),{horizontalScrolling:Ds})}if(pn.affectsConfiguration(zs)){const Ds=!!Ei.getValue(zs);$n=Object.assign(Object.assign({},$n),{smoothScrolling:Ds})}if(pn.affectsConfiguration(ho)){const Ds=Ei.getValue(ho);$n=Object.assign(Object.assign({},$n),{mouseWheelScrollSensitivity:Ds})}if(pn.affectsConfiguration(jn)){const Ds=Ei.getValue(jn);$n=Object.assign(Object.assign({},$n),{fastScrollSensitivity:Ds})}Object.keys($n).length>0&&this.updateOptions($n)})),this.navigator=new me(this,Object.assign({configurationService:Ei},$t)),this.disposables.add(this.navigator)}updateOptions(V){super.updateOptions(V),V.overrideStyles&&this.updateStyles(V.overrideStyles),V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyles(V){var ae;(ae=this._styler)===null||ae===void 0||ae.dispose(),this._styler=(0,Ui.Jl)(this,this.themeService,V)}dispose(){var V;(V=this._styler)===null||V===void 0||V.dispose(),this.disposables.dispose(),super.dispose()}};xs=gn([Ri(6,pt.i6),Ri(7,_i),Ri(8,dn.XE),Ri(9,He.Ui),Ri(10,vi.d)],xs);class Xs extends L.JT{constructor(V,ae){var Ne;super(),this.widget=V,this._onDidOpen=this._register(new P.Q5),this.onDidOpen=this._onDidOpen.event,this._register(P.ju.filter(this.widget.onDidChangeSelection,qe=>qe.browserEvent instanceof KeyboardEvent)(qe=>this.onSelectionFromKeyboard(qe))),this._register(this.widget.onPointer(qe=>this.onPointer(qe.element,qe.browserEvent))),this._register(this.widget.onMouseDblClick(qe=>this.onMouseDblClick(qe.element,qe.browserEvent))),typeof(ae==null?void 0:ae.openOnSingleClick)!="boolean"&&(ae!=null&&ae.configurationService)?(this.openOnSingleClick=(ae==null?void 0:ae.configurationService.getValue(Gs))!=="doubleClick",this._register(ae==null?void 0:ae.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(ae==null?void 0:ae.configurationService.getValue(Gs))!=="doubleClick"}))):this.openOnSingleClick=(Ne=ae==null?void 0:ae.openOnSingleClick)!==null&&Ne!==void 0?Ne:!0}onSelectionFromKeyboard(V){if(V.elements.length!==1)return;const ae=V.browserEvent,Ne=typeof ae.preserveFocus=="boolean"?ae.preserveFocus:!0,qe=typeof ae.pinned=="boolean"?ae.pinned:!Ne,bt=!1;this._open(this.getSelectedElement(),Ne,qe,bt,V.browserEvent)}onPointer(V,ae){if(!this.openOnSingleClick||ae.detail===2)return;const qe=ae.button===1,bt=!0,$t=qe,ni=ae.ctrlKey||ae.metaKey||ae.altKey;this._open(V,bt,$t,ni,ae)}onMouseDblClick(V,ae){if(!ae)return;const Ne=ae.target;if(Ne.classList.contains("monaco-tl-twistie")||Ne.classList.contains("monaco-icon-label")&&Ne.classList.contains("folder-icon")&&ae.offsetX<16)return;const bt=!1,$t=!0,ni=ae.ctrlKey||ae.metaKey||ae.altKey;this._open(V,bt,$t,ni,ae)}_open(V,ae,Ne,qe,bt){V&&this._onDidOpen.fire({editorOptions:{preserveFocus:ae,pinned:Ne,revealIfVisible:!0},sideBySide:qe,element:V,browserEvent:bt})}}class pi extends Xs{constructor(V,ae){super(V,ae),this.widget=V}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class me extends Xs{constructor(V,ae){super(V,ae)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ct extends Xs{constructor(V,ae){super(V,ae)}getSelectedElement(){var V;return(V=this.widget.getSelection()[0])!==null&&V!==void 0?V:void 0}}function gt(kt,V){let ae=!1;return Ne=>{if(ae)return ae=!1,!1;const qe=V.softDispatch(Ne,kt);return qe&&qe.enterChord?(ae=!0,!1):(ae=!1,!0)}}let Bt=class extends Rn{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei,Bi){const{options:ln,getAutomaticKeyboardNavigation:Ti,disposable:on}=ki(ae,bt,$t,Ai,Ei,Bi);super(V,ae,Ne,qe,ln),this.disposables.add(on),this.internals=new Di(this,bt,Ti,bt.overrideStyles,$t,ni,mi,Ai,Bi),this.disposables.add(this.internals)}updateOptions(V){super.updateOptions(V),this.internals.updateOptions(V)}};Bt=gn([Ri(5,pt.i6),Ri(6,_i),Ri(7,dn.XE),Ri(8,He.Ui),Ri(9,vi.d),Ri(10,Et.F)],Bt);let Gt=class extends Fn{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei,Bi){const{options:ln,getAutomaticKeyboardNavigation:Ti,disposable:on}=ki(ae,bt,$t,Ai,Ei,Bi);super(V,ae,Ne,qe,ln),this.disposables.add(on),this.internals=new Di(this,bt,Ti,bt.overrideStyles,$t,ni,mi,Ai,Bi),this.disposables.add(this.internals)}updateOptions(V={}){super.updateOptions(V),V.overrideStyles&&this.internals.updateStyleOverrides(V.overrideStyles),this.internals.updateOptions(V)}};Gt=gn([Ri(5,pt.i6),Ri(6,_i),Ri(7,dn.XE),Ri(8,He.Ui),Ri(9,vi.d),Ri(10,Et.F)],Gt);let bi=class extends ht{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei,Bi,ln){const{options:Ti,getAutomaticKeyboardNavigation:on,disposable:en}=ki(ae,$t,ni,Ei,Bi,ln);super(V,ae,Ne,qe,bt,Ti),this.disposables.add(en),this.internals=new Di(this,$t,on,$t.overrideStyles,ni,mi,Ai,Ei,ln),this.disposables.add(this.internals)}updateOptions(V={}){super.updateOptions(V),V.overrideStyles&&this.internals.updateStyleOverrides(V.overrideStyles),this.internals.updateOptions(V)}};bi=gn([Ri(6,pt.i6),Ri(7,_i),Ri(8,dn.XE),Ri(9,He.Ui),Ri(10,vi.d),Ri(11,Et.F)],bi);let li=class extends qi{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei,Bi,ln){const{options:Ti,getAutomaticKeyboardNavigation:on,disposable:en}=ki(ae,$t,ni,Ei,Bi,ln);super(V,ae,Ne,qe,bt,Ti),this.disposables.add(en),this.internals=new Di(this,$t,on,$t.overrideStyles,ni,mi,Ai,Ei,ln),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(V={}){super.updateOptions(V),V.overrideStyles&&this.internals.updateStyleOverrides(V.overrideStyles),this.internals.updateOptions(V)}};li=gn([Ri(6,pt.i6),Ri(7,_i),Ri(8,dn.XE),Ri(9,He.Ui),Ri(10,vi.d),Ri(11,Et.F)],li);let ei=class extends Xi{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai,Ei,Bi,ln,Ti){const{options:on,getAutomaticKeyboardNavigation:en,disposable:pn}=ki(ae,ni,mi,Bi,ln,Ti);super(V,ae,Ne,qe,bt,$t,on),this.disposables.add(pn),this.internals=new Di(this,ni,en,ni.overrideStyles,mi,Ai,Ei,Bi,Ti),this.disposables.add(this.internals)}updateOptions(V){super.updateOptions(V),this.internals.updateOptions(V)}};ei=gn([Ri(7,pt.i6),Ri(8,_i),Ri(9,dn.XE),Ri(10,He.Ui),Ri(11,vi.d),Ri(12,Et.F)],ei);function ki(kt,V,ae,Ne,qe,bt){var $t;const ni=()=>{let on=!!ae.getContextKeyValue(cs);return on&&(on=!!Ne.getValue(Hs)),on},mi=bt.isScreenReaderOptimized(),Ai=V.simpleKeyboardNavigation||mi?"simple":Ne.getValue(Rs),Ei=V.horizontalScrolling!==void 0?V.horizontalScrolling:!!Ne.getValue(Ss),[Bi,ln]=Zs(V,Ne,qe),Ti=V.additionalScrollHeight;return{getAutomaticKeyboardNavigation:ni,disposable:ln,options:Object.assign(Object.assign({keyboardSupport:!1},Bi),{indent:typeof Ne.getValue(io)=="number"?Ne.getValue(io):void 0,renderIndentGuides:Ne.getValue(Ks),smoothScrolling:!!Ne.getValue(zs),automaticKeyboardNavigation:ni(),simpleKeyboardNavigation:Ai==="simple",filterOnType:Ai==="filter",horizontalScrolling:Ei,keyboardNavigationEventFilter:gt(kt,qe),additionalScrollHeight:Ti,hideTwistiesOfChildlessElements:V.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:($t=V.expandOnlyOnTwistieClick)!==null&&$t!==void 0?$t:Ne.getValue(lo)==="doubleClick"})}}let Di=class{constructor(V,ae,Ne,qe,bt,$t,ni,mi,Ai){this.tree=V,this.themeService=ni,this.disposables=[],this.contextKeyService=oo(bt,V),this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),Vs.bindTo(this.contextKeyService).set(!!ae.selectionNavigation),this.hasSelectionOrFocus=Yn.bindTo(this.contextKeyService),this.hasDoubleSelection=Ts.bindTo(this.contextKeyService),this.hasMultiSelection=Co.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ts(mi);const Bi=new Set;Bi.add(cs);const ln=()=>{const on=Ai.isScreenReaderOptimized()?"simple":mi.getValue(Rs);V.updateOptions({simpleKeyboardNavigation:on==="simple",filterOnType:on==="filter"})};this.updateStyleOverrides(qe),this.disposables.push(this.contextKeyService,$t.register(V),V.onDidChangeSelection(()=>{const Ti=V.getSelection(),on=V.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Ti.length>0||on.length>0),this.hasMultiSelection.set(Ti.length>1),this.hasDoubleSelection.set(Ti.length===2)})}),V.onDidChangeFocus(()=>{const Ti=V.getSelection(),on=V.getFocus();this.hasSelectionOrFocus.set(Ti.length>0||on.length>0)}),mi.onDidChangeConfiguration(Ti=>{let on={};if(Ti.affectsConfiguration(to)&&(this._useAltAsMultipleSelectionModifier=ts(mi)),Ti.affectsConfiguration(io)){const en=mi.getValue(io);on=Object.assign(Object.assign({},on),{indent:en})}if(Ti.affectsConfiguration(Ks)){const en=mi.getValue(Ks);on=Object.assign(Object.assign({},on),{renderIndentGuides:en})}if(Ti.affectsConfiguration(zs)){const en=!!mi.getValue(zs);on=Object.assign(Object.assign({},on),{smoothScrolling:en})}if(Ti.affectsConfiguration(Rs)&&ln(),Ti.affectsConfiguration(Hs)&&(on=Object.assign(Object.assign({},on),{automaticKeyboardNavigation:Ne()})),Ti.affectsConfiguration(Ss)&&ae.horizontalScrolling===void 0){const en=!!mi.getValue(Ss);on=Object.assign(Object.assign({},on),{horizontalScrolling:en})}if(Ti.affectsConfiguration(lo)&&ae.expandOnlyOnTwistieClick===void 0&&(on=Object.assign(Object.assign({},on),{expandOnlyOnTwistieClick:mi.getValue(lo)==="doubleClick"})),Ti.affectsConfiguration(ho)){const en=mi.getValue(ho);on=Object.assign(Object.assign({},on),{mouseWheelScrollSensitivity:en})}if(Ti.affectsConfiguration(jn)){const en=mi.getValue(jn);on=Object.assign(Object.assign({},on),{fastScrollSensitivity:en})}Object.keys(on).length>0&&V.updateOptions(on)}),this.contextKeyService.onDidChangeContext(Ti=>{Ti.affectsSome(Bi)&&V.updateOptions({automaticKeyboardNavigation:Ne()})}),Ai.onDidChangeScreenReaderOptimized(()=>ln())),this.navigator=new ct(V,Object.assign({configurationService:mi},ae)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(V){V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyleOverrides(V){(0,L.B9)(this.styler),this.styler=V?(0,Ui.Jl)(this.tree,this.themeService,V):L.JT.None}dispose(){this.disposables=(0,L.B9)(this.disposables),(0,L.B9)(this.styler),this.styler=void 0}};Di=gn([Ri(4,pt.i6),Ri(5,_i),Ri(6,dn.XE),Ri(7,He.Ui),Ri(8,Et.F)],Di),Ii.B.as(nt.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ue.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[to]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,ue.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ue.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ue.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Gs]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ue.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ss]:{type:"boolean",default:!1,description:(0,ue.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[io]:{type:"number",default:8,minimum:0,maximum:40,description:(0,ue.N)("tree indent setting","Controls tree indentation in pixels.")},[Ks]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ue.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[zs]:{type:"boolean",default:!1,description:(0,ue.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ho]:{type:"number",default:1,description:(0,ue.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[jn]:{type:"number",default:5,description:(0,ue.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Rs]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ue.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ue.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ue.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ue.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[Hs]:{type:"boolean",default:!0,markdownDescription:(0,ue.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[lo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ue.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},43557:function(ti,Ge,c){"use strict";c.d(Ge,{$V:function(){return s},VZ:function(){return P},in:function(){return L},kw:function(){return W}});var D=c(4669),O=c(5976),Q=c(72065);const P=(0,Q.yh)("logService");var L;(function(T){T[T.Trace=0]="Trace",T[T.Debug=1]="Debug",T[T.Info=2]="Info",T[T.Warning=3]="Warning",T[T.Error=4]="Error",T[T.Critical=5]="Critical",T[T.Off=6]="Off"})(L||(L={}));const J=L.Info;class R extends O.JT{constructor(){super(...arguments),this.level=J,this._onDidChangeLogLevel=this._register(new D.Q5)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class W extends R{constructor(g=J){super(),this.setLevel(g)}trace(g,...E){this.getLevel()<=L.Trace&&console.log("%cTRACE","color: #888",g,...E)}debug(g,...E){this.getLevel()<=L.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...E)}info(g,...E){this.getLevel()<=L.Info&&console.log("%c INFO","color: #33f",g,...E)}error(g,...E){this.getLevel()<=L.Error&&console.log("%c  ERR","color: #f33",g,...E)}dispose(){}}class s extends O.JT{constructor(g){super(),this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...E){this.logger.trace(g,...E)}debug(g,...E){this.logger.debug(g,...E)}info(g,...E){this.logger.info(g,...E)}error(g,...E){this.logger.error(g,...E)}}},98674:function(ti,Ge,c){"use strict";c.d(Ge,{H0:function(){return L},ZL:function(){return P},lT:function(){return J}});var D=c(14603),O=c(63580),Q=c(72065),P;(function(R){R[R.Hint=1]="Hint",R[R.Info=2]="Info",R[R.Warning=4]="Warning",R[R.Error=8]="Error"})(P||(P={})),function(R){function W(H,r){return r-H}R.compare=W;const s=Object.create(null);s[R.Error]=(0,O.N)("sev.error","Error"),s[R.Warning]=(0,O.N)("sev.warning","Warning"),s[R.Info]=(0,O.N)("sev.info","Info");function T(H){return s[H]||""}R.toString=T;function g(H){switch(H){case D.Z.Error:return R.Error;case D.Z.Warning:return R.Warning;case D.Z.Info:return R.Info;case D.Z.Ignore:return R.Hint}}R.fromSeverity=g;function E(H){switch(H){case R.Error:return D.Z.Error;case R.Warning:return D.Z.Warning;case R.Info:return D.Z.Info;case R.Hint:return D.Z.Ignore}}R.toSeverity=E}(P||(P={}));var L;(function(R){const W="";function s(g){return T(g,!0)}R.makeKey=s;function T(g,E){let H=[W];return g.source?H.push(g.source.replace("\xA6","\\\xA6")):H.push(W),g.code?typeof g.code=="string"?H.push(g.code.replace("\xA6","\\\xA6")):H.push(g.code.value.replace("\xA6","\\\xA6")):H.push(W),g.severity!==void 0&&g.severity!==null?H.push(P.toString(g.severity)):H.push(W),g.message&&E?H.push(g.message.replace("\xA6","\\\xA6")):H.push(W),g.startLineNumber!==void 0&&g.startLineNumber!==null?H.push(g.startLineNumber.toString()):H.push(W),g.startColumn!==void 0&&g.startColumn!==null?H.push(g.startColumn.toString()):H.push(W),g.endLineNumber!==void 0&&g.endLineNumber!==null?H.push(g.endLineNumber.toString()):H.push(W),g.endColumn!==void 0&&g.endColumn!==null?H.push(g.endColumn.toString()):H.push(W),H.push(W),H.join("\xA6")}R.makeKeyOptionalMessage=T})(L||(L={}));const J=(0,Q.yh)("markerService")},48894:function(ti,Ge,c){"use strict";c.d(Ge,{EO:function(){return L},lT:function(){return P}});var D=c(14603),O=c(72065),Q=null;const P=(0,O.yh)("notificationService");class L{}},50988:function(ti,Ge,c){"use strict";c.d(Ge,{SW:function(){return R},v4:function(){return J},xn:function(){return W}});var D=c(5976),O=c(97295),Q=c(70666),P=c(72065),L=function(s,T,g,E){function H(r){return r instanceof g?r:new g(function(N){N(r)})}return new(g||(g=Promise))(function(r,N){function C(_){try{f(E.next(_))}catch(S){N(S)}}function x(_){try{f(E.throw(_))}catch(S){N(S)}}function f(_){_.done?r(_.value):H(_.value).then(C,x)}f((E=E.apply(s,T||[])).next())})};const J=(0,P.yh)("openerService"),R=Object.freeze({_serviceBrand:void 0,registerOpener(){return D.JT.None},registerValidator(){return D.JT.None},registerExternalUriResolver(){return D.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return D.JT.None},open(){return L(this,void 0,void 0,function*(){return!1})},resolveExternalUri(s){return L(this,void 0,void 0,function*(){return{resolved:s,dispose(){}}})}});function W(s,T){return Q.o.isUri(s)?(0,O.qq)(s.scheme,T):(0,O.ok)(s,T+":")}},90535:function(ti,Ge,c){"use strict";c.d(Ge,{E:function(){return O},e:function(){return Q}});var D=c(72065);class O{constructor(L){this.callback=L}report(L){this._value=L,this.callback(this._value)}}O.None=Object.freeze({report(){}});const Q=(0,D.yh)("editorProgressService")},89872:function(ti,Ge,c){"use strict";c.d(Ge,{B:function(){return P}});var D=c(35146),O=c(98401);class Q{constructor(){this.data=new Map}add(J,R){D.ok(O.HD(J)),D.ok(O.Kn(R)),D.ok(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,R)}as(J){return this.data.get(J)||null}}const P=new Q},87060:function(ti,Ge,c){"use strict";c.d(Ge,{Uy:function(){return g},vm:function(){return r},fk:function(){return E}});var D=c(4669),O=c(5976),Q=c(98401),P=c(15393),L=function(N,C,x,f){function _(S){return S instanceof x?S:new x(function(h){h(S)})}return new(x||(x=Promise))(function(S,h){function y(j){try{B(f.next(j))}catch(te){h(te)}}function v(j){try{B(f.throw(j))}catch(te){h(te)}}function B(j){j.done?S(j.value):_(j.value).then(y,v)}B((f=f.apply(N,C||[])).next())})},J;(function(N){N[N.None=0]="None",N[N.Initialized=1]="Initialized",N[N.Closed=2]="Closed"})(J||(J={}));class R extends O.JT{constructor(C,x=Object.create(null)){super(),this.database=C,this.options=x,this._onDidChangeStorage=this._register(new D.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=J.None,this.cache=new Map,this.flushDelayer=new P.rH(R.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(C=>this.onDidChangeItemsExternal(C)))}onDidChangeItemsExternal(C){var x,f;(x=C.changed)===null||x===void 0||x.forEach((_,S)=>this.accept(S,_)),(f=C.deleted)===null||f===void 0||f.forEach(_=>this.accept(_,void 0))}accept(C,x){if(this.state===J.Closed)return;let f=!1;(0,Q.Jp)(x)?f=this.cache.delete(C):this.cache.get(C)!==x&&(this.cache.set(C,x),f=!0),f&&this._onDidChangeStorage.fire(C)}get(C,x){const f=this.cache.get(C);return(0,Q.Jp)(f)?x:f}getBoolean(C,x){const f=this.get(C);return(0,Q.Jp)(f)?x:f==="true"}getNumber(C,x){const f=this.get(C);return(0,Q.Jp)(f)?x:parseInt(f,10)}set(C,x){return L(this,void 0,void 0,function*(){if(this.state===J.Closed)return;if((0,Q.Jp)(x))return this.delete(C);const f=String(x);if(this.cache.get(C)!==f)return this.cache.set(C,f),this.pendingInserts.set(C,f),this.pendingDeletes.delete(C),this._onDidChangeStorage.fire(C),this.flushDelayer.trigger(()=>this.flushPending())})}delete(C){return L(this,void 0,void 0,function*(){if(!(this.state===J.Closed||!this.cache.delete(C)))return this.pendingDeletes.has(C)||this.pendingDeletes.add(C),this.pendingInserts.delete(C),this._onDidChangeStorage.fire(C),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return L(this,void 0,void 0,function*(){if(!this.hasPending)return;const C={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(C).finally(()=>{var x;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(x=this.whenFlushedCallbacks.pop())===null||x===void 0||x()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}R.DEFAULT_FLUSH_DELAY=100;class W{constructor(){this.onDidChangeItemsExternal=D.ju.None,this.items=new Map}updateItems(C){return L(this,void 0,void 0,function*(){C.insert&&C.insert.forEach((x,f)=>this.items.set(f,x)),C.delete&&C.delete.forEach(x=>this.items.delete(x))})}}var s=c(72065);const T="__$__targetStorageMarker",g=(0,s.yh)("storageService");var E;(function(N){N[N.NONE=0]="NONE",N[N.SHUTDOWN=1]="SHUTDOWN"})(E||(E={}));class H extends O.JT{constructor(C={flushInterval:H.DEFAULT_FLUSH_INTERVAL}){super(),this.options=C,this._onDidChangeValue=this._register(new D.K3),this._onDidChangeTarget=this._register(new D.K3),this._onWillSaveState=this._register(new D.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(C,x){x===T?(C===0?this._globalKeyTargets=void 0:C===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:C})):this._onDidChangeValue.fire({scope:C,key:x,target:this.getKeyTargets(C)[x]})}get(C,x,f){var _;return(_=this.getStorage(x))===null||_===void 0?void 0:_.get(C,f)}getBoolean(C,x,f){var _;return(_=this.getStorage(x))===null||_===void 0?void 0:_.getBoolean(C,f)}getNumber(C,x,f){var _;return(_=this.getStorage(x))===null||_===void 0?void 0:_.getNumber(C,f)}store(C,x,f,_){if((0,Q.Jp)(x)){this.remove(C,f);return}this.withPausedEmitters(()=>{var S;this.updateKeyTarget(C,f,_),(S=this.getStorage(f))===null||S===void 0||S.set(C,x)})}remove(C,x){this.withPausedEmitters(()=>{var f;this.updateKeyTarget(C,x,void 0),(f=this.getStorage(x))===null||f===void 0||f.delete(C)})}withPausedEmitters(C){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{C()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(C,x,f){var _,S;const h=this.getKeyTargets(x);typeof f=="number"?h[C]!==f&&(h[C]=f,(_=this.getStorage(x))===null||_===void 0||_.set(T,JSON.stringify(h))):typeof h[C]=="number"&&(delete h[C],(S=this.getStorage(x))===null||S===void 0||S.set(T,JSON.stringify(h)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(C){return C===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(C){const x=this.get(T,C);if(x)try{return JSON.parse(x)}catch(f){}return Object.create(null)}}H.DEFAULT_FLUSH_INTERVAL=60*1e3;class r extends H{constructor(){super(),this.globalStorage=this._register(new R(new W)),this.workspaceStorage=this._register(new R(new W)),this._register(this.workspaceStorage.onDidChangeStorage(C=>this.emitDidChangeValue(1,C))),this._register(this.globalStorage.onDidChangeStorage(C=>this.emitDidChangeValue(0,C)))}getStorage(C){return C===0?this.globalStorage:this.workspaceStorage}}},10829:function(ti,Ge,c){"use strict";c.d(Ge,{b:function(){return O}});var D=c(72065);const O=(0,D.yh)("telemetryService")},73910:function(ti,Ge,c){"use strict";c.d(Ge,{$D:function(){return Ys},$d:function(){return cs},A2:function(){return Je},AB:function(){return mt},AS:function(){return oo},AW:function(){return Rn},BO:function(){return $t},C3:function(){return $},CA:function(){return ae},CN:function(){return ai},Cd:function(){return ts},Cz:function(){return nt},D0:function(){return qt},D1:function(){return ii},DE:function(){return Un},Du:function(){return ye},E3:function(){return xs},EP:function(){return Ee},ES:function(){return An},Ei:function(){return Qe},F3:function(){return Co},Fm:function(){return Gt},Fu:function(){return Et},GO:function(){return ue},Gj:function(){return Di},Gw:function(){return to},Hf:function(){return Ci},Hz:function(){return Zs},I1:function(){return gt},IP:function(){return W},Id:function(){return H},It:function(){return V},Iv:function(){return Pn},Jp:function(){return bt},K1:function(){return zi},KT:function(){return li},LL:function(){return Ii},L_:function(){return Ui},Lo:function(){return Si},M6:function(){return hn},MU:function(){return $e},NO:function(){return Pt},NP:function(){return ho},Ng:function(){return At},OL:function(){return ni},OZ:function(){return m},Oo:function(){return Ri},P4:function(){return oi},P6:function(){return g},PR:function(){return j},PX:function(){return Gs},Pk:function(){return ct},Pv:function(){return ce},R8:function(){return N},RV:function(){return le},Rz:function(){return $i},S:function(){return Hs},SU:function(){return Y},Sb:function(){return Yt},Sn:function(){return en},Sw:function(){return S},T8:function(){return Pe},Tn:function(){return wn},U6:function(){return Bt},Un:function(){return io},Vq:function(){return lo},XE:function(){return te},XL:function(){return Hi},XZ:function(){return r},Xy:function(){return Ne},YI:function(){return Ce},ZG:function(){return Xs},Zn:function(){return Bi},_2:function(){return gn},_Y:function(){return qi},_b:function(){return dn},_l:function(){return _e},_t:function(){return ee},_w:function(){return rt},b6:function(){return ge},b7:function(){return pe},br:function(){return qe},c6:function(){return Ie},cb:function(){return jn},cv:function(){return st},dC:function(){return _i},dR:function(){return E},dt:function(){return B},et:function(){return Rt},fE:function(){return Xe},fe:function(){return lt},g8:function(){return ke},gk:function(){return tt},gp:function(){return Re},hE:function(){return as},j5:function(){return ie},jU:function(){return It},jb:function(){return Xn},kJ:function(){return at},kV:function(){return kt},ke:function(){return pt},kv:function(){return Yn},kw:function(){return ln},lR:function(){return C},lU:function(){return pi},lW:function(){return Wi},lX:function(){return Ae},lo:function(){return je},mH:function(){return vi},mV:function(){return Vs},ny:function(){return sn},oQ:function(){return fi},oS:function(){return Rs},op:function(){return Ni},ov:function(){return ki},p:function(){return G},pW:function(){return dt},pn:function(){return xt},pt:function(){return Nt},qe:function(){return Te},rg:function(){return Qn},rh:function(){return h},s$:function(){return Ts},sE:function(){return y},sK:function(){return He},sg:function(){return _},tZ:function(){return ci},u2:function(){return me},uo:function(){return ot},ur:function(){return f},ux:function(){return Ks},vG:function(){return Ss},xL:function(){return x},yJ:function(){return Tt},yb:function(){return Fn},yn:function(){return Mt},yp:function(){return ft},yt:function(){return os},zJ:function(){return v},zK:function(){return Qi},zR:function(){return it}});var D=c(15393),O=c(41264),Q=c(4669),P=c(98401),L=c(63580),J=c(81294),R=c(89872);const W={ColorContribution:"base.contributions.colors"};class s{constructor(){this._onDidChangeSchema=new Q.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Kt,ve,Me,Ue=!1,vt){let yt={id:Kt,description:Me,defaults:ve,needsTransparency:Ue,deprecationMessage:vt};this.colorsById[Kt]=yt;let si={type:"string",description:Me,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return vt&&(si.deprecationMessage=vt),this.colorSchema.properties[Kt]=si,this.colorReferenceSchema.enum.push(Kt),this.colorReferenceSchema.enumDescriptions.push(Me),this._onDidChangeSchema.fire(),Kt}resolveDefaultColor(Kt,ve){const Me=this.colorsById[Kt];if(Me&&Me.defaults){const Ue=Me.defaults[ve.type];return en(Ue,ve)}}getColorSchema(){return this.colorSchema}toString(){let Kt=(ve,Me)=>{let Ue=ve.indexOf(".")===-1?0:1,vt=Me.indexOf(".")===-1?0:1;return Ue!==vt?Ue-vt:ve.localeCompare(Me)};return Object.keys(this.colorsById).sort(Kt).map(ve=>`- \`${ve}\`: ${this.colorsById[ve].description}`).join(`
`)}}const T=new s;R.B.add(W.ColorContribution,T);function g(Cn,Kt,ve,Me,Ue){return T.registerColor(Cn,Kt,ve,Me,Ue)}const E=g("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},L.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),H=g("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},L.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),r=g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},L.N("iconForeground","The default color for icons in the workbench.")),N=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},L.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),C=g("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},L.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),x=g("contrastActiveBorder",{light:null,dark:null,hc:N},L.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),f=g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L.N("textLinkForeground","Foreground color for links in text.")),_=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),S=g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:O.Il.black},L.N("textCodeBlockBackground","Background color for code blocks in text.")),h=g("widget.shadow",{dark:Bi(O.Il.black,.36),light:Bi(O.Il.black,.16),hc:null},L.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),y=g("input.background",{dark:"#3C3C3C",light:O.Il.white,hc:O.Il.black},L.N("inputBoxBackground","Input box background.")),v=g("input.foreground",{dark:E,light:E,hc:E},L.N("inputBoxForeground","Input box foreground.")),B=g("input.border",{dark:null,light:null,hc:C},L.N("inputBoxBorder","Input box border.")),j=g("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:C},L.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),te=g("inputOption.activeBackground",{dark:Bi(N,.4),light:Bi(N,.2),hc:O.Il.transparent},L.N("inputOption.activeBackground","Background color of activated options in input fields.")),ce=g("inputOption.activeForeground",{dark:O.Il.white,light:O.Il.black,hc:null},L.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),_e=g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:O.Il.black},L.N("inputValidationInfoBackground","Input validation background color for information severity.")),Ce=g("inputValidation.infoForeground",{dark:null,light:null,hc:null},L.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ee=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:C},L.N("inputValidationInfoBorder","Input validation border color for information severity.")),le=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:O.Il.black},L.N("inputValidationWarningBackground","Input validation background color for warning severity.")),Y=g("inputValidation.warningForeground",{dark:null,light:null,hc:null},L.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),$=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:C},L.N("inputValidationWarningBorder","Input validation border color for warning severity.")),G=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:O.Il.black},L.N("inputValidationErrorBackground","Input validation background color for error severity.")),ee=g("inputValidation.errorForeground",{dark:null,light:null,hc:null},L.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),m=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:C},L.N("inputValidationErrorBorder","Input validation border color for error severity.")),w=g("dropdown.background",{dark:"#3C3C3C",light:O.Il.white,hc:O.Il.black},L.N("dropdownBackground","Dropdown background.")),F=g("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:O.Il.white},L.N("dropdownForeground","Dropdown foreground.")),ie=g("button.foreground",{dark:O.Il.white,light:O.Il.white,hc:O.Il.white},L.N("buttonForeground","Button foreground color.")),pe=g("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},L.N("buttonBackground","Button background color.")),ue=g("button.hoverBackground",{dark:Ei(pe,.2),light:Ai(pe,.2),hc:null},L.N("buttonHoverBackground","Button background color when hovering.")),ke=g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:O.Il.black},L.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Te=g("badge.foreground",{dark:O.Il.white,light:"#333",hc:O.Il.white},L.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),rt=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},L.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Rt=g("scrollbarSlider.background",{dark:O.Il.fromHex("#797979").transparent(.4),light:O.Il.fromHex("#646464").transparent(.4),hc:Bi(C,.6)},L.N("scrollbarSliderBackground","Scrollbar slider background color.")),mt=g("scrollbarSlider.hoverBackground",{dark:O.Il.fromHex("#646464").transparent(.7),light:O.Il.fromHex("#646464").transparent(.7),hc:Bi(C,.8)},L.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Mt=g("scrollbarSlider.activeBackground",{dark:O.Il.fromHex("#BFBFBF").transparent(.4),light:O.Il.fromHex("#000000").transparent(.6),hc:C},L.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),it=g("progressBar.background",{dark:O.Il.fromHex("#0E70C0"),light:O.Il.fromHex("#0E70C0"),hc:C},L.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Je=g("editorError.background",{dark:null,light:null,hc:null},L.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=g("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},L.N("editorError.foreground","Foreground color of error squigglies in the editor.")),ge=g("editorError.border",{dark:null,light:null,hc:O.Il.fromHex("#E47777").transparent(.8)},L.N("errorBorder","Border color of error boxes in the editor.")),Re=g("editorWarning.background",{dark:null,light:null,hc:null},L.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ot=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},L.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),dt=g("editorWarning.border",{dark:null,light:null,hc:O.Il.fromHex("#FFCC00").transparent(.8)},L.N("warningBorder","Border color of warning boxes in the editor.")),lt=g("editorInfo.background",{dark:null,light:null,hc:null},L.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ie=g("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},L.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Pe=g("editorInfo.border",{dark:null,light:null,hc:O.Il.fromHex("#3794FF").transparent(.8)},L.N("infoBorder","Border color of info boxes in the editor.")),ye=g("editorHint.foreground",{dark:O.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},L.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Xe=g("editorHint.border",{dark:null,light:null,hc:O.Il.fromHex("#eeeeee").transparent(.8)},L.N("hintBorder","Border color of hint boxes in the editor.")),st=g("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:O.Il.black},L.N("editorBackground","Editor background color.")),Pt=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:O.Il.white},L.N("editorForeground","Editor default foreground color.")),qt=g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},L.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Ci=g("editorWidget.foreground",{dark:E,light:E,hc:E},L.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),ii=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:C},L.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),At=g("editorWidget.resizeBorder",{light:null,dark:null,hc:null},L.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Qi=g("quickInput.background",{dark:qt,light:qt,hc:qt},L.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),ci=g("quickInput.foreground",{dark:Ci,light:Ci,hc:Ci},L.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),je=g("quickInputTitle.background",{dark:new O.Il(new O.VS(255,255,255,.105)),light:new O.Il(new O.VS(0,0,0,.06)),hc:"#000000"},L.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),at=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:O.Il.white},L.N("pickerGroupForeground","Quick picker color for grouping labels.")),Ni=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:O.Il.white},L.N("pickerGroupBorder","Quick picker color for grouping borders.")),fi=g("keybindingLabel.background",{dark:new O.Il(new O.VS(128,128,128,.17)),light:new O.Il(new O.VS(221,221,221,.4)),hc:O.Il.transparent},L.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Wi=g("keybindingLabel.foreground",{dark:O.Il.fromHex("#CCCCCC"),light:O.Il.fromHex("#555555"),hc:O.Il.white},L.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Rn=g("keybindingLabel.border",{dark:new O.Il(new O.VS(51,51,51,.6)),light:new O.Il(new O.VS(204,204,204,.4)),hc:new O.Il(new O.VS(111,195,223))},L.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),zi=g("keybindingLabel.bottomBorder",{dark:new O.Il(new O.VS(68,68,68,.6)),light:new O.Il(new O.VS(187,187,187,.4)),hc:new O.Il(new O.VS(111,195,223))},L.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),as=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},L.N("editorSelectionBackground","Color of the editor selection.")),Fn=g("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},L.N("editorSelectionForeground","Color of the selected text for high contrast.")),An=g("editor.inactiveSelectionBackground",{light:Bi(as,.5),dark:Bi(as,.5),hc:Bi(as,.5)},L.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),$i=g("editor.selectionHighlightBackground",{light:on(as,st,.3,.6),dark:on(as,st,.3,.6),hc:null},L.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Nn=g("editor.selectionHighlightBorder",{light:null,dark:null,hc:x},L.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),sn=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},L.N("editorFindMatch","Color of the current search match.")),$e=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},L.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),It=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},L.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),xt=g("editor.findMatchBorder",{light:null,dark:null,hc:x},L.N("editorFindMatchBorder","Border color of the current search match.")),Qe=g("editor.findMatchHighlightBorder",{light:null,dark:null,hc:x},L.N("findMatchHighlightBorder","Border color of the other search matches.")),tt=g("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Bi(x,.4)},L.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Nt=g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},L.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=g("editorHoverWidget.background",{light:qt,dark:qt,hc:qt},L.N("hoverBackground","Background color of the editor hover.")),Yt=g("editorHoverWidget.foreground",{light:Ci,dark:Ci,hc:Ci},L.N("hoverForeground","Foreground color of the editor hover.")),ai=g("editorHoverWidget.border",{light:ii,dark:ii,hc:ii},L.N("hoverBorder","Border color of the editor hover.")),Si=g("editorHoverWidget.statusBarBackground",{dark:Ei(Tt,.2),light:Ai(Tt,.05),hc:qt},L.N("statusBarBackground","Background color of the editor hover status bar.")),qi=g("editorLink.activeForeground",{dark:"#4E94CE",light:O.Il.blue,hc:O.Il.cyan},L.N("activeLinkForeground","Color of active links.")),ji=g("editorInlayHint.foreground",{dark:Bi(Te,.8),light:Bi(Te,.8),hc:Te},L.N("editorInlayHintForeground","Foreground color of inline hints")),Zn=g("editorInlayHint.background",{dark:Bi(ke,.6),light:Bi(ke,.3),hc:ke},L.N("editorInlayHintBackground","Background color of inline hints")),Vi=g("editorInlayHint.typeForeground",{dark:ji,light:ji,hc:ji},L.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Xi=g("editorInlayHint.typeBackground",{dark:Zn,light:Zn,hc:Zn},L.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),wt=g("editorInlayHint.parameterForeground",{dark:ji,light:ji,hc:ji},L.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ht=g("editorInlayHint.parameterBackground",{dark:Zn,light:Zn,hc:Zn},L.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Et=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},L.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),He=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),nt=new O.Il(new O.VS(155,185,85,.2)),pt=new O.Il(new O.VS(255,0,0,.2)),ft=g("diffEditor.insertedTextBackground",{dark:nt,light:nt,hc:null},L.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),oi=g("diffEditor.removedTextBackground",{dark:pt,light:pt,hc:null},L.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Hi=g("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},L.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),vi=g("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},L.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Ii=g("diffEditor.border",{dark:null,light:null,hc:C},L.N("diffEditorBorder","Border color between the two text editors.")),Ui=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},L.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),dn=g("list.focusBackground",{dark:null,light:null,hc:null},L.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gn=g("list.focusForeground",{dark:null,light:null,hc:null},L.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ri=g("list.focusOutline",{dark:N,light:N,hc:x},L.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_i=g("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},L.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hn=g("list.activeSelectionForeground",{dark:O.Il.white,light:O.Il.white,hc:null},L.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),wn=g("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},L.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qn=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},L.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),os=g("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},L.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yn=g("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},L.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ts=g("list.inactiveFocusBackground",{dark:null,light:null,hc:null},L.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Co=g("list.inactiveFocusOutline",{dark:null,light:null,hc:null},L.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Vs=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},L.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),cs=g("list.hoverForeground",{dark:null,light:null,hc:null},L.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),oo=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},L.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),to=g("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:N},L.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Gs=g("list.focusHighlightForeground",{dark:to,light:Ti(_i,to,"#9DDDFF"),hc:to},L.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Ss=g("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:O.Il.black},L.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Rs=g("listFilterWidget.outline",{dark:O.Il.transparent,light:O.Il.transparent,hc:"#f38518"},L.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Hs=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:C},L.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),io=g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},L.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ks=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},L.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),zs=g("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,L.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),ho=g("quickInputList.focusForeground",{dark:hn,light:hn,hc:hn},L.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),jn=g("quickInputList.focusIconForeground",{dark:wn,light:wn,hc:wn},L.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),lo=g("quickInputList.focusBackground",{dark:ln(zs,_i),light:ln(zs,_i),hc:null},L.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),ts=g("menu.border",{dark:null,light:null,hc:C},L.N("menuBorder","Border color of menus.")),Un=g("menu.foreground",{dark:F,light:E,hc:F},L.N("menuForeground","Foreground color of menu items.")),Zs=g("menu.background",{dark:w,light:w,hc:w},L.N("menuBackground","Background color of menu items.")),Xn=g("menu.selectionForeground",{dark:hn,light:hn,hc:hn},L.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Ys=g("menu.selectionBackground",{dark:_i,light:_i,hc:_i},L.N("menuSelectionBackground","Background color of the selected menu item in menus.")),xs=g("menu.selectionBorder",{dark:null,light:null,hc:x},L.N("menuSelectionBorder","Border color of the selected menu item in menus.")),Xs=g("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:C},L.N("menuSeparatorBackground","Color of a separator menu item in menus.")),pi=g("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},L.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),me=g("editor.snippetTabstopHighlightBackground",{dark:new O.Il(new O.VS(124,124,124,.3)),light:new O.Il(new O.VS(10,50,100,.2)),hc:new O.Il(new O.VS(124,124,124,.3))},L.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),ct=g("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},L.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),gt=g("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},L.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Bt=g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new O.Il(new O.VS(10,50,100,.5)),hc:"#525252"},L.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Gt=g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},L.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),bi=g("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},L.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),li=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},L.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ei=g("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},L.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),ki=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},L.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Di=g("minimap.errorHighlight",{dark:new O.Il(new O.VS(255,18,18,.7)),light:new O.Il(new O.VS(255,18,18,.7)),hc:new O.Il(new O.VS(255,50,50,1))},L.N("minimapError","Minimap marker color for errors.")),Pn=g("minimap.warningHighlight",{dark:ot,light:ot,hc:dt},L.N("overviewRuleWarning","Minimap marker color for warnings.")),kt=g("minimap.background",{dark:null,light:null,hc:null},L.N("minimapBackground","Minimap background color.")),V=g("minimap.foregroundOpacity",{dark:O.Il.fromHex("#000f"),light:O.Il.fromHex("#000f"),hc:O.Il.fromHex("#000f")},L.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),ae=g("minimapSlider.background",{light:Bi(Rt,.5),dark:Bi(Rt,.5),hc:Bi(Rt,.5)},L.N("minimapSliderBackground","Minimap slider background color.")),Ne=g("minimapSlider.hoverBackground",{light:Bi(mt,.5),dark:Bi(mt,.5),hc:Bi(mt,.5)},L.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),qe=g("minimapSlider.activeBackground",{light:Bi(Mt,.5),dark:Bi(Mt,.5),hc:Bi(Mt,.5)},L.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),bt=g("problemsErrorIcon.foreground",{dark:Ae,light:Ae,hc:Ae},L.N("problemsErrorIconForeground","The color used for the problems error icon.")),$t=g("problemsWarningIcon.foreground",{dark:ot,light:ot,hc:ot},L.N("problemsWarningIconForeground","The color used for the problems warning icon.")),ni=g("problemsInfoIcon.foreground",{dark:Ie,light:Ie,hc:Ie},L.N("problemsInfoIconForeground","The color used for the problems info icon."));function mi(Cn,Kt){var ve,Me,Ue;switch(Cn.op){case 0:return(ve=en(Cn.value,Kt))===null||ve===void 0?void 0:ve.darken(Cn.factor);case 1:return(Me=en(Cn.value,Kt))===null||Me===void 0?void 0:Me.lighten(Cn.factor);case 2:return(Ue=en(Cn.value,Kt))===null||Ue===void 0?void 0:Ue.transparent(Cn.factor);case 3:for(const si of Cn.values){const Jt=en(si,Kt);if(Jt)return Jt}return;case 5:return en(Kt.defines(Cn.if)?Cn.then:Cn.else,Kt);case 4:const vt=en(Cn.value,Kt);if(!vt)return;const yt=en(Cn.background,Kt);return yt?vt.isDarkerThan(yt)?O.Il.getLighterColor(vt,yt,Cn.factor).transparent(Cn.transparency):O.Il.getDarkerColor(vt,yt,Cn.factor).transparent(Cn.transparency):vt.transparent(Cn.factor*Cn.transparency);default:throw(0,P.vE)(Cn)}}function Ai(Cn,Kt){return{op:0,value:Cn,factor:Kt}}function Ei(Cn,Kt){return{op:1,value:Cn,factor:Kt}}function Bi(Cn,Kt){return{op:2,value:Cn,factor:Kt}}function ln(...Cn){return{op:3,values:Cn}}function Ti(Cn,Kt,ve){return{op:5,if:Cn,then:Kt,else:ve}}function on(Cn,Kt,ve,Me){return{op:4,value:Cn,background:Kt,factor:ve,transparency:Me}}function en(Cn,Kt){if(Cn!==null){if(typeof Cn=="string")return Cn[0]==="#"?O.Il.fromHex(Cn):Kt.getColor(Cn);if(Cn instanceof O.Il)return Cn;if(typeof Cn=="object")return mi(Cn,Kt)}}const pn="vscode://schemas/workbench-colors";let $n=R.B.as(J.I.JSONContribution);$n.registerSchema(pn,T.getColorSchema());const Ds=new D.pY(()=>$n.notifySchemaChanged(pn),200);T.onDidChangeSchema(()=>{Ds.isScheduled()||Ds.schedule()})},59554:function(ti,Ge,c){"use strict";c.d(Ge,{Ks:function(){return E},q5:function(){return g},s_:function(){return x}});var D=c(15393),O=c(73046),Q=c(4669),P=c(63580),L=c(81294),J=c(89872),R=c(97781);const W={IconContribution:"base.contributions.icons"};class s{constructor(){this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,P.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,P.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${O.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(_,S,h,y){const v=this.iconsById[_];if(v){if(h&&!v.description){v.description=h,this.iconSchema.properties[_].markdownDescription=`${h} $(${_})`;const te=this.iconReferenceSchema.enum.indexOf(_);te!==-1&&(this.iconReferenceSchema.enumDescriptions[te]=h),this._onDidChange.fire()}return v}let B={id:_,description:h,defaults:S,deprecationMessage:y};this.iconsById[_]=B;let j={$ref:"#/definitions/icons"};return y&&(j.deprecationMessage=y),h&&(j.markdownDescription=`${h}: $(${_})`),this.iconSchema.properties[_]=j,this.iconReferenceSchema.enum.push(_),this.iconReferenceSchema.enumDescriptions.push(h||""),this._onDidChange.fire(),{id:_}}getIcons(){return Object.keys(this.iconsById).map(_=>this.iconsById[_])}getIcon(_){return this.iconsById[_]}getIconSchema(){return this.iconSchema}getIconFont(_){return this.iconFontsById[_]}toString(){const _=(v,B)=>v.id.localeCompare(B.id),S=v=>{for(;R.kS.isThemeIcon(v.defaults);)v=this.iconsById[v.defaults.id];return`codicon codicon-${v?v.id:""}`};let h=[];h.push("| preview     | identifier                        | default codicon ID                | description"),h.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const y=Object.keys(this.iconsById).map(v=>this.iconsById[v]);for(const v of y.filter(B=>!!B.description).sort(_))h.push(`|<i class="${S(v)}"></i>|${v.id}|${R.kS.isThemeIcon(v.defaults)?v.defaults.id:v.id}|${v.description||""}|`);h.push("| preview     | identifier                        "),h.push("| ----------- | --------------------------------- |");for(const v of y.filter(B=>!R.kS.isThemeIcon(B.defaults)).sort(_))h.push(`|<i class="${S(v)}"></i>|${v.id}|`);return h.join(`
`)}}const T=new s;J.B.add(W.IconContribution,T);function g(f,_,S,h){return T.registerIcon(f,_,S,h)}function E(){return T}function H(){for(const f of O.fK.all)T.registerIcon(f.id,f.definition,f.description);O.fK.onDidRegister(f=>T.registerIcon(f.id,f.definition,f.description))}H();const r="vscode://schemas/icons";let N=J.B.as(L.I.JSONContribution);N.registerSchema(r,T.getIconSchema());const C=new D.pY(()=>N.notifySchemaChanged(r),200);T.onDidChange(()=>{C.isScheduled()||C.schedule()});const x=g("widget-close",O.lA.close,(0,P.N)("widgetClose","Icon for the close action in widgets."))},88810:function(ti,Ge,c){"use strict";c.d(Ge,{Jl:function(){return L},O2:function(){return J},WZ:function(){return P},o:function(){return O},tj:function(){return W}});var D=c(73910);function O(s,T){const g=Object.create(null);for(let E in T){const H=T[E];H&&(g[E]=(0,D.Sn)(H,s))}return g}function Q(s,T,g){function E(){const H=O(s.getColorTheme(),T);typeof g=="function"?g(H):g.style(H)}return E(),s.onDidColorThemeChange(E)}function P(s,T,g){return Q(T,{badgeBackground:(g==null?void 0:g.badgeBackground)||D.g8,badgeForeground:(g==null?void 0:g.badgeForeground)||D.qe,badgeBorder:D.lR},s)}function L(s,T,g){return Q(T,Object.assign(Object.assign({},J),g||{}),s)}const J={listFocusBackground:D._b,listFocusForeground:D._2,listFocusOutline:D.Oo,listActiveSelectionBackground:D.dC,listActiveSelectionForeground:D.M6,listActiveSelectionIconForeground:D.Tn,listFocusAndSelectionBackground:D.dC,listFocusAndSelectionForeground:D.M6,listInactiveSelectionBackground:D.rg,listInactiveSelectionIconForeground:D.kv,listInactiveSelectionForeground:D.yt,listInactiveFocusBackground:D.s$,listInactiveFocusOutline:D.F3,listHoverBackground:D.mV,listHoverForeground:D.$d,listDropBackground:D.AS,listSelectionOutline:D.xL,listHoverOutline:D.xL,listFilterWidgetBackground:D.vG,listFilterWidgetOutline:D.oS,listFilterWidgetNoMatchesOutline:D.S,listMatchesShadow:D.rh,treeIndentGuidesStroke:D.Un,tableColumnsBorder:D.ux},R={shadowColor:D.rh,borderColor:D.Cd,foregroundColor:D.DE,backgroundColor:D.Hz,selectionForegroundColor:D.jb,selectionBackgroundColor:D.$D,selectionBorderColor:D.E3,separatorColor:D.ZG};function W(s,T,g){return Q(T,Object.assign(Object.assign({},R),g),s)}},92321:function(ti,Ge,c){"use strict";c.d(Ge,{e:function(){return D}});var D;(function(O){O.DARK="dark",O.LIGHT="light",O.HIGH_CONTRAST="hc"})(D||(D={}))},97781:function(ti,Ge,c){"use strict";c.d(Ge,{EN:function(){return s},IP:function(){return E},Ic:function(){return N},XE:function(){return R},bB:function(){return C},kS:function(){return T},m6:function(){return g}});var D=c(73046),O=c(4669),Q=c(5976),P=c(72065),L=c(89872),J=c(92321);const R=(0,P.yh)("themeService");var W;(function(x){function f(_){return _&&typeof _=="object"&&typeof _.id=="string"}x.isThemeColor=f})(W||(W={}));function s(x){return{id:x}}var T;(function(x){function f(B){return B&&typeof B=="object"&&typeof B.id=="string"&&(typeof B.color=="undefined"||W.isThemeColor(B.color))}x.isThemeIcon=f;const _=new RegExp(`^\\$\\((${D.dT.iconNameExpression}(?:${D.dT.iconModifierExpression})?)\\)$`);function S(B){const j=_.exec(B);if(!j)return;let[,te]=j;return{id:te}}x.fromString=S;function h(B,j){let te=B.id;const ce=te.lastIndexOf("~");return ce!==-1&&(te=te.substring(0,ce)),j&&(te=`${te}~${j}`),{id:te}}x.modify=h;function y(B,j){var te,ce;return B.id===j.id&&((te=B.color)===null||te===void 0?void 0:te.id)===((ce=j.color)===null||ce===void 0?void 0:ce.id)}x.isEqual=y;function v(B,j){return{id:B.id,color:j?s(j):void 0}}x.asThemeIcon=v,x.asClassNameArray=D.dT.asClassNameArray,x.asClassName=D.dT.asClassName,x.asCSSSelector=D.dT.asCSSSelector})(T||(T={}));function g(x){switch(x){case J.e.DARK:return"vs-dark";case J.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const E={ThemingContribution:"base.contributions.theming"};class H{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new O.Q5}onColorThemeChange(f){return this.themingParticipants.push(f),this.onThemingParticipantAddedEmitter.fire(f),(0,Q.OF)(()=>{const _=this.themingParticipants.indexOf(f);this.themingParticipants.splice(_,1)})}getThemingParticipants(){return this.themingParticipants}}let r=new H;L.B.add(E.ThemingContribution,r);function N(x){return r.onColorThemeChange(x)}class C extends Q.JT{constructor(f){super(),this.themeService=f,this.theme=f.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(_=>this.onThemeChange(_)))}onThemeChange(f){this.theme=f,this.updateStyles()}updateStyles(){}}},64862:function(ti,Ge,c){"use strict";c.d(Ge,{Xt:function(){return P},YO:function(){return Q},gJ:function(){return L},tJ:function(){return O}});var D=c(72065);const O=(0,D.yh)("undoRedoService");class Q{constructor(R,W){this.resource=R,this.elements=W}}class P{constructor(){this.id=P._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}P._ID=0,P.None=new P;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}L._ID=0,L.None=new L},40382:function(ti,Ge,c){"use strict";c.d(Ge,{ec:function(){return Q},md:function(){return L}});var D=c(43702),O=c(72065);const Q=(0,O.yh)("contextService");class P{constructor(R,W,s,T,g){this._id=R,this._transient=s,this._configuration=T,this._ignorePathCasing=g,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing),this.folders=W}get folders(){return this._folders}set folders(R){this._folders=R,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(R){this._configuration=R}getFolder(R){return R&&this._foldersMap.findSubstr(R.with({scheme:R.scheme,authority:R.authority,path:R.path}))||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing);for(const R of this.folders)this._foldersMap.set(R.uri,R)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class L{constructor(R,W){this.raw=W,this.uri=R.uri,this.index=R.index,this.name=R.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},85344:function(ti,Ge,c){"use strict";c.d(Ge,{Z:function(){return it}});var D=c(87462),O=c(1413),Q=c(71002),P=c(97685),L=c(4942),J=c(91),R=c(62435),W=c(61254),s=c(94184),T=c.n(s),g=c(9220),E=R.forwardRef(function(Je,Ae){var ge=Je.height,Re=Je.offsetY,ot=Je.offsetX,dt=Je.children,lt=Je.prefixCls,Ie=Je.onInnerResize,Pe=Je.innerProps,ye=Je.rtl,Xe=Je.extra,st={},Pt={display:"flex",flexDirection:"column"};if(Re!==void 0){var qt;st={height:ge,position:"relative",overflow:"hidden"},Pt=(0,O.Z)((0,O.Z)({},Pt),{},(qt={transform:"translateY(".concat(Re,"px)")},(0,L.Z)(qt,ye?"marginRight":"marginLeft",-ot),(0,L.Z)(qt,"position","absolute"),(0,L.Z)(qt,"left",0),(0,L.Z)(qt,"right",0),(0,L.Z)(qt,"top",0),qt))}return R.createElement("div",{style:st},R.createElement(g.Z,{onResize:function(ii){var At=ii.offsetHeight;At&&Ie&&Ie()}},R.createElement("div",(0,D.Z)({style:Pt,className:T()((0,L.Z)({},"".concat(lt,"-holder-inner"),lt)),ref:Ae},Pe),dt,Xe)))});E.displayName="Filler";var H=E,r=c(75164);function N(Je,Ae){var ge="touches"in Je?Je.touches[0]:Je;return ge[Ae?"pageX":"pageY"]}var C=R.forwardRef(function(Je,Ae){var ge,Re=Je.prefixCls,ot=Je.rtl,dt=Je.scrollOffset,lt=Je.scrollRange,Ie=Je.onStartMove,Pe=Je.onStopMove,ye=Je.onScroll,Xe=Je.horizontal,st=Je.spinSize,Pt=Je.containerSize,qt=Je.style,Ci=Je.thumbStyle,ii=R.useState(!1),At=(0,P.Z)(ii,2),Qi=At[0],ci=At[1],je=R.useState(null),at=(0,P.Z)(je,2),Ni=at[0],fi=at[1],Wi=R.useState(null),Rn=(0,P.Z)(Wi,2),zi=Rn[0],as=Rn[1],Fn=!ot,An=R.useRef(),$i=R.useRef(),Nn=R.useState(!1),sn=(0,P.Z)(Nn,2),$e=sn[0],It=sn[1],xt=R.useRef(),Qe=function(){clearTimeout(xt.current),It(!0),xt.current=setTimeout(function(){It(!1)},3e3)},tt=lt-Pt||0,Nt=Pt-st||0,Tt=tt>0,Yt=R.useMemo(function(){if(dt===0||tt===0)return 0;var ht=dt/tt;return ht*Nt},[dt,tt,Nt]),ai=function(Et){Et.stopPropagation(),Et.preventDefault()},Si=R.useRef({top:Yt,dragging:Qi,pageY:Ni,startTop:zi});Si.current={top:Yt,dragging:Qi,pageY:Ni,startTop:zi};var qi=function(Et){ci(!0),fi(N(Et,Xe)),as(Si.current.top),Ie(),Et.stopPropagation(),Et.preventDefault()};R.useEffect(function(){var ht=function(pt){pt.preventDefault()},Et=An.current,He=$i.current;return Et.addEventListener("touchstart",ht),He.addEventListener("touchstart",qi),function(){Et.removeEventListener("touchstart",ht),He.removeEventListener("touchstart",qi)}},[]);var ji=R.useRef();ji.current=tt;var Zn=R.useRef();Zn.current=Nt,R.useEffect(function(){if(Qi){var ht,Et=function(pt){var ft=Si.current,oi=ft.dragging,Hi=ft.pageY,vi=ft.startTop;if(r.Z.cancel(ht),oi){var Ii=N(pt,Xe)-Hi,Ui=vi;!Fn&&Xe?Ui-=Ii:Ui+=Ii;var dn=ji.current,gn=Zn.current,Ri=gn?Ui/gn:0,_i=Math.ceil(Ri*dn);_i=Math.max(_i,0),_i=Math.min(_i,dn),ht=(0,r.Z)(function(){ye(_i,Xe)})}},He=function(){ci(!1),Pe()};return window.addEventListener("mousemove",Et),window.addEventListener("touchmove",Et),window.addEventListener("mouseup",He),window.addEventListener("touchend",He),function(){window.removeEventListener("mousemove",Et),window.removeEventListener("touchmove",Et),window.removeEventListener("mouseup",He),window.removeEventListener("touchend",He),r.Z.cancel(ht)}}},[Qi]),R.useEffect(function(){Qe()},[dt]),R.useImperativeHandle(Ae,function(){return{delayHidden:Qe}});var Vi="".concat(Re,"-scrollbar"),Xi={position:"absolute",visibility:$e&&Tt?null:"hidden"},wt={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return Xe?(Xi.height=8,Xi.left=0,Xi.right=0,Xi.bottom=0,wt.height="100%",wt.width=st,Fn?wt.left=Yt:wt.right=Yt):(Xi.width=8,Xi.top=0,Xi.bottom=0,Fn?Xi.right=0:Xi.left=0,wt.width="100%",wt.height=st,wt.top=Yt),R.createElement("div",{ref:An,className:T()(Vi,(ge={},(0,L.Z)(ge,"".concat(Vi,"-horizontal"),Xe),(0,L.Z)(ge,"".concat(Vi,"-vertical"),!Xe),(0,L.Z)(ge,"".concat(Vi,"-visible"),$e),ge)),style:(0,O.Z)((0,O.Z)({},Xi),qt),onMouseDown:ai,onMouseMove:Qe},R.createElement("div",{ref:$i,className:T()("".concat(Vi,"-thumb"),(0,L.Z)({},"".concat(Vi,"-thumb-moving"),Qi)),style:(0,O.Z)((0,O.Z)({},wt),Ci),onMouseDown:qi}))}),x=C;function f(Je){var Ae=Je.children,ge=Je.setRef,Re=R.useCallback(function(ot){ge(ot)},[]);return R.cloneElement(Ae,{ref:Re})}function _(Je,Ae,ge,Re,ot,dt,lt){var Ie=lt.getKey;return Je.slice(Ae,ge+1).map(function(Pe,ye){var Xe=Ae+ye,st=dt(Pe,Xe,{style:{width:Re}}),Pt=Ie(Pe);return R.createElement(f,{key:Pt,setRef:function(Ci){return ot(Pe,Ci)}},st)})}var S=c(34203),h=c(15671),y=c(43144),v=function(){function Je(){(0,h.Z)(this,Je),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,y.Z)(Je,[{key:"set",value:function(ge,Re){this.maps[ge]=Re,this.id+=1}},{key:"get",value:function(ge){return this.maps[ge]}}]),Je}(),B=v;function j(Je,Ae,ge){var Re=R.useState(0),ot=(0,P.Z)(Re,2),dt=ot[0],lt=ot[1],Ie=(0,R.useRef)(new Map),Pe=(0,R.useRef)(new B),ye=(0,R.useRef)();function Xe(){r.Z.cancel(ye.current)}function st(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Xe();var Ci=function(){Ie.current.forEach(function(At,Qi){if(At&&At.offsetParent){var ci=(0,S.Z)(At),je=ci.offsetHeight;Pe.current.get(Qi)!==je&&Pe.current.set(Qi,ci.offsetHeight)}}),lt(function(At){return At+1})};qt?Ci():ye.current=(0,r.Z)(Ci)}function Pt(qt,Ci){var ii=Je(qt),At=Ie.current.get(ii);Ci?(Ie.current.set(ii,Ci),st()):Ie.current.delete(ii),!At!=!Ci&&(Ci?Ae==null||Ae(qt):ge==null||ge(qt))}return(0,R.useEffect)(function(){return Xe},[]),[Pt,st,Pe.current,dt]}var te=c(8410),ce=c(56790),_e=10;function Ce(Je,Ae,ge,Re,ot,dt,lt,Ie){var Pe=R.useRef(),ye=R.useState(null),Xe=(0,P.Z)(ye,2),st=Xe[0],Pt=Xe[1];return(0,te.Z)(function(){if(st&&st.times<_e){if(!Je.current){Pt(function(Qe){return(0,O.Z)({},Qe)});return}dt();var qt=st.targetAlign,Ci=st.originAlign,ii=st.index,At=st.offset,Qi=Je.current.clientHeight,ci=!1,je=qt,at=null;if(Qi){for(var Ni=qt||Ci,fi=0,Wi=0,Rn=0,zi=Math.min(Ae.length-1,ii),as=0;as<=zi;as+=1){var Fn=ot(Ae[as]);Wi=fi;var An=ge.get(Fn);Rn=Wi+(An===void 0?Re:An),fi=Rn}for(var $i=Ni==="top"?At:Qi-At,Nn=zi;Nn>=0;Nn-=1){var sn=ot(Ae[Nn]),$e=ge.get(sn);if($e===void 0){ci=!0;break}if($i-=$e,$i<=0)break}switch(Ni){case"top":at=Wi-At;break;case"bottom":at=Rn-Qi+At;break;default:{var It=Je.current.scrollTop,xt=It+Qi;Wi<It?je="top":Rn>xt&&(je="bottom")}}at!==null&&lt(at),at!==st.lastTop&&(ci=!0)}ci&&Pt(function(Qe){return(0,O.Z)((0,O.Z)({},Qe),{},{times:Qe.times+1,targetAlign:je,lastTop:at})})}},[st,Je.current]),function(qt){if(qt==null){Ie();return}if(r.Z.cancel(Pe.current),typeof qt=="number")lt(qt);else if(qt&&(0,Q.Z)(qt)==="object"){var Ci,ii=qt.align;"index"in qt?Ci=qt.index:Ci=Ae.findIndex(function(ci){return ot(ci)===qt.key});var At=qt.offset,Qi=At===void 0?0:At;Pt({times:0,index:Ci,offset:Qi,originAlign:ii})}}}function Ee(Je,Ae,ge,Re){var ot=ge-Je,dt=Ae-ge,lt=Math.min(ot,dt)*2;if(Re<=lt){var Ie=Math.floor(Re/2);return Re%2?ge+Ie+1:ge-Ie}return ot>dt?ge-(Re-dt):ge+(Re-ot)}function le(Je,Ae,ge){var Re=Je.length,ot=Ae.length,dt,lt;if(Re===0&&ot===0)return null;Re<ot?(dt=Je,lt=Ae):(dt=Ae,lt=Je);var Ie={__EMPTY_ITEM__:!0};function Pe(Ci){return Ci!==void 0?ge(Ci):Ie}for(var ye=null,Xe=Math.abs(Re-ot)!==1,st=0;st<lt.length;st+=1){var Pt=Pe(dt[st]),qt=Pe(lt[st]);if(Pt!==qt){ye=st,Xe=Xe||Pt!==Pe(lt[st+1]);break}}return ye===null?null:{index:ye,multiple:Xe}}function Y(Je,Ae,ge){var Re=R.useState(Je),ot=(0,P.Z)(Re,2),dt=ot[0],lt=ot[1],Ie=R.useState(null),Pe=(0,P.Z)(Ie,2),ye=Pe[0],Xe=Pe[1];return R.useEffect(function(){var st=le(dt||[],Je||[],Ae);(st==null?void 0:st.index)!==void 0&&(ge==null||ge(st.index),Xe(Je[st.index])),lt(Je)},[Je]),[ye]}var $=(typeof navigator=="undefined"?"undefined":(0,Q.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),G=$,ee=function(Je,Ae){var ge=(0,R.useRef)(!1),Re=(0,R.useRef)(null);function ot(){clearTimeout(Re.current),ge.current=!0,Re.current=setTimeout(function(){ge.current=!1},50)}var dt=(0,R.useRef)({top:Je,bottom:Ae});return dt.current.top=Je,dt.current.bottom=Ae,function(lt){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Pe=lt<0&&dt.current.top||lt>0&&dt.current.bottom;return Ie&&Pe?(clearTimeout(Re.current),ge.current=!1):(!Pe||ge.current)&&ot(),!ge.current&&Pe}};function m(Je,Ae,ge,Re,ot){var dt=(0,R.useRef)(0),lt=(0,R.useRef)(null),Ie=(0,R.useRef)(null),Pe=(0,R.useRef)(!1),ye=ee(Ae,ge);function Xe(At,Qi){r.Z.cancel(lt.current),dt.current+=Qi,Ie.current=Qi,!ye(Qi)&&(G||At.preventDefault(),lt.current=(0,r.Z)(function(){var ci=Pe.current?10:1;ot(dt.current*ci),dt.current=0}))}function st(At,Qi){ot(Qi,!0),G||At.preventDefault()}var Pt=(0,R.useRef)(null),qt=(0,R.useRef)(null);function Ci(At){if(Je){r.Z.cancel(qt.current),qt.current=(0,r.Z)(function(){Pt.current=null},2);var Qi=At.deltaX,ci=At.deltaY,je=At.shiftKey,at=Qi,Ni=ci;(Pt.current==="sx"||!Pt.current&&je&&ci&&!Qi)&&(at=ci,Ni=0,Pt.current="sx");var fi=Math.abs(at),Wi=Math.abs(Ni);Pt.current===null&&(Pt.current=Re&&fi>Wi?"x":"y"),Pt.current==="y"?Xe(At,Ni):st(At,at)}}function ii(At){Je&&(Pe.current=At.detail===Ie.current)}return[Ci,ii]}var w=14/15;function F(Je,Ae,ge){var Re=(0,R.useRef)(!1),ot=(0,R.useRef)(0),dt=(0,R.useRef)(null),lt=(0,R.useRef)(null),Ie,Pe=function(Pt){if(Re.current){var qt=Math.ceil(Pt.touches[0].pageY),Ci=ot.current-qt;ot.current=qt,ge(Ci)&&Pt.preventDefault(),clearInterval(lt.current),lt.current=setInterval(function(){Ci*=w,(!ge(Ci,!0)||Math.abs(Ci)<=.1)&&clearInterval(lt.current)},16)}},ye=function(){Re.current=!1,Ie()},Xe=function(Pt){Ie(),Pt.touches.length===1&&!Re.current&&(Re.current=!0,ot.current=Math.ceil(Pt.touches[0].pageY),dt.current=Pt.target,dt.current.addEventListener("touchmove",Pe),dt.current.addEventListener("touchend",ye))};Ie=function(){dt.current&&(dt.current.removeEventListener("touchmove",Pe),dt.current.removeEventListener("touchend",ye))},(0,te.Z)(function(){return Je&&Ae.current.addEventListener("touchstart",Xe),function(){var st;(st=Ae.current)===null||st===void 0||st.removeEventListener("touchstart",Xe),Ie(),clearInterval(lt.current)}},[Je])}var ie=20;function pe(){var Je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ge=Je/Ae*100;return isNaN(ge)&&(ge=0),ge=Math.max(ge,ie),ge=Math.min(ge,Je/2),Math.floor(ge)}function ue(Je,Ae,ge,Re){var ot=R.useMemo(function(){return[new Map,[]]},[Je,ge.id,Re]),dt=(0,P.Z)(ot,2),lt=dt[0],Ie=dt[1],Pe=function(Xe){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xe,Pt=lt.get(Xe),qt=lt.get(st);if(Pt===void 0||qt===void 0)for(var Ci=Je.length,ii=Ie.length;ii<Ci;ii+=1){var At,Qi=Je[ii],ci=Ae(Qi);lt.set(ci,ii);var je=(At=ge.get(ci))!==null&&At!==void 0?At:Re;if(Ie[ii]=(Ie[ii-1]||0)+je,ci===Xe&&(Pt=ii),ci===st&&(qt=ii),Pt!==void 0&&qt!==void 0)break}return{top:Ie[Pt-1]||0,bottom:Ie[qt]}};return Pe}var ke=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Te=[],rt={overflowY:"auto",overflowAnchor:"none"};function Rt(Je,Ae){var ge=Je.prefixCls,Re=ge===void 0?"rc-virtual-list":ge,ot=Je.className,dt=Je.height,lt=Je.itemHeight,Ie=Je.fullHeight,Pe=Ie===void 0?!0:Ie,ye=Je.style,Xe=Je.data,st=Je.children,Pt=Je.itemKey,qt=Je.virtual,Ci=Je.direction,ii=Je.scrollWidth,At=Je.component,Qi=At===void 0?"div":At,ci=Je.onScroll,je=Je.onVirtualScroll,at=Je.onVisibleChange,Ni=Je.innerProps,fi=Je.extraRender,Wi=Je.styles,Rn=(0,J.Z)(Je,ke),zi=!!(qt!==!1&&dt&&lt),as=zi&&Xe&&(lt*Xe.length>dt||!!ii),Fn=Ci==="rtl",An=T()(Re,(0,L.Z)({},"".concat(Re,"-rtl"),Fn),ot),$i=Xe||Te,Nn=(0,R.useRef)(),sn=(0,R.useRef)(),$e=(0,R.useState)(0),It=(0,P.Z)($e,2),xt=It[0],Qe=It[1],tt=(0,R.useState)(0),Nt=(0,P.Z)(tt,2),Tt=Nt[0],Yt=Nt[1],ai=(0,R.useState)(!1),Si=(0,P.Z)(ai,2),qi=Si[0],ji=Si[1],Zn=function(){ji(!0)},Vi=function(){ji(!1)},Xi=R.useCallback(function(li){return typeof Pt=="function"?Pt(li):li==null?void 0:li[Pt]},[Pt]),wt={getKey:Xi};function ht(li){Qe(function(ei){var ki;typeof li=="function"?ki=li(ei):ki=li;var Di=Rs(ki);return Nn.current.scrollTop=Di,Di})}var Et=(0,R.useRef)({start:0,end:$i.length}),He=(0,R.useRef)(),nt=Y($i,Xi),pt=(0,P.Z)(nt,1),ft=pt[0];He.current=ft;var oi=j(Xi,null,null),Hi=(0,P.Z)(oi,4),vi=Hi[0],Ii=Hi[1],Ui=Hi[2],dn=Hi[3],gn=R.useMemo(function(){if(!zi)return{scrollHeight:void 0,start:0,end:$i.length-1,offset:void 0};if(!as){var li;return{scrollHeight:((li=sn.current)===null||li===void 0?void 0:li.offsetHeight)||0,start:0,end:$i.length-1,offset:void 0}}for(var ei=0,ki,Di,Pn,kt=$i.length,V=0;V<kt;V+=1){var ae=$i[V],Ne=Xi(ae),qe=Ui.get(Ne),bt=ei+(qe===void 0?lt:qe);bt>=xt&&ki===void 0&&(ki=V,Di=ei),bt>xt+dt&&Pn===void 0&&(Pn=V),ei=bt}return ki===void 0&&(ki=0,Di=0,Pn=Math.ceil(dt/lt)),Pn===void 0&&(Pn=$i.length-1),Pn=Math.min(Pn+1,$i.length-1),{scrollHeight:ei,start:ki,end:Pn,offset:Di}},[as,zi,xt,$i,dn,dt]),Ri=gn.scrollHeight,_i=gn.start,hn=gn.end,wn=gn.offset;Et.current.start=_i,Et.current.end=hn;var Qn=R.useState({width:0,height:dt}),os=(0,P.Z)(Qn,2),Yn=os[0],Ts=os[1],Co=function(ei){Ts({width:ei.width||ei.offsetWidth,height:ei.height||ei.offsetHeight})},Vs=(0,R.useRef)(),cs=(0,R.useRef)(),oo=R.useMemo(function(){return pe(Yn.width,ii)},[Yn.width,ii]),to=R.useMemo(function(){return pe(Yn.height,Ri)},[Yn.height,Ri]),Gs=Ri-dt,Ss=(0,R.useRef)(Gs);Ss.current=Gs;function Rs(li){var ei=li;return Number.isNaN(Ss.current)||(ei=Math.min(ei,Ss.current)),ei=Math.max(ei,0),ei}var Hs=xt<=0,io=xt>=Gs,Ks=ee(Hs,io),zs=function(){return{x:Fn?-Tt:Tt,y:xt}},ho=(0,R.useRef)(zs()),jn=(0,ce.zX)(function(){if(je){var li=zs();(ho.current.x!==li.x||ho.current.y!==li.y)&&(je(li),ho.current=li)}});function lo(li,ei){var ki=li;ei?((0,W.flushSync)(function(){Yt(ki)}),jn()):ht(ki)}function ts(li){var ei=li.currentTarget.scrollTop;ei!==xt&&ht(ei),ci==null||ci(li),jn()}var Un=function(ei){var ki=ei,Di=ii-Yn.width;return ki=Math.max(ki,0),ki=Math.min(ki,Di),ki},Zs=(0,ce.zX)(function(li,ei){ei?((0,W.flushSync)(function(){Yt(function(ki){var Di=ki+(Fn?-li:li);return Un(Di)})}),jn()):ht(function(ki){var Di=ki+li;return Di})}),Xn=m(zi,Hs,io,!!ii,Zs),Ys=(0,P.Z)(Xn,2),xs=Ys[0],Xs=Ys[1];F(zi,Nn,function(li,ei){return Ks(li,ei)?!1:(xs({preventDefault:function(){},deltaY:li}),!0)}),(0,te.Z)(function(){function li(ki){zi&&ki.preventDefault()}var ei=Nn.current;return ei.addEventListener("wheel",xs),ei.addEventListener("DOMMouseScroll",Xs),ei.addEventListener("MozMousePixelScroll",li),function(){ei.removeEventListener("wheel",xs),ei.removeEventListener("DOMMouseScroll",Xs),ei.removeEventListener("MozMousePixelScroll",li)}},[zi]),(0,te.Z)(function(){ii&&Yt(function(li){return Un(li)})},[Yn.width,ii]);var pi=function(){var ei,ki;(ei=Vs.current)===null||ei===void 0||ei.delayHidden(),(ki=cs.current)===null||ki===void 0||ki.delayHidden()},me=Ce(Nn,$i,Ui,lt,Xi,function(){return Ii(!0)},ht,pi);R.useImperativeHandle(Ae,function(){return{getScrollInfo:zs,scrollTo:function(ei){function ki(Di){return Di&&(0,Q.Z)(Di)==="object"&&("left"in Di||"top"in Di)}ki(ei)?(ei.left!==void 0&&Yt(Un(ei.left)),me(ei.top)):me(ei)}}}),(0,te.Z)(function(){if(at){var li=$i.slice(_i,hn+1);at(li,$i)}},[_i,hn,$i]);var ct=ue($i,Xi,Ui,lt),gt=fi==null?void 0:fi({start:_i,end:hn,virtual:as,offsetX:Tt,offsetY:wn,rtl:Fn,getSize:ct}),Bt=_($i,_i,hn,ii,vi,st,wt),Gt=null;dt&&(Gt=(0,O.Z)((0,L.Z)({},Pe?"height":"maxHeight",dt),rt),zi&&(Gt.overflowY="hidden",ii&&(Gt.overflowX="hidden"),qi&&(Gt.pointerEvents="none")));var bi={};return Fn&&(bi.dir="rtl"),R.createElement("div",(0,D.Z)({style:(0,O.Z)((0,O.Z)({},ye),{},{position:"relative"}),className:An},bi,Rn),R.createElement(g.Z,{onResize:Co},R.createElement(Qi,{className:"".concat(Re,"-holder"),style:Gt,ref:Nn,onScroll:ts,onMouseEnter:pi},R.createElement(H,{prefixCls:Re,height:Ri,offsetX:Tt,offsetY:wn,scrollWidth:ii,onInnerResize:Ii,ref:sn,innerProps:Ni,rtl:Fn,extra:gt},Bt))),as&&Ri>dt&&R.createElement(x,{ref:Vs,prefixCls:Re,scrollOffset:xt,scrollRange:Ri,rtl:Fn,onScroll:lo,onStartMove:Zn,onStopMove:Vi,spinSize:to,containerSize:Yn.height,style:Wi==null?void 0:Wi.verticalScrollBar,thumbStyle:Wi==null?void 0:Wi.verticalScrollBarThumb}),as&&ii&&R.createElement(x,{ref:cs,prefixCls:Re,scrollOffset:Tt,scrollRange:ii,rtl:Fn,onScroll:lo,onStartMove:Zn,onStopMove:Vi,spinSize:oo,containerSize:Yn.width,horizontal:!0,style:Wi==null?void 0:Wi.horizontalScrollBar,thumbStyle:Wi==null?void 0:Wi.horizontalScrollBarThumb}))}var mt=R.forwardRef(Rt);mt.displayName="List";var Mt=mt,it=Mt}}]);
